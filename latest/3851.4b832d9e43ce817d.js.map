{"version":3,"file":"3851.4b832d9e43ce817d.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/format/XML.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/format/xlink.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/format/OWS.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/format/WMTSCapabilities.js"],"sourcesContent":["/**\n * @module ol/format/XML\n */\nimport {abstract} from '../util.js';\nimport {isDocument, parse} from '../xml.js';\n\n/**\n * @classdesc\n * Generic format for reading non-feature XML data\n *\n * @abstract\n */\nclass XML {\n  /**\n   * Read the source document.\n   *\n   * @param {Document|Element|string} source The XML source.\n   * @return {Object|null} An object representing the source.\n   * @api\n   */\n  read(source) {\n    if (!source) {\n      return null;\n    }\n    if (typeof source === 'string') {\n      const doc = parse(source);\n      return this.readFromDocument(doc);\n    }\n    if (isDocument(source)) {\n      return this.readFromDocument(/** @type {Document} */ (source));\n    }\n    return this.readFromNode(/** @type {Element} */ (source));\n  }\n\n  /**\n   * @param {Document} doc Document.\n   * @return {Object|null} Object\n   */\n  readFromDocument(doc) {\n    for (let n = doc.firstChild; n; n = n.nextSibling) {\n      if (n.nodeType == Node.ELEMENT_NODE) {\n        return this.readFromNode(/** @type {Element} */ (n));\n      }\n    }\n    return null;\n  }\n\n  /**\n   * @abstract\n   * @param {Element} node Node.\n   * @return {Object|null} Object\n   */\n  readFromNode(node) {\n    abstract();\n  }\n}\n\nexport default XML;\n","/**\n * @module ol/format/xlink\n */\n\n/**\n * @const\n * @type {string}\n */\nconst NAMESPACE_URI = 'http://www.w3.org/1999/xlink';\n\n/**\n * @param {Element} node Node.\n * @return {string|null} href.\n */\nexport function readHref(node) {\n  return node.getAttributeNS(NAMESPACE_URI, 'href');\n}\n","/**\n * @module ol/format/OWS\n */\nimport {\n  makeObjectPropertyPusher,\n  makeObjectPropertySetter,\n  makeStructureNS,\n  pushParseAndPop,\n} from '../xml.js';\nimport XML from './XML.js';\nimport {readHref} from './xlink.js';\nimport {readString} from './xsd.js';\n\n/**\n * @const\n * @type {Array<null|string>}\n */\nconst NAMESPACE_URIS = [null, 'http://www.opengis.net/ows/1.1'];\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'ServiceIdentification': makeObjectPropertySetter(readServiceIdentification),\n  'ServiceProvider': makeObjectPropertySetter(readServiceProvider),\n  'OperationsMetadata': makeObjectPropertySetter(readOperationsMetadata),\n});\n\nclass OWS extends XML {\n  constructor() {\n    super();\n  }\n\n  /**\n   * @param {Element} node Node.\n   * @return {Object|null} Object\n   * @override\n   */\n  readFromNode(node) {\n    const owsObject = pushParseAndPop({}, PARSERS, node, []);\n    return owsObject ? owsObject : null;\n  }\n}\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst ADDRESS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'DeliveryPoint': makeObjectPropertySetter(readString),\n  'City': makeObjectPropertySetter(readString),\n  'AdministrativeArea': makeObjectPropertySetter(readString),\n  'PostalCode': makeObjectPropertySetter(readString),\n  'Country': makeObjectPropertySetter(readString),\n  'ElectronicMailAddress': makeObjectPropertySetter(readString),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst ALLOWED_VALUES_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Value': makeObjectPropertyPusher(readValue),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst CONSTRAINT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'AllowedValues': makeObjectPropertySetter(readAllowedValues),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst CONTACT_INFO_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Phone': makeObjectPropertySetter(readPhone),\n  'Address': makeObjectPropertySetter(readAddress),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst DCP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'HTTP': makeObjectPropertySetter(readHttp),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst HTTP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Get': makeObjectPropertyPusher(readGet),\n  'Post': undefined, // TODO\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst OPERATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'DCP': makeObjectPropertySetter(readDcp),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst OPERATIONS_METADATA_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Operation': readOperation,\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst PHONE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Voice': makeObjectPropertySetter(readString),\n  'Facsimile': makeObjectPropertySetter(readString),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst REQUEST_METHOD_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Constraint': makeObjectPropertyPusher(readConstraint),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst SERVICE_CONTACT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'IndividualName': makeObjectPropertySetter(readString),\n  'PositionName': makeObjectPropertySetter(readString),\n  'ContactInfo': makeObjectPropertySetter(readContactInfo),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst SERVICE_IDENTIFICATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Abstract': makeObjectPropertySetter(readString),\n  'AccessConstraints': makeObjectPropertySetter(readString),\n  'Fees': makeObjectPropertySetter(readString),\n  'Title': makeObjectPropertySetter(readString),\n  'ServiceTypeVersion': makeObjectPropertySetter(readString),\n  'ServiceType': makeObjectPropertySetter(readString),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst SERVICE_PROVIDER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'ProviderName': makeObjectPropertySetter(readString),\n  'ProviderSite': makeObjectPropertySetter(readHref),\n  'ServiceContact': makeObjectPropertySetter(readServiceContact),\n});\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The address.\n */\nfunction readAddress(node, objectStack) {\n  return pushParseAndPop({}, ADDRESS_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The values.\n */\nfunction readAllowedValues(node, objectStack) {\n  return pushParseAndPop({}, ALLOWED_VALUES_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The constraint.\n */\nfunction readConstraint(node, objectStack) {\n  const name = node.getAttribute('name');\n  if (!name) {\n    return undefined;\n  }\n  return pushParseAndPop({'name': name}, CONSTRAINT_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The contact info.\n */\nfunction readContactInfo(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_INFO_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The DCP.\n */\nfunction readDcp(node, objectStack) {\n  return pushParseAndPop({}, DCP_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The GET object.\n */\nfunction readGet(node, objectStack) {\n  const href = readHref(node);\n  if (!href) {\n    return undefined;\n  }\n  return pushParseAndPop(\n    {'href': href},\n    REQUEST_METHOD_PARSERS,\n    node,\n    objectStack,\n  );\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The HTTP object.\n */\nfunction readHttp(node, objectStack) {\n  return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The operation.\n */\nfunction readOperation(node, objectStack) {\n  const name = node.getAttribute('name');\n  const value = pushParseAndPop({}, OPERATION_PARSERS, node, objectStack);\n  if (!value) {\n    return undefined;\n  }\n  const object = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n  object[name] = value;\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The operations metadata.\n */\nfunction readOperationsMetadata(node, objectStack) {\n  return pushParseAndPop({}, OPERATIONS_METADATA_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The phone.\n */\nfunction readPhone(node, objectStack) {\n  return pushParseAndPop({}, PHONE_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service identification.\n */\nfunction readServiceIdentification(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_IDENTIFICATION_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service contact.\n */\nfunction readServiceContact(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_CONTACT_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service provider.\n */\nfunction readServiceProvider(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_PROVIDER_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {string|undefined} The value.\n */\nfunction readValue(node, objectStack) {\n  return readString(node);\n}\n\nexport default OWS;\n","/**\n * @module ol/format/WMTSCapabilities\n */\nimport {boundingExtent} from '../extent.js';\nimport {\n  makeArrayPusher,\n  makeObjectPropertyPusher,\n  makeObjectPropertySetter,\n  makeStructureNS,\n  pushParseAndPop,\n} from '../xml.js';\nimport OWS from './OWS.js';\nimport XML from './XML.js';\nimport {readHref} from './xlink.js';\nimport {readDecimal, readPositiveInteger, readString} from './xsd.js';\n\n/**\n * @const\n * @type {Array<null|string>}\n */\nconst NAMESPACE_URIS = [null, 'http://www.opengis.net/wmts/1.0'];\n\n/**\n * @const\n * @type {Array<null|string>}\n */\nconst OWS_NAMESPACE_URIS = [null, 'http://www.opengis.net/ows/1.1'];\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Contents': makeObjectPropertySetter(readContents),\n});\n\n/**\n * @classdesc\n * Format for reading WMTS capabilities data.\n *\n * @api\n */\nclass WMTSCapabilities extends XML {\n  constructor() {\n    super();\n\n    /**\n     * @type {OWS}\n     * @private\n     */\n    this.owsParser_ = new OWS();\n  }\n\n  /**\n   * @param {Element} node Node.\n   * @return {Object|null} Object\n   * @override\n   */\n  readFromNode(node) {\n    let version = node.getAttribute('version');\n    if (version) {\n      version = version.trim();\n    }\n    let WMTSCapabilityObject = this.owsParser_.readFromNode(node);\n    if (!WMTSCapabilityObject) {\n      return null;\n    }\n    WMTSCapabilityObject['version'] = version;\n    WMTSCapabilityObject = pushParseAndPop(\n      WMTSCapabilityObject,\n      PARSERS,\n      node,\n      [],\n    );\n    return WMTSCapabilityObject ? WMTSCapabilityObject : null;\n  }\n}\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst CONTENTS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Layer': makeObjectPropertyPusher(readLayer),\n  'TileMatrixSet': makeObjectPropertyPusher(readTileMatrixSet),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst LAYER_PARSERS = makeStructureNS(\n  NAMESPACE_URIS,\n  {\n    'Style': makeObjectPropertyPusher(readStyle),\n    'Format': makeObjectPropertyPusher(readString),\n    'TileMatrixSetLink': makeObjectPropertyPusher(readTileMatrixSetLink),\n    'Dimension': makeObjectPropertyPusher(readDimensions),\n    'ResourceURL': makeObjectPropertyPusher(readResourceUrl),\n  },\n  makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'WGS84BoundingBox': makeObjectPropertySetter(readBoundingBox),\n    'BoundingBox': makeObjectPropertyPusher(readBoundingBoxWithCrs),\n    'Identifier': makeObjectPropertySetter(readString),\n  }),\n);\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst STYLE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS,\n  {\n    'LegendURL': makeObjectPropertyPusher(readLegendUrl),\n  },\n  makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'Identifier': makeObjectPropertySetter(readString),\n  }),\n);\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst TMS_LINKS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TileMatrixSet': makeObjectPropertySetter(readString),\n  'TileMatrixSetLimits': makeObjectPropertySetter(readTileMatrixLimitsList),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst TMS_LIMITS_LIST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TileMatrixLimits': makeArrayPusher(readTileMatrixLimits),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst TMS_LIMITS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'TileMatrix': makeObjectPropertySetter(readString),\n  'MinTileRow': makeObjectPropertySetter(readPositiveInteger),\n  'MaxTileRow': makeObjectPropertySetter(readPositiveInteger),\n  'MinTileCol': makeObjectPropertySetter(readPositiveInteger),\n  'MaxTileCol': makeObjectPropertySetter(readPositiveInteger),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst DIMENSION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS,\n  {\n    'Default': makeObjectPropertySetter(readString),\n    'Value': makeObjectPropertyPusher(readString),\n  },\n  makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Identifier': makeObjectPropertySetter(readString),\n  }),\n);\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst WGS84_BBOX_READERS = makeStructureNS(OWS_NAMESPACE_URIS, {\n  'LowerCorner': makeArrayPusher(readCoordinates),\n  'UpperCorner': makeArrayPusher(readCoordinates),\n});\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst TMS_PARSERS = makeStructureNS(\n  NAMESPACE_URIS,\n  {\n    'WellKnownScaleSet': makeObjectPropertySetter(readString),\n    'TileMatrix': makeObjectPropertyPusher(readTileMatrix),\n  },\n  makeStructureNS(OWS_NAMESPACE_URIS, {\n    'SupportedCRS': makeObjectPropertySetter(readString),\n    'Identifier': makeObjectPropertySetter(readString),\n    'BoundingBox': makeObjectPropertySetter(readBoundingBox),\n  }),\n);\n\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nconst TM_PARSERS = makeStructureNS(\n  NAMESPACE_URIS,\n  {\n    'TopLeftCorner': makeObjectPropertySetter(readCoordinates),\n    'ScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'TileWidth': makeObjectPropertySetter(readPositiveInteger),\n    'TileHeight': makeObjectPropertySetter(readPositiveInteger),\n    'MatrixWidth': makeObjectPropertySetter(readPositiveInteger),\n    'MatrixHeight': makeObjectPropertySetter(readPositiveInteger),\n  },\n  makeStructureNS(OWS_NAMESPACE_URIS, {\n    'Identifier': makeObjectPropertySetter(readString),\n  }),\n);\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nfunction readContents(node, objectStack) {\n  return pushParseAndPop({}, CONTENTS_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layers object.\n */\nfunction readLayer(node, objectStack) {\n  return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set object.\n */\nfunction readTileMatrixSet(node, objectStack) {\n  return pushParseAndPop({}, TMS_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nfunction readStyle(node, objectStack) {\n  const style = pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n  if (!style) {\n    return undefined;\n  }\n  const isDefault = node.getAttribute('isDefault') === 'true';\n  style['isDefault'] = isDefault;\n  return style;\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Tile Matrix Set Link object.\n */\nfunction readTileMatrixSetLink(node, objectStack) {\n  return pushParseAndPop({}, TMS_LINKS_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Dimension object.\n */\nfunction readDimensions(node, objectStack) {\n  return pushParseAndPop({}, DIMENSION_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Resource URL object.\n */\nfunction readResourceUrl(node, objectStack) {\n  const format = node.getAttribute('format');\n  const template = node.getAttribute('template');\n  const resourceType = node.getAttribute('resourceType');\n  const resource = {};\n  if (format) {\n    resource['format'] = format;\n  }\n  if (template) {\n    resource['template'] = template;\n  }\n  if (resourceType) {\n    resource['resourceType'] = resourceType;\n  }\n  return resource;\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} BBox object.\n */\nfunction readBoundingBox(node, objectStack) {\n  const coordinates = pushParseAndPop(\n    [],\n    WGS84_BBOX_READERS,\n    node,\n    objectStack,\n  );\n  if (coordinates.length != 2) {\n    return undefined;\n  }\n  return boundingExtent(coordinates);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} BBox object.\n */\nfunction readBoundingBoxWithCrs(node, objectStack) {\n  const crs = node.getAttribute('crs');\n  const coordinates = pushParseAndPop(\n    [],\n    WGS84_BBOX_READERS,\n    node,\n    objectStack,\n  );\n  if (coordinates.length != 2) {\n    return undefined;\n  }\n  return {extent: boundingExtent(coordinates), crs: crs};\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Legend object.\n */\nfunction readLegendUrl(node, objectStack) {\n  const legend = {};\n  legend['format'] = node.getAttribute('format');\n  legend['href'] = readHref(node);\n  return legend;\n}\n\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Coordinates object.\n */\nfunction readCoordinates(node, objectStack) {\n  const coordinates = readString(node).split(/\\s+/);\n  if (!coordinates || coordinates.length != 2) {\n    return undefined;\n  }\n  const x = +coordinates[0];\n  const y = +coordinates[1];\n  if (isNaN(x) || isNaN(y)) {\n    return undefined;\n  }\n  return [x, y];\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrix object.\n */\nfunction readTileMatrix(node, objectStack) {\n  return pushParseAndPop({}, TM_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixSetLimits Object.\n */\nfunction readTileMatrixLimitsList(node, objectStack) {\n  return pushParseAndPop([], TMS_LIMITS_LIST_PARSERS, node, objectStack);\n}\n\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} TileMatrixLimits Array.\n */\nfunction readTileMatrixLimits(node, objectStack) {\n  return pushParseAndPop({}, TMS_LIMITS_PARSERS, node, objectStack);\n}\n\nexport default WMTSCapabilities;\n"],"names":["source","doc","n","Node","node","readHref","NAMESPACE_URIS","PARSERS","objectStack","SERVICE_IDENTIFICATION_PARSERS","SERVICE_PROVIDER_PARSERS","OPERATIONS_METADATA_PARSERS","ADDRESS_PARSERS","ALLOWED_VALUES_PARSERS","CONSTRAINT_PARSERS","CONTACT_INFO_PARSERS","PHONE_PARSERS","DCP_PARSERS","HTTP_PARSERS","href","REQUEST_METHOD_PARSERS","undefined","OPERATION_PARSERS","name","value","object","SERVICE_CONTACT_PARSERS","XML","owsObject","OWS_NAMESPACE_URIS","CONTENTS_PARSERS","LAYER_PARSERS","TMS_PARSERS","style","STYLE_PARSERS","TMS_LINKS_PARSERS","DIMENSION_PARSERS","format","template","resourceType","resource","readBoundingBox","crs","coordinates","WGS84_BBOX_READERS","legend","TMS_LIMITS_LIST_PARSERS","TMS_LIMITS_PARSERS","readCoordinates","TM_PARSERS","x","y","isNaN","OWS","version","WMTSCapabilityObject"],"mappings":"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"}