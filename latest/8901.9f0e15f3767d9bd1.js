"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["8901"],{20038:function(e,t,r){r.r(t);var i=r(21915),n=r(5374),o=r(9341),s=r(18334),a=r(96529),l=r(13067);let u=a.J+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",p={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class d extends a.Z{constructor(e){super(e=e||{}),this.FEATURE_COLLECTION_PARSERS[a.J].featureMember=(0,o.Ei)(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:u}readFlatCoordinates(e,t){let r=(0,o.Ve)(e,!1).replace(/^\s*|\s*$/g,""),i=t[0].srsName,s="enu";if(i){let e=(0,n.get)(i);e&&(s=e.getAxisOrientation())}let a=r.trim().split(/\s+/),l=[];for(let e=0,t=a.length;e<t;e++){let t=a[e].split(/,+/),r=parseFloat(t[0]),i=parseFloat(t[1]),n=3===t.length?parseFloat(t[2]):0;s.startsWith("en")?l.push(r,i,n):l.push(i,r,n)}return l}readBox(e,t){let r=(0,o.O)([null],this.BOX_PARSERS_,e,t,this);return(0,i.createOrUpdate)(r[1][0],r[1][1],r[1][3],r[1][4])}innerBoundaryIsParser(e,t){let r=(0,o.O)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)}outerBoundaryIsParser(e,t){let r=(0,o.O)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)}GEOMETRY_NODE_FACTORY_(e,t,r){let i=t[t.length-1],n=i.multiSurface,s=i.surface,a=i.multiCurve;return Array.isArray(e)?r="Envelope":"MultiPolygon"===(r=e.getType())&&!0===n?r="MultiSurface":"Polygon"===r&&!0===s?r="Surface":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),(0,o.c)("http://www.opengis.net/gml",r)}writeFeatureElement(e,t,r){let i=t.getId();i&&e.setAttribute("fid",i);let n=r[r.length-1],s=n.featureNS,a=t.getGeometryName();!n.serializers&&(n.serializers={},n.serializers[s]={});let u=[],p=[];if(t.hasProperties()){let e=t.getProperties();for(let t in e){let r=e[t];null!=r&&(u.push(t),p.push(r),t==a||"function"==typeof r.getSimplifiedGeometry?!(t in n.serializers[s])&&(n.serializers[s][t]=(0,o.A4)(this.writeGeometryElement,this)):!(t in n.serializers[s])&&(n.serializers[s][t]=(0,o.A4)(l.bZ)))}}let d=Object.assign({},n);d.node=e,(0,o.ZL)(d,n.serializers,(0,o.G3)(void 0,s),p,r,u)}writeCurveOrLineString(e,t,r){let i=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){let i=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(i),this.writeCoordinates_(i,t,r)}else if("Curve"===e.nodeName){let i=(0,o.c)(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,r)}}writeLineStringOrCurveMember(e,t,r){let i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,r))}writeMultiCurveOrLineString(e,t,r){let i=r[r.length-1],n=i.hasZ,s=i.srsName,a=i.curve;s&&e.setAttribute("srsName",s);let l=t.getLineStrings();(0,o.ZL)({node:e,hasZ:n,srsName:s,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeGeometryElement(e,t,r){let i;let n=r[r.length-1],a=Object.assign({},n);a.node=e,i=Array.isArray(t)?(0,s.lj)(t,n):(0,s.fI)(t,!0,n),(0,o.ZL)(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)}createCoordinatesNode_(e){let t=(0,o.c)(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}writeCoordinates_(e,t,r){let i=r[r.length-1],n=i.hasZ,o=i.srsName,s=t.getCoordinates(),a=s.length,u=Array(a);for(let e=0;e<a;++e){let t=s[e];u[e]=this.getCoords_(t,o,n)}(0,l.bZ)(e,u.join(" "))}writeCurveSegments_(e,t,r){let i=(0,o.c)(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,r)}writeSurfaceOrPolygon(e,t,r){let i=r[r.length-1],n=i.hasZ,s=i.srsName;if("PolygonPatch"!==e.nodeName&&s&&e.setAttribute("srsName",s),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){let i=t.getLinearRings();(0,o.ZL)({node:e,hasZ:n,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,i,r,void 0,this)}else if("Surface"===e.nodeName){let i=(0,o.c)(e.namespaceURI,"patches");e.appendChild(i),this.writeSurfacePatches_(i,t,r)}}RING_NODE_FACTORY_(e,t,r){let i=t[t.length-1],n=i.node,s=i.exteriorWritten;return void 0===s&&(i.exteriorWritten=!0),(0,o.c)(n.namespaceURI,void 0!==s?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,t,r){let i=(0,o.c)(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,r)}writeRing(e,t,r){let i=(0,o.c)(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,r)}getCoords_(e,t,r){let i=(t?(0,n.get)(t).getAxisOrientation():"enu").startsWith("en")?e[0]+","+e[1]:e[1]+","+e[0];return r&&(i+=","+(e[2]||0)),i}writePoint(e,t,r){let i=r[r.length-1],n=i.hasZ,o=i.srsName;o&&e.setAttribute("srsName",o);let s=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(s);let a=t.getCoordinates(),u=this.getCoords_(a,o,n);(0,l.bZ)(s,u)}writeMultiPoint(e,t,r){let i=r[r.length-1],n=i.hasZ,s=i.srsName;s&&e.setAttribute("srsName",s);let a=t.getPoints();(0,o.ZL)({node:e,hasZ:n,srsName:s},this.POINTMEMBER_SERIALIZERS,(0,o.G3)("pointMember"),a,r,void 0,this)}writePointMember(e,t,r){let i=(0,o.c)(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,r)}writeLinearRing(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,t,r)}writeMultiSurfaceOrPolygon(e,t,r){let i=r[r.length-1],n=i.hasZ,s=i.srsName,a=i.surface;s&&e.setAttribute("srsName",s);let l=t.getPolygons();(0,o.ZL)({node:e,hasZ:n,srsName:s,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,l,r,void 0,this)}writeSurfaceOrPolygonMember(e,t,r){let i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,r))}writeEnvelope(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let n=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,o.ZL)({node:e},this.ENVELOPE_SERIALIZERS,o.hg,n,r,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,r){let i=t[t.length-1].node;return(0,o.c)("http://www.opengis.net/gml",p[i.nodeName])}}d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,o.z)(d.prototype.readFlatCoordinates)}},d.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:d.prototype.innerBoundaryIsParser,outerBoundaryIs:d.prototype.outerBoundaryIsParser}},d.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,o.Ei)(d.prototype.readFlatCoordinates)}},d.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,o.z)(a.Z.prototype.readPoint),MultiPoint:(0,o.z)(a.Z.prototype.readMultiPoint),LineString:(0,o.z)(a.Z.prototype.readLineString),MultiLineString:(0,o.z)(a.Z.prototype.readMultiLineString),LinearRing:(0,o.z)(a.Z.prototype.readLinearRing),Polygon:(0,o.z)(a.Z.prototype.readPolygon),MultiPolygon:(0,o.z)(a.Z.prototype.readMultiPolygon),Box:(0,o.z)(d.prototype.readBox)}},d.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,o.A4)(d.prototype.writeCurveOrLineString),MultiCurve:(0,o.A4)(d.prototype.writeMultiCurveOrLineString),Point:(0,o.A4)(d.prototype.writePoint),MultiPoint:(0,o.A4)(d.prototype.writeMultiPoint),LineString:(0,o.A4)(d.prototype.writeCurveOrLineString),MultiLineString:(0,o.A4)(d.prototype.writeMultiCurveOrLineString),LinearRing:(0,o.A4)(d.prototype.writeLinearRing),Polygon:(0,o.A4)(d.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,o.A4)(d.prototype.writeMultiSurfaceOrPolygon),Surface:(0,o.A4)(d.prototype.writeSurfaceOrPolygon),MultiSurface:(0,o.A4)(d.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,o.A4)(d.prototype.writeEnvelope)}},d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,o.A4)(d.prototype.writeLineStringOrCurveMember),curveMember:(0,o.A4)(d.prototype.writeLineStringOrCurveMember)}},d.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:(0,o.A4)(d.prototype.writeRing),innerBoundaryIs:(0,o.A4)(d.prototype.writeRing)}},d.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,o.A4)(d.prototype.writePointMember)}},d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,o.A4)(d.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,o.A4)(d.prototype.writeSurfaceOrPolygonMember)}},d.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,o.A4)(l.bZ),upperCorner:(0,o.A4)(l.bZ)}},t.default=d},96529:function(e,t,r){r.d(t,{J:function(){return S}});var i=r(23068),n=r(79682),o=r(8204),s=r(44538),a=r(62948),l=r(25642),u=r(52329),p=r(13987),d=r(52043),m=r(15265),h=r(5374),g=r(9341),E=r(18334),R=r(2231);let S="http://www.opengis.net/gml",y=/^\s*$/;class c extends R.Z{constructor(e){super(),e=e||{},this.featureType=e.featureType,this.featureNS=e.featureNS,this.srsName=e.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:(0,g.Ei)(this.readFeaturesInternal),featureMembers:(0,g.z)(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(e,t){let r=e.localName,i=null;if("FeatureCollection"==r)i=(0,g.O)([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==r||"featureMember"==r||"member"==r){let n=t[0],o=n.featureType,s=n.featureNS;if(!o&&e.childNodes){o=[],s={};for(let t=0,r=e.childNodes.length;t<r;++t){let r=e.childNodes[t];if(1===r.nodeType){let e=r.nodeName.split(":").pop();if(!o.includes(e)){let t="",i=0,n=r.namespaceURI;for(let e in s){if(s[e]===n){t=e;break}++i}!t&&(s[t="p"+i]=n),o.push(t+":"+e)}}}"featureMember"!=r&&(n.featureType=o,n.featureNS=s)}if("string"==typeof s){let e=s;(s={}).p0=e}let a={},l=Array.isArray(o)?o:[o];for(let e in s){let t={};for(let i=0,n=l.length;i<n;++i)(l[i].includes(":")?l[i].split(":")[0]:"p0")===e&&(t[l[i].split(":").pop()]="featureMembers"==r?(0,g.Ei)(this.readFeatureElement,this):(0,g.z)(this.readFeatureElement,this));a[s[e]]=t}i="featureMember"==r||"member"==r?(0,g.O)(void 0,a,e,t):(0,g.O)([],a,e,t)}return null===i&&(i=[]),i}readGeometryOrExtent(e,t){let r=t[0];return r.srsName=e.firstElementChild.getAttribute("srsName"),r.srsDimension=e.firstElementChild.getAttribute("srsDimension"),(0,g.O)(null,this.GEOMETRY_PARSERS,e,t,this)}readExtentElement(e,t){let r=t[0],i=this.readGeometryOrExtent(e,t);return i?(0,E.lj)(i,r):void 0}readGeometryElement(e,t){let r=t[0],i=this.readGeometryOrExtent(e,t);return i?(0,E.fI)(i,!1,r):void 0}readFeatureElementInternal(e,t,r){let n;let s={};for(let i=e.firstElementChild;i;i=i.nextElementSibling){let e;let a=i.localName;0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)?(e=(0,g.Ve)(i,!1),y.test(e)&&(e=void 0)):(r&&(e="boundedBy"===a?this.readExtentElement(i,t):this.readGeometryElement(i,t)),e?"boundedBy"!==a&&(n=a):e=this.readFeatureElementInternal(i,t,!1));let l=i.attributes.length;if(l>0&&!(e instanceof o.default)){e={_content_:e};for(let t=0;t<l;t++)e[i.attributes[t].name]=i.attributes[t].value}s[a]?(!(s[a]instanceof Array)&&(s[a]=[s[a]]),s[a].push(e)):s[a]=e}if(!r)return s;let a=new i.default(s);n&&a.setGeometryName(n);let l=e.getAttribute("fid")||(0,g.As)(e,this.namespace,"id");return l&&a.setId(l),a}readFeatureElement(e,t){return this.readFeatureElementInternal(e,t,!0)}readPoint(e,t){let r=this.readFlatCoordinatesFromNode(e,t);if(r)return new d.default(r,"XYZ")}readMultiPoint(e,t){let r=(0,g.O)([],this.MULTIPOINT_PARSERS,e,t,this);if(r)return new u.default(r)}readMultiLineString(e,t){let r=(0,g.O)([],this.MULTILINESTRING_PARSERS,e,t,this);if(r)return new l.default(r)}readMultiPolygon(e,t){let r=(0,g.O)([],this.MULTIPOLYGON_PARSERS,e,t,this);if(r)return new p.default(r)}pointMemberParser(e,t){(0,g.T3)(this.POINTMEMBER_PARSERS,e,t,this)}lineStringMemberParser(e,t){(0,g.T3)(this.LINESTRINGMEMBER_PARSERS,e,t,this)}polygonMemberParser(e,t){(0,g.T3)(this.POLYGONMEMBER_PARSERS,e,t,this)}readLineString(e,t){let r=this.readFlatCoordinatesFromNode(e,t);if(r)return new s.default(r,"XYZ")}readFlatLinearRing(e,t){let r=(0,g.O)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);if(r)return r}readLinearRing(e,t){let r=this.readFlatCoordinatesFromNode(e,t);if(r)return new a.Z(r,"XYZ")}readPolygon(e,t){let r=(0,g.O)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(r&&r[0]){let e,t;let i=r[0],o=[i.length];for(e=1,t=r.length;e<t;++e)(0,n.l7)(i,r[e]),o.push(i.length);return new m.default(i,"XYZ",o)}}readFlatCoordinatesFromNode(e,t){return(0,g.O)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}readGeometryFromNode(e,t){let r=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return r||null}readFeaturesFromNode(e,t){let r={featureType:this.featureType,featureNS:this.featureNS};return r&&Object.assign(r,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[r])||[]}readProjectionFromNode(e){return(0,h.get)(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))}}c.prototype.namespace=S,c.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},c.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},c.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},c.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:(0,g.Ei)(c.prototype.pointMemberParser),pointMembers:(0,g.Ei)(c.prototype.pointMemberParser)}},c.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:(0,g.Ei)(c.prototype.lineStringMemberParser),lineStringMembers:(0,g.Ei)(c.prototype.lineStringMemberParser)}},c.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:(0,g.Ei)(c.prototype.polygonMemberParser),polygonMembers:(0,g.Ei)(c.prototype.polygonMemberParser)}},c.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:(0,g.Ei)(c.prototype.readFlatCoordinatesFromNode)}},c.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,g.Ei)(c.prototype.readLineString)}},c.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,g.Ei)(c.prototype.readPolygon)}},c.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,g.z)(c.prototype.readFlatLinearRing)}},t.Z=c},2231:function(e,t,r){var i=r(79682),n=r(18334),o=r(49179),s=r(9341);class a extends n.ZP{constructor(){super(),this.xmlSerializer_=(0,s.xc)()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if("string"==typeof e){let r=(0,s.Qc)(e);return this.readFeatureFromDocument(r,t)}return(0,s.qk)(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){let r=this.readFeaturesFromDocument(e,t);return r.length>0?r[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if("string"==typeof e){let r=(0,s.Qc)(e);return this.readFeaturesFromDocument(r,t)}return(0,s.qk)(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){let r=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,i.l7)(r,this.readFeaturesFromNode(n,t));return r}readFeaturesFromNode(e,t){return(0,o.abstract)()}readGeometry(e,t){if(!e)return null;if("string"==typeof e){let r=(0,s.Qc)(e);return this.readGeometryFromDocument(r,t)}return(0,s.qk)(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if("string"==typeof e){let t=(0,s.Qc)(e);return this.readProjectionFromDocument(t)}return(0,s.qk)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){let r=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(e,t){return null}writeFeatures(e,t){let r=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){let r=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(e,t){return null}}t.Z=a}}]);
//# sourceMappingURL=8901.9f0e15f3767d9bd1.js.map