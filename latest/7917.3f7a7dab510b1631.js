"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["7917"],{44657:function(e,t,n){n.r(t),n.d(t,{default:function(){return T},ModifyButton:function(){return k}});var l=n(76395),r=n(21834),a=n.n(r),i=n(18228),s=n(32840),u=n.n(s),c=n(85310),o=n.n(c),f=n(63322),d=n(30126),m=n(92712),g=n(42502),E=n(3008),y=n(85158),_=n(70198),L=n(46487),h=n(53529);let C=`${_.$}modifybutton`,k=({className:e,hitTolerance:t=5,onFeatureSelect:n,onModifyStart:r,onModifyEnd:s,onTranslateStart:c,onTranslateEnd:k,onTranslating:T,digitizeLayer:w,selectStyle:b,selectInteractionConfig:p,modifyInteractionConfig:R,translateInteractionConfig:S,onModalLabelOk:$,onModalLabelCancel:A,maxLabelLineLength:v,modalPromptTitle:x,modalPromptOkButtonText:D,modalPromptCancelButtonText:F,editLabel:z=!0,pressed:M,...N})=>{let[P,U]=(0,l.useState)(null);(({active:e,onFeatureSelect:t,onModifyStart:n,onModifyEnd:r,onTranslateStart:s,onTranslateEnd:c,onTranslating:_,digitizeLayer:L,selectStyle:h,selectInteractionConfig:C,hitTolerance:k,modifyInteractionConfig:T,translateInteractionConfig:w})=>{let b=(0,d.A)(),p=(0,E.P)(L,()=>b?f.y.getDigitizeLayer(b):null,[b]),R=(0,l.useRef)(new(a())),S=(0,l.useMemo)(()=>p?[p]:[],[p]);(0,l.useEffect)(()=>{e||R.current.clear()},[e]),(0,y.V)({clearAfterSelect:!1,onFeatureSelect:t,active:e,layers:S,selectStyle:h,selectInteractionConfig:C,hitTolerance:k,featuresCollection:R.current});let $=(0,m.h)(()=>{let e=new(o())({features:R.current,...w});return e.set("name","react-util-translate-interaction"),e},[w],e),A=(0,m.h)(()=>{let e=new(u())({features:R.current,deleteCondition:i.singleClick,style:h??f.y.DEFAULT_SELECT_STYLE,...T});return e.set("name","react-util-modify-interaction"),e},[T],e);(0,g.R)(A,e=>e.on("modifystart",e=>n?.(e)),[n]),(0,g.R)(A,e=>e.on("modifyend",e=>r?.(e)),[r]),(0,g.R)($,e=>e.on("translatestart",e=>s?.(e)),[s]),(0,g.R)($,e=>e.on("translateend",e=>c?.(e)),[c]),(0,g.R)($,e=>e.on("translating",e=>_?.(e)),[_])})({selectStyle:b,selectInteractionConfig:p,digitizeLayer:w,onModifyStart:r,onModifyEnd:s,onTranslateStart:c,onTranslateEnd:k,onTranslating:T,active:!!M,modifyInteractionConfig:R,translateInteractionConfig:S,onFeatureSelect:(0,l.useCallback)(e=>{z&&U(e.selected.find(e=>e.get("isLabel"))||null),n?.(e)},[z,n]),hitTolerance:t});let V=e?`${C} ${e}`:C,Y=`${_.$}digitize-button-wrapper`,B=null;return P&&(B=l.createElement(L.g,{feature:P,onOk:()=>{$?.(P),U(null)},onCancel:()=>{A?.(),U(null)},title:x,okText:D,cancelText:F,maxLabelLineLength:v})),l.createElement("span",{className:Y},l.createElement(h.A,{pressed:M,className:V,...N}),B)};var T=k},85158:function(e,t,n){n.d(t,{V:function(){return m}});var l=n(76395),r=n(21834),a=n.n(r),i=n(18228),s=n(288),u=n.n(s),c=n(63322),o=n(92712),f=n(42502),d=n(3008);let m=({active:e,selectStyle:t,selectInteractionConfig:n,onFeatureSelect:r,hitTolerance:s=5,layers:m,clearAfterSelect:g=!1,featuresCollection:E})=>{let y=(0,d.P)(E,()=>new(a()),[]),_=(0,o.h)(()=>{if(!y)return;let e=new(u())({condition:i.singleClick,features:y,hitTolerance:s,style:t??c.y.DEFAULT_SELECT_STYLE,layers:m,...n??{}});return e.set("name","react-util-select-interaction"),e},[y,s,t,m,n],e);(0,f.R)(_,e=>e.on("select",e=>{y&&g&&y.clear(),r?.(e)}),[y,g,r]),(0,l.useEffect)(()=>{!e&&y&&y.clear()},[e,y])}}}]);
//# sourceMappingURL=7917.3f7a7dab510b1631.js.map