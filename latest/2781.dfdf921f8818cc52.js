"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["2781"],{34204:function(e,t,i){i.r(t),i.d(t,{OverviewMap:function(){return f.default},Control:function(){return n.A},ZoomToExtent:function(){return P},ScaleLine:function(){return b.default},defaults:function(){return y.N},MousePosition:function(){return p.default},ZoomSlider:function(){return T},Rotate:function(){return v.A},Zoom:function(){return C.A},FullScreen:function(){return g},Attribution:function(){return s.A}});var s=i(12661),n=i(43325),r=i(26005),a=i(32001),l=i(84674),o=i(55506),h=i(17353);let d=["fullscreenchange","webkitfullscreenchange"];class c extends n.A{constructor(e){super({element:document.createElement("div"),target:(e=e||{}).target}),this.on,this.once,this.un,this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=void 0!==e.label?e.label:"⤢";this.labelNode_="string"==typeof t?document.createTextNode(t):t;const i=void 0!==e.labelActive?e.labelActive:"\xd7";this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;const s=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=s,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(o.default.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${a.XI} ${a.$N}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){var e,t;let i=this.getMap();if(!i)return;let s=i.getOwnerDocument();if(u(s))if(_(s)){(e=s).exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}else{let e;e=this.source_?"string"==typeof this.source_?s.getElementById(this.source_):this.source_:i.getTargetElement(),this.keys_?(t=e).webkitRequestFullscreen?t.webkitRequestFullscreen():m(t):m(e)}}handleFullScreenChange_(){let e=this.getMap();if(!e)return;let t=this.isInFullscreen_;this.isInFullscreen_=_(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,l.fo)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):((0,l.fo)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){let t=this.getMap();t&&t.removeChangeListener(r.A.TARGET,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(r.A.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){let e=this.documentListeners_;for(let t=0,i=e.length;t<i;++t)(0,h.JH)(e[t]);e.length=0;let t=this.getMap();if(t){let i=t.getOwnerDocument();u(i)?this.element.classList.remove(a.Vv):this.element.classList.add(a.Vv);for(let t=0,s=d.length;t<s;++t)e.push((0,h.KT)(i,d[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function u(e){let t=e.body;return!!(t.webkitRequestFullscreen||t.requestFullscreen&&e.fullscreenEnabled)}function _(e){return!!(e.webkitIsFullScreen||e.fullscreenElement)}function m(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}var g=c,p=i(3192),f=i(24751),v=i(833),b=i(88116),C=i(92025),M=i(7773),E=i(43354),F=i(94966),N=i(32188);class L extends n.A{constructor(e){e=e||{},super({target:e.target,element:document.createElement("div"),render:e.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=0,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.startX_,this.startY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==e.duration?e.duration:200;const t=void 0!==e.className?e.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=t+"-thumb "+a.XI;const s=this.element;s.className=t+" "+a.XI+" "+a.$N,s.appendChild(i),s.addEventListener(N.A.POINTERDOWN,this.handleDraggerStart_.bind(this),!1),s.addEventListener(N.A.POINTERMOVE,this.handleDraggerDrag_.bind(this),!1),s.addEventListener(N.A.POINTERUP,this.handleDraggerEnd_.bind(this),!1),s.addEventListener(o.default.CLICK,this.handleContainerClick_.bind(this),!1),i.addEventListener(o.default.CLICK,E.stopPropagation,!1)}setMap(e){super.setMap(e),e&&e.render()}initSlider_(){let e=this.element,t=e.offsetWidth,i=e.offsetHeight;if(0===t&&0===i)return this.sliderInitialized_=!1;let s=getComputedStyle(e);t-=parseFloat(s.paddingRight)+parseFloat(s.paddingLeft),i-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom);let n=e.firstElementChild,r=getComputedStyle(n),a=n.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),l=n.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);return this.thumbSize_=[a,l],t>i?(this.direction_=1,this.widthLimit_=t-a):(this.direction_=0,this.heightLimit_=i-l),this.sliderInitialized_=!0}handleContainerClick_(e){let t=this.getMap().getView(),i=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),s=this.getResolutionForPosition_(i),n=t.getConstrainedZoom(t.getZoomForResolution(s));t.animateInternal({zoom:n,duration:this.duration_,easing:M.easeOut})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){let t=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(t.style.left),this.startY_=e.clientY-parseFloat(t.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){let e=this.handleDraggerDrag_,t=this.handleDraggerEnd_,i=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,h.KT)(i,N.A.POINTERMOVE,e,this),(0,h.KT)(i,N.A.POINTERUP,t,this))}}}handleDraggerDrag_(e){if(this.dragging_){let t=e.clientX-this.startX_,i=e.clientY-this.startY_,s=this.getRelativePosition_(t,i);this.currentResolution_=this.getResolutionForPosition_(s),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(h.JH),this.dragListenerKeys_.length=0)}setThumbPosition_(e){let t=this.getPositionForResolution_(e),i=this.element.firstElementChild;1==this.direction_?i.style.left=this.widthLimit_*t+"px":i.style.top=this.heightLimit_*t+"px"}getRelativePosition_(e,t){let i;return i=1===this.direction_?e/this.widthLimit_:t/this.heightLimit_,(0,F.qE)(i,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)}getPositionForResolution_(e){let t=this.getMap().getView().getValueForResolutionFunction();return(0,F.qE)(1-t(e),0,1)}render(e){if(!e.frameState||!this.sliderInitialized_&&!this.initSlider_())return;let t=e.frameState.viewState.resolution;this.currentResolution_=t,this.setThumbPosition_(t)}}var T=L,S=i(29229),x=i(21128);class w extends n.A{constructor(e){super({element:document.createElement("div"),target:(e=e||{}).target}),this.extent=e.extent?e.extent:null;const t=void 0!==e.className?e.className:"ol-zoom-extent",i=void 0!==e.label?e.label:"E",s=void 0!==e.tipLabel?e.tipLabel:"Fit to extent",n=document.createElement("button");n.setAttribute("type","button"),n.title=s,n.appendChild("string"==typeof i?document.createTextNode(i):i),n.addEventListener(o.default.CLICK,this.handleClick_.bind(this),!1);const r=t+" "+a.XI+" "+a.$N,l=this.element;l.className=r,l.appendChild(n)}handleClick_(e){e.preventDefault(),this.handleZoomToExtent()}handleZoomToExtent(){let e=this.getMap().getView(),t=this.extent?(0,x.fromUserExtent)(this.extent,e.getProjection()):e.getProjection().getExtent();e.fitInternal((0,S.fromExtent)(t))}}var P=w,y=i(10472)},3192:function(e,t,i){i.r(t);var s=i(53094),n=i(17353),r=i(32188),a=i(21128),l=i(43325);let o="projection",h="coordinateFormat";class d extends l.A{constructor(e){e=e||{};const t=document.createElement("div");t.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(o,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==e.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(h)}getProjection(){return this.get(o)}handleMouseMove(e){let t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){let t=e.getViewport();this.listenerKeys.push((0,n.KT)(t,r.A.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,n.KT)(t,r.A.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(h,e)}setProjection(e){this.set(o,(0,a.get)(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){let e=this.getProjection();e?this.transform_=(0,a.getTransformFromProjections)(this.mapProjection_,e):this.transform_=a.identityTransform}let i=this.getMap().getCoordinateFromPixelInternal(e);if(i){let e=(0,a.getUserProjection)();if(e&&(this.transform_=(0,a.getTransformFromProjections)(this.mapProjection_,e)),this.transform_(i,i),this.wrapX_){let t=e||this.getProjection()||this.mapProjection_;(0,s.wrapX)(i,t)}let n=this.getCoordinateFormat();t=n?n(i):i.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){let t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}}t.default=d},88116:function(e,t,i){i.r(t);var s=i(32001),n=i(21128),r=i(43325);let a="units",l=[1,2,5],o=25.4/.28;class h extends r.A{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+s.XI,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(a,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(a)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(a,e)}setDpi(e){this.dpi_=e}updateElement_(){let e,t,i,s,r,a=this.viewState_;if(!a){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let h=a.center,d=a.projection,c=this.getUnits(),u=(0,n.getPointResolution)(d,a.resolution,h,"degrees"==c?"degrees":"m"),_=this.minWidth_*(this.dpi_||o)/o,m=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||o)/o:void 0,g=_*u,p="";if("degrees"==c){let e=n.METERS_PER_UNIT.degrees;(g*=e)<e/60?(p="″",u*=3600):g<e?(p="′",u*=60):p="\xb0"}else if("imperial"==c)g<.9144?(p="in",u/=.0254):g<1609.344?(p="ft",u/=.3048):(p="mi",u/=1609.344);else if("nautical"==c)u/=1852,p="NM";else if("metric"==c)g<1e-6?(p="nm",u*=1e9):g<.001?(p="μm",u*=1e6):g<1?(p="mm",u*=1e3):g<1e3?p="m":(p="km",u/=1e3);else if("us"==c)g<.9144?(p="in",u*=39.37):g<1609.344?(p="ft",u/=.30480061):(p="mi",u/=1609.3472);else throw Error("Invalid units");let f=3*Math.floor(Math.log(_*u)/Math.log(10)),v=0;for(;;){let n=Math.pow(10,i=Math.floor(f/3));if(isNaN(t=Math.round((e=l[(f%3+3)%3]*n)/u))){this.element.style.display="none",this.renderedVisible_=!1;return}if(void 0!==m&&t>=m){e=v,t=s,i=r;break}if(t>=_)break;v=e,s=t,r=i,++f}let b=this.scaleBar_?this.createScaleBar(t,e,p):e.toFixed(i<0?-i:0)+" "+p;this.renderedHTML_!=b&&(this.innerElement_.innerHTML=b,this.renderedHTML_=b),this.renderedWidth_!=t&&(this.innerElement_.style.width=t+"px",this.renderedWidth_=t),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){let s=this.getScaleForResolution(),n=s<1?Math.round(1/s).toLocaleString()+" : 1":"1 : "+Math.round(s).toLocaleString(),r=this.scaleBarSteps_,a=e/r,l=[this.createMarker("absolute")];for(let s=0;s<r;++s){let n=s%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(s%2==0||2===r?this.createStepText(s,e,!1,t,i):"")+"</div>")}return l.push(this.createStepText(r,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+n+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,i,s,n){let r=0===e?0:Math.round(s/this.scaleBarSteps_*e*100)/100,a=0===e?-3:-(t/this.scaleBarSteps_*1),l=0===e?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${a}px;text-align: ${0===e?"left":"center"};min-width: ${l}px;left: ${i?t+"px":"unset"};">`+r+(0===e?"":" "+n)+"</div>"}getScaleForResolution(){return 1e3/25.4*(0,n.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(this.dpi_||o)}render(e){let t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}t.default=h}}]);
//# sourceMappingURL=2781.dfdf921f8818cc52.js.map