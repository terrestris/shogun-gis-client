"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["1365"],{78426:function(t,e,n){n.r(e),n.d(e,{CollectionEvent:function(){return u}});var r=n(19629),i=n(58493),s=n(9520);let o="length";class u extends s.default{constructor(t,e,n){super(t),this.element=e,this.index=n}}class a extends i.default{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){let e=this.array_;for(let n=0,r=e.length;n<r;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(o)}insertAt(t,e){if(t<0||t>this.getLength())throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(r.Z.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){let e=this.array_;for(let n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;let e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(r.Z.REMOVE,e,t)),e}setAt(t,e){if(t>=this.getLength()){this.insertAt(t,e);return}if(t<0)throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);let n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(r.Z.REMOVE,n,t)),this.dispatchEvent(new u(r.Z.ADD,e,t))}updateLength_(){this.set(o,this.array_.length)}assertUnique_(t,e){for(let n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw Error("Duplicate item added to a unique collection")}}e.default=a},19629:function(t,e){e.Z={ADD:"add",REMOVE:"remove"}},80967:function(t,e){e.Z=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},23068:function(t,e,n){n.r(e),n.d(e,{createStyleFunction:function(){return a}});var r=n(58493),i=n(38906),s=n(73381),o=n(13002);class u extends r.default{constructor(t){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?this.setGeometry(t):this.setProperties(t))}clone(){let t=new u(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let e=this.getGeometry();e&&t.setGeometry(e.clone());let n=this.getStyle();return n&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=(0,o.oL)(t,s.default.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?a(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function a(t){let e;return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,i.h)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e})}e.default=u},30006:function(t,e,n){var r=n(73381);e.Z={SINGLECLICK:"singleclick",CLICK:r.default.CLICK,DBLCLICK:r.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},79682:function(t,e,n){function r(t,e,n){let r,s;n=n||i;let o=0,u=t.length,a=!1;for(;o<u;)(s=+n(t[r=o+(u-o>>1)],e))<0?o=r+1:(u=r,a=!s);return a?o:~o}function i(t,e){return t>e?1:t<e?-1:0}function s(t,e){return t<e?1:t>e?-1:0}function o(t,e,n){if(t[0]<=e)return 0;let r=t.length;if(e<=t[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){let r=t[i];if(r===e)return i;if(r<e){if(n(e,t[i-1],r)>0)return i-1;return i}}return r-1}if(n>0){for(let n=1;n<r;++n)if(t[n]<e)return n-1;return r-1}if(n<0){for(let n=1;n<r;++n)if(t[n]<=e)return n;return r-1}for(let n=1;n<r;++n){if(t[n]==e)return n;if(t[n]<e){if(t[n-1]-e<e-t[n])return n-1;return n}}return r-1}function u(t,e,n){for(;e<n;){let r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function a(t,e){let n=Array.isArray(e)?e:[e],r=n.length;for(let e=0;e<r;e++)t[t.length]=n[e]}function l(t,e){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function h(t,e,n){let r=e||i;return t.every(function(e,i){if(0===i)return!0;let s=r(t[i-1],e);return!(s>0||n&&0===s)})}n.d(e,{$1:function(){return s},FZ:function(){return u},fS:function(){return l},h7:function(){return o},j2:function(){return i},l7:function(){return a},pT:function(){return h},ry:function(){return r}})},86320:function(t,e,n){function r(t){return Math.pow(t,3)}function i(t){return 1-r(1-t)}function s(t){return 3*t*t-2*t*t*t}function o(t){return t}function u(t){return t<.5?s(2*t):1-s(2*(t-.5))}n.r(e),n.d(e,{easeIn:function(){return r},easeOut:function(){return i},inAndOut:function(){return s},linear:function(){return o},upAndDown:function(){return u}})},9520:function(t,e,n){function r(t){t.stopPropagation()}function i(t){t.preventDefault()}n.r(e),n.d(e,{preventDefault:function(){return i},stopPropagation:function(){return r}}),e.default=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},73381:function(t,e,n){n.r(e),e.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},66575:function(t,e,n){var r=n(80967),i=n(64011),s=n(13580),o=n(9520);class u extends r.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;let n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);r.includes(e)||r.push(e)}dispatchEvent(t){let e;let n="string"==typeof t,r=n?t:t.type,s=this.listeners_&&this.listeners_[r];if(!s)return;let u=n?new o.default(t):t;u.target||(u.target=this.eventTarget_||this);let a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in a||(a[r]=0,l[r]=0),++a[r];for(let t=0,n=s.length;t<n;++t)if(!1===(e="handleEvent"in s[t]?s[t].handleEvent(u):s[t].call(this,u))||u.propagationStopped){e=!1;break}if(0==--a[r]){let t=l[r];for(delete l[r];t--;)this.removeEventListener(r,i.VOID);delete a[r]}return e}disposeInternal(){this.listeners_&&(0,s.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;let n=this.listeners_[t];if(!n)return;let r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=i.VOID,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}}e.Z=u},36403:function(t,e,n){n.r(e),n.d(e,{all:function(){return u},altKeyOnly:function(){return a},altShiftKeysOnly:function(){return l},always:function(){return f},click:function(){return d},doubleClick:function(){return m},focus:function(){return h},focusWithTabindex:function(){return c},mouseActionButton:function(){return g},mouseOnly:function(){return S},never:function(){return y},noModifierKeys:function(){return v},penOnly:function(){return R},platformModifierKey:function(){return C},platformModifierKeyOnly:function(){return E},pointerMove:function(){return _},primaryAction:function(){return K},shiftKeyOnly:function(){return L},singleClick:function(){return p},targetNotEditable:function(){return A},touchOnly:function(){return T}});var r=n(30006),i=n(38906),s=n(64011),o=n(91358);function u(t){let e=arguments;return function(t){let n=!0;for(let r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}let a=function(t){let e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},l=function(t){let e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},h=function(t){let e=t.map.getTargetElement(),n=e.getRootNode(),r=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(r):e.contains(r)},c=function(t){let e=t.map.getTargetElement(),n=e.getRootNode();return!(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")||h(t)},f=s.TRUE,d=function(t){return t.type==r.Z.CLICK},g=function(t){let e=t.originalEvent;return 0==e.button&&!(o.WEBKIT&&o.MAC&&e.ctrlKey)},y=s.FALSE,_=function(t){return"pointermove"==t.type},p=function(t){return t.type==r.Z.SINGLECLICK},m=function(t){return t.type==r.Z.DBLCLICK},v=function(t){let e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},E=function(t){let e=t.originalEvent;return!e.altKey&&(o.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},C=function(t){let e=t.originalEvent;return o.MAC?e.metaKey:e.ctrlKey},L=function(t){let e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},A=function(t){let e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},S=function(t){let e=t.originalEvent;return(0,i.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"mouse"==e.pointerType},T=function(t){let e=t.originalEvent;return(0,i.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"touch"===e.pointerType},R=function(t){let e=t.originalEvent;return(0,i.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),"pen"===e.pointerType},K=function(t){let e=t.originalEvent;return(0,i.h)(void 0!==e,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&0===e.button}},64011:function(t,e,n){n.r(e),n.d(e,{FALSE:function(){return s},TRUE:function(){return i},VOID:function(){return o},memoizeOne:function(){return u},toPromise:function(){return a}});var r=n(79682);function i(){return!0}function s(){return!1}function o(){}function u(t){let e,n,i;return function(){let s=Array.prototype.slice.call(arguments);return n&&this===i&&(0,r.fS)(s,n)||(i=this,n=s,e=t.apply(this,arguments)),e}}function a(t){return function(){let e;try{e=t()}catch(t){return Promise.reject(t)}return e instanceof Promise?e:Promise.resolve(e)}()}},4027:function(t,e,n){n.d(e,{W:function(){return r}});function r(t,e,n,r){let i=t[e],s=t[e+1],o=0;for(let u=e+r;u<n;u+=r){let e=t[u],n=t[u+1];o+=Math.sqrt((e-i)*(e-i)+(n-s)*(n-s)),i=e,s=n}return o}},47588:function(t,e,n){n.d(e,{Cv:function(){return u},FW:function(){return a}});var r=n(58493),i=n(86320),s=n(73604);class o extends r.default{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(s.Z.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(s.Z.ACTIVE,t)}setMap(t){this.map_=t}}function u(t,e,n){let r=t.getCenterInternal();if(r){let s=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:i.linear,center:t.getConstrainedCenter(s)})}}function a(t,e,n,r){let s=t.getZoom();if(void 0===s)return;let o=t.getConstrainedZoom(s+e),u=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:u,anchor:n,duration:void 0!==r?r:250,easing:i.easeOut})}e.ZP=o},73604:function(t,e){e.Z={ACTIVE:"active"}},51273:function(t,e,n){n.r(e),n.d(e,{SelectEvent:function(){return _}});var r=n(78426),i=n(19629),s=n(23068),o=n(79682),u=n(9520),a=n(36403),l=n(64011),h=n(28799),c=n(13580),f=n(31219),d=n(49179),g=n(47588);let y={SELECT:"select"};class _ extends u.default{constructor(t,e,n,r){super(t),this.selected=e,this.deselected=n,this.mapBrowserEvent=r}}let p={};class m extends g.ZP{constructor(t){let e;if(super(),this.on,this.once,this.un,t=t||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=t.condition?t.condition:a.singleClick,this.addCondition_=t.addCondition?t.addCondition:a.never,this.removeCondition_=t.removeCondition?t.removeCondition:a.never,this.toggleCondition_=t.toggleCondition?t.toggleCondition:a.shiftKeyOnly,this.multi_=!!t.multi&&t.multi,this.filter_=t.filter?t.filter:l.TRUE,this.hitTolerance_=t.hitTolerance?t.hitTolerance:0,this.style_=void 0!==t.style?t.style:function(){let t=(0,f.createEditingStyle)();return(0,o.l7)(t.Polygon,t.LineString),(0,o.l7)(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),this.features_=t.features||new r.default,t.layers){if("function"==typeof t.layers)e=t.layers;else{let n=t.layers;e=function(t){return n.includes(t)}}}else e=l.TRUE;this.layerFilter_=e,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(t,e){this.featureLayerAssociation_[(0,d.getUid)(t)]=e}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(t){return this.featureLayerAssociation_[(0,d.getUid)(t)]}setHitTolerance(t){this.hitTolerance_=t}setMap(t){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(t),t?(this.features_.addEventListener(i.Z.ADD,this.boundAddFeature_),this.features_.addEventListener(i.Z.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(i.Z.ADD,this.boundAddFeature_),this.features_.removeEventListener(i.Z.REMOVE,this.boundRemoveFeature_))}addFeature_(t){let e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){let t=this.getMap().getAllLayers().find(function(t){if(t instanceof h.default&&t.getSource()&&t.getSource().hasFeature(e))return t});t&&this.addFeatureLayerAssociation_(e,t)}}removeFeature_(t){this.style_&&this.restorePreviousStyle_(t.element)}getStyle(){return this.style_}applySelectedStyle_(t){let e=(0,d.getUid)(t);e in p||(p[e]=t.getStyle()),t.setStyle(this.style_)}restorePreviousStyle_(t){let e=this.getMap().getInteractions().getArray();for(let n=e.length-1;n>=0;--n){let r=e[n];if(r!==this&&r instanceof m&&r.getStyle()&&-1!==r.getFeatures().getArray().lastIndexOf(t)){t.setStyle(r.getStyle());return}}let n=(0,d.getUid)(t);t.setStyle(p[n]),delete p[n]}removeFeatureLayerAssociation_(t){delete this.featureLayerAssociation_[d.getUid(t)]}handleEvent(t){if(!this.condition_(t))return!0;let e=this.addCondition_(t),n=this.removeCondition_(t),r=this.toggleCondition_(t),i=t.map,o=this.getFeatures(),u=[],a=[];if(e||n||r){i.forEachFeatureAtPixel(t.pixel,(t,i)=>{if(t instanceof s.default&&this.filter_(t,i))return(e||r)&&!o.getArray().includes(t)?(this.addFeatureLayerAssociation_(t,i),a.push(t)):(n||r)&&o.getArray().includes(t)&&(u.push(t),this.removeFeatureLayerAssociation_(t)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=u.length-1;t>=0;--t)o.remove(u[t]);o.extend(a)}else{(0,c.Z)(this.featureLayerAssociation_),i.forEachFeatureAtPixel(t.pixel,(t,e)=>{if(t instanceof s.default&&this.filter_(t,e))return this.addFeatureLayerAssociation_(t,e),a.push(t),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let t=o.getLength()-1;t>=0;--t){let e=o.item(t),n=a.indexOf(e);n>-1?a.splice(n,1):(o.remove(e),u.push(e))}0!==a.length&&o.extend(a)}return(a.length>0||u.length>0)&&this.dispatchEvent(new _(y.SELECT,a,u,t)),!0}}e.default=m},13580:function(t,e,n){function r(t){for(let e in t)delete t[e]}function i(t){let e;for(e in t)return!1;return!e}n.d(e,{Z:function(){return r},x:function(){return i}})},49179:function(t,e,n){function r(){throw Error("Unimplemented abstract method.")}n.r(e),n.d(e,{VERSION:function(){return o},abstract:function(){return r},getUid:function(){return s}});let i=0;function s(t){return t.ol_uid||(t.ol_uid=String(++i))}let o="10.4.0"}}]);
//# sourceMappingURL=1365.37e8c150a1f339e3.js.map