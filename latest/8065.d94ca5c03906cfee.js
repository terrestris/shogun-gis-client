"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["8065"],{1908:function(t,e,r){r.r(e),r.d(e,{epsgLookupMapTiler:function(){return h},fromEPSGCode:function(){return g},getEPSGLookup:function(){return p},isRegistered:function(){return a},register:function(){return c},setEPSGLookup:function(){return d},unregister:function(){return f}});var n=r(5374),o=r(44183),i=r(31564),s=r(84110);let u=null;function a(){return!!u}function f(){u=null}function c(t){let e,r;u=t;let a=Object.keys(t.defs),f=a.length;for(e=0;e<f;++e){let r=a[e];if(!(0,i.U2)(r)){let e=t.defs(r),i=e.units;i||"longlat"!==e.projName||(i="degrees"),(0,n.addProjection)(new o.Z({code:r,axisOrientation:e.axis,metersPerUnit:e.to_meter,units:i}))}}for(e=0;e<f;++e){let o=a[e],u=(0,i.U2)(o);for(r=0;r<f;++r){let e=a[r],f=(0,i.U2)(e);if(!(0,s.U2)(o,e)){if(t.defs[o]===t.defs[e])(0,n.addEquivalentProjections)([u,f]);else{let r=t(o,e);(0,n.addCoordinateTransforms)(u,f,(0,n.createSafeCoordinateTransform)(u,f,r.forward),(0,n.createSafeCoordinateTransform)(f,u,r.inverse))}}}}}let l=async function(t){let e=await fetch(`https://epsg.io/${t}.proj4`);if(!e.ok)throw Error(`Unexpected response from epsg.io: ${e.status}`);return e.text()};function d(t){l=t}function p(){return l}async function g(t){"string"==typeof t&&(t=parseInt(t.split(":").pop(),10));let e=u;if(!e)throw Error("Proj4 must be registered first with register(proj4)");let r="EPSG:"+t;return e.defs(r)||(e.defs(r,await l(t)),c(e)),(0,i.U2)(r)}function h(t){return async function(e){let r=await fetch(`https://api.maptiler.com/coordinates/search/code:${e}.json?transformations=true&exports=true&key=${t}`);if(!r.ok)throw Error(`Unexpected response from maptiler.com: ${r.status}`);return r.json().then(t=>{let r=t.results;if(r?.length>0){let t=r.filter(t=>t.id?.authority==="EPSG"&&t.id?.code===e)[0];if(t){let e=t.transformations;if(e?.length>0){let r=t.default_transformation;if(e.filter(t=>t.id?.authority===r?.authority&&t.id?.code===r?.code&&t.grids?.length===0).length>0)return t.exports?.proj4;let n=e.filter(t=>t.grids?.length===0&&t.target_crs?.authority==="EPSG"&&t.target_crs?.code===4326&&!1===t.deprecated&&!0===t.usable).sort((t,e)=>t.accuracy-e.accuracy)[0]?.exports?.proj4;if(n)return n}return t.exports?.proj4}}})}}}}]);
//# sourceMappingURL=8065.d94ca5c03906cfee.js.map