"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["7430"],{58493:function(e,t,i){i.r(t),i.d(t,{ObjectEvent:function(){return u}});var r=i(9520),s=i(13910),n=i(56834),l=i(49179),o=i(13580);class u extends r.default{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class a extends n.default{constructor(e){super(),this.on,this.once,this.un,(0,l.getUid)(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new u(i,e,t)),i=s.Z.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new u(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let i=r[e];r[e]=t,i!==t&&this.notify(e,i)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){if(!!e.values_)Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],(0,o.x)(this.values_)&&(this.values_=null),!t&&this.notify(e,i)}}}t.default=a},13910:function(e,t){t.Z={PROPERTYCHANGE:"propertychange"}},56834:function(e,t,i){i.r(t),i.d(t,{unByKey:function(){return o}});var r=i(66575),s=i(73381),n=i(13002);class l extends r.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(s.default.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=Array(i);for(let s=0;s<i;++s)r[s]=(0,n.oL)(this,e[s],t);return r}return(0,n.oL)(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=Array(r);for(let s=0;s<r;++s)i[s]=(0,n.Vx)(this,e[s],t)}else i=(0,n.Vx)(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)o(i);else if(Array.isArray(e))for(let i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}function o(e){if(Array.isArray(e))for(let t=0,i=e.length;t<i;++t)(0,n.bN)(e[t]);else(0,n.bN)(e)}l.prototype.on,l.prototype.once,l.prototype.un,t.default=l},38906:function(e,t,i){i.d(t,{h:function(){return r}});function r(e,t){if(!e)throw Error(t)}},13002:function(e,t,i){i.d(t,{Vx:function(){return n},bN:function(){return l},oL:function(){return s}});var r=i(13580);function s(e,t,i,r,s){if(s){let s=i;i=function(){e.removeEventListener(t,i),s.apply(r??this,arguments)}}else r&&r!==e&&(i=i.bind(r));let n={target:e,type:t,listener:i};return e.addEventListener(t,i),n}function n(e,t,i,r){return s(e,t,i,r,!0)}function l(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,r.Z)(e))}},80800:function(e,t,i){i.d(t,{Be:function(){return n},ov:function(){return s}});var r=i(64011);function s(e,t,i,r,s,n,l){let o=new XMLHttpRequest;o.open("GET","function"==typeof e?e(i,r,s):e,!0),"arraybuffer"==t.getType()&&(o.responseType="arraybuffer"),o.withCredentials=!1,o.onload=function(e){if(!o.status||o.status>=200&&o.status<300){let e=t.getType();try{let r;"text"==e||"json"==e?r=o.responseText:"xml"==e?r=o.responseXML||o.responseText:"arraybuffer"==e&&(r=o.response),r?n(t.readFeatures(r,{extent:i,featureProjection:s}),t.readProjection(r)):l()}catch{l()}}else l()},o.onerror=l,o.send()}function n(e,t){return function(i,n,l,o,u){let a=this;s(e,t,i,n,l,function(e,t){a.addFeatures(e),void 0!==o&&o(e)},u||r.VOID)}}},8476:function(e,t,i){i.r(t),i.d(t,{defaultLoadFunction:function(){return x},default:function(){return E}});var r=i("73381"),s=i("90226"),n=i("8930"),l=i("59900"),o=i("76137"),u=i("24969"),a=i("85386"),h=i("49179");let c=[];class d extends u.Z{constructor(e,t,i,r,s){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=s,this.wrappedTileCoord=i}getContext(){return!this.context_&&(this.context_=(0,a.E4)(1,1,c)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){let t=(0,h.getUid)(e);return!(t in this.replayState_)&&(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&((0,a.jy)(this.context_),c.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}var f=i("10508"),g=i("21915"),p=i("86018"),v=i("13580"),T=i("80800"),y=i("50596");class _ extends o.Z{constructor(e){let t=e.projection||"EPSG:3857",i=e.extent||(0,p.extentFromProjection)(t);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:e.tileGrid||(0,p.createXYZ)({extent:i,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512}),tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:x,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:s.Z,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,i){if(i.getState()===l.default.IDLE){i.setState(l.default.LOADING);let s=i.wrappedTileCoord,n=this.getTileGridForProjection(t),o=n.getTileCoordExtent(s),u=s[0],a=n.getResolution(u);(0,g.buffer)(o,-a,o);let h=this.tileGrid,c=h.getExtent();c&&(0,g.getIntersection)(o,c,o);let d=h.getZForResolution(a,this.zDirection);h.forEachTileCoord(o,d,s=>{let n=this.tileUrlFunction(s,e,t);!this.sourceTiles_[n]&&(this.sourceTiles_[n]=new this.tileClass(s,n?l.default.IDLE:l.default.EMPTY,n,this.format_,this.tileLoadFunction));let o=this.sourceTiles_[n];i.sourceTiles.push(o),!this.tileKeysBySourceTileUrl_[n]&&(this.tileKeysBySourceTileUrl_[n]=[]),this.tileKeysBySourceTileUrl_[n].push(i.getKey());let u=o.getState();if(u<l.default.LOADED){let e=t=>{this.handleTileChange(t);let s=o.getState();if(s===l.default.LOADED||s===l.default.ERROR){let t=o.getKey();t in i.errorTileKeys?o.getState()===l.default.LOADED&&delete i.errorTileKeys[t]:i.loadingSourceTiles--,s===l.default.ERROR?i.errorTileKeys[t]=!0:o.removeEventListener(r.default.CHANGE,e),0===i.loadingSourceTiles&&i.setState((0,v.x)(i.errorTileKeys)?l.default.LOADED:l.default.ERROR)}};o.addEventListener(r.default.CHANGE,e),i.loadingSourceTiles++}u===l.default.IDLE&&(o.extent=h.getTileCoordExtent(s),o.projection=t,o.resolution=h.getResolution(s[0]),o.load())}),!i.loadingSourceTiles&&i.setState(i.sourceTiles.some(e=>e.getState()===l.default.ERROR)?l.default.ERROR:l.default.LOADED)}return i.sourceTiles}removeSourceTiles(e){let t=e.sourceTiles;for(let e=0,i=t.length;e<i;++e){let i=t[e].getTileUrl(),r=this.getKey();if(!this.tileKeysBySourceTileUrl_[i])return;let s=this.tileKeysBySourceTileUrl_[i][r];if(-1!==s)this.tileKeysBySourceTileUrl_[i].splice(s,1),0===this.tileKeysBySourceTileUrl_[i].length&&(delete this.tileKeysBySourceTileUrl_[i],delete this.sourceTiles_[i])}}getTile(e,t,i,r,s){let n=[e,t,i],o=this.getTileCoordForTileUrlFunction(n,s),u=this.getTileGrid().getExtent(),a=this.getTileGridForProjection(s);if(o&&u){let t=a.getTileCoordExtent(o);(0,g.buffer)(t,-a.getResolution(e),t),!(0,g.intersects)(u,t)&&(o=null)}let h=!0;if(null!==o){let t=this.tileGrid,i=a.getResolution(e),n=t.getZForResolution(i,1),l=a.getTileCoordExtent(o);(0,g.buffer)(l,-i,l),t.forEachTileCoord(l,n,e=>{h=h&&!this.tileUrlFunction(e,r,s)})}let c=new d(n,h?l.default.EMPTY:l.default.IDLE,o,this.getSourceTiles.bind(this,r,s),this.removeSourceTiles.bind(this));return c.key=this.getKey(),c}getTileGridForProjection(e){let t=e.getCode(),i=this.tileGrids_[t];if(!i){let e=this.tileGrid,r=e.getResolutions().slice(),s=r.map(function(t,i){return e.getOrigin(i)}),l=r.map(function(t,i){return e.getTileSize(i)}),o=f.e+1;for(let e=r.length;e<o;++e)r.push(r[e-1]/2),s.push(s[e-1]),l.push(l[e-1]);i=new n.default({extent:e.getExtent(),origins:s,resolutions:r,tileSizes:l}),this.tileGrids_[t]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),s=(0,y.Pq)(r.getTileSize(e),this.tmpSize);return[Math.round(s[0]*t),Math.round(s[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}var E=_;function x(e,t){e.setLoader(function(i,r,s){(0,T.ov)(t,e.getFormat(),i,r,s,e.onLoad.bind(e),e.onError.bind(e))})}}}]);
//# sourceMappingURL=7430.570a9b638257a9cf.js.map