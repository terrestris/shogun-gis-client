"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["7874"],{85273:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var n=i(76395),a=i.n(n),l=i(21239),r=i(6875),o=i(32485),s=i.n(o),c=i(51679),m=i(46400),d=i(62279),g=i(35128),u=i(829),$=i(14765),p=i(78551),f=i(51047),h=i(96604);let y=a().createContext({});y.Consumer;var v=i(40682),S=i(26606),b=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};let x=a().forwardRef((e,t)=>{let i,{prefixCls:l,children:r,actions:o,extra:c,styles:m,className:g,classNames:u,colStyle:$}=e,p=b(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:f,itemLayout:h}=(0,n.useContext)(y),{getPrefixCls:x,list:E}=(0,n.useContext)(d.QO),O=e=>{var t,i;return s()(null==(i=null==(t=null==E?void 0:E.item)?void 0:t.classNames)?void 0:i[e],null==u?void 0:u[e])},k=e=>{var t,i;return Object.assign(Object.assign({},null==(i=null==(t=null==E?void 0:E.item)?void 0:t.styles)?void 0:i[e]),null==m?void 0:m[e])},C=x("list",l),N=o&&o.length>0&&a().createElement("ul",{className:s()(`${C}-item-action`,O("actions")),key:"actions",style:k("actions")},o.map((e,t)=>a().createElement("li",{key:`${C}-item-action-${t}`},e,t!==o.length-1&&a().createElement("em",{className:`${C}-item-action-split`})))),z=a().createElement(f?"div":"li",Object.assign({},p,f?{}:{ref:t},{className:s()(`${C}-item`,{[`${C}-item-no-flex`]:!("vertical"===h?!!c:(i=!1,n.Children.forEach(r,e=>{"string"==typeof e&&(i=!0)}),!(i&&n.Children.count(r)>1)))},g)}),"vertical"===h&&c?[a().createElement("div",{className:`${C}-item-main`,key:"content"},r,N),a().createElement("div",{className:s()(`${C}-item-extra`,O("extra")),key:"extra",style:k("extra")},c)]:[r,N,(0,v.Ob)(c,{key:"extra"})]);return f?a().createElement(S.A,{ref:t,flex:1,style:$},z):z});x.Meta=e=>{var{prefixCls:t,className:i,avatar:l,title:r,description:o}=e,c=b(e,["prefixCls","className","avatar","title","description"]);let{getPrefixCls:m}=(0,n.useContext)(d.QO),g=m("list",t),u=s()(`${g}-item-meta`,i),$=a().createElement("div",{className:`${g}-item-meta-content`},r&&a().createElement("h4",{className:`${g}-item-meta-title`},r),o&&a().createElement("div",{className:`${g}-item-meta-description`},o));return a().createElement("div",Object.assign({},c,{className:u}),l&&a().createElement("div",{className:`${g}-item-meta-avatar`},l),(r||o)&&$)};var E=i(91548),O=i(25905),k=i(37358),C=i(57496),N=(0,k.OF)("List",e=>{let t=(0,C.mergeToken)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[(e=>{let{componentCls:t,antCls:i,controlHeight:n,minHeight:a,paddingSM:l,marginLG:r,padding:o,itemPadding:s,colorPrimary:c,itemPaddingSM:m,itemPaddingLG:d,paddingXS:g,margin:u,colorText:$,colorTextDescription:p,motionDurationSlow:f,lineWidth:h,headerBg:y,footerBg:v,emptyTextPadding:S,metaMarginBottom:b,avatarMarginRight:x,titleMarginBottom:k,descriptionFontSize:C}=e;return{[t]:Object.assign(Object.assign({},(0,O.dF)(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:y},[`${t}-footer`]:{background:v},[`${t}-header, ${t}-footer`]:{paddingBlock:l},[`${t}-pagination`]:{marginBlockStart:r,[`${i}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:$,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:x},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:$},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,E.unit)(e.marginXXS)} 0`,color:$,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:$,transition:`all ${f}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:p,fontSize:C,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,E.unit)(g)}`,color:p,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:h,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,E.unit)(o)} 0`,color:p,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:S,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${i}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:u,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:r},[`${t}-item-meta`]:{marginBlockEnd:b,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:k,color:$,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:o,marginInlineStart:"auto","> li":{padding:`0 ${(0,E.unit)(o)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${i}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:m},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}})(t),(e=>{let{listBorderedCls:t,componentCls:i,paddingLG:n,margin:a,itemPaddingSM:l,itemPaddingLG:r,marginLG:o,borderRadiusLG:s}=e;return{[t]:{border:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:n},[`${i}-pagination`]:{margin:`${(0,E.unit)(a)} ${(0,E.unit)(o)}`}},[`${t}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:l}},[`${t}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:r}}}})(t),(e=>{let{componentCls:t,screenSM:i,screenMD:n,marginLG:a,marginSM:l,margin:r}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${i}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,E.unit)(r)}`}}}}}})(t)]},e=>({contentWidth:220,itemPadding:`${(0,E.unit)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,E.unit)(e.paddingContentVerticalSM)} ${(0,E.unit)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,E.unit)(e.paddingContentVerticalLG)} ${(0,E.unit)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize})),z=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};let w=n.forwardRef(function(e,t){let{pagination:i=!1,prefixCls:a,bordered:l=!1,split:o=!0,className:v,rootClassName:S,style:b,children:x,itemLayout:E,loadMore:O,grid:k,dataSource:C=[],size:w,header:j,footer:I,loading:A=!1,rowKey:B,renderItem:L,locale:M}=e,H=z(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),P=i&&"object"==typeof i?i:{},[W,T]=n.useState(P.defaultCurrent||1),[_,G]=n.useState(P.defaultPageSize||10),{getPrefixCls:F,direction:X,className:R,style:V}=(0,d.TP)("list"),{renderEmpty:Q}=n.useContext(d.QO),J=e=>(t,n)=>{var a;T(t),G(n),i&&(null==(a=null==i?void 0:i[e])||a.call(i,t,n))},K=J("onChange"),q=J("onShowSizeChange"),D=!!(O||i||I),Y=F("list",a),[U,Z,ee]=N(Y),et=A;"boolean"==typeof et&&(et={spinning:et});let ei=!!(null==et?void 0:et.spinning),en=(0,u.A)(w),ea="";switch(en){case"large":ea="lg";break;case"small":ea="sm"}let el=s()(Y,{[`${Y}-vertical`]:"vertical"===E,[`${Y}-${ea}`]:ea,[`${Y}-split`]:o,[`${Y}-bordered`]:l,[`${Y}-loading`]:ei,[`${Y}-grid`]:!!k,[`${Y}-something-after-last-item`]:D,[`${Y}-rtl`]:"rtl"===X},R,v,S,Z,ee),er=(0,c.A)({current:1,total:0,position:"bottom"},{total:C.length,current:W,pageSize:_},i||{}),eo=Math.ceil(er.total/er.pageSize);er.current=Math.min(er.current,eo);let es=i&&n.createElement("div",{className:s()(`${Y}-pagination`)},n.createElement(f.A,Object.assign({align:"end"},er,{onChange:K,onShowSizeChange:q}))),ec=(0,r.A)(C);i&&C.length>(er.current-1)*er.pageSize&&(ec=(0,r.A)(C).splice((er.current-1)*er.pageSize,er.pageSize));let em=Object.keys(k||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),ed=(0,p.A)(em),eg=n.useMemo(()=>{for(let e=0;e<m.ye.length;e+=1){let t=m.ye[e];if(ed[t])return t}},[ed]),eu=n.useMemo(()=>{if(!k)return;let e=eg&&k[eg]?k[eg]:k.column;if(e)return{width:`${100/e}%`,maxWidth:`${100/e}%`}},[JSON.stringify(k),eg]),e$=ei&&n.createElement("div",{style:{minHeight:53}});if(ec.length>0){let e=ec.map((e,t)=>{let i;return L?((i="function"==typeof B?B(e):B?e[B]:e.key)||(i=`list-item-${t}`),n.createElement(n.Fragment,{key:i},L(e,t))):null});e$=k?n.createElement($.A,{gutter:k.gutter},n.Children.map(e,e=>n.createElement("div",{key:null==e?void 0:e.key,style:eu},e))):n.createElement("ul",{className:`${Y}-items`},e)}else x||ei||(e$=n.createElement("div",{className:`${Y}-empty-text`},(null==M?void 0:M.emptyText)||(null==Q?void 0:Q("List"))||n.createElement(g.A,{componentName:"List"})));let ep=er.position,ef=n.useMemo(()=>({grid:k,itemLayout:E}),[JSON.stringify(k),E]);return U(n.createElement(y.Provider,{value:ef},n.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},V),b),className:el},H),("top"===ep||"both"===ep)&&es,j&&n.createElement("div",{className:`${Y}-header`},j),n.createElement(h.A,Object.assign({},et),e$,x),I&&n.createElement("div",{className:`${Y}-footer`},I),O||("bottom"===ep||"both"===ep)&&es)))});w.Item=x;var j=i(64855),I=i(62193),A=i.n(I),B=i(15516),L=i.n(B),M=i(70038),H=i.n(M),P=i(30126);let W=l.A.Panel,T=w.Item;var _=e=>{let[t,i]=(0,n.useState)(null),r=(0,P.A)(),{searchResults:o,numTotal:s,searchTerms:c,actionsCreator:m=()=>void 0,listPrefixRenderer:d=()=>void 0,layerStyle:g,onClick:u=e=>r?.getView().fit(e.feature.getGeometry(),{size:r.getSize()}),...$}=e;(0,n.useEffect)(()=>{if(!r)return;let e=new(L())({source:new(H())});g&&e.setStyle(g),i(e),r.addLayer(e)},[g,r]),(0,n.useEffect)(()=>()=>{r&&r.removeLayer(t)},[t,r]);let p=(e,t)=>`${e.title}-${t}`;return 0===s?null:a().createElement("div",{className:"search-result-div"},a().createElement(l.A,{defaultActiveKey:o[0]?p(o[0],0):void 0,...$},o.map((e,i)=>{let{features:n,title:l,icon:o}=e;if(!r)return a().createElement(a().Fragment,null);if(!n||A()(n))return;let s=a().createElement("div",{className:"search-result-panel-header"},a().createElement("span",null,`${l} (${n.length})`),o&&a().createElement(j.A,{className:"search-option-avatar",src:o})),g=p(e,i);return a().createElement(W,{header:s,key:g},a().createElement(w,{size:"small",dataSource:n.map((e,t)=>{var i;return{text:(i=e.get("title"),c.forEach(e=>{let t=e.toLowerCase();if(""===t)return;let n=i.toLowerCase().indexOf(t);for(;n>=0;){let e=i.substring(0,n),a=i.substring(n,n+t.length),l=i.substring(n+t.length,i.length);n=(i=`${e}<b>${a}</b>${l}`).toLowerCase().indexOf(t,n+8)}}),i),idx:t,feature:e}}),renderItem:e=>{let i;return a().createElement(T,{className:"result-list-item",key:e.idx,onMouseOver:(i=e.feature,()=>{t?.getSource()?.clear(),t?.getSource()?.addFeature(i)}),onMouseOut:()=>t?.getSource()?.clear(),onClick:()=>u(e),actions:m(e)},a().createElement("div",{className:"result-prefix"},d(e)),a().createElement("div",{className:"result-text",dangerouslySetInnerHTML:{__html:e.text}}))}}))})))}}}]);
//# sourceMappingURL=7874.f4de79abefdbe355.js.map