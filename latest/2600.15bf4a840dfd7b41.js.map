{"version":3,"file":"2600.15bf4a840dfd7b41.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/Disposable.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Object.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/ObjectEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Observable.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/array.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/css.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/dom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Event.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/EventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Target.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/functions.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/has.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/obj.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/render/canvas.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/util.js"],"sourcesContent":["/**\n * @module ol/Disposable\n */\n\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nclass Disposable {\n  constructor() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @protected\n     */\n    this.disposed = false;\n  }\n\n  /**\n   * Clean up.\n   */\n  dispose() {\n    if (!this.disposed) {\n      this.disposed = true;\n      this.disposeInternal();\n    }\n  }\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  disposeInternal() {}\n}\n\nexport default Disposable;\n","/**\n * @module ol/Object\n */\nimport Event from './events/Event.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport Observable from './Observable.js';\nimport {getUid} from './util.js';\nimport {isEmpty} from './obj.js';\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n */\nexport class ObjectEvent extends Event {\n  /**\n   * @param {string} type The event type.\n   * @param {string} key The property name.\n   * @param {*} oldValue The old value for `key`.\n   */\n  constructor(type, key, oldValue) {\n    super(type);\n\n    /**\n     * The name of the property whose value is changing.\n     * @type {string}\n     * @api\n     */\n    this.key = key;\n\n    /**\n     * The old value. To get the new value use `e.target.get(e.key)` where\n     * `e` is the event object.\n     * @type {*}\n     * @api\n     */\n    this.oldValue = oldValue;\n  }\n}\n\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types, ObjectEvent, Return> &\n *    import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types, Return>} ObjectOnSignature\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Most non-trivial classes inherit from this.\n *\n * This extends {@link module:ol/Observable~Observable} with observable\n * properties, where each property is observable as well as the object as a\n * whole.\n *\n * Classes that inherit from this have pre-defined properties, to which you can\n * add your owns. The pre-defined properties are listed in this documentation as\n * 'Observable Properties', and have their own accessors; for example,\n * {@link module:ol/Map~Map} has a `target` property, accessed with\n * `getTarget()` and changed with `setTarget()`. Not all properties are however\n * settable. There are also general-purpose accessors `get()` and `set()`. For\n * example, `get('target')` is equivalent to `getTarget()`.\n *\n * The `set` accessors trigger a change event, and you can monitor this by\n * registering a listener. For example, {@link module:ol/View~View} has a\n * `center` property, so `view.on('change:center', function(evt) {...});` would\n * call the function whenever the value of the center property changes. Within\n * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n * would return the new center.\n *\n * You can add your own observable properties with\n * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n * You can listen for changes on that property value with\n * `object.on('change:prop', listener)`. You can get a list of all\n * properties with {@link module:ol/Object~BaseObject#getProperties}.\n *\n * Note that the observable properties are separate from standard JS properties.\n * You can, for example, give your map object a title with\n * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n * first will be a `hasOwnProperty`; the second will appear in\n * `getProperties()`. Only the second is observable.\n *\n * Properties can be deleted by using the unset method. E.g.\n * object.unset('foo').\n *\n * @fires ObjectEvent\n * @api\n */\nclass BaseObject extends Observable {\n  /**\n   * @param {Object<string, *>} [values] An object with key-value pairs.\n   */\n  constructor(values) {\n    super();\n\n    /***\n     * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {ObjectOnSignature<void>}\n     */\n    this.un;\n\n    // Call {@link module:ol/util.getUid} to ensure that the order of objects' ids is\n    // the same as the order in which they were created.  This also helps to\n    // ensure that object properties are always added in the same order, which\n    // helps many JavaScript engines generate faster code.\n    getUid(this);\n\n    /**\n     * @private\n     * @type {Object<string, *>|null}\n     */\n    this.values_ = null;\n\n    if (values !== undefined) {\n      this.setProperties(values);\n    }\n  }\n\n  /**\n   * Gets a value.\n   * @param {string} key Key name.\n   * @return {*} Value.\n   * @api\n   */\n  get(key) {\n    let value;\n    if (this.values_ && this.values_.hasOwnProperty(key)) {\n      value = this.values_[key];\n    }\n    return value;\n  }\n\n  /**\n   * Get a list of object property names.\n   * @return {Array<string>} List of property names.\n   * @api\n   */\n  getKeys() {\n    return (this.values_ && Object.keys(this.values_)) || [];\n  }\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>} Object.\n   * @api\n   */\n  getProperties() {\n    return (this.values_ && Object.assign({}, this.values_)) || {};\n  }\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>?} Object.\n   */\n  getPropertiesInternal() {\n    return this.values_;\n  }\n\n  /**\n   * @return {boolean} The object has properties.\n   */\n  hasProperties() {\n    return !!this.values_;\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {*} oldValue Old value.\n   */\n  notify(key, oldValue) {\n    let eventType;\n    eventType = `change:${key}`;\n    if (this.hasListener(eventType)) {\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    }\n    eventType = ObjectEventType.PROPERTYCHANGE;\n    if (this.hasListener(eventType)) {\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    }\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {import(\"./events.js\").Listener} listener Listener.\n   */\n  addChangeListener(key, listener) {\n    this.addEventListener(`change:${key}`, listener);\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {import(\"./events.js\").Listener} listener Listener.\n   */\n  removeChangeListener(key, listener) {\n    this.removeEventListener(`change:${key}`, listener);\n  }\n\n  /**\n   * Sets a value.\n   * @param {string} key Key name.\n   * @param {*} value Value.\n   * @param {boolean} [silent] Update without triggering an event.\n   * @api\n   */\n  set(key, value, silent) {\n    const values = this.values_ || (this.values_ = {});\n    if (silent) {\n      values[key] = value;\n    } else {\n      const oldValue = values[key];\n      values[key] = value;\n      if (oldValue !== value) {\n        this.notify(key, oldValue);\n      }\n    }\n  }\n\n  /**\n   * Sets a collection of key-value pairs.  Note that this changes any existing\n   * properties and adds new ones (it does not remove any existing properties).\n   * @param {Object<string, *>} values Values.\n   * @param {boolean} [silent] Update without triggering an event.\n   * @api\n   */\n  setProperties(values, silent) {\n    for (const key in values) {\n      this.set(key, values[key], silent);\n    }\n  }\n\n  /**\n   * Apply any properties from another object without triggering events.\n   * @param {BaseObject} source The source object.\n   * @protected\n   */\n  applyProperties(source) {\n    if (!source.values_) {\n      return;\n    }\n    Object.assign(this.values_ || (this.values_ = {}), source.values_);\n  }\n\n  /**\n   * Unsets a property.\n   * @param {string} key Key name.\n   * @param {boolean} [silent] Unset without triggering an event.\n   * @api\n   */\n  unset(key, silent) {\n    if (this.values_ && key in this.values_) {\n      const oldValue = this.values_[key];\n      delete this.values_[key];\n      if (isEmpty(this.values_)) {\n        this.values_ = null;\n      }\n      if (!silent) {\n        this.notify(key, oldValue);\n      }\n    }\n  }\n}\n\nexport default BaseObject;\n","/**\n * @module ol/ObjectEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when a property is changed.\n   * @event module:ol/Object.ObjectEvent#propertychange\n   * @api\n   */\n  PROPERTYCHANGE: 'propertychange',\n};\n\n/**\n * @typedef {'propertychange'} Types\n */\n","/**\n * @module ol/Observable\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport {listen, listenOnce, unlistenByKey} from './events.js';\n\n/***\n * @template {string} Type\n * @template {Event|import(\"./events/Event.js\").default} EventClass\n * @template Return\n * @typedef {(type: Type, listener: (event: EventClass) => ?) => Return} OnSignature\n */\n\n/***\n * @template {string} Type\n * @template Return\n * @typedef {(type: Type[], listener: (event: Event|import(\"./events/Event\").default) => ?) => Return extends void ? void : Return[]} CombinedOnSignature\n */\n\n/**\n * @typedef {'change'|'error'} EventTypes\n */\n\n/***\n * @template Return\n * @typedef {OnSignature<EventTypes, import(\"./events/Event.js\").default, Return> & CombinedOnSignature<EventTypes, Return>} ObservableOnSignature\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * An event target providing convenient methods for listener registration\n * and unregistration. A generic `change` event is always available through\n * {@link module:ol/Observable~Observable#changed}.\n *\n * @fires import(\"./events/Event.js\").default\n * @api\n */\nclass Observable extends EventTarget {\n  constructor() {\n    super();\n\n    this.on =\n      /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (\n        this.onInternal\n      );\n\n    this.once =\n      /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (\n        this.onceInternal\n      );\n\n    this.un = /** @type {ObservableOnSignature<void>} */ (this.unInternal);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.revision_ = 0;\n  }\n\n  /**\n   * Increases the revision counter and dispatches a 'change' event.\n   * @api\n   */\n  changed() {\n    ++this.revision_;\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * Get the version number for this object.  Each time the object is modified,\n   * its version number will be incremented.\n   * @return {number} Revision.\n   * @api\n   */\n  getRevision() {\n    return this.revision_;\n  }\n\n  /**\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n   * @protected\n   */\n  onInternal(type, listener) {\n    if (Array.isArray(type)) {\n      const len = type.length;\n      const keys = new Array(len);\n      for (let i = 0; i < len; ++i) {\n        keys[i] = listen(this, type[i], listener);\n      }\n      return keys;\n    }\n    return listen(this, /** @type {string} */ (type), listener);\n  }\n\n  /**\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n   * @protected\n   */\n  onceInternal(type, listener) {\n    let key;\n    if (Array.isArray(type)) {\n      const len = type.length;\n      key = new Array(len);\n      for (let i = 0; i < len; ++i) {\n        key[i] = listenOnce(this, type[i], listener);\n      }\n    } else {\n      key = listenOnce(this, /** @type {string} */ (type), listener);\n    }\n    /** @type {Object} */ (listener).ol_key = key;\n    return key;\n  }\n\n  /**\n   * Unlisten for a certain type of event.\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @protected\n   */\n  unInternal(type, listener) {\n    const key = /** @type {Object} */ (listener).ol_key;\n    if (key) {\n      unByKey(key);\n    } else if (Array.isArray(type)) {\n      for (let i = 0, ii = type.length; i < ii; ++i) {\n        this.removeEventListener(type[i], listener);\n      }\n    } else {\n      this.removeEventListener(type, listener);\n    }\n  }\n}\n\n/**\n * Listen for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.on;\n\n/**\n * Listen once for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.once;\n\n/**\n * Unlisten for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @api\n */\nObservable.prototype.un;\n\n/**\n * Removes an event listener using the key returned by `on()` or `once()`.\n * @param {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} key The key returned by `on()`\n *     or `once()` (or an array of keys).\n * @api\n */\nexport function unByKey(key) {\n  if (Array.isArray(key)) {\n    for (let i = 0, ii = key.length; i < ii; ++i) {\n      unlistenByKey(key[i]);\n    }\n  } else {\n    unlistenByKey(/** @type {import(\"./events.js\").EventsKey} */ (key));\n  }\n}\n\nexport default Observable;\n","/**\n * @module ol/array\n */\n\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function} [comparator] Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, comparator) {\n  let mid, cmp;\n  comparator = comparator || ascending;\n  let low = 0;\n  let high = haystack.length;\n  let found = false;\n\n  while (low < high) {\n    /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n     * to double (which gives the wrong results). */\n    mid = low + ((high - low) >> 1);\n    cmp = +comparator(haystack[mid], needle);\n\n    if (cmp < 0.0) {\n      /* Too low. */\n      low = mid + 1;\n    } else {\n      /* Key found or too high */\n      high = mid;\n      found = !cmp;\n    }\n  }\n\n  /* Key not found. */\n  return found ? low : ~low;\n}\n\n/**\n * Compare function sorting arrays in ascending order.  Safe to use for numeric values.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function ascending(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n/**\n * Compare function sorting arrays in descending order.  Safe to use for numeric values.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is greater than, equal to, or less than the second.\n */\nexport function descending(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\n/**\n * {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution} can use a function\n * of this type to determine which nearest resolution to use.\n *\n * This function takes a `{number}` representing a value between two array entries,\n * a `{number}` representing the value of the nearest higher entry and\n * a `{number}` representing the value of the nearest lower entry\n * as arguments and returns a `{number}`. If a negative number or zero is returned\n * the lower value will be used, if a positive number is returned the higher value\n * will be used.\n * @typedef {function(number, number, number): number} NearestDirectionFunction\n * @api\n */\n\n/**\n * @param {Array<number>} arr Array in descending order.\n * @param {number} target Target.\n * @param {number|NearestDirectionFunction} direction\n *    0 means return the nearest,\n *    > 0 means return the largest nearest,\n *    < 0 means return the smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n  if (arr[0] <= target) {\n    return 0;\n  }\n\n  const n = arr.length;\n  if (target <= arr[n - 1]) {\n    return n - 1;\n  }\n\n  if (typeof direction === 'function') {\n    for (let i = 1; i < n; ++i) {\n      const candidate = arr[i];\n      if (candidate === target) {\n        return i;\n      }\n      if (candidate < target) {\n        if (direction(target, arr[i - 1], candidate) > 0) {\n          return i - 1;\n        }\n        return i;\n      }\n    }\n    return n - 1;\n  }\n\n  if (direction > 0) {\n    for (let i = 1; i < n; ++i) {\n      if (arr[i] < target) {\n        return i - 1;\n      }\n    }\n    return n - 1;\n  }\n\n  if (direction < 0) {\n    for (let i = 1; i < n; ++i) {\n      if (arr[i] <= target) {\n        return i;\n      }\n    }\n    return n - 1;\n  }\n\n  for (let i = 1; i < n; ++i) {\n    if (arr[i] == target) {\n      return i;\n    }\n    if (arr[i] < target) {\n      if (arr[i - 1] - target < target - arr[i]) {\n        return i - 1;\n      }\n      return i;\n    }\n  }\n  return n - 1;\n}\n\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n  while (begin < end) {\n    const tmp = arr[begin];\n    arr[begin] = arr[end];\n    arr[end] = tmp;\n    ++begin;\n    --end;\n  }\n}\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n  const extension = Array.isArray(data) ? data : [data];\n  const length = extension.length;\n  for (let i = 0; i < length; i++) {\n    arr[arr.length] = extension[i];\n  }\n}\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n  const i = arr.indexOf(obj);\n  const found = i > -1;\n  if (found) {\n    arr.splice(i, 1);\n  }\n  return found;\n}\n\n/**\n * @param {Array<any>|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array<any>|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n  const len1 = arr1.length;\n  if (len1 !== arr2.length) {\n    return false;\n  }\n  for (let i = 0; i < len1; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Sort the passed array such that the relative order of equal elements is preserved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n  const length = arr.length;\n  const tmp = Array(arr.length);\n  let i;\n  for (i = 0; i < length; i++) {\n    tmp[i] = {index: i, value: arr[i]};\n  }\n  tmp.sort(function (a, b) {\n    return compareFnc(a.value, b.value) || a.index - b.index;\n  });\n  for (i = 0; i < arr.length; i++) {\n    arr[i] = tmp[i].value;\n  }\n}\n\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function} [func] Comparison function.\n * @param {boolean} [strict] Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, func, strict) {\n  const compare = func || ascending;\n  return arr.every(function (currentVal, index) {\n    if (index === 0) {\n      return true;\n    }\n    const res = compare(arr[index - 1], currentVal);\n    return !(res > 0 || (strict && res === 0));\n  });\n}\n","/**\n * @module ol/css\n */\n\n/**\n * @typedef {Object} FontParameters\n * @property {string} style Style.\n * @property {string} variant Variant.\n * @property {string} weight Weight.\n * @property {string} size Size.\n * @property {string} lineHeight LineHeight.\n * @property {string} family Family.\n * @property {Array<string>} families Families.\n */\n\n/**\n * The CSS class for hidden feature.\n *\n * @const\n * @type {string}\n */\nexport const CLASS_HIDDEN = 'ol-hidden';\n\n/**\n * The CSS class that we'll give the DOM elements to have them selectable.\n *\n * @const\n * @type {string}\n */\nexport const CLASS_SELECTABLE = 'ol-selectable';\n\n/**\n * The CSS class that we'll give the DOM elements to have them unselectable.\n *\n * @const\n * @type {string}\n */\nexport const CLASS_UNSELECTABLE = 'ol-unselectable';\n\n/**\n * The CSS class for unsupported feature.\n *\n * @const\n * @type {string}\n */\nexport const CLASS_UNSUPPORTED = 'ol-unsupported';\n\n/**\n * The CSS class for controls.\n *\n * @const\n * @type {string}\n */\nexport const CLASS_CONTROL = 'ol-control';\n\n/**\n * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n * to those elements which usually can be expanded.\n *\n * @const\n * @type {string}\n */\nexport const CLASS_COLLAPSED = 'ol-collapsed';\n\n/**\n * From https://stackoverflow.com/questions/10135697/regex-to-parse-any-css-font\n * @type {RegExp}\n */\nconst fontRegEx = new RegExp(\n  [\n    '^\\\\s*(?=(?:(?:[-a-z]+\\\\s*){0,2}(italic|oblique))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(small-caps))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)',\n    '(?:(?:normal|\\\\1|\\\\2|\\\\3)\\\\s*){0,3}((?:xx?-)?',\n    '(?:small|large)|medium|smaller|larger|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx]))',\n    '(?:\\\\s*\\\\/\\\\s*(normal|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx])?))',\n    '?\\\\s*([-,\\\\\"\\\\\\'\\\\sa-z]+?)\\\\s*$',\n  ].join(''),\n  'i',\n);\n/** @type {Array<'style'|'variant'|'weight'|'size'|'lineHeight'|'family'>} */\nconst fontRegExMatchIndex = [\n  'style',\n  'variant',\n  'weight',\n  'size',\n  'lineHeight',\n  'family',\n];\n\n/**\n * Get the list of font families from a font spec.  Note that this doesn't work\n * for font families that have commas in them.\n * @param {string} fontSpec The CSS font property.\n * @return {FontParameters|null} The font parameters (or null if the input spec is invalid).\n */\nexport const getFontParameters = function (fontSpec) {\n  const match = fontSpec.match(fontRegEx);\n  if (!match) {\n    return null;\n  }\n  const style = /** @type {FontParameters} */ ({\n    lineHeight: 'normal',\n    size: '1.2em',\n    style: 'normal',\n    weight: 'normal',\n    variant: 'normal',\n  });\n  for (let i = 0, ii = fontRegExMatchIndex.length; i < ii; ++i) {\n    const value = match[i + 1];\n    if (value !== undefined) {\n      style[fontRegExMatchIndex[i]] = value;\n    }\n  }\n  style.families = style.family.split(/,\\s?/);\n  return style;\n};\n","import {WORKER_OFFSCREEN_CANVAS} from './has.js';\n\n/**\n * @module ol/dom\n */\n\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number} [width] Canvas width.\n * @param {number} [height] Canvas height.\n * @param {Array<HTMLCanvasElement>} [canvasPool] Canvas pool to take existing canvas from.\n * @param {CanvasRenderingContext2DSettings} [settings] CanvasRenderingContext2DSettings\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(width, height, canvasPool, settings) {\n  /** @type {HTMLCanvasElement|OffscreenCanvas} */\n  let canvas;\n  if (canvasPool && canvasPool.length) {\n    canvas = /** @type {HTMLCanvasElement} */ (canvasPool.shift());\n  } else if (WORKER_OFFSCREEN_CANVAS) {\n    canvas = new OffscreenCanvas(width || 300, height || 300);\n  } else {\n    canvas = document.createElement('canvas');\n  }\n  if (width) {\n    canvas.width = width;\n  }\n  if (height) {\n    canvas.height = height;\n  }\n  //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n  return /** @type {CanvasRenderingContext2D} */ (\n    canvas.getContext('2d', settings)\n  );\n}\n\n/** @type {CanvasRenderingContext2D} */\nlet sharedCanvasContext;\n\n/**\n * @return {CanvasRenderingContext2D} Shared canvas context.\n */\nexport function getSharedCanvasContext2D() {\n  if (!sharedCanvasContext) {\n    sharedCanvasContext = createCanvasContext2D(1, 1);\n  }\n  return sharedCanvasContext;\n}\n\n/**\n * Releases canvas memory to avoid exceeding memory limits in Safari.\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\n * @param {CanvasRenderingContext2D} context Context.\n */\nexport function releaseCanvas(context) {\n  const canvas = context.canvas;\n  canvas.width = 1;\n  canvas.height = 1;\n  context.clearRect(0, 0, 1, 1);\n}\n\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n  let width = element.offsetWidth;\n  const style = getComputedStyle(element);\n  width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n  return width;\n}\n\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n  let height = element.offsetHeight;\n  const style = getComputedStyle(element);\n  height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n  return height;\n}\n\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n  const parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n}\n\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n  while (node.lastChild) {\n    node.lastChild.remove();\n  }\n}\n\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n  const oldChildren = node.childNodes;\n\n  for (let i = 0; true; ++i) {\n    const oldChild = oldChildren[i];\n    const newChild = children[i];\n\n    // check if our work is done\n    if (!oldChild && !newChild) {\n      break;\n    }\n\n    // check if children match\n    if (oldChild === newChild) {\n      continue;\n    }\n\n    // check if a new child needs to be added\n    if (!oldChild) {\n      node.appendChild(newChild);\n      continue;\n    }\n\n    // check if an old child needs to be removed\n    if (!newChild) {\n      node.removeChild(oldChild);\n      --i;\n      continue;\n    }\n\n    // reorder\n    node.insertBefore(newChild, oldChild);\n  }\n}\n","/**\n * @module ol/events\n */\nimport {clear} from './obj.js';\n\n/**\n * Key to use with {@link module:ol/Observable.unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener Listener.\n * @property {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @property {string} type Type.\n * @api\n */\n\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent HandleEvent listener function.\n */\n\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events.unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean} [once] If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, thisArg, once) {\n  if (once) {\n    const originalListener = listener;\n    /**\n     * @this {typeof target}\n     */\n    listener = function () {\n      target.removeEventListener(type, listener);\n      originalListener.apply(thisArg ?? this, arguments);\n    };\n  } else if (thisArg && thisArg !== target) {\n    listener = listener.bind(thisArg);\n  }\n  const eventsKey = {\n    target: target,\n    type: type,\n    listener: listener,\n  };\n  target.addEventListener(type, listener);\n  return eventsKey;\n}\n\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events.unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events.listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, thisArg) {\n  return listen(target, type, listener, thisArg, true);\n}\n\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events.listen} or {@link module:ol/events.listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n  if (key && key.target) {\n    key.target.removeEventListener(key.type, key.listener);\n    clear(key);\n  }\n}\n","/**\n * @module ol/events/Event\n */\n\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nclass BaseEvent {\n  /**\n   * @param {string} type Type.\n   */\n  constructor(type) {\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * @type {boolean}\n     */\n    this.defaultPrevented;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  }\n\n  /**\n   * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n   * will be fired.\n   * @api\n   */\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n  evt.stopPropagation();\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n  evt.preventDefault();\n}\n\nexport default BaseEvent;\n","/**\n * @module ol/events/EventType\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  /**\n   * Generic change event. Triggered when the revision counter is increased.\n   * @event module:ol/events/Event~BaseEvent#change\n   * @api\n   */\n  CHANGE: 'change',\n\n  /**\n   * Generic error event. Triggered when an error occurs.\n   * @event module:ol/events/Event~BaseEvent#error\n   * @api\n   */\n  ERROR: 'error',\n\n  BLUR: 'blur',\n  CLEAR: 'clear',\n  CONTEXTMENU: 'contextmenu',\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DROP: 'drop',\n  FOCUS: 'focus',\n  KEYDOWN: 'keydown',\n  KEYPRESS: 'keypress',\n  LOAD: 'load',\n  RESIZE: 'resize',\n  TOUCHMOVE: 'touchmove',\n  WHEEL: 'wheel',\n};\n","/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport Event from './Event.js';\nimport {VOID} from '../functions.js';\nimport {clear} from '../obj.js';\n\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nclass Target extends Disposable {\n  /**\n   * @param {*} [target] Default event target for dispatched events.\n   */\n  constructor(target) {\n    super();\n\n    /**\n     * @private\n     * @type {*}\n     */\n    this.eventTarget_ = target;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.pendingRemovals_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.dispatching_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").Listener>>|null}\n     */\n    this.listeners_ = null;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  addEventListener(type, listener) {\n    if (!type || !listener) {\n      return;\n    }\n    const listeners = this.listeners_ || (this.listeners_ = {});\n    const listenersForType = listeners[type] || (listeners[type] = []);\n    if (!listenersForType.includes(listener)) {\n      listenersForType.push(listener);\n    }\n  }\n\n  /**\n   * Dispatches an event and calls all listeners listening for events\n   * of this type. The event parameter can either be a string or an\n   * Object with a `type` property.\n   *\n   * @param {import(\"./Event.js\").default|string} event Event object.\n   * @return {boolean|undefined} `false` if anyone called preventDefault on the\n   *     event object or if any of the listeners returned false.\n   * @api\n   */\n  dispatchEvent(event) {\n    const isString = typeof event === 'string';\n    const type = isString ? event : event.type;\n    const listeners = this.listeners_ && this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n\n    const evt = isString ? new Event(event) : /** @type {Event} */ (event);\n    if (!evt.target) {\n      evt.target = this.eventTarget_ || this;\n    }\n    const dispatching = this.dispatching_ || (this.dispatching_ = {});\n    const pendingRemovals =\n      this.pendingRemovals_ || (this.pendingRemovals_ = {});\n    if (!(type in dispatching)) {\n      dispatching[type] = 0;\n      pendingRemovals[type] = 0;\n    }\n    ++dispatching[type];\n    let propagate;\n    for (let i = 0, ii = listeners.length; i < ii; ++i) {\n      if ('handleEvent' in listeners[i]) {\n        propagate = /** @type {import(\"../events.js\").ListenerObject} */ (\n          listeners[i]\n        ).handleEvent(evt);\n      } else {\n        propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (\n          listeners[i]\n        ).call(this, evt);\n      }\n      if (propagate === false || evt.propagationStopped) {\n        propagate = false;\n        break;\n      }\n    }\n    if (--dispatching[type] === 0) {\n      let pr = pendingRemovals[type];\n      delete pendingRemovals[type];\n      while (pr--) {\n        this.removeEventListener(type, VOID);\n      }\n      delete dispatching[type];\n    }\n    return propagate;\n  }\n\n  /**\n   * Clean up.\n   * @override\n   */\n  disposeInternal() {\n    this.listeners_ && clear(this.listeners_);\n  }\n\n  /**\n   * Get the listeners for a specified event type. Listeners are returned in the\n   * order that they will be called in.\n   *\n   * @param {string} type Type.\n   * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n   */\n  getListeners(type) {\n    return (this.listeners_ && this.listeners_[type]) || undefined;\n  }\n\n  /**\n   * @param {string} [type] Type. If not provided,\n   *     `true` will be returned if this event target has any listeners.\n   * @return {boolean} Has listeners.\n   */\n  hasListener(type) {\n    if (!this.listeners_) {\n      return false;\n    }\n    return type\n      ? type in this.listeners_\n      : Object.keys(this.listeners_).length > 0;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  removeEventListener(type, listener) {\n    if (!this.listeners_) {\n      return;\n    }\n    const listeners = this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n        // make listener a no-op, and remove later in #dispatchEvent()\n        listeners[index] = VOID;\n        ++this.pendingRemovals_[type];\n      } else {\n        listeners.splice(index, 1);\n        if (listeners.length === 0) {\n          delete this.listeners_[type];\n        }\n      }\n    }\n  }\n}\n\nexport default Target;\n","/**\n * @module ol/functions\n */\n\nimport {equals as arrayEquals} from './array.js';\n\n/**\n * Always returns true.\n * @return {boolean} true.\n */\nexport function TRUE() {\n  return true;\n}\n\n/**\n * Always returns false.\n * @return {boolean} false.\n */\nexport function FALSE() {\n  return false;\n}\n\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() {}\n\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n  /** @type {ReturnType} */\n  let lastResult;\n\n  /** @type {Array<any>|undefined} */\n  let lastArgs;\n\n  let lastThis;\n\n  /**\n   * @this {*} Only need to know if `this` changed, don't care what type\n   * @return {ReturnType} Memoized value\n   */\n  return function () {\n    const nextArgs = Array.prototype.slice.call(arguments);\n    if (!lastArgs || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n      lastThis = this;\n      lastArgs = nextArgs;\n      lastResult = fn.apply(this, arguments);\n    }\n    return lastResult;\n  };\n}\n\n/**\n * @template T\n * @param {function(): (T | Promise<T>)} getter A function that returns a value or a promise for a value.\n * @return {Promise<T>} A promise for the value.\n */\nexport function toPromise(getter) {\n  function promiseGetter() {\n    let value;\n    try {\n      value = getter();\n    } catch (err) {\n      return Promise.reject(err);\n    }\n    if (value instanceof Promise) {\n      return value;\n    }\n    return Promise.resolve(value);\n  }\n  return promiseGetter();\n}\n","/**\n * @module ol/has\n */\n\nconst ua =\n  typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined'\n    ? navigator.userAgent.toLowerCase()\n    : '';\n\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport const FIREFOX = ua.includes('firefox');\n\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport const SAFARI = ua.includes('safari') && !ua.includes('chrom');\n\n/**\n * https://bugs.webkit.org/show_bug.cgi?id=237906\n * @type {boolean}\n */\nexport const SAFARI_BUG_237906 =\n  SAFARI &&\n  (ua.includes('version/15.4') ||\n    /cpu (os|iphone os) 15_4 like mac os x/.test(ua));\n\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport const WEBKIT = ua.includes('webkit') && !ua.includes('edge');\n\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport const MAC = ua.includes('macintosh');\n\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport const DEVICE_PIXEL_RATIO =\n  typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport const WORKER_OFFSCREEN_CANVAS =\n  typeof WorkerGlobalScope !== 'undefined' &&\n  typeof OffscreenCanvas !== 'undefined' &&\n  self instanceof WorkerGlobalScope; //eslint-disable-line\n\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport const IMAGE_DECODE =\n  typeof Image !== 'undefined' && Image.prototype.decode;\n\n/**\n * createImageBitmap() is supported.\n * @type {boolean}\n */\nexport const CREATE_IMAGE_BITMAP = typeof createImageBitmap === 'function';\n\n/**\n * @type {boolean}\n */\nexport const PASSIVE_EVENT_LISTENERS = (function () {\n  let passive = false;\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive = true;\n      },\n    });\n\n    // @ts-ignore Ignore invalid event type '_'\n    window.addEventListener('_', null, options);\n    // @ts-ignore Ignore invalid event type '_'\n    window.removeEventListener('_', null, options);\n  } catch (error) {\n    // passive not supported\n  }\n  return passive;\n})();\n","/**\n * @module ol/obj\n */\n\n/**\n * Removes all properties from an object.\n * @param {Object<string, unknown>} object The object to clear.\n */\nexport function clear(object) {\n  for (const property in object) {\n    delete object[property];\n  }\n}\n\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n  let property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n","/**\n * @module ol/render/canvas\n */\nimport BaseObject from '../Object.js';\nimport {WORKER_OFFSCREEN_CANVAS} from '../has.js';\nimport {clear} from '../obj.js';\nimport {createCanvasContext2D} from '../dom.js';\nimport {getFontParameters} from '../css.js';\n\n/**\n * @typedef {'Circle' | 'Image' | 'LineString' | 'Polygon' | 'Text' | 'Default'} BuilderType\n */\n\n/**\n * @typedef {Object} FillState\n * @property {import(\"../colorlike.js\").ColorLike} fillStyle FillStyle.\n */\n\n/**\n * @typedef Label\n * @property {number} width Width.\n * @property {number} height Height.\n * @property {Array<string|number>} contextInstructions ContextInstructions.\n */\n\n/**\n * @typedef {Object} FillStrokeState\n * @property {import(\"../colorlike.js\").ColorLike} [currentFillStyle] Current FillStyle.\n * @property {import(\"../colorlike.js\").ColorLike} [currentStrokeStyle] Current StrokeStyle.\n * @property {CanvasLineCap} [currentLineCap] Current LineCap.\n * @property {Array<number>} currentLineDash Current LineDash.\n * @property {number} [currentLineDashOffset] Current LineDashOffset.\n * @property {CanvasLineJoin} [currentLineJoin] Current LineJoin.\n * @property {number} [currentLineWidth] Current LineWidth.\n * @property {number} [currentMiterLimit] Current MiterLimit.\n * @property {number} [lastStroke] Last stroke.\n * @property {import(\"../colorlike.js\").ColorLike} [fillStyle] FillStyle.\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle] StrokeStyle.\n * @property {CanvasLineCap} [lineCap] LineCap.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} [lineDashOffset] LineDashOffset.\n * @property {CanvasLineJoin} [lineJoin] LineJoin.\n * @property {number} [lineWidth] LineWidth.\n * @property {number} [miterLimit] MiterLimit.\n * @property {number} [fillPatternScale] Fill pattern scale.\n */\n\n/**\n * @typedef {Object} StrokeState\n * @property {CanvasLineCap} lineCap LineCap.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} lineDashOffset LineDashOffset.\n * @property {CanvasLineJoin} lineJoin LineJoin.\n * @property {number} lineWidth LineWidth.\n * @property {number} miterLimit MiterLimit.\n * @property {import(\"../colorlike.js\").ColorLike} strokeStyle StrokeStyle.\n */\n\n/**\n * @typedef {Object} TextState\n * @property {string} font Font.\n * @property {CanvasTextAlign} [textAlign] TextAlign.\n * @property {number} [repeat] Repeat.\n * @property {import(\"../style/Text.js\").TextJustify} [justify] Justify.\n * @property {CanvasTextBaseline} textBaseline TextBaseline.\n * @property {import(\"../style/Text.js\").TextPlacement} [placement] Placement.\n * @property {number} [maxAngle] MaxAngle.\n * @property {boolean} [overflow] Overflow.\n * @property {import(\"../style/Fill.js\").default} [backgroundFill] BackgroundFill.\n * @property {import(\"../style/Stroke.js\").default} [backgroundStroke] BackgroundStroke.\n * @property {import(\"../size.js\").Size} [scale] Scale.\n * @property {Array<number>} [padding] Padding.\n */\n\n/**\n * @typedef {Object} SerializableInstructions\n * @property {Array<*>} instructions The rendering instructions.\n * @property {Array<*>} hitDetectionInstructions The rendering hit detection instructions.\n * @property {Array<number>} coordinates The array of all coordinates.\n * @property {!Object<string, TextState>} [textStates] The text states (decluttering).\n * @property {!Object<string, FillState>} [fillStates] The fill states (decluttering).\n * @property {!Object<string, StrokeState>} [strokeStates] The stroke states (decluttering).\n */\n\n/**\n * @typedef {Object<number, import(\"./canvas/Executor.js\").ReplayImageOrLabelArgs>} DeclutterImageWithText\n */\n\n/**\n * @const\n * @type {string}\n */\nexport const defaultFont = '10px sans-serif';\n\n/**\n * @const\n * @type {string}\n */\nexport const defaultFillStyle = '#000';\n\n/**\n * @const\n * @type {CanvasLineCap}\n */\nexport const defaultLineCap = 'round';\n\n/**\n * @const\n * @type {Array<number>}\n */\nexport const defaultLineDash = [];\n\n/**\n * @const\n * @type {number}\n */\nexport const defaultLineDashOffset = 0;\n\n/**\n * @const\n * @type {CanvasLineJoin}\n */\nexport const defaultLineJoin = 'round';\n\n/**\n * @const\n * @type {number}\n */\nexport const defaultMiterLimit = 10;\n\n/**\n * @const\n * @type {import(\"../colorlike.js\").ColorLike}\n */\nexport const defaultStrokeStyle = '#000';\n\n/**\n * @const\n * @type {CanvasTextAlign}\n */\nexport const defaultTextAlign = 'center';\n\n/**\n * @const\n * @type {CanvasTextBaseline}\n */\nexport const defaultTextBaseline = 'middle';\n\n/**\n * @const\n * @type {Array<number>}\n */\nexport const defaultPadding = [0, 0, 0, 0];\n\n/**\n * @const\n * @type {number}\n */\nexport const defaultLineWidth = 1;\n\n/**\n * @type {BaseObject}\n */\nexport const checkedFonts = new BaseObject();\n\n/**\n * @type {CanvasRenderingContext2D}\n */\nlet measureContext = null;\n\n/**\n * @type {string}\n */\nlet measureFont;\n\n/**\n * @type {!Object<string, number>}\n */\nexport const textHeights = {};\n\n/**\n * Clears the label cache when a font becomes available.\n * @param {string} fontSpec CSS font spec.\n */\nexport const registerFont = (function () {\n  const retries = 100;\n  const size = '32px ';\n  const referenceFonts = ['monospace', 'serif'];\n  const len = referenceFonts.length;\n  const text = 'wmytzilWMYTZIL@#/&?$%10\\uF013';\n  let interval, referenceWidth;\n\n  /**\n   * @param {string} fontStyle Css font-style\n   * @param {string} fontWeight Css font-weight\n   * @param {*} fontFamily Css font-family\n   * @return {boolean} Font with style and weight is available\n   */\n  function isAvailable(fontStyle, fontWeight, fontFamily) {\n    let available = true;\n    for (let i = 0; i < len; ++i) {\n      const referenceFont = referenceFonts[i];\n      referenceWidth = measureTextWidth(\n        fontStyle + ' ' + fontWeight + ' ' + size + referenceFont,\n        text,\n      );\n      if (fontFamily != referenceFont) {\n        const width = measureTextWidth(\n          fontStyle +\n            ' ' +\n            fontWeight +\n            ' ' +\n            size +\n            fontFamily +\n            ',' +\n            referenceFont,\n          text,\n        );\n        // If width and referenceWidth are the same, then the fallback was used\n        // instead of the font we wanted, so the font is not available.\n        available = available && width != referenceWidth;\n      }\n    }\n    if (available) {\n      return true;\n    }\n    return false;\n  }\n\n  function check() {\n    let done = true;\n    const fonts = checkedFonts.getKeys();\n    for (let i = 0, ii = fonts.length; i < ii; ++i) {\n      const font = fonts[i];\n      if (checkedFonts.get(font) < retries) {\n        const [style, weight, family] = font.split('\\n');\n        if (isAvailable(style, weight, family)) {\n          clear(textHeights);\n          // Make sure that loaded fonts are picked up by Safari\n          measureContext = null;\n          measureFont = undefined;\n          checkedFonts.set(font, retries);\n        } else {\n          checkedFonts.set(font, checkedFonts.get(font) + 1, true);\n          done = false;\n        }\n      }\n    }\n    if (done) {\n      clearInterval(interval);\n      interval = undefined;\n    }\n  }\n\n  return function (fontSpec) {\n    const font = getFontParameters(fontSpec);\n    if (!font) {\n      return;\n    }\n    const families = font.families;\n    for (let i = 0, ii = families.length; i < ii; ++i) {\n      const family = families[i];\n      const key = font.style + '\\n' + font.weight + '\\n' + family;\n      if (checkedFonts.get(key) === undefined) {\n        checkedFonts.set(key, retries, true);\n        if (!isAvailable(font.style, font.weight, family)) {\n          checkedFonts.set(key, 0, true);\n          if (interval === undefined) {\n            interval = setInterval(check, 32);\n          }\n        }\n      }\n    }\n  };\n})();\n\n/**\n * @param {string} font Font to use for measuring.\n * @return {import(\"../size.js\").Size} Measurement.\n */\nexport const measureTextHeight = (function () {\n  /**\n   * @type {HTMLDivElement}\n   */\n  let measureElement;\n  return function (fontSpec) {\n    let height = textHeights[fontSpec];\n    if (height == undefined) {\n      if (WORKER_OFFSCREEN_CANVAS) {\n        const font = getFontParameters(fontSpec);\n        const metrics = measureText(fontSpec, 'Žg');\n        const lineHeight = isNaN(Number(font.lineHeight))\n          ? 1.2\n          : Number(font.lineHeight);\n        height =\n          lineHeight *\n          (metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n      } else {\n        if (!measureElement) {\n          measureElement = document.createElement('div');\n          measureElement.innerHTML = 'M';\n          measureElement.style.minHeight = '0';\n          measureElement.style.maxHeight = 'none';\n          measureElement.style.height = 'auto';\n          measureElement.style.padding = '0';\n          measureElement.style.border = 'none';\n          measureElement.style.position = 'absolute';\n          measureElement.style.display = 'block';\n          measureElement.style.left = '-99999px';\n        }\n        measureElement.style.font = fontSpec;\n        document.body.appendChild(measureElement);\n        height = measureElement.offsetHeight;\n        document.body.removeChild(measureElement);\n      }\n      textHeights[fontSpec] = height;\n    }\n    return height;\n  };\n})();\n\n/**\n * @param {string} font Font.\n * @param {string} text Text.\n * @return {TextMetrics} Text metrics.\n */\nfunction measureText(font, text) {\n  if (!measureContext) {\n    measureContext = createCanvasContext2D(1, 1);\n  }\n  if (font != measureFont) {\n    measureContext.font = font;\n    measureFont = measureContext.font;\n  }\n  return measureContext.measureText(text);\n}\n\n/**\n * @param {string} font Font.\n * @param {string} text Text.\n * @return {number} Width.\n */\nexport function measureTextWidth(font, text) {\n  return measureText(font, text).width;\n}\n\n/**\n * Measure text width using a cache.\n * @param {string} font The font.\n * @param {string} text The text to measure.\n * @param {Object<string, number>} cache A lookup of cached widths by text.\n * @return {number} The text width.\n */\nexport function measureAndCacheTextWidth(font, text, cache) {\n  if (text in cache) {\n    return cache[text];\n  }\n  const width = text\n    .split('\\n')\n    .reduce((prev, curr) => Math.max(prev, measureTextWidth(font, curr)), 0);\n  cache[text] = width;\n  return width;\n}\n\n/**\n * @param {TextState} baseStyle Base style.\n * @param {Array<string>} chunks Text chunks to measure.\n * @return {{width: number, height: number, widths: Array<number>, heights: Array<number>, lineWidths: Array<number>}}} Text metrics.\n */\nexport function getTextDimensions(baseStyle, chunks) {\n  const widths = [];\n  const heights = [];\n  const lineWidths = [];\n  let width = 0;\n  let lineWidth = 0;\n  let height = 0;\n  let lineHeight = 0;\n  for (let i = 0, ii = chunks.length; i <= ii; i += 2) {\n    const text = chunks[i];\n    if (text === '\\n' || i === ii) {\n      width = Math.max(width, lineWidth);\n      lineWidths.push(lineWidth);\n      lineWidth = 0;\n      height += lineHeight;\n      lineHeight = 0;\n      continue;\n    }\n    const font = chunks[i + 1] || baseStyle.font;\n    const currentWidth = measureTextWidth(font, text);\n    widths.push(currentWidth);\n    lineWidth += currentWidth;\n    const currentHeight = measureTextHeight(font);\n    heights.push(currentHeight);\n    lineHeight = Math.max(lineHeight, currentHeight);\n  }\n  return {width, height, widths, heights, lineWidths};\n}\n\n/**\n * @param {CanvasRenderingContext2D} context Context.\n * @param {number} rotation Rotation.\n * @param {number} offsetX X offset.\n * @param {number} offsetY Y offset.\n */\nexport function rotateAtOffset(context, rotation, offsetX, offsetY) {\n  if (rotation !== 0) {\n    context.translate(offsetX, offsetY);\n    context.rotate(rotation);\n    context.translate(-offsetX, -offsetY);\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D|import(\"../render/canvas/ZIndexContext.js\").ZIndexContextProxy} context Context.\n * @param {import(\"../transform.js\").Transform|null} transform Transform.\n * @param {number} opacity Opacity.\n * @param {Label|HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} labelOrImage Label.\n * @param {number} originX Origin X.\n * @param {number} originY Origin Y.\n * @param {number} w Width.\n * @param {number} h Height.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {import(\"../size.js\").Size} scale Scale.\n */\nexport function drawImageOrLabel(\n  context,\n  transform,\n  opacity,\n  labelOrImage,\n  originX,\n  originY,\n  w,\n  h,\n  x,\n  y,\n  scale,\n) {\n  context.save();\n\n  if (opacity !== 1) {\n    if (context.globalAlpha === undefined) {\n      context.globalAlpha = (context) => (context.globalAlpha *= opacity);\n    } else {\n      context.globalAlpha *= opacity;\n    }\n  }\n  if (transform) {\n    context.transform.apply(context, transform);\n  }\n\n  if (/** @type {*} */ (labelOrImage).contextInstructions) {\n    // label\n    context.translate(x, y);\n    context.scale(scale[0], scale[1]);\n    executeLabelInstructions(/** @type {Label} */ (labelOrImage), context);\n  } else if (scale[0] < 0 || scale[1] < 0) {\n    // flipped image\n    context.translate(x, y);\n    context.scale(scale[0], scale[1]);\n    context.drawImage(\n      /** @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} */ (\n        labelOrImage\n      ),\n      originX,\n      originY,\n      w,\n      h,\n      0,\n      0,\n      w,\n      h,\n    );\n  } else {\n    // if image not flipped translate and scale can be avoided\n    context.drawImage(\n      /** @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} */ (\n        labelOrImage\n      ),\n      originX,\n      originY,\n      w,\n      h,\n      x,\n      y,\n      w * scale[0],\n      h * scale[1],\n    );\n  }\n\n  context.restore();\n}\n\n/**\n * @param {Label} label Label.\n * @param {CanvasRenderingContext2D} context Context.\n */\nfunction executeLabelInstructions(label, context) {\n  const contextInstructions = label.contextInstructions;\n  for (let i = 0, ii = contextInstructions.length; i < ii; i += 2) {\n    if (Array.isArray(contextInstructions[i + 1])) {\n      context[contextInstructions[i]].apply(\n        context,\n        contextInstructions[i + 1],\n      );\n    } else {\n      context[contextInstructions[i]] = contextInstructions[i + 1];\n    }\n  }\n}\n","/**\n * @module ol/util\n */\n\n/**\n * @return {never} Any return.\n */\nexport function abstract() {\n  throw new Error('Unimplemented abstract method.');\n}\n\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nlet uidCounter_ = 0;\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n  return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport const VERSION = '10.3.1';\n"],"names":["Disposable","ObjectEvent","type","key","oldValue","BaseObject","values","undefined","value","Object","eventType","listener","silent","source","Observable","Array","len","keys","i","unByKey","ii","binarySearch","haystack","needle","comparator","mid","cmp","ascending","low","high","found","a","b","descending","linearFindNearest","arr","target","direction","n","candidate","reverseSubArray","begin","end","tmp","extend","data","extension","length","equals","arr1","arr2","len1","isSorted","func","strict","compare","currentVal","index","res","CLASS_HIDDEN","CLASS_SELECTABLE","CLASS_UNSELECTABLE","CLASS_UNSUPPORTED","CLASS_CONTROL","CLASS_COLLAPSED","fontRegEx","RegExp","fontRegExMatchIndex","getFontParameters","fontSpec","match","style","sharedCanvasContext","createCanvasContext2D","width","height","canvasPool","settings","canvas","OffscreenCanvas","document","getSharedCanvasContext2D","releaseCanvas","context","outerWidth","element","getComputedStyle","parseInt","outerHeight","replaceNode","newNode","oldNode","parent","removeChildren","node","replaceChildren","children","oldChildren","oldChild","newChild","listen","thisArg","once","originalListener","arguments","eventsKey","listenOnce","unlistenByKey","stopPropagation","evt","preventDefault","BaseEvent","Target","listeners","listenersForType","event","propagate","isString","dispatching","pendingRemovals","pr","TRUE","FALSE","VOID","memoizeOne","fn","lastResult","lastArgs","lastThis","nextArgs","toPromise","getter","promiseGetter","err","Promise","ua","navigator","FIREFOX","SAFARI","SAFARI_BUG_237906","WEBKIT","MAC","DEVICE_PIXEL_RATIO","devicePixelRatio","WORKER_OFFSCREEN_CANVAS","WorkerGlobalScope","self","IMAGE_DECODE","Image","CREATE_IMAGE_BITMAP","createImageBitmap","PASSIVE_EVENT_LISTENERS","passive","options","window","error","clear","object","property","isEmpty","measureFont","measureElement","defaultFont","defaultFillStyle","defaultLineCap","defaultLineDash","defaultLineDashOffset","defaultLineJoin","defaultMiterLimit","defaultStrokeStyle","defaultTextAlign","defaultTextBaseline","defaultPadding","defaultLineWidth","checkedFonts","measureContext","textHeights","registerFont","interval","referenceWidth","size","referenceFonts","text","isAvailable","fontStyle","fontWeight","fontFamily","available","referenceFont","measureTextWidth","check","done","fonts","font","weight","family","clearInterval","families","setInterval","measureTextHeight","metrics","measureText","lineHeight","isNaN","Number","measureAndCacheTextWidth","cache","prev","curr","Math","getTextDimensions","baseStyle","chunks","widths","heights","lineWidths","lineWidth","currentWidth","currentHeight","rotateAtOffset","rotation","offsetX","offsetY","drawImageOrLabel","transform","opacity","labelOrImage","originX","originY","w","h","x","y","scale","executeLabelInstructions","label","contextInstructions","abstract","Error","uidCounter_","getUid","obj","String","VERSION"],"mappings":"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"}