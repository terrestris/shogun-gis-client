"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["4486"],{56843:function(e,t,r){var s=r(85215),n=r(17229),i=r(94966),a=r(94092),o=r(38875);class h extends s.default{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[o.A.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,n.v)("number"==typeof t[o.A.OPACITY],"Layer opacity must be a number"),t[o.A.VISIBLE]=void 0===e.visible||e.visible,t[o.A.Z_INDEX]=e.zIndex,t[o.A.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,t[o.A.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,t[o.A.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,t[o.A.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return t.opacity=(0,i.qE)(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==r||t.managed?r:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return(0,a.abstract)()}getLayerStatesArray(e){return(0,a.abstract)()}getExtent(){return this.get(o.A.EXTENT)}getMaxResolution(){return this.get(o.A.MAX_RESOLUTION)}getMinResolution(){return this.get(o.A.MIN_RESOLUTION)}getMinZoom(){return this.get(o.A.MIN_ZOOM)}getMaxZoom(){return this.get(o.A.MAX_ZOOM)}getOpacity(){return this.get(o.A.OPACITY)}getSourceState(){return(0,a.abstract)()}getVisible(){return this.get(o.A.VISIBLE)}getZIndex(){return this.get(o.A.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(o.A.EXTENT,e)}setMaxResolution(e){this.set(o.A.MAX_RESOLUTION,e)}setMinResolution(e){this.set(o.A.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(o.A.MAX_ZOOM,e)}setMinZoom(e){this.set(o.A.MIN_ZOOM,e)}setOpacity(e){(0,n.v)("number"==typeof e,"Layer opacity must be a number"),this.set(o.A.OPACITY,e)}setVisible(e){this.set(o.A.VISIBLE,e)}setZIndex(e){this.set(o.A.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}t.A=h},48341:function(e,t,r){r.r(t),r.d(t,{inView:function(){return c}});var s=r(36297),n=r(17229),i=r(55506),a=r(17353),o=r(85752),h=r(31431),u=r(56843),l=r(38875);class d extends u.A{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(l.A.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(l.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,a.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=(0,a.KT)(e,i.default.CHANGE,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let t,r,n=this.getMapInternal();if(!e&&n&&(e=n.getView()),!(t=e instanceof s.default?{viewState:e.getState(),extent:e.calculateExtent()}:e).layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray()),t.layerStatesArray){if(!(r=t.layerStatesArray.find(e=>e.layer===this)))return!1}else r=this.getLayerState();let i=this.getExtent();return c(r,t.viewState)&&(!i||(0,o.intersects)(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let r=t(e instanceof s.default?e.getViewStateAndExtent():e);return Array.isArray(r)||(r=[r]),r}render(e,t){let r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(l.A.MAP,e)}getMapInternal(){return this.get(l.A.MAP)}setMap(e){this.mapPrecomposeKey_&&((0,a.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&((0,a.JH)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=(0,a.KT)(e,h.A.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=(0,a.KT)(this,i.default.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){let t=e.frameState.layerStatesArray,r=this.getLayerState(!1);(0,n.v)(!t.some(e=>e.layer===r.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(r)}setSource(e){this.set(l.A.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function c(e,t){if(!e.visible)return!1;let r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;let s=t.zoom;return s>e.minZoom&&s<=e.maxZoom}t.default=d},38875:function(e,t){t.A={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},31431:function(e,t){t.A={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}}}]);
//# sourceMappingURL=4486.7eb0e0e7af2f0ccc.js.map