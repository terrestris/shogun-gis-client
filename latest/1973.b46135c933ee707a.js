"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["1973"],{23954:function(e,t){t.A={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},85215:function(e,t,s){s.r(t),s.d(t,{ObjectEvent:function(){return h}});var i=s(8959),n=s(52073),r=s(43354),l=s(53495),a=s(94092);class h extends r.default{constructor(e,t,s){super(e),this.key=t,this.oldValue=s}}class o extends n.default{constructor(e){super(),this.on,this.once,this.un,(0,a.getUid)(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let s;s=`change:${e}`,this.hasListener(s)&&this.dispatchEvent(new h(s,e,t)),s=i.A.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new h(s,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,s){let i=this.values_||(this.values_={});if(s)i[e]=t;else{let s=i[e];i[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(let s in e)this.set(s,e[s],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let s=this.values_[e];delete this.values_[e],(0,l.p)(this.values_)&&(this.values_=null),t||this.notify(e,s)}}}t.default=o},8959:function(e,t){t.A={PROPERTYCHANGE:"propertychange"}},52073:function(e,t,s){s.r(t),s.d(t,{unByKey:function(){return a}});var i=s(55506),n=s(78081),r=s(17353);class l extends n.A{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(i.default.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let s=e.length,i=Array(s);for(let n=0;n<s;++n)i[n]=(0,r.KT)(this,e[n],t);return i}return(0,r.KT)(this,e,t)}onceInternal(e,t){let s;if(Array.isArray(e)){let i=e.length;s=Array(i);for(let n=0;n<i;++n)s[n]=(0,r.Jz)(this,e[n],t)}else s=(0,r.Jz)(this,e,t);return t.ol_key=s,s}unInternal(e,t){let s=t.ol_key;if(s)a(s);else if(Array.isArray(e))for(let s=0,i=e.length;s<i;++s)this.removeEventListener(e[s],t);else this.removeEventListener(e,t)}}function a(e){if(Array.isArray(e))for(let t=0,s=e.length;t<s;++t)(0,r.JH)(e[t]);else(0,r.JH)(e)}l.prototype.on,l.prototype.once,l.prototype.un,t.default=l},43325:function(e,t,s){var i=s(23954),n=s(85215),r=s(17353),l=s(29991);class a extends n.default{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let e=0,t=this.listenerKeys.length;e<t;++e)(0,r.JH)(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e,e){let t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==l.VOID&&this.listenerKeys.push((0,r.KT)(e,i.A.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}}t.A=a},88116:function(e,t,s){s.r(t);var i=s(32001),n=s(21128),r=s(43325);let l="units",a=[1,2,5],h=25.4/.28;class o extends r.A{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const s=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=s+"-inner",this.element.className=s+" "+i.XI,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(l,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(l)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(l,e)}setDpi(e){this.dpi_=e}updateElement_(){let e,t,s,i,r,l=this.viewState_;if(!l){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let o=l.center,u=l.projection,d=this.getUnits(),c=(0,n.getPointResolution)(u,l.resolution,o,"degrees"==d?"degrees":"m"),p=this.minWidth_*(this.dpi_||h)/h,m=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||h)/h:void 0,v=p*c,_="";if("degrees"==d){let e=n.METERS_PER_UNIT.degrees;(v*=e)<e/60?(_="″",c*=3600):v<e?(_="′",c*=60):_="\xb0"}else if("imperial"==d)v<.9144?(_="in",c/=.0254):v<1609.344?(_="ft",c/=.3048):(_="mi",c/=1609.344);else if("nautical"==d)c/=1852,_="NM";else if("metric"==d)v<1e-6?(_="nm",c*=1e9):v<.001?(_="μm",c*=1e6):v<1?(_="mm",c*=1e3):v<1e3?_="m":(_="km",c/=1e3);else if("us"==d)v<.9144?(_="in",c*=39.37):v<1609.344?(_="ft",c/=.30480061):(_="mi",c/=1609.3472);else throw Error("Invalid units");let f=3*Math.floor(Math.log(p*c)/Math.log(10)),g=0;for(;;){let n=Math.pow(10,s=Math.floor(f/3));if(isNaN(t=Math.round((e=a[(f%3+3)%3]*n)/c))){this.element.style.display="none",this.renderedVisible_=!1;return}if(void 0!==m&&t>=m){e=g,t=i,s=r;break}if(t>=p)break;g=e,i=t,r=s,++f}let y=this.scaleBar_?this.createScaleBar(t,e,_):e.toFixed(s<0?-s:0)+" "+_;this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=t&&(this.innerElement_.style.width=t+"px",this.renderedWidth_=t),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,s){let i=this.getScaleForResolution(),n=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),r=this.scaleBarSteps_,l=e/r,a=[this.createMarker("absolute")];for(let i=0;i<r;++i){let n=i%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${l}px;"></div>`+this.createMarker("relative")+(i%2==0||2===r?this.createStepText(i,e,!1,t,s):"")+"</div>")}return a.push(this.createStepText(r,e,!0,t,s)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+n+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,s,i,n){let r=0===e?0:Math.round(i/this.scaleBarSteps_*e*100)/100,l=0===e?-3:-(t/this.scaleBarSteps_*1),a=0===e?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${0===e?"left":"center"};min-width: ${a}px;left: ${s?t+"px":"unset"};">`+r+(0===e?"":" "+n)+"</div>"}getScaleForResolution(){return 1e3/25.4*(0,n.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(this.dpi_||h)}render(e){let t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}t.default=o},32001:function(e,t,s){s.d(t,{$N:function(){return a},K5:function(){return c},NM:function(){return d},Q5:function(){return n},Si:function(){return i},Vv:function(){return l},XI:function(){return r},nT:function(){return h}});let i="ol-hidden",n="ol-selectable",r="ol-unselectable",l="ol-unsupported",a="ol-control",h="ol-collapsed",o=RegExp("^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z0-9]+?)\\s*$","i"),u=["style","variant","weight","size","lineHeight","family"],d={normal:400,bold:700},c=function(e){let t=e.match(o);if(!t)return null;let s={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let e=0,i=u.length;e<i;++e){let i=t[e+1];void 0!==i&&(s[u[e]]="string"==typeof i?i.trim():i)}return isNaN(Number(s.weight))&&s.weight in d&&(s.weight=d[s.weight]),s.families=s.family.split(/,\s?/).map(e=>e.trim().replace(/^['"]|['"]$/g,"")),s}},17353:function(e,t,s){s.d(t,{JH:function(){return l},Jz:function(){return r},KT:function(){return n}});var i=s(53495);function n(e,t,s,i,n){if(n){let n=s;s=function(r){return e.removeEventListener(t,s),n.call(i??this,r)}}else i&&i!==e&&(s=s.bind(i));let r={target:e,type:t,listener:s};return e.addEventListener(t,s),r}function r(e,t,s,i){return n(e,t,s,i,!0)}function l(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,i.I)(e))}}}]);
//# sourceMappingURL=1973.b46135c933ee707a.js.map