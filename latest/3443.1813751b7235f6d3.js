"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["3443"],{1286:function(e,t,i){i.r(t),i.d(t,{default:function(){return X}});var n=i(39660),a=i(98930),l=i(57705),r=i(9948),o=i.n(r),s=i(94184),c=i.n(s),m=i(38780),d=i(74443),g=i(53124),u=i(88258),$=i(98675),p=i(92820),f=i(25378),h=i(1445),v=i(91885);let y=o().createContext({});y.Consumer;var S=i(96159),x=i(21584),b=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};let E=o().forwardRef((e,t)=>{let i;let{prefixCls:n,children:a,actions:l,extra:s,styles:m,className:d,classNames:u,colStyle:$}=e,p=b(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:f,itemLayout:h}=(0,r.useContext)(y),{getPrefixCls:v,list:E}=(0,r.useContext)(g.E_),k=e=>{var t,i;return c()(null===(i=null===(t=null==E?void 0:E.item)||void 0===t?void 0:t.classNames)||void 0===i?void 0:i[e],null==u?void 0:u[e])},C=e=>{var t,i;return Object.assign(Object.assign({},null===(i=null===(t=null==E?void 0:E.item)||void 0===t?void 0:t.styles)||void 0===i?void 0:i[e]),null==m?void 0:m[e])},O=v("list",n),N=l&&l.length>0&&o().createElement("ul",{className:c()(`${O}-item-action`,k("actions")),key:"actions",style:C("actions")},l.map((e,t)=>o().createElement("li",{key:`${O}-item-action-${t}`},e,t!==l.length-1&&o().createElement("em",{className:`${O}-item-action-split`})))),z=o().createElement(f?"div":"li",Object.assign({},p,f?{}:{ref:t},{className:c()(`${O}-item`,{[`${O}-item-no-flex`]:!("vertical"===h?!!s:(i=!1,r.Children.forEach(a,e=>{"string"==typeof e&&(i=!0)}),!(i&&r.Children.count(a)>1)))},d)}),"vertical"===h&&s?[o().createElement("div",{className:`${O}-item-main`,key:"content"},a,N),o().createElement("div",{className:c()(`${O}-item-extra`,k("extra")),key:"extra",style:C("extra")},s)]:[a,N,(0,S.Tm)(s,{key:"extra"})]);return f?o().createElement(x.Z,{ref:t,flex:1,style:$},z):z});E.Meta=e=>{var{prefixCls:t,className:i,avatar:n,title:a,description:l}=e,s=b(e,["prefixCls","className","avatar","title","description"]);let{getPrefixCls:m}=(0,r.useContext)(g.E_),d=m("list",t),u=c()(`${d}-item-meta`,i),$=o().createElement("div",{className:`${d}-item-meta-content`},a&&o().createElement("h4",{className:`${d}-item-meta-title`},a),l&&o().createElement("div",{className:`${d}-item-meta-description`},l));return o().createElement("div",Object.assign({},s,{className:u}),n&&o().createElement("div",{className:`${d}-item-meta-avatar`},n),(a||l)&&$)};var k=i(35712),C=i(14747),O=i(83559),N=i(40326);let z=e=>{let{listBorderedCls:t,componentCls:i,paddingLG:n,margin:a,itemPaddingSM:l,itemPaddingLG:r,marginLG:o,borderRadiusLG:s}=e;return{[t]:{border:`${(0,k.unit)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:n},[`${i}-pagination`]:{margin:`${(0,k.unit)(a)} ${(0,k.unit)(o)}`}},[`${t}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:l}},[`${t}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:r}}}},w=e=>{let{componentCls:t,screenSM:i,screenMD:n,marginLG:a,marginSM:l,margin:r}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${i}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,k.unit)(r)}`}}}}}},j=e=>{let{componentCls:t,antCls:i,controlHeight:n,minHeight:a,paddingSM:l,marginLG:r,padding:o,itemPadding:s,colorPrimary:c,itemPaddingSM:m,itemPaddingLG:d,paddingXS:g,margin:u,colorText:$,colorTextDescription:p,motionDurationSlow:f,lineWidth:h,headerBg:v,footerBg:y,emptyTextPadding:S,metaMarginBottom:x,avatarMarginRight:b,titleMarginBottom:E,descriptionFontSize:O}=e;return{[t]:Object.assign(Object.assign({},(0,C.Wf)(e)),{position:"relative","*":{outline:"none"},[`${t}-header`]:{background:v},[`${t}-footer`]:{background:y},[`${t}-header, ${t}-footer`]:{paddingBlock:l},[`${t}-pagination`]:{marginBlockStart:r,[`${i}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:$,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:b},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:$},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,k.unit)(e.marginXXS)} 0`,color:$,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:$,transition:`all ${f}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:p,fontSize:O,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,k.unit)(g)}`,color:p,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:h,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,k.unit)(o)} 0`,color:p,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:S,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${i}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:u,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:r},[`${t}-item-meta`]:{marginBlockEnd:x,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:E,color:$,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:o,marginInlineStart:"auto","> li":{padding:`0 ${(0,k.unit)(o)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,k.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,k.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,k.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${i}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,k.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:m},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}};var I=(0,O.I$)("List",e=>{let t=(0,N.mergeToken)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[j(t),z(t),w(t)]},e=>({contentWidth:220,itemPadding:`${(0,k.unit)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,k.unit)(e.paddingContentVerticalSM)} ${(0,k.unit)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,k.unit)(e.paddingContentVerticalLG)} ${(0,k.unit)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize})),B=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};let L=r.forwardRef(function(e,t){var{pagination:i=!1,prefixCls:n,bordered:a=!1,split:o=!0,className:s,rootClassName:S,style:x,children:b,itemLayout:E,loadMore:k,grid:C,dataSource:O=[],size:N,header:z,footer:w,loading:j=!1,rowKey:L,renderItem:H,locale:M}=e,W=B(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);let Z=i&&"object"==typeof i?i:{},[P,_]=r.useState(Z.defaultCurrent||1),[T,G]=r.useState(Z.defaultPageSize||10),{getPrefixCls:A,direction:X,className:F,style:R}=(0,g.dj)("list"),{renderEmpty:V}=r.useContext(g.E_),J=e=>(t,n)=>{var a;_(t),G(n),i&&(null===(a=null==i?void 0:i[e])||void 0===a||a.call(i,t,n))},K=J("onChange"),q=J("onShowSizeChange"),D=(e,t)=>{let i;return H?((i="function"==typeof L?L(e):L?e[L]:e.key)||(i=`list-item-${t}`),r.createElement(r.Fragment,{key:i},H(e,t))):null},Y=A("list",n),[Q,U,ee]=I(Y),et=j;"boolean"==typeof et&&(et={spinning:et});let ei=!!(null==et?void 0:et.spinning),en=(0,$.Z)(N),ea="";switch(en){case"large":ea="lg";break;case"small":ea="sm"}let el=c()(Y,{[`${Y}-vertical`]:"vertical"===E,[`${Y}-${ea}`]:ea,[`${Y}-split`]:o,[`${Y}-bordered`]:a,[`${Y}-loading`]:ei,[`${Y}-grid`]:!!C,[`${Y}-something-after-last-item`]:!!(k||i||w),[`${Y}-rtl`]:"rtl"===X},F,s,S,U,ee),er=(0,m.Z)({current:1,total:0},{total:O.length,current:P,pageSize:T},i||{}),eo=Math.ceil(er.total/er.pageSize);er.current>eo&&(er.current=eo);let es=i&&r.createElement("div",{className:c()(`${Y}-pagination`)},r.createElement(h.Z,Object.assign({align:"end"},er,{onChange:K,onShowSizeChange:q}))),ec=(0,l.Z)(O);i&&O.length>(er.current-1)*er.pageSize&&(ec=(0,l.Z)(O).splice((er.current-1)*er.pageSize,er.pageSize));let em=Object.keys(C||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),ed=(0,f.Z)(em),eg=r.useMemo(()=>{for(let e=0;e<d.c4.length;e+=1){let t=d.c4[e];if(ed[t])return t}},[ed]),eu=r.useMemo(()=>{if(!C)return;let e=eg&&C[eg]?C[eg]:C.column;if(e)return{width:`${100/e}%`,maxWidth:`${100/e}%`}},[JSON.stringify(C),eg]),e$=ei&&r.createElement("div",{style:{minHeight:53}});if(ec.length>0){let e=ec.map((e,t)=>D(e,t));e$=C?r.createElement(p.Z,{gutter:C.gutter},r.Children.map(e,e=>r.createElement("div",{key:null==e?void 0:e.key,style:eu},e))):r.createElement("ul",{className:`${Y}-items`},e)}else b||ei||(e$=r.createElement("div",{className:`${Y}-empty-text`},(null==M?void 0:M.emptyText)||(null==V?void 0:V("List"))||r.createElement(u.Z,{componentName:"List"})));let ep=er.position||"bottom",ef=r.useMemo(()=>({grid:C,itemLayout:E}),[JSON.stringify(C),E]);return Q(r.createElement(y.Provider,{value:ef},r.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},R),x),className:el},W),("top"===ep||"both"===ep)&&es,z&&r.createElement("div",{className:`${Y}-header`},z),r.createElement(v.Z,Object.assign({},et),e$,b),w&&r.createElement("div",{className:`${Y}-footer`},w),k||("bottom"===ep||"both"===ep)&&es)))});L.Item=E;var H=i(39111),M=i(41609),W=i.n(M),Z=i(80982),P=i.n(Z),_=i(93349),T=i.n(_);let G=a.Z.Panel,A=L.Item;var X=e=>{let[t,i]=(0,r.useState)(null),l=(0,n.Z)(),{searchResults:s,numTotal:c,searchTerms:m,actionsCreator:d=()=>void 0,listPrefixRenderer:g=()=>void 0,layerStyle:u,onClick:$=e=>l?.getView().fit(e.feature.getGeometry(),{size:l.getSize()}),...p}=e;(0,r.useEffect)(()=>{if(!l)return;let e=new(P())({source:new(T())});u&&e.setStyle(u),i(e),l.addLayer(e)},[u,l]),(0,r.useEffect)(()=>()=>{l&&l.removeLayer(t)},[t,l]);let f=e=>(m.forEach(t=>{let i=t.toLowerCase();if(""===i)return;let n=e.toLowerCase().indexOf(i);for(;n>=0;){let t=e.substring(0,n),a=e.substring(n,n+i.length),l=e.substring(n+i.length,e.length);n=(e=`${t}<b>${a}</b>${l}`).toLowerCase().indexOf(i,n+8)}}),e),h=e=>()=>{t?.getSource()?.clear(),t?.getSource()?.addFeature(e)},v=(e,t)=>`${e.title}-${t}`;return 0===c?null:o().createElement("div",{className:"search-result-div"},o().createElement(a.Z,{defaultActiveKey:s[0]?v(s[0],0):void 0,...p},s.map((e,i)=>{let{features:n,title:a,icon:r}=e;if(!l)return o().createElement(o().Fragment,null);if(!n||W()(n))return;let s=o().createElement("div",{className:"search-result-panel-header"},o().createElement("span",null,`${a} (${n.length})`),r&&o().createElement(H.Z,{className:"search-option-avatar",src:r})),c=v(e,i);return o().createElement(G,{header:s,key:c},o().createElement(L,{size:"small",dataSource:n.map((e,t)=>({text:f(e.get("title")),idx:t,feature:e})),renderItem:e=>o().createElement(A,{className:"result-list-item",key:e.idx,onMouseOver:h(e.feature),onMouseOut:()=>t?.getSource()?.clear(),onClick:()=>$(e),actions:d(e)},o().createElement("div",{className:"result-prefix"},g(e)),o().createElement("div",{className:"result-text",dangerouslySetInnerHTML:{__html:e.text}}))}))})))}}}]);
//# sourceMappingURL=3443.1813751b7235f6d3.js.map