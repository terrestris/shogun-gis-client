"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["8003"],{81:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(9948),a=n(23356),i=n(16333),l=n.n(i),u=n(14292),c=n(39660),o=n(18429),s=n(4667),d=n(97349),g=n(35703),w=n(68660),f=n(32022);let m=`${g.M}drawbutton`;var p=({className:e,digitizeLayer:t,drawInteractionConfig:n,drawStyle:p,drawType:v,maxLabelLineLength:b,modalPromptCancelButtonText:k="Cancel",modalPromptOkButtonText:y="Ok",modalPromptTitle:L="Label",onDrawEnd:_,onDrawStart:h,onModalLabelCancel:C,onModalLabelOk:x,pressed:$,...z})=>{let S=(0,c.Z)(),T=(0,d.J)(t,()=>S?u.w.getDigitizeLayer(S):void 0,[S]),[D,E]=(0,r.useState)(null);(({active:e,digitizeLayer:t,drawInteractionConfig:n,drawStyle:r,drawType:g,onDrawEnd:w,onDrawStart:f})=>{let m=(0,c.Z)(),p=(0,d.J)(t,()=>m?u.w.getDigitizeLayer(m):void 0,[m]),v=(0,o.$)(()=>{let e,t;if(!m||!p)return;"Rectangle"===g?(e=(0,i.createBox)(),t="Circle"):t=g;let c=new(l())({source:p.getSource()||void 0,type:t,geometryFunction:e,style:r??u.w.defaultDigitizeStyleFunction,freehandCondition:a.never,...n??{}});return c.set("name",`react-util-draw-interaction-${g}`),c},[m,p,g,r,n],e);(0,s.N)(v,e=>e.on("drawend",e=>{w?.(e)}),[v,w]),(0,s.N)(v,e=>e.on("drawstart",e=>{f?.(e)}),[v,f])})({onDrawEnd:(0,r.useCallback)(e=>{"Text"===v&&(e.feature.set("isLabel",!0),E(e.feature)),_?.(e)},[v,_]),digitizeLayer:T,drawInteractionConfig:n,drawStyle:p,drawType:"Text"===v?"Point":v,onDrawStart:h,active:!!$});let F=e?`${m} ${e}`:m,N=`${g.M}digitize-button-wrapper`,Z=null;return D&&(Z=r.createElement(w.V,{feature:D,onOk:()=>{x?.(D),E(null)},onCancel:()=>{T?.getSource()?.removeFeature(D),E(null),C?.(),t?.getSource()?.removeFeature(D),E(null)},title:L,okText:y,cancelText:k,maxLabelLineLength:b})),r.createElement("span",{className:N},r.createElement(f.Z,{className:F,pressed:$,...z}),Z)}}}]);
//# sourceMappingURL=8003.f52256af87b23773.js.map