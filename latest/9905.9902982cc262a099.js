"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["9905"],{15108:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(22122),o=n(90484),i=n(28991),u=n(96156),c=n(6420),a=n(56633),l=n(94184),s=n.n(l),f=n(70057),v=n(56790),d=n(8410),h=n(9948),m=n(89759),g=h.forwardRef(function(e,t){var n=e.height,o=e.offsetY,c=e.offsetX,a=e.children,l=e.prefixCls,v=e.onInnerResize,d=e.innerProps,m=e.rtl,g=e.extra,p={},Z={display:"flex",flexDirection:"column"};return void 0!==o&&(p={height:n,position:"relative",overflow:"hidden"},Z=(0,i.Z)((0,i.Z)({},Z),{},(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({transform:"translateY(".concat(o,"px)")},m?"marginRight":"marginLeft",-c),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(f.Z,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",(0,r.Z)({style:Z,className:s()((0,u.Z)({},"".concat(l,"-holder-inner"),l)),ref:t},d),a,g)))});function p(e){var t=e.children,n=e.setRef,r=h.useCallback(function(e){n(e)},[]);return h.cloneElement(t,{ref:r})}g.displayName="Filler";var Z=n(75164),w=("undefined"==typeof navigator?"undefined":(0,o.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),E=function(e,t,n,r){var o=(0,h.useRef)(!1),i=(0,h.useRef)(null),u=(0,h.useRef)({top:e,bottom:t,left:n,right:r});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):(!r||o.current)&&(clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)),!o.current&&r}},M=n(34203),R=n(6610),S=n(5991),b=function(){function e(){(0,R.Z)(this,e),(0,u.Z)(this,"maps",void 0),(0,u.Z)(this,"id",0),(0,u.Z)(this,"diffKeys",new Set),this.maps=Object.create(null)}return(0,S.Z)(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function y(e){var t=parseFloat(e);return isNaN(t)?0:t}var x=14/15;function L(e){return Math.floor(Math.pow(e,.5))}function H(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var z=h.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,a=e.scrollRange,l=e.onStartMove,f=e.onStopMove,v=e.onScroll,d=e.horizontal,m=e.spinSize,g=e.containerSize,p=e.style,w=e.thumbStyle,E=e.showScrollBar,M=h.useState(!1),R=(0,c.Z)(M,2),S=R[0],b=R[1],y=h.useState(null),x=(0,c.Z)(y,2),L=x[0],z=x[1],T=h.useState(null),k=(0,c.Z)(T,2),_=k[0],D=k[1],C=!r,N=h.useRef(),Y=h.useRef(),X=h.useState(E),B=(0,c.Z)(X,2),P=B[0],I=B[1],A=h.useRef(),K=function(){!0!==E&&!1!==E&&(clearTimeout(A.current),I(!0),A.current=setTimeout(function(){I(!1)},3e3))},O=a-g||0,j=g-m||0,V=h.useMemo(function(){return 0===o||0===O?0:o/O*j},[o,O,j]),W=h.useRef({top:V,dragging:S,pageY:L,startTop:_});W.current={top:V,dragging:S,pageY:L,startTop:_};var F=function(e){b(!0),z(H(e,d)),D(W.current.top),l(),e.stopPropagation(),e.preventDefault()};h.useEffect(function(){var e=function(e){e.preventDefault()},t=N.current,n=Y.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",F,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",F)}},[]);var q=h.useRef();q.current=O;var G=h.useRef();G.current=j,h.useEffect(function(){if(S){var e,t=function(t){var n=W.current,r=n.dragging,o=n.pageY,i=n.startTop;Z.Z.cancel(e);var u=N.current.getBoundingClientRect(),c=g/(d?u.width:u.height);if(r){var a=(H(t,d)-o)*c,l=i;!C&&d?l-=a:l+=a;var s=q.current,f=G.current,h=Math.ceil((f?l/f:0)*s);h=Math.min(h=Math.max(h,0),s),e=(0,Z.Z)(function(){v(h,d)})}},n=function(){b(!1),f()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Z.Z.cancel(e)}}},[S]),h.useEffect(function(){return K(),function(){clearTimeout(A.current)}},[o]),h.useImperativeHandle(t,function(){return{delayHidden:K}});var J="".concat(n,"-scrollbar"),Q={position:"absolute",visibility:P?null:"hidden"},U={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return d?(Q.height=8,Q.left=0,Q.right=0,Q.bottom=0,U.height="100%",U.width=m,C?U.left=V:U.right=V):(Q.width=8,Q.top=0,Q.bottom=0,C?Q.right=0:Q.left=0,U.width="100%",U.height=m,U.top=V),h.createElement("div",{ref:N,className:s()(J,(0,u.Z)((0,u.Z)((0,u.Z)({},"".concat(J,"-horizontal"),d),"".concat(J,"-vertical"),!d),"".concat(J,"-visible"),P)),style:(0,i.Z)((0,i.Z)({},Q),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:K},h.createElement("div",{ref:Y,className:s()("".concat(J,"-thumb"),(0,u.Z)({},"".concat(J,"-thumb-moving"),S)),style:(0,i.Z)((0,i.Z)({},U),w),onMouseDown:F}))});function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),Math.floor(n=Math.max(n,20))}var k=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],_=[],D={overflowY:"auto",overflowAnchor:"none"},C=h.forwardRef(function(e,t){var n,l,R,S,C,N,Y,X,B,P,I,A,K,O,j,V,W,F,q,G,J,Q,U,$,ee,et,en,er,eo,ei,eu,ec,ea,el,es,ef,ev,ed=e.prefixCls,eh=void 0===ed?"rc-virtual-list":ed,em=e.className,eg=e.height,ep=e.itemHeight,eZ=e.fullHeight,ew=e.style,eE=e.data,eM=e.children,eR=e.itemKey,eS=e.virtual,eb=e.direction,ey=e.scrollWidth,ex=e.component,eL=e.onScroll,eH=e.onVirtualScroll,ez=e.onVisibleChange,eT=e.innerProps,ek=e.extraRender,e_=e.styles,eD=e.showScrollBar,eC=void 0===eD?"optional":eD,eN=(0,a.Z)(e,k),eY=h.useCallback(function(e){return"function"==typeof eR?eR(e):null==e?void 0:e[eR]},[eR]),eX=function(e,t,n){var r=h.useState(0),o=(0,c.Z)(r,2),i=o[0],u=o[1],a=(0,h.useRef)(new Map),l=(0,h.useRef)(new b),s=(0,h.useRef)(0);function f(){s.current+=1}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f();var t=function(){var e=!1;a.current.forEach(function(t,n){if(t&&t.offsetParent){var r=(0,M.ZP)(t),o=r.offsetHeight,i=getComputedStyle(r),u=i.marginTop,c=i.marginBottom,a=o+y(u)+y(c);l.current.get(n)!==a&&(l.current.set(n,a),e=!0)}}),e&&u(function(e){return e+1})};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then(function(){n===s.current&&t()})}}return(0,h.useEffect)(function(){return f},[]),[function(r,o){var i=e(r),u=a.current.get(i);o?(a.current.set(i,o),v()):a.current.delete(i),!u!=!o&&(o?null==t||t(r):null==n||n(r))},v,l.current,i]}(eY,null,null),eB=(0,c.Z)(eX,4),eP=eB[0],eI=eB[1],eA=eB[2],eK=eB[3],eO=!!(!1!==eS&&eg&&ep),ej=h.useMemo(function(){return Object.values(eA.maps).reduce(function(e,t){return e+t},0)},[eA.id,eA.maps]),eV=eO&&eE&&(Math.max(ep*eE.length,ej)>eg||!!ey),eW="rtl"===eb,eF=s()(eh,(0,u.Z)({},"".concat(eh,"-rtl"),eW),em),eq=eE||_,eG=(0,h.useRef)(),eJ=(0,h.useRef)(),eQ=(0,h.useRef)(),eU=(0,h.useState)(0),e$=(0,c.Z)(eU,2),e0=e$[0],e1=e$[1],e2=(0,h.useState)(0),e9=(0,c.Z)(e2,2),e5=e9[0],e4=e9[1],e6=(0,h.useState)(!1),e8=(0,c.Z)(e6,2),e3=e8[0],e7=e8[1],te=function(){e7(!0)},tt=function(){e7(!1)};function tn(e){e1(function(t){var n,r=(n="function"==typeof e?e(t):e,Number.isNaN(tE.current)||(n=Math.min(n,tE.current)),n=Math.max(n,0));return eG.current.scrollTop=r,r})}var tr=(0,h.useRef)({start:0,end:eq.length}),to=(0,h.useRef)(),ti=(n=h.useState(eq),R=(l=(0,c.Z)(n,2))[0],S=l[1],C=h.useState(null),Y=(N=(0,c.Z)(C,2))[0],X=N[1],h.useEffect(function(){var e=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function a(e){return void 0!==e?n(e):c}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=a(r[f]);if(v!==a(o[f])){l=f,s=s||v!==a(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(R||[],eq||[],eY);(null==e?void 0:e.index)!==void 0&&X(eq[e.index]),S(eq)},[eq]),[Y]);to.current=(0,c.Z)(ti,1)[0];var tu=h.useMemo(function(){if(!eO)return{scrollHeight:void 0,start:0,end:eq.length-1,offset:void 0};if(!eV)return{scrollHeight:(null==(e=eJ.current)?void 0:e.offsetHeight)||0,start:0,end:eq.length-1,offset:void 0};for(var e,t,n,r,o=0,i=eq.length,u=0;u<i;u+=1){var c=eY(eq[u]),a=eA.get(c),l=o+(void 0===a?ep:a);l>=e0&&void 0===t&&(t=u,n=o),l>e0+eg&&void 0===r&&(r=u),o=l}return void 0===t&&(t=0,n=0,r=Math.ceil(eg/ep)),void 0===r&&(r=eq.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,eq.length-1),offset:n}},[eV,eO,e0,eq,eK,eg]),tc=tu.scrollHeight,ta=tu.start,tl=tu.end,ts=tu.offset;tr.current.start=ta,tr.current.end=tl,h.useLayoutEffect(function(){var e=eA.getRecord();if(1===e.size){var t=Array.from(e)[0];if(eY(eq[ta])===t){var n=eA.get(t)-ep;tn(function(e){return e+n})}}eA.resetRecord()},[tc]);var tf=h.useState({width:0,height:eg}),tv=(0,c.Z)(tf,2),td=tv[0],th=tv[1],tm=(0,h.useRef)(),tg=(0,h.useRef)(),tp=h.useMemo(function(){return T(td.width,ey)},[td.width,ey]),tZ=h.useMemo(function(){return T(td.height,tc)},[td.height,tc]),tw=tc-eg,tE=(0,h.useRef)(tw);tE.current=tw;var tM=e0<=0,tR=e0>=tw,tS=e5<=0,tb=e5>=ey,ty=E(tM,tR,tS,tb),tx=function(){return{x:eW?-e5:e5,y:e0}},tL=(0,h.useRef)(tx()),tH=(0,v.zX)(function(e){if(eH){var t=(0,i.Z)((0,i.Z)({},tx()),e);(tL.current.x!==t.x||tL.current.y!==t.y)&&(eH(t),tL.current=t)}});function tz(e,t){t?((0,m.flushSync)(function(){e4(e)}),tH()):tn(e)}var tT=function(e){var t=e,n=ey?ey-td.width:0;return Math.min(t=Math.max(t,0),n)},tk=(0,v.zX)(function(e,t){t?((0,m.flushSync)(function(){e4(function(t){return tT(t+(eW?-e:e))})}),tH()):tn(function(t){return t+e})}),t_=(B=!!ey,P=(0,h.useRef)(0),I=(0,h.useRef)(null),A=(0,h.useRef)(null),K=(0,h.useRef)(!1),O=E(tM,tR,tS,tb),j=(0,h.useRef)(null),V=(0,h.useRef)(null),[function(e){if(eO){Z.Z.cancel(V.current),V.current=(0,Z.Z)(function(){j.current=null},2);var t,n,r=e.deltaX,o=e.deltaY,i=e.shiftKey,u=r,c=o;("sx"===j.current||!j.current&&i&&o&&!r)&&(u=o,c=0,j.current="sx");var a=Math.abs(u),l=Math.abs(c);if(null===j.current&&(j.current=B&&a>l?"x":"y"),"y"===j.current){t=e,n=c,Z.Z.cancel(I.current),!O(!1,n)&&(t._virtualHandled||(t._virtualHandled=!0,P.current+=n,A.current=n,w||t.preventDefault(),I.current=(0,Z.Z)(function(){var e=K.current?10:1;tk(P.current*e,!1),P.current=0})))}else tk(u,!0),w||e.preventDefault()}},function(e){eO&&(K.current=e.detail===A.current)}]),tD=(0,c.Z)(t_,2),tC=tD[0],tN=tD[1];W=function(e,t,n,r){return!ty(e,t,n)&&(!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),tC({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)},q=(0,h.useRef)(!1),G=(0,h.useRef)(0),J=(0,h.useRef)(0),Q=(0,h.useRef)(null),U=(0,h.useRef)(null),$=function(e){if(q.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),r=G.current-t,o=J.current-n,i=Math.abs(r)>Math.abs(o);i?G.current=t:J.current=n;var u=W(i,i?r:o,!1,e);u&&e.preventDefault(),clearInterval(U.current),u&&(U.current=setInterval(function(){i?r*=x:o*=x;var e=Math.floor(i?r:o);(!W(i,e,!0)||.1>=Math.abs(e))&&clearInterval(U.current)},16))}},ee=function(){q.current=!1,F()},et=function(e){F(),1!==e.touches.length||q.current||(q.current=!0,G.current=Math.ceil(e.touches[0].pageX),J.current=Math.ceil(e.touches[0].pageY),Q.current=e.target,Q.current.addEventListener("touchmove",$,{passive:!1}),Q.current.addEventListener("touchend",ee,{passive:!0}))},F=function(){Q.current&&(Q.current.removeEventListener("touchmove",$),Q.current.removeEventListener("touchend",ee))},(0,d.Z)(function(){return eO&&eG.current.addEventListener("touchstart",et,{passive:!0}),function(){var e;null==(e=eG.current)||e.removeEventListener("touchstart",et),F(),clearInterval(U.current)}},[eO]),en=function(e){tn(function(t){return t+e})},h.useEffect(function(){var e=eG.current;if(eV&&e){var t,n,r=!1,o=function(){Z.Z.cancel(t)},i=function e(){o(),t=(0,Z.Z)(function(){en(n),e()})},u=function(e){!e.target.draggable&&(e._virtualHandled||(e._virtualHandled=!0,r=!0))},c=function(){r=!1,o()},a=function(t){if(r){var u=H(t,!1),c=e.getBoundingClientRect(),a=c.top,l=c.bottom;u<=a?(n=-L(a-u),i()):u>=l?(n=L(u-l),i()):o()}};return e.addEventListener("mousedown",u),e.ownerDocument.addEventListener("mouseup",c),e.ownerDocument.addEventListener("mousemove",a),function(){e.removeEventListener("mousedown",u),e.ownerDocument.removeEventListener("mouseup",c),e.ownerDocument.removeEventListener("mousemove",a),o()}}},[eV]),(0,d.Z)(function(){function e(e){var t=tM&&e.detail<0,n=tR&&e.detail>0;!eO||t||n||e.preventDefault()}var t=eG.current;return t.addEventListener("wheel",tC,{passive:!1}),t.addEventListener("DOMMouseScroll",tN,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",tC),t.removeEventListener("DOMMouseScroll",tN),t.removeEventListener("MozMousePixelScroll",e)}},[eO,tM,tR]),(0,d.Z)(function(){if(ey){var e=tT(e5);e4(e),tH({x:e})}},[td.width,ey]);var tY=function(){var e,t;null==(e=tm.current)||e.delayHidden(),null==(t=tg.current)||t.delayHidden()},tX=(er=function(){return eI(!0)},eo=h.useRef(),ei=h.useState(null),ec=(eu=(0,c.Z)(ei,2))[0],ea=eu[1],(0,d.Z)(function(){if(ec&&ec.times<10){if(!eG.current)return void ea(function(e){return(0,i.Z)({},e)});er();var e=ec.targetAlign,t=ec.originAlign,n=ec.index,r=ec.offset,o=eG.current.clientHeight,u=!1,c=e,a=null;if(o){for(var l=e||t,s=0,f=0,v=0,d=Math.min(eq.length-1,n),h=0;h<=d;h+=1){var m=eY(eq[h]);f=s;var g=eA.get(m);s=v=f+(void 0===g?ep:g)}for(var p="top"===l?r:o-r,Z=d;Z>=0;Z-=1){var w=eY(eq[Z]),E=eA.get(w);if(void 0===E){u=!0;break}if((p-=E)<=0)break}switch(l){case"top":a=f-r;break;case"bottom":a=v-o+r;break;default:var M=eG.current.scrollTop;f<M?c="top":v>M+o&&(c="bottom")}null!==a&&tn(a),a!==ec.lastTop&&(u=!0)}u&&ea((0,i.Z)((0,i.Z)({},ec),{},{times:ec.times+1,targetAlign:c,lastTop:a}))}},[ec,eG.current]),function(e){if(null==e)return void tY();if(Z.Z.cancel(eo.current),"number"==typeof e)tn(e);else if(e&&"object"===(0,o.Z)(e)){var t,n=e.align;t="index"in e?e.index:eq.findIndex(function(t){return eY(t)===e.key});var r=e.offset;ea({times:0,index:t,offset:void 0===r?0:r,originAlign:n})}});h.useImperativeHandle(t,function(){return{nativeElement:eQ.current,getScrollInfo:tx,scrollTo:function(e){e&&"object"===(0,o.Z)(e)&&("left"in e||"top"in e)?(void 0!==e.left&&e4(tT(e.left)),tX(e.top)):tX(e)}}}),(0,d.Z)(function(){ez&&ez(eq.slice(ta,tl+1),eq)},[ta,tl,eq]);var tB=(el=h.useMemo(function(){return[new Map,[]]},[eq,eA.id,ep]),ef=(es=(0,c.Z)(el,2))[0],ev=es[1],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=ef.get(e),r=ef.get(t);if(void 0===n||void 0===r)for(var o=eq.length,i=ev.length;i<o;i+=1){var u,c=eY(eq[i]);ef.set(c,i);var a=null!=(u=eA.get(c))?u:ep;if(ev[i]=(ev[i-1]||0)+a,c===e&&(n=i),c===t&&(r=i),void 0!==n&&void 0!==r)break}return{top:ev[n-1]||0,bottom:ev[r]}}),tP=null==ek?void 0:ek({start:ta,end:tl,virtual:eV,offsetX:e5,offsetY:ts,rtl:eW,getSize:tB}),tI=eq.slice(ta,tl+1).map(function(e,t){var n=eM(e,ta+t,{style:{width:ey},offsetX:e5}),r=eY(e);return h.createElement(p,{key:r,setRef:function(t){return eP(e,t)}},n)}),tA=null;eg&&(tA=(0,i.Z)((0,u.Z)({},void 0===eZ||eZ?"height":"maxHeight",eg),D),eO&&(tA.overflowY="hidden",ey&&(tA.overflowX="hidden"),e3&&(tA.pointerEvents="none")));var tK={};return eW&&(tK.dir="rtl"),h.createElement("div",(0,r.Z)({ref:eQ,style:(0,i.Z)((0,i.Z)({},ew),{},{position:"relative"}),className:eF},tK,eN),h.createElement(f.Z,{onResize:function(e){th({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(void 0===ex?"div":ex,{className:"".concat(eh,"-holder"),style:tA,ref:eG,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==e0&&tn(t),null==eL||eL(e),tH()},onMouseEnter:tY},h.createElement(g,{prefixCls:eh,height:tc,offsetX:e5,offsetY:ts,scrollWidth:ey,onInnerResize:eI,ref:eJ,innerProps:eT,rtl:eW,extra:tP},tI))),eV&&tc>eg&&h.createElement(z,{ref:tm,prefixCls:eh,scrollOffset:e0,scrollRange:tc,rtl:eW,onScroll:tz,onStartMove:te,onStopMove:tt,spinSize:tZ,containerSize:td.height,style:null==e_?void 0:e_.verticalScrollBar,thumbStyle:null==e_?void 0:e_.verticalScrollBarThumb,showScrollBar:eC}),eV&&ey>td.width&&h.createElement(z,{ref:tg,prefixCls:eh,scrollOffset:e5,scrollRange:ey,rtl:eW,onScroll:tz,onStartMove:te,onStopMove:tt,spinSize:tp,containerSize:td.width,horizontal:!0,style:null==e_?void 0:e_.horizontalScrollBar,thumbStyle:null==e_?void 0:e_.horizontalScrollBarThumb,showScrollBar:eC}))});C.displayName="List";var N=C}}]);
//# sourceMappingURL=9905.9902982cc262a099.js.map