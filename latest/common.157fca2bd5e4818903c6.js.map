{"version":3,"file":"common.157fca2bd5e4818903c6.js","mappings":"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","sources":["webpack://@terrestris/shogun-gis-client/./src/hooks/useAppDispatch.ts","webpack://@terrestris/shogun-gis-client/./src/hooks/useAppSelector.ts","webpack://@terrestris/shogun-gis-client/./src/components/AddLayerModal/index.less?3a66","webpack://@terrestris/shogun-gis-client/./src/components/AddLayerModal/index.tsx","webpack://@terrestris/shogun-gis-client/./src/hooks/useSHOGunAPIClient.ts","webpack://@terrestris/shogun-gis-client/./src/components/BasicMapComponent/index.tsx","webpack://@terrestris/shogun-gis-client/./src/hooks/useQueryParams.ts","webpack://@terrestris/shogun-gis-client/./src/components/Footer/index.less?bf45","webpack://@terrestris/shogun-gis-client/./src/components/Footer/index.tsx","webpack://@terrestris/shogun-gis-client/./src/hooks/usePlugins.ts","webpack://@terrestris/shogun-gis-client/./src/components/BasicNominatimSearch/index.tsx","webpack://@terrestris/shogun-gis-client/./src/utils/getGravatarUrl.ts","webpack://@terrestris/shogun-gis-client/./src/components/ApplicationInfo/index.less?5255","webpack://@terrestris/shogun-gis-client/./src/components/ApplicationInfo/index.tsx","webpack://@terrestris/shogun-gis-client/./src/hooks/useVersion.ts","webpack://@terrestris/shogun-gis-client/./src/components/UserMenu/index.less?f429","webpack://@terrestris/shogun-gis-client/./src/components/UserMenu/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/Header/index.less?b06e","webpack://@terrestris/shogun-gis-client/./src/components/Header/index.tsx","webpack://@terrestris/shogun-gis-client/./src/plugin/index.ts","webpack://@terrestris/shogun-gis-client/./src/components/LanguageSelector/index.less?da3b","webpack://@terrestris/shogun-gis-client/./src/components/LanguageSelector/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/Permalink/index.less?76ea","webpack://@terrestris/shogun-gis-client/./src/components/Permalink/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/Serializer/SHOGunMapFishPrintV3WMSSerializer.ts","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/Serializer/SHOGunMapFishPrintV3TiledWMSSerializer.ts","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/CustomFieldInput/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/LayoutSelect/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/OutputFormatSelect/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/ResolutionSelect/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/index.less?f789","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/index.less?6377","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/StylingDrawer/index.less?723a","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/StylingDrawer/StylingComponent/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/StylingDrawer/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/FeatureInfo/FeaturePropertyGrid/index.less?a4df","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/FeatureInfo/FeaturePropertyGrid/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/FeatureInfo/index.less?7905","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/FeatureInfo/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/WmsTimeSlider/index.less?47fb","webpack://@terrestris/shogun-gis-client/./src/components/WmsTimeSlider/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/LayerTree/LayerTreeContextMenu/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/LayerTree/index.less?c926","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/LayerTree/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Measure/index.less?beca","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Measure/index.tsx","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/index.less?b016","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/Shared/Shared.ts","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/index.tsx","webpack://@terrestris/shogun-gis-client/./src/App.less?984e","webpack://@terrestris/shogun-gis-client/./src/App.tsx","webpack://@terrestris/shogun-gis-client/./src/store/appInfo/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/description/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/logoPath/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/title/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/user/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/store.ts","webpack://@terrestris/shogun-gis-client/./src/index.less?df1e","webpack://@terrestris/shogun-gis-client/./src/bootstrap.tsx","webpack://@terrestris/shogun-gis-client/./src/context/PluginContext.tsx","webpack://@terrestris/shogun-gis-client/./src/context/SHOGunAPIClientContext.tsx","webpack://@terrestris/shogun-gis-client/./src/i18n/index.ts","webpack://@terrestris/shogun-gis-client/./src/i18n/translations.ts","webpack://@terrestris/shogun-gis-client/./src/index.tsx","webpack://@terrestris/shogun-gis-client/./src/store/addLayerModal/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/selectedFeatures/index.ts","webpack://@terrestris/shogun-gis-client/./src/store/toolMenu/index.ts","webpack://@terrestris/shogun-gis-client/./src/App.less?ee38","webpack://@terrestris/shogun-gis-client/./src/components/AddLayerModal/index.less?6017","webpack://@terrestris/shogun-gis-client/./src/components/ApplicationInfo/index.less?f940","webpack://@terrestris/shogun-gis-client/./src/components/Footer/index.less?a2b7","webpack://@terrestris/shogun-gis-client/./src/components/Header/index.less?b02d","webpack://@terrestris/shogun-gis-client/./src/components/LanguageSelector/index.less?bd2b","webpack://@terrestris/shogun-gis-client/./src/components/Permalink/index.less?68c2","webpack://@terrestris/shogun-gis-client/./src/components/PrintForm/index.less?6410","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/StylingDrawer/index.less?d252","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Draw/index.less?6534","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/FeatureInfo/FeaturePropertyGrid/index.less?27cc","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/FeatureInfo/index.less","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/LayerTree/index.less?d8e5","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/Measure/index.less?b29b","webpack://@terrestris/shogun-gis-client/./src/components/ToolMenu/index.less?949c","webpack://@terrestris/shogun-gis-client/./src/components/UserMenu/index.less?a168","webpack://@terrestris/shogun-gis-client/./src/components/WmsTimeSlider/index.less?25f0","webpack://@terrestris/shogun-gis-client/./src/index.less?2fc8"],"sourcesContent":["import {\n  useDispatch\n} from 'react-redux';\n\nimport type {\n  AppDispatch\n} from '../store/store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\n\nexport default useAppDispatch;\n","import {\n  TypedUseSelectorHook,\n  useSelector\n} from 'react-redux';\n\nimport type {\n  RootState\n} from '../store/store';\n\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport default useAppSelector;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useState\n} from 'react';\n\nimport {\n  Button,\n  Input,\n  Modal,\n  ModalProps,\n  notification,\n  Table\n} from 'antd';\n\nimport {\n  getUid\n} from 'ol';\nimport OlLayerGroup from 'ol/layer/Group';\nimport ImageLayer from 'ol/layer/Image';\nimport TileLayer from 'ol/layer/Tile';\nimport ImageWMSSource from 'ol/source/ImageWMS';\nimport TileWMSSource from 'ol/source/TileWMS';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport {\n  CapabilitiesUtil,\n  MapUtil\n} from '@terrestris/ol-util';\n\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport useAppDispatch from '../../hooks/useAppDispatch';\nimport useAppSelector from '../../hooks/useAppSelector';\nimport {\n  hide\n} from '../../store/addLayerModal';\n\nimport './index.less';\n\nexport type AddLayerModalProps = {} & Partial<ModalProps>;\n\nexport const AddLayerModal: React.FC<AddLayerModalProps> = ({\n  ...restProps\n}): JSX.Element => {\n  const [loading, setLoading] = useState(false);\n  const [layers, setLayers] = useState<(ImageLayer<ImageWMSSource> | TileLayer<TileWMSSource>)[]>([]);\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n  const [url, setUrl] = useState(\n    'https://sgx.geodatenzentrum.de/wms_topplus_open?request=GetCapabilities&service=wms'\n  );\n\n  const isModalVisible = useAppSelector(state => state.addLayerModal.visible);\n\n  const dispatch = useAppDispatch();\n\n  const map = useMap();\n\n  const {\n    t\n  } = useTranslation();\n\n  const getCapabilities = async (capabilitiesUrl: string) => {\n    try {\n      setLoading(true);\n\n      const capabilities = await CapabilitiesUtil.getWmsCapabilities(capabilitiesUrl);\n      const externalLayers = CapabilitiesUtil.getLayersFromWmsCapabilities(capabilities, 'Title');\n\n      setLayers(externalLayers);\n    } catch (error) {\n      notification.error({\n        message: t('AddLayerModal.errorMessage'),\n        description: t('AddLayerModal.errorDescription')\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const closeModal = () => {\n    setSelectedRowKeys([]);\n    setLayers([]);\n    dispatch(hide());\n  };\n\n  const onAddSelected = () => {\n    const layersToAdd = layers.filter(layer => selectedRowKeys.includes(getUid(layer)));\n    addLayers(layersToAdd);\n  };\n\n  const onAddAll = () => {\n    addLayers(layers);\n  };\n\n  const addLayers = (layersToAdd: (ImageLayer<ImageWMSSource> | TileLayer<TileWMSSource>)[]) => {\n    if (!map) {\n      return;\n    }\n\n    const targetFolderName = t('AddLayerModal.externalWmsFolder');\n    let targetGroup = MapUtil.getLayerByName(map, targetFolderName) as OlLayerGroup;\n    if (!targetGroup) {\n      targetGroup = new OlLayerGroup();\n      targetGroup.set('name', targetFolderName);\n      const existingGroups = map.getLayerGroup().getLayers();\n      existingGroups.insertAt(existingGroups?.getLength() || 0, targetGroup);\n    }\n\n    layersToAdd.forEach(layerToAdd => {\n      if (!targetGroup.getLayers().getArray().includes(layerToAdd)) {\n        layerToAdd.set('isExternalLayer', true);\n        layerToAdd.set('isImported', true);\n\n        let layerUrl: string | undefined;\n        if (layerToAdd instanceof ImageLayer) {\n          layerUrl = layerToAdd.getSource()?.getUrl();\n        }\n\n        if (layerToAdd instanceof TileLayer) {\n          const urls = layerToAdd.getSource()?.getUrls();\n          layerUrl = urls?.length === 1 ? urls[0] : undefined;\n        }\n\n        const layerConfig = {\n          name: layerToAdd.get('name'),\n          type: layerToAdd instanceof TileLayer ? 'TILEWMS' : 'WMS',\n          opacity: layerToAdd.getOpacity(),\n          sourceConfig: {\n            layerNames: layerToAdd.getSource()?.getParams().LAYERS,\n            url: layerUrl,\n            useBearerToken: false\n          }\n        };\n        layerToAdd.set('layerConfig', layerConfig);\n        targetGroup.getLayers().push(layerToAdd);\n      }\n    });\n\n    targetGroup.set('hideInLayerTree', targetGroup.getLayers().getLength() < 1);\n\n    closeModal();\n  };\n\n  return (\n    <Modal\n      className=\"add-layer-modal\"\n      title={t('AddLayerModal.title')}\n      open={isModalVisible}\n      onCancel={closeModal}\n      footer={[\n        <Button\n          key=\"add-selected\"\n          disabled={selectedRowKeys?.length < 1}\n          onClick={onAddSelected}\n        >\n          {t('AddLayerModal.addSelectedLayers')}\n        </Button>,\n        <Button\n          key=\"add-all\"\n          disabled={layers?.length < 1}\n          onClick={onAddAll}\n        >\n          {t('AddLayerModal.addAllLayers')}\n        </Button>\n      ]}\n      {...restProps}\n    >\n      <Input.Search\n        placeholder={t('AddLayerModal.inputPlaceholder')}\n        value={url}\n        onChange={(event) => {\n          setUrl(event.target.value);\n        }}\n        onSearch={getCapabilities}\n        enterButton={true}\n      />\n      <Table\n        loading={loading}\n        columns={[\n          {\n            title: t('AddLayerModal.columnTitle'),\n            render: (text: any, record: any) => {\n              return record.get('title');\n            }\n          }\n        ]}\n        rowKey={(record: any) => getUid(record)}\n        rowSelection={{\n          selectedRowKeys,\n          onChange: setSelectedRowKeys\n        }}\n        pagination={false}\n        dataSource={layers}\n      />\n    </Modal>\n  );\n};\n\nexport default AddLayerModal;\n","import {\n  useContext\n} from 'react';\n\nimport SHOGunAPIClient from '@terrestris/shogun-util/dist/service/SHOGunAPIClient';\n\nimport SHOGunAPIClientContext from '../context/SHOGunAPIClientContext';\n\nexport const useSHOGunAPIClient = (): SHOGunAPIClient | null => {\n  const context = useContext(SHOGunAPIClientContext);\n\n  return context;\n};\n\nexport default useSHOGunAPIClient;\n","import React, {\n  useEffect,\n  useCallback\n} from 'react';\n\nimport _isEmpty from 'lodash/isEmpty';\n\nimport BaseLayer from 'ol/layer/Base';\n\nimport LayerGroup from 'ol/layer/Group';\nimport ImageLayer from 'ol/layer/Image';\nimport TileLayer from 'ol/layer/Tile';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport Logger from '@terrestris/base-util/dist/Logger';\n\nimport {\n  MapUtil,\n  PermalinkUtil\n} from '@terrestris/ol-util';\n\nimport useMap from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport MapComponent, {\n  MapComponentProps\n} from '@terrestris/react-geo/dist/Map/MapComponent/MapComponent';\n\nimport Layer from '@terrestris/shogun-util/dist/model/Layer';\nimport SHOGunApplicationUtil from '@terrestris/shogun-util/dist/parser/SHOGunApplicationUtil';\n\nimport useQueryParams from '../../hooks/useQueryParams';\nimport useSHOGunAPIClient from '../../hooks/useSHOGunAPIClient';\n\nexport const BasicMapComponent: React.FC<Partial<MapComponentProps>> = ({\n  ...restProps\n}): JSX.Element => {\n  const map = useMap();\n  const client = useSHOGunAPIClient();\n  const queryParams = useQueryParams();\n\n  const center = queryParams.get('center');\n  const zoom = queryParams.get('zoom');\n  const layers = queryParams.get('layers');\n  const customLayerAttributes = queryParams.get('customLayerAttributes');\n\n  const {\n    t\n  } = useTranslation();\n\n  const restoreTransientLayers = useCallback(async (configString: string) => {\n    if (!map) {\n      return;\n    }\n\n    const externalLayerGroup = MapUtil.getLayerByName(map, t('AddLayerModal.externalWmsFolder')) as LayerGroup;\n\n    try {\n      const config = JSON.parse(configString);\n\n      if (!client) {\n        throw new Error('Client is not available');\n      }\n      const parser = new SHOGunApplicationUtil({\n        client\n      });\n\n      for (let i = 0; i < config.length; i++) {\n        const cfg = config[i];\n        if (!_isEmpty(cfg?.layerConfig)) {\n          const layerConfig: Layer = cfg.layerConfig;\n          const olLayer = await parser.parseLayer(layerConfig);\n          if (cfg.isExternalLayer) {\n            externalLayerGroup.getLayers().extend([olLayer]);\n            externalLayerGroup.setVisible(true);\n          } else {\n            const customFolderName = cfg.groupName;\n            const customLayerGroup = MapUtil.getLayerByName(map, customFolderName) as LayerGroup;\n\n            if (customLayerGroup) {\n              customLayerGroup.getLayers().extend([olLayer]);\n              customLayerGroup.setVisible(true);\n            }\n          }\n        }\n      }\n\n    } catch (error) {\n      Logger.error(error);\n    }\n  }, [client, map, t]);\n\n  useEffect(() => {\n    if (map) {\n      const identifier = (l: BaseLayer) => l.get('name');\n      const filter = (l: BaseLayer) => (l instanceof TileLayer || l instanceof ImageLayer);\n      const configString = PermalinkUtil.applyLink(map, ';', identifier, filter);\n\n      if (!configString) {\n        return;\n      }\n      restoreTransientLayers(configString);\n    }\n  }, [\n    map,\n    restoreTransientLayers,\n    center,\n    zoom,\n    layers,\n    customLayerAttributes\n  ]);\n\n  if (!map) {\n    return <></>;\n  }\n\n  return (\n    <MapComponent\n      map={map}\n      {...restProps}\n    />\n  );\n};\n\nexport default BasicMapComponent;\n","import React from 'react';\n\nexport default function useQueryParams() {\n  const {\n    search\n  } = window.location;\n  return React.useMemo(() => new URLSearchParams(search), [search]);\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useEffect\n} from 'react';\n\nimport {\n  Button,\n  Divider\n} from 'antd';\n\nimport OlControlMousePosition from 'ol/control/MousePosition';\nimport OlControlScaleLine from 'ol/control/ScaleLine';\nimport {\n  createStringXY\n} from 'ol/coordinate';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport ScaleCombo from '@terrestris/react-geo/dist/Field/ScaleCombo/ScaleCombo';\nimport useMap from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport './index.less';\n\nexport interface FooterProps extends React.ComponentProps<'div'> { }\n\nexport const Footer: React.FC<FooterProps> = ({\n  ...restProps\n}): JSX.Element => {\n  const {\n    t\n  } = useTranslation();\n\n  const map = useMap();\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n\n    const existingControl = map.getControls().getArray()\n      .find(control => control instanceof OlControlScaleLine);\n\n    if (existingControl) {\n      return;\n    }\n\n    map.addControl(\n      new OlControlScaleLine({\n        target: 'scale-line-container'\n      })\n    );\n  }, [map]);\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n\n    const existingControl = map.getControls().getArray()\n      .find(control => control instanceof OlControlMousePosition);\n\n    if (existingControl) {\n      return;\n    }\n\n    map.addControl(\n      new OlControlMousePosition({\n        coordinateFormat: createStringXY(2),\n        projection: 'EPSG:25832',\n        target: 'mouse-position'\n      })\n    );\n  }, [map]);\n\n  const openContactModal = (): void => {\n    window.open('https://www.terrestris.de/de/kontakt/', '_blank');\n  };\n\n  const openImprintModal = (): void => {\n    window.open('https://www.terrestris.de/de/impressum/', '_blank');\n  };\n\n  const openPrivacyModal = (): void => {\n    window.open('https://www.terrestris.de/de/datenschutzerklaerung/', '_blank');\n  };\n\n  if (!map) {\n    return <></>;\n  }\n\n  return (\n    <div\n      className=\"footer\"\n      {...restProps}\n    >\n      <div\n        className=\"item-container left-items\"\n      >\n        <div\n          id=\"scale-line-container\"\n        />\n        <Divider\n          type=\"vertical\"\n        />\n        <div\n          className=\"scale-combo\"\n        >\n          {t('Footer.scale')}:&nbsp;\n          <ScaleCombo\n            map={map}\n          />\n          <Divider\n            type=\"vertical\"\n          />\n        </div>\n        <div\n          className=\"reference-system\"\n        >\n          {t('Footer.refSystem')}: {map.getView().getProjection().getCode()}\n          <Divider\n            type=\"vertical\"\n          />\n        </div>\n        <div\n          className=\"mouse-position-wrapper\"\n        >\n          {t('Footer.mousePosition')}:&nbsp;\n          <div\n            id=\"mouse-position\"\n            className=\"mouse-position\"\n          />\n        </div>\n      </div>\n      <div className=\"item-container right-items\">\n        <Button\n          onClick={openContactModal}\n          type=\"link\"\n        >\n          {t('Footer.contact')}\n        </Button>\n        <Button\n          onClick={openImprintModal}\n          type=\"link\"\n        >\n          {t('Footer.imprint')}\n        </Button>\n        <Button\n          onClick={openPrivacyModal}\n          type=\"link\"\n        >\n          {t('Footer.privacypolicy')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import {\n  useContext\n} from 'react';\n\nimport PluginContext from '../context/PluginContext';\n\nimport {\n  ClientPluginInternal\n} from '../plugin';\n\nexport const usePlugins = (): ClientPluginInternal[] => {\n  const context = useContext(PluginContext);\n\n  return context;\n};\n\nexport default usePlugins;\n","import React, {\n  useEffect, useState\n} from 'react';\n\nimport {\n  Extent as OlExtent\n} from 'ol/extent';\nimport {\n  transformExtent\n} from 'ol/proj';\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport NominatimSearch, {\n  NominatimSearchProps\n} from '@terrestris/react-geo/dist/Field/NominatimSearch/NominatimSearch';\nimport useMap from '@terrestris/react-geo/dist/Hook/useMap';\n\nexport const BasicNominatimSearch: React.FC<Partial<NominatimSearchProps>> = ({\n  ...restProps\n}): JSX.Element => {\n  const map = useMap();\n  const {\n    t\n  } = useTranslation();\n  const [viewBox, setViewBox] = useState<string>();\n\n  useEffect(() => {\n    const mapViewProjection = map?.getView().getProjection();\n    const extent: OlExtent = map?.getView()?.get('extent');\n    if (extent) {\n      const transformedExtent = transformExtent(extent, mapViewProjection, 'EPSG:4326');\n      setViewBox(transformedExtent.toString());\n    }\n  }, [map]);\n\n  if (!map) {\n    return <></>;\n  }\n\n  return (\n    <NominatimSearch\n      map={map}\n      countryCodes={''}\n      allowClear={true}\n      nominatimBaseUrl={'https://nominatim.terrestris.de/search.php?'}\n      placeholder={t('Nominatim.placeholder')}\n      viewBox={viewBox ? viewBox : ''}\n      {...restProps}\n    />\n  );\n};\n\nexport default BasicNominatimSearch;\n","import md5 from 'js-md5';\n\nexport interface GravatarProps {\n  email: string;\n  size?: number;\n  rating?: 'g' | 'pg' | 'r' | 'x';\n  defaultImage?: '404' | 'mp' | 'identicon' | 'monsterid' | 'wavatar' | 'retro' | 'robohash' | 'blank';\n  force?: boolean;\n}\n\nconst GRAVATAR_BASE_URL = 'https://www.gravatar.com/avatar/';\n\n/**\n * https://de.gravatar.com/site/implement/images/\n */\nexport const getGravatarUrl = ({\n  email = '',\n  size = 80,\n  rating = 'g',\n  defaultImage = 'identicon',\n  force = false\n}: GravatarProps): string => {\n  const lowerCaseEmail = email.toLowerCase();\n  const hash = md5(lowerCaseEmail);\n\n  let url = `${GRAVATAR_BASE_URL}${hash}?s=${size}&r=${rating}&d=${defaultImage}`;\n\n  if (force) {\n    url = `${url}&f=y`;\n  }\n\n  return url;\n};\n\nexport default getGravatarUrl;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useState\n} from 'react';\n\nimport {\n  Modal,\n  Statistic\n} from 'antd';\n\nimport {\n  ModalProps\n} from 'antd/lib/modal';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport useAppSelector from '../../hooks/useAppSelector';\n\nimport {\n  useClientVersion\n} from '../../hooks/useVersion';\n\nimport './index.less';\n\ninterface ApplicationInfoProps extends ModalProps {\n  opener?: JSX.Element;\n}\n\nexport const ApplicationInfo: React.FC<ApplicationInfoProps> = ({\n  opener,\n  ...restProps\n}) => {\n  const {\n    t\n  } = useTranslation();\n\n  const appInfo = useAppSelector(state => state.appInfo);\n  const logoPath = useAppSelector(state => state.logoPath);\n  const appDescription = useAppSelector(state => state.description);\n\n  const [isVisible, setVisible] = useState<boolean>(false);\n\n  const toggleVisibility = () => {\n    setVisible(!isVisible);\n  };\n\n  let Opener;\n  if (opener) {\n    Opener = React.cloneElement(\n      opener,\n      {\n        onClick: toggleVisibility\n      }\n    );\n  } else {\n    Opener = <button onClick={toggleVisibility}>Open</button>;\n  }\n\n  return (\n    <>\n      {\n        Opener\n      }\n      <Modal\n        className='application-info'\n        title={t('ApplicationInfo.title')}\n        centered={true}\n        open={isVisible}\n        onOk={toggleVisibility}\n        onCancel={toggleVisibility}\n        footer={null}\n        {...restProps}\n      >\n        <img\n          className=\"logo\"\n          src={logoPath}\n        />\n        <div\n          className=\"description\"\n        >\n          {appDescription}\n        </div>\n        <Statistic\n          title={t('ApplicationInfo.clientVersionTitle')}\n          value={useClientVersion()}\n        />\n        {\n          (appInfo.version && appInfo.buildTime) &&\n          <Statistic\n            title={t('ApplicationInfo.backendVersionTitle')}\n            value={`${appInfo.version} (${appInfo.buildTime})`}\n          />\n        }\n      </Modal>\n    </>\n  );\n};\n\nexport default ApplicationInfo;\n","export const useClientVersion = () => {\n  return PROJECT_VERSION;\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\n\nimport {\n  faInfo,\n  faUserCog,\n  faSignOut,\n  faSignIn,\n  faAngleDown\n} from '@fortawesome/free-solid-svg-icons';\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Menu\n} from 'antd';\n\nimport {\n  ItemType\n} from 'antd/lib/menu/hooks/useItems';\n\nimport _isEmpty from 'lodash/isEmpty';\n\nimport {\n  MenuInfo\n} from 'rc-menu/lib/interface';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport UserChip from '@terrestris/react-geo/dist/UserChip/UserChip';\n\nimport useAppSelector from '../../hooks/useAppSelector';\nimport useSHOGunAPIClient from '../../hooks/useSHOGunAPIClient';\nimport {\n  getGravatarUrl\n} from '../../utils/getGravatarUrl';\n\nimport ApplicationInfo from '../ApplicationInfo';\n\nimport './index.less';\n\ninterface OwnProps { }\n\ntype UserProps = OwnProps;\n\nexport const UserMenu: React.FC<UserProps> = (): JSX.Element => {\n  const {\n    t\n  } = useTranslation();\n\n  const client = useSHOGunAPIClient();\n  const keycloak = client?.getKeycloak();\n\n  const user = useAppSelector((state) => state.user);\n\n  const onMenuClick = (evt: MenuInfo) => {\n    switch (evt.key) {\n      case 'settings':\n        if (keycloak) {\n          keycloak.accountManagement();\n        }\n        break;\n      case 'info':\n        // Don't do anything, visible state will be handled by the menu itself.\n        break;\n      case 'login':\n        if (keycloak) {\n          keycloak.login();\n        }\n        break;\n      case 'logout':\n        if (keycloak) {\n          keycloak.logout();\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  const getMenu = () => {\n    const login: ItemType = {\n      key: 'login',\n      icon: (\n        <FontAwesomeIcon\n          icon={faSignIn}\n        />\n      ),\n      label: t('UserMenu.loginMenuTitle')\n    };\n\n    const username: ItemType = {\n      key: 'username',\n      label: (\n        <div\n          className=\"user-name\"\n        >\n          <span>\n            {\n              user.providerDetails?.email\n            }\n          </span>\n        </div>\n      )\n    };\n\n    const divider: ItemType = {\n      type: 'divider'\n    };\n\n    const settings: ItemType = {\n      key: 'settings',\n      icon: (\n        <FontAwesomeIcon\n          icon={faUserCog}\n        />\n      ),\n      label: t('UserMenu.settingsMenuTitle')\n    };\n\n    const info: ItemType = {\n      key: 'info',\n      icon: (\n        <FontAwesomeIcon\n          icon={faInfo}\n        />\n      ),\n      label: (\n        <ApplicationInfo\n          opener={\n            <span\n              className=\"info-opener\"\n            >\n              {t('UserMenu.infoMenuTitle')}\n            </span>\n          }\n        />\n      )\n    };\n\n    const logout: ItemType = {\n      key: 'logout',\n      icon: (\n        <FontAwesomeIcon\n          icon={faSignOut}\n        />\n      ),\n      label: t('UserMenu.logoutMenuTitle')\n    };\n\n    const items: ItemType[] = _isEmpty(user) ?\n      [\n        login,\n        info\n      ] :\n      [\n        username,\n        divider,\n        settings,\n        info,\n        divider,\n        logout\n      ];\n\n    return {\n      items,\n      onClick: onMenuClick\n    };\n  };\n\n  return (\n    <UserChip\n      size={'small'}\n      imageSrc={getGravatarUrl({\n        email: user.providerDetails?.email || '',\n        size: 28\n      })}\n      userName={\n        <FontAwesomeIcon\n          icon={faAngleDown}\n        />\n      }\n      userMenu={getMenu()}\n    />\n  );\n};\n\nexport default UserMenu;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\n\nimport {\n  useAppSelector\n} from '../../hooks/useAppSelector';\nimport {\n  usePlugins\n} from '../../hooks/usePlugins';\n\nimport {\n  HeaderPlacementOrientation,\n  isHeaderIntegration\n} from '../../plugin';\n\nimport BasicNominatimSearch from '../BasicNominatimSearch';\n\nimport UserMenu from '../UserMenu';\n\nimport './index.less';\n\nexport interface HeaderProps extends React.ComponentProps<'div'> { };\n\nexport const Header: React.FC<HeaderProps> = ({\n  ...restProps\n}): JSX.Element => {\n  const title = useAppSelector((state) => state.title);\n  const logoPath = useAppSelector((state) => state.logoPath);\n  const plugins = usePlugins();\n\n  const insertPlugins = (itemPosition: HeaderPlacementOrientation, items: JSX.Element[]) => {\n    plugins.forEach(plugin => {\n      if (isHeaderIntegration(plugin.integration) && plugin.integration?.placementOrientation === itemPosition) {\n        const {\n          key,\n          wrappedComponent: WrappedPluginComponent\n        } = plugin;\n\n        items.splice(plugin.integration?.insertionIndex || 0, 0,\n          <WrappedPluginComponent\n            key={key}\n          />\n        );\n      }\n    });\n  };\n\n  const getLeftItems = () => {\n    const items = [(\n      <img\n        key=\"logo\"\n        className=\"logo\"\n        src={logoPath}\n      />\n    ), (\n      <div\n        key=\"title\"\n        className=\"title\"\n      >\n        {title}\n      </div>\n    )];\n\n    insertPlugins('left', items);\n\n    return items;\n  };\n\n  const getCenterItems = () => {\n    const items = [\n      <BasicNominatimSearch\n        key=\"search\"\n      />\n    ];\n\n    insertPlugins('center', items);\n\n    return items;\n  };\n\n  const getRightItems = () => {\n    const items = [\n      <UserMenu\n        key=\"user-menu\"\n      />\n    ];\n\n    insertPlugins('right', items);\n\n    return items;\n  };\n\n  return (\n    <div\n      className=\"header\"\n      {...restProps}\n    >\n      <div\n        className=\"item-container left-items\"\n      >\n        {\n          getLeftItems()\n        }\n      </div>\n      <div\n        className=\"item-container center-items\"\n      >\n        {\n          getCenterItems()\n        }\n      </div>\n      <div\n        className=\"item-container right-items\"\n      >\n        {\n          getRightItems()\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import type {\n  IconDefinition\n} from '@fortawesome/fontawesome-common-types';\n\nimport type {\n  Reducer\n} from '@reduxjs/toolkit';\n\nimport { CollapsePanelProps } from 'antd';\nimport type OlMap from 'ol/Map';\n\nimport type SHOGunAPIClient from '@terrestris/shogun-util/dist/service/SHOGunAPIClient';\n\nexport type ClientPluginLocale = {\n  [Property in keyof {\n    de: string;\n    en: string;\n  }]: {\n    translation: {\n      [key: string]: any;\n    };\n  };\n};\n\nexport type ClientPluginComponentProps = {\n  map?: OlMap;\n  client?: SHOGunAPIClient;\n};\n\nexport type ClientPluginIntegration = {\n  /**\n   * The main identifier of the integration point of the plugin.\n   */\n  placement: string;\n};\n\nexport type ClientPluginIntegrationToolMenu = ClientPluginIntegration &\n  Omit<CollapsePanelProps, 'key' | 'header'> & {\n  placement: 'tool-menu';\n  /**\n   * The label for the plugin in the tool menu.\n   */\n  label?: string;\n  /**\n   * The insertion index for the plugin in the tool menu, starting from 0 which is on top.\n   */\n  insertionIndex?: number;\n  /**\n   * The icon for the plugin in the tool menu.\n   */\n  icon?: IconDefinition;\n};\n\nexport type HeaderPlacementOrientation = 'left' | 'center' | 'right';\n\nexport type ClientPluginIntegrationHeader = ClientPluginIntegration & {\n  placement: 'header';\n  /**\n   * The placement orientation for the plugin in the header.\n   */\n  placementOrientation: HeaderPlacementOrientation;\n  /**\n   * The insertion index for the plugin in the header, starting from 0 which is on the left.\n   */\n  insertionIndex?: number;\n};\n\nexport type ClientPluginIntegrationFeatureInfo = ClientPluginIntegration & {\n  placement: 'feature-info';\n  /**\n   * The list of layer names the plugin component should be rendered for. If not\n   * specified, the component will be rendered for all layers.\n   */\n  layers?: string[];\n};\n\nexport type ClientPluginIntegrations = ClientPluginIntegrationToolMenu | ClientPluginIntegrationHeader | ClientPluginIntegrationFeatureInfo;\n\nexport type ClientPlugin = {\n  /**\n   * The key of the plugin, usually used for internal references (e.g. element class names) only.\n   */\n  key: string;\n  /**\n   * The definition of the integration point.\n   */\n  integration: ClientPluginIntegrations;\n  /**\n   * The actual component of the plugin.\n   */\n  component: React.FunctionComponent<ClientPluginComponentProps>;\n  /**\n   * The i18n definition to be used in the plugin.\n   */\n  i18n?: ClientPluginLocale;\n  /**\n   * A set of redux reducers to be used in the plugin.\n   */\n  reducers?: {\n    [key: string]: Reducer;\n  };\n};\n\nexport type ClientPluginInternal = ClientPlugin & {\n  wrappedComponent: React.FunctionComponent<ClientPluginComponentProps>;\n};\n\nexport function isToolMenuIntegration(pluginIntegration: ClientPluginIntegrations): pluginIntegration is ClientPluginIntegrationToolMenu {\n  return pluginIntegration && pluginIntegration.placement === 'tool-menu';\n}\n\nexport function isHeaderIntegration(pluginIntegration: ClientPluginIntegrations): pluginIntegration is ClientPluginIntegrationHeader {\n  return pluginIntegration && pluginIntegration.placement === 'header';\n}\n\nexport function isFeatureInfoIntegration(pluginIntegration: ClientPluginIntegrations): pluginIntegration is ClientPluginIntegrationFeatureInfo {\n  return pluginIntegration && pluginIntegration.placement === 'feature-info';\n}\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\n\nimport './index.less';\n\nimport {\n  Select\n} from 'antd';\n\nconst {\n  Option\n} = Select;\n\nimport i18n from '../../i18n';\n\nexport const LanguageSelect = () => {\n  const supportedLanguages = Object.keys(i18n.services.resourceStore.data);\n\n  const onLanguageChange = (lang: string) => {\n    i18n.changeLanguage(lang);\n  };\n\n  return (\n    <div className=\"language-select\">\n      <Select\n        defaultValue={i18n.language || 'en'}\n        onChange={onLanguageChange}\n      >\n        {\n          supportedLanguages.map(supportedLanguage => {\n            return (\n              <Option\n                key={supportedLanguage}\n                value={supportedLanguage}\n              >\n                {supportedLanguage.toUpperCase()}\n              </Option>\n            );\n          })\n        }\n      </Select>\n    </div>\n  );\n};\n\nexport default LanguageSelect;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useEffect, useState, useMemo\n} from 'react';\n\nimport {\n  CopyOutlined,\n  MailOutlined,\n  TwitterOutlined,\n  WhatsAppOutlined\n} from '@ant-design/icons';\nimport {\n  Input, Tooltip, message\n} from 'antd';\nimport copy from 'copy-to-clipboard';\nimport {\n  EventsKey\n} from 'ol/events';\nimport BaseLayer from 'ol/layer/Base';\nimport LayerGroup from 'ol/layer/Group';\nimport ImageLayer from 'ol/layer/Image';\nimport TileLayer from 'ol/layer/Tile';\nimport {\n  unByKey\n} from 'ol/Observable';\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport PermalinkUtil from '@terrestris/ol-util/dist/PermalinkUtil/PermalinkUtil';\n\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport Layer from '@terrestris/shogun-util/dist/model/Layer';\n\nimport './index.less';\n\ninterface DefaultPermalinkProps { }\n\nexport interface PermalinkProps extends Partial<DefaultPermalinkProps> { }\n\nexport const Permalink: React.FC<PermalinkProps> = () => {\n  const map = useMap();\n  const layerAttributes = useMemo(() => ['layerConfig', 'isExternalLayer', 'groupName'], []);\n  const {\n    t\n  } = useTranslation();\n\n  const initialPermalink = map ? PermalinkUtil.getLink(\n    map,\n    ';',\n    l => l.get('name'),\n    l => (l instanceof TileLayer || l instanceof ImageLayer) && l.getVisible(),\n    layerAttributes\n  ) : '';\n\n  const [permalink, setPermalink] = useState(initialPermalink);\n\n  const mailSubject = 'SHOGun Web-GIS';\n  const mailBody = `Hey,\\r\\ncheck out the layer-composition I created:\\r\\n\\r\\n${permalink}`;\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n    let eventKeys: EventsKey[] = [];\n\n    const identifierFunction = (l: BaseLayer) => l.get('name');\n    const filterFunction = (l: BaseLayer) => (l instanceof TileLayer || l instanceof ImageLayer) && l.getVisible();\n    const updatePermalink = () => {\n      setPermalink(PermalinkUtil.getLink(\n        map,\n        ';',\n        identifierFunction,\n        filterFunction,\n        layerAttributes\n      ));\n    };\n\n    const filterFunctionForLayers = (l: BaseLayer) => (l instanceof TileLayer || l instanceof ImageLayer);\n    const updateLayersInPermalink = () => {\n      setPermalink(\n        PermalinkUtil.getLink(\n          map,\n          ';',\n          identifierFunction,\n          filterFunctionForLayers,\n          layerAttributes\n        )\n      );\n    };\n\n    const updateLayerConfig = () => {\n      const externalLayers = map.getAllLayers().filter(l => l.get('isExternalLayer'));\n      externalLayers.forEach((externalLayer) => {\n        const layerConfig = externalLayer.get('layerConfig') as Layer;\n        if (layerConfig) {\n          if (layerConfig.clientConfig) {\n            layerConfig.clientConfig.opacity = externalLayer.getOpacity();\n          } else {\n            layerConfig.clientConfig = {\n              opacity: externalLayer.getOpacity()\n            };\n          }\n          externalLayer.set('layerConfig', layerConfig);\n        }\n      });\n      updatePermalink();\n    };\n\n    const registerLayerCallback = (layerGroup: LayerGroup) => {\n      const layersInGroup = layerGroup.getLayers().getArray();\n      for (let i = 0; i < layersInGroup.length; i++) {\n        const layerInGroup = layersInGroup[i];\n\n        if (layerInGroup instanceof LayerGroup) {\n          registerLayerCallback(layerInGroup);\n        } else {\n          let eventKeyVisibility = layerInGroup.on('change:visible', updatePermalink);\n          let eventKeyOpacity = layerInGroup.on('change:opacity', updateLayerConfig);\n          eventKeys.push(eventKeyVisibility, eventKeyOpacity);\n        }\n      }\n    };\n\n    const layerGroups = map.getLayers().getArray().filter((l) => l.get('isGroupForImportedLayers'));\n    layerGroups.forEach((layerGroup) => {\n      // @ts-ignore\n      eventKeys.push(layerGroup.getLayers().on('add', updateLayersInPermalink));\n      // @ts-ignore\n      eventKeys.push(layerGroup.getLayers().on('remove', updateLayersInPermalink));\n    });\n\n    const listenerKeyCenter = map.getView().on('change:center', updatePermalink);\n    const listenerKeyResolution = map.getView().on('change:resolution', updatePermalink);\n\n    let mapLayerGroup = map.getLayerGroup();\n    registerLayerCallback(mapLayerGroup);\n    updateLayerConfig();\n\n    return () => {\n      unByKey(listenerKeyCenter);\n      unByKey(listenerKeyResolution);\n      unByKey(eventKeys);\n    };\n  }, [layerAttributes, map, t]);\n\n  function onTwitterClick() {\n    const twitterUrl = new URL('https://twitter.com/intent/tweet');\n    twitterUrl.searchParams.set('url', mailBody);\n    window.open(twitterUrl);\n  }\n\n  function onWhatsAppClick() {\n    const whatsAppUrl = new URL('https://wa.me');\n    whatsAppUrl.searchParams.set('text', mailBody);\n    window.open(whatsAppUrl);\n  }\n\n  function onMailClick() {\n    const mailToUrl = new URL('mailto:');\n    mailToUrl.searchParams.set('subject', mailSubject);\n    mailToUrl.searchParams.set('body', mailBody);\n    window.open(mailToUrl.toString().replace(/\\+/g, '%20'), '_self');\n  }\n\n  function onCopyClick() {\n    const success = copy(permalink);\n    if (success) {\n      message.info(t('Permalink.copiedToClipboard'));\n    } else {\n      message.info(t('Permalink.copyToClipboardFailed'));\n    }\n  }\n\n  return (\n    <div className=\"permalink-wrapper\">\n      <div className=\"icons\">\n        <Tooltip title={t('Permalink.twitterTooltip')}>\n          <TwitterOutlined onClick={onTwitterClick} />\n        </Tooltip>\n        <Tooltip title={t('Permalink.whatsAppTooltip')}>\n          <WhatsAppOutlined onClick={onWhatsAppClick} />\n        </Tooltip>\n        <Tooltip title={t('Permalink.mailTooltip')}>\n          <MailOutlined onClick={onMailClick} />\n        </Tooltip>\n      </div>\n      <div className=\"link\">\n        <Input value={permalink}\n          readOnly\n        />\n        <Tooltip title={t('Permalink.copyTooltip')}>\n          <CopyOutlined onClick={onCopyClick} />\n        </Tooltip>\n      </div>\n    </div>\n  );\n};\n\nexport default Permalink;\n","import OlLayer from 'ol/layer/Layer';\nimport OlSourceImageWMS from 'ol/source/ImageWMS';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport MapFishPrintV3WMSSerializer from '@terrestris/mapfish-print-manager/dist/serializer/MapFishPrintV3WMSSerializer';\n\nexport class SHOGunMapFishPrintV3WMSSerializer extends MapFishPrintV3WMSSerializer {\n\n  static TYPE_WMS: string = 'wms';\n\n  static sourceCls: any[] = [\n    OlSourceImageWMS\n  ];\n\n  constructor() {\n    super();\n  }\n\n  serialize(layer: OlLayer<OlSourceImageWMS | OlSourceTileWMS>, opts: any = {}, resolution: number) {\n    const serialized: any = super.serialize(layer, opts, resolution);\n\n    if (serialized.baseURL.startsWith('/geoserver/ows')) {\n      serialized.baseURL = `http://shogun-geoserver:8080${serialized.baseURL}`;\n    }\n\n    if (serialized.baseURL.startsWith('/geoserver/SHOGUN')) {\n      serialized.baseURL = `http://shogun-geoserver:8080${serialized.baseURL}`;\n    }\n\n    return serialized;\n  }\n}\n\nexport default SHOGunMapFishPrintV3WMSSerializer;\n","import defaultsDeep from 'lodash/defaultsDeep';\n\nimport OlLayer from 'ol/layer/Layer';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport SHOGunMapFishPrintV3WMSSerializer from './SHOGunMapFishPrintV3WMSSerializer';\n\nexport class SHOGunMapFishPrintV3TiledWMSSerializer extends SHOGunMapFishPrintV3WMSSerializer {\n\n  static TYPE_WMS: string = 'tiledwms';\n\n  static sourceCls: any[] = [\n    OlSourceTileWMS\n  ];\n\n  constructor() {\n    super();\n  }\n\n  serialize(layer: OlLayer<OlSourceTileWMS>, opts: any = {}, resolution: number) {\n    defaultsDeep(opts, {\n      tileSize: [512, 512]\n    });\n\n    const source = layer.getSource();\n\n    if (!source || !this.validateSource(source)) {\n      return;\n    }\n\n    const serialized = {\n      ...super.serialize(layer, opts, resolution),\n      ...{\n        // @ts-ignore\n        type: this.constructor.TYPE_WMS\n      },\n      ...opts\n    };\n\n    return serialized;\n  }\n}\n\nexport default SHOGunMapFishPrintV3TiledWMSSerializer;\n","import React, {\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  Input\n} from 'antd';\nimport {\n  InputProps\n} from 'antd/lib/input';\n\nimport {\n  MapFishPrintV3Manager\n} from '@terrestris/mapfish-print-manager';\n\ninterface CustomFieldInputProps extends InputProps {\n  printManager: MapFishPrintV3Manager;\n}\n\nexport const CustomFieldInput: React.FC<CustomFieldInputProps> = ({\n  printManager,\n  value,\n  id,\n  placeholder,\n  maxLength,\n  ...restProps\n}): JSX.Element => {\n\n  const [inputText, setInputText] = useState<any>(value);\n\n  useEffect(() => {\n    if (printManager && id) {\n      // @ts-ignore\n      printManager.customParams[id] = inputText;\n    }\n  }, [printManager, inputText, id]);\n\n  useEffect(() => {\n    setInputText(value);\n  }, [value]);\n\n  return (\n    <Input\n      id={id}\n      value={inputText}\n      onChange={(event) => setInputText(event.target.value)}\n      placeholder={placeholder}\n      maxLength={maxLength}\n      showCount={!!(maxLength && maxLength > 1)}\n      {...restProps}\n    />\n  );\n};\n\nexport default CustomFieldInput;\n","import React, {\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  Select\n} from 'antd';\nimport {\n  SelectProps\n} from 'antd/lib/select';\n\nimport {\n  MapFishPrintV3Manager\n} from '@terrestris/mapfish-print-manager';\n\nimport {\n  Layout\n} from '../';\n\nexport interface LayoutSelectProps extends SelectProps<string> {\n  printManager: MapFishPrintV3Manager;\n}\n\nexport const LayoutSelect: React.FC<LayoutSelectProps> = ({\n  printManager,\n  placeholder = 'Bitte wählen Sie eine Vorlage aus',\n  value,\n  ...restProps\n}): JSX.Element => {\n\n  const [layout, setLayout] = useState<any>(value);\n\n  useEffect(() => {\n    if (printManager) {\n      printManager.setLayout(layout);\n    }\n  }, [printManager, layout]);\n\n  useEffect(() => {\n    setLayout(value);\n  }, [value]);\n\n  return (\n    <Select\n      placeholder={placeholder}\n      value={layout}\n      onChange={setLayout}\n      {...restProps}\n    >\n      {\n        printManager?.getLayouts().map((l: Layout) => (\n          <Select.Option\n            key={l.name}\n            value={l.name}\n          >\n            {l.name}\n          </Select.Option>\n        ))\n      }\n    </Select>\n  );\n};\n\nexport default LayoutSelect;\n","import React, {\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  Select\n} from 'antd';\nimport {\n  SelectProps\n} from 'antd/lib/select';\n\nimport {\n  MapFishPrintV3Manager\n} from '@terrestris/mapfish-print-manager';\n\nexport interface OutputFormatSelectProps extends SelectProps<string> {\n  printManager: MapFishPrintV3Manager;\n  outputFormats: string[];\n}\n\nexport const OutputFormatSelect: React.FC<OutputFormatSelectProps> = ({\n  printManager,\n  placeholder,\n  value,\n  outputFormats,\n  ...restProps\n}): JSX.Element => {\n\n  const [outputFormat, setOutputFormat] = useState<any>(value);\n\n  useEffect(() => {\n    if (printManager) {\n      printManager.setOutputFormat(outputFormat);\n    }\n  }, [printManager, outputFormat]);\n\n  useEffect(() => {\n    setOutputFormat(value);\n  }, [value]);\n\n  return (\n    <Select\n      placeholder={placeholder}\n      value={outputFormat}\n      onChange={setOutputFormat}\n      {...restProps}\n    >\n      {\n        outputFormats.map((f: string) => (\n          <Select.Option\n            key={f}\n            value={f}\n          >\n            {f.toLocaleUpperCase()}\n          </Select.Option>\n        ))\n      }\n    </Select>\n  );\n};\n\nexport default OutputFormatSelect;\n","import React, {\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  Select\n} from 'antd';\nimport {\n  SelectProps\n} from 'antd/lib/select';\n\nimport {\n  MapFishPrintV3Manager\n} from '@terrestris/mapfish-print-manager';\n\nexport interface ResolutionSelectProps extends SelectProps<number> {\n  printManager: MapFishPrintV3Manager;\n}\n\nexport const ResolutionSelect: React.FC<ResolutionSelectProps> = ({\n  printManager,\n  placeholder,\n  value,\n  ...restProps\n}): JSX.Element => {\n\n  const [resolution, setResolution] = useState<any>(value);\n\n  useEffect(() => {\n    if (printManager) {\n      printManager.setDpi(resolution);\n    }\n  }, [printManager, resolution]);\n\n  useEffect(() => {\n    setResolution(value);\n  }, [value]);\n\n  return (\n    <Select\n      placeholder={placeholder}\n      value={resolution}\n      onChange={setResolution}\n      {...restProps}\n    >\n      {\n        printManager?.getDpis().map((d: number) => (\n          <Select.Option\n            key={d}\n            value={d}\n          >\n            {`${d} DPI`}\n          </Select.Option>\n        ))\n      }\n    </Select>\n  );\n};\n\nexport default ResolutionSelect;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useCallback,\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  faDownload\n} from '@fortawesome/free-solid-svg-icons';\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Alert,\n  Button,\n  Form\n} from 'antd';\n\nimport {\n  FormProps\n} from 'antd/lib/form/Form';\n\nimport ClientConfiguration from 'clientConfig';\nimport OlLayerGroup from 'ol/layer/Group';\nimport OlLayer from 'ol/layer/Layer';\nimport OlMap from 'ol/Map';\nimport OlSource from 'ol/source/Source';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport Logger from '@terrestris/base-util/dist/Logger';\n\nimport {\n  MapFishPrintV3Manager\n} from '@terrestris/mapfish-print-manager';\nimport MapFishPrintV3GeoJsonSerializer from\n  '@terrestris/mapfish-print-manager/dist/serializer/MapFishPrintV3GeoJsonSerializer';\nimport MapFishPrintV3OSMSerializer from\n  '@terrestris/mapfish-print-manager/dist/serializer/MapFishPrintV3OSMSerializer';\nimport MapFishPrintV3WMTSSerializer from\n  '@terrestris/mapfish-print-manager/dist/serializer/MapFishPrintV3WMTSSerializer';\n\nimport MapUtil from '@terrestris/ol-util/dist/MapUtil/MapUtil';\nimport {\n  getBearerTokenHeader\n} from '@terrestris/shogun-util/dist/security/getBearerTokenHeader';\n\nimport useSHOGunAPIClient from '../../hooks/useSHOGunAPIClient';\nimport SHOGunMapFishPrintV3TiledWMSSerializer from '../PrintForm/Serializer/SHOGunMapFishPrintV3TiledWMSSerializer';\nimport SHOGunMapFishPrintV3WMSSerializer from '../PrintForm/Serializer/SHOGunMapFishPrintV3WMSSerializer';\n\nimport CustomFieldInput from './CustomFieldInput';\nimport LayoutSelect from './LayoutSelect';\nimport OutputFormatSelect from './OutputFormatSelect';\nimport ResolutionSelect from './ResolutionSelect';\n\nimport './index.less';\n\nexport interface Layout {\n  name: string;\n  attributes: any[];\n}\n\nexport interface PrintFormProps extends Omit<FormProps, 'form'> {\n  map: OlMap;\n  layerBlackList?: string[];\n  outputFormats?: string[];\n  layouts?: Layout[];\n  active: boolean;\n}\n\nexport const PrintForm: React.FC<PrintFormProps> = ({\n  layerBlackList = [],\n  map,\n  active,\n  ...restProps\n}): JSX.Element => {\n  const [form] = Form.useForm();\n  const {\n    t\n  } = useTranslation();\n  const client = useSHOGunAPIClient();\n\n  const [printManager, setPrintManager] = useState<MapFishPrintV3Manager | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\n\n  const layerFilter = useCallback((l: OlLayer<OlSource>) => {\n    if (!map) {\n      return;\n    }\n\n    const layerName = l.get('name');\n\n    return layerName && !layerBlackList.includes(layerName) &&\n      l.getVisible() && !(l instanceof OlLayerGroup) &&\n      MapUtil.layerInResolutionRange(l, map);\n  }, [map, layerBlackList]);\n\n  const initializeMapProvider = useCallback(async () => {\n    // @ts-ignore\n    const pManager: MapFishPrintV3Manager = new MapFishPrintV3Manager({\n      url: ClientConfiguration.print?.url || '/print',\n      map,\n      timeout: 60000,\n      layerFilter,\n      headers: {\n        ...getBearerTokenHeader(client?.getKeycloak())\n      },\n      transformOpts: {\n        rotate: false\n      }\n    });\n\n    pManager.serializers = [\n      new MapFishPrintV3GeoJsonSerializer(),\n      new MapFishPrintV3OSMSerializer(),\n      new MapFishPrintV3WMTSSerializer(),\n      new SHOGunMapFishPrintV3WMSSerializer(),\n      new SHOGunMapFishPrintV3TiledWMSSerializer()\n    ];\n\n    await pManager.init();\n    if (pManager.isInitiated()) {\n      pManager.setOutputFormat(pManager.getOutputFormats()[0]);\n      pManager.setDpi(pManager.getDpis()[0]);\n      pManager.setLayout(pManager.getLayouts()[0]?.name);\n      setPrintManager(pManager);\n    } else {\n      Logger.error('Could not initialize print manager');\n    }\n  }, [client, layerFilter, map]);\n\n  useEffect(() => {\n    if (active) {\n      if (!printManager) {\n        initializeMapProvider();\n      }\n    } else {\n      printManager?.shutdownManager();\n      setPrintManager(null);\n    };\n\n  }, [printManager, active, initializeMapProvider]);\n\n  const legendFilter = (l: OlLayer<OlSource>) => {\n    const layerName = l.get('name');\n    const notBlacklisted = !layerBlackList.includes(layerName);\n    const notHidden = !l.get('hideLegendInPrint');\n    const visible = l.getVisible() && MapUtil.layerInResolutionRange(l, map);\n    const printableLayer = !(l instanceof OlLayerGroup);\n\n    if (notBlacklisted && notHidden && visible && printableLayer) {\n      const res = map.getView().getResolution();\n      if (res) {\n        l.set('customPrintLegendParams', {\n          SCALE: MapUtil.getScaleForResolution(res, 'm')\n        });\n      }\n      return true;\n    }\n    return false;\n  };\n\n  const onDownloadClick = async () => {\n    try {\n      setErrorMsg(null);\n      setLoading(true);\n\n      if (!printManager) {\n        return;\n      }\n\n      await setCustomPrintParams();\n\n      const downloadUrl = await printManager.print(false);\n\n      if (!downloadUrl) {\n        throw new Error('No download URL available, the job has failed.');\n      }\n\n      window.open(downloadUrl);\n    } catch (error: any) {\n      setErrorMsg(t('PrintForm.printJobErrorMsg') || null);\n      Logger.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const setCustomPrintParams = async () => {\n    if (printManager) {\n      printManager.legendFilter = legendFilter;\n      // @ts-ignore\n      printManager.customParams.printLegend = false;\n    }\n  };\n\n  const onAlertClose = () => {\n    setErrorMsg(null);\n  };\n\n  if (!printManager?.isInitiated()) {\n    return <></>;\n  }\n\n  const layout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n\n  return (\n    <div className=\"print\">\n      {\n        errorMsg &&\n        <Alert\n          className=\"print-alert\"\n          message={errorMsg}\n          type=\"error\"\n          closable\n          showIcon\n          onClose={onAlertClose}\n        />\n      }\n      <Form\n        form={form}\n        className=\"print-form\"\n        layout=\"horizontal\"\n        {...layout}\n        {...restProps}\n      >\n        <Form.Item\n          name=\"title\"\n          label={t('PrintForm.title')}\n          initialValue={t('PrintForm.initialTitle')}\n        >\n          <CustomFieldInput\n            maxLength={50}\n            printManager={printManager}\n            placeholder={t('PrintForm.titlePlaceholder')}\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"comment\"\n          label={t('PrintForm.comment')}\n        >\n          <CustomFieldInput\n            maxLength={200}\n            printManager={printManager}\n            placeholder={t('PrintForm.commentPlaceholder')}\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"layout\"\n          label={t('PrintForm.layout')}\n          initialValue={printManager?.getLayouts()[0]?.name}\n        >\n          <LayoutSelect\n            printManager={printManager}\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"dpi\"\n          label={t('PrintForm.dpi')}\n          initialValue={72}\n        >\n          <ResolutionSelect\n            printManager={printManager}\n            placeholder={t('PrintForm.resolutionPlaceholder')}\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"format\"\n          label={t('PrintForm.format')}\n          initialValue=\"pdf\"\n        >\n          <OutputFormatSelect\n            printManager={printManager}\n            outputFormats={['pdf', 'png']}\n            placeholder={t('PrintForm.outputFormatPlaceholder')}\n          />\n        </Form.Item>\n      </Form>\n      <Button\n        className='print-button tool-menu-button'\n        disabled={!printManager?.isInitiated()}\n        icon={<FontAwesomeIcon icon={faDownload} />}\n        loading={loading}\n        onClick={onDownloadClick}\n      >\n        {t('PrintForm.downloadBtnText')}\n      </Button>\n    </div>\n  );\n};\n\nexport default PrintForm;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as React from 'react';\n\nimport {\n  useEffect,\n  useState\n} from 'react';\n\nimport OlParser from 'geostyler-openlayers-parser';\n\nimport {\n  Style as GsStyle\n} from 'geostyler-style';\n\nimport CardStyle, {\n  CardStyleProps\n} from 'geostyler/dist/Component/CardStyle/CardStyle';\n\nimport OlFeature from 'ol/Feature';\n\nimport OlLayerVector from 'ol/layer/Vector';\n\nimport VectorSource from 'ol/source/Vector';\n\nimport {\n  StyleFunction,\n  StyleLike as OlStyleLike\n} from 'ol/style/Style';\n\nimport {\n  MapUtil\n} from '@terrestris/ol-util';\n\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\n\nexport type StylingComponentProps = CardStyleProps & {};\n\nexport const StylingComponent: React.FC<StylingComponentProps> = ({\n  ...passThroughProps\n}): JSX.Element => {\n\n  const defaultStyle = {\n    name: 'Default Style',\n    rules: [{\n      name: 'Area',\n      symbolizers: [{\n        kind: 'Fill',\n        color: '#00b72b',\n        strokeColor: '#00b72b',\n        outlineOpacity: 0.8,\n        opacity: 0.5,\n        fillOpacity: 0.8,\n        outlineWidth: 2,\n        outlineColor: '#00b72b'\n      }]\n    }, {\n      name: 'Line',\n      symbolizers: [{\n        kind: 'Line',\n        color: '#00b72b',\n        width: 2,\n        opacity: 0.8\n      }]\n    }, {\n      name: 'Point',\n      symbolizers: [{\n        kind: 'Mark',\n        wellKnownName: 'circle',\n        color: '#00b72b',\n        strokeColor: '#00b72b',\n        outlineOpacity: 0.8,\n        opacity: 0.5,\n        radius: 7\n      }],\n      filter: [\n        '==',\n        'label',\n        'undefined'\n      ]\n    }, {\n      name: 'Text',\n      symbolizers: [{\n        kind: 'Text',\n        label: '{{label}}',\n        size: 12,\n        font: [\n          'sans-serif'\n        ],\n        opacity: 0.8,\n        color: '#00b72b',\n        offset: [\n          5,\n          5\n        ],\n        haloColor: '#00b72b',\n        haloWidth: 1\n      }],\n      filter: [\n        '!=',\n        'label',\n        'undefined'\n      ]\n    }]\n  };\n\n  // @ts-ignore - TS-Error due to old Geostyler-Style version.\n  const [style, setStyle] = useState<GsStyle>(defaultStyle);\n\n  const map = useMap();\n\n  useEffect(() => {\n    if (!style || !map) {\n      return;\n    }\n\n    const olParser = new OlParser();\n\n    let drawVectorLayer = MapUtil.getLayerByName(map, 'react-geo_digitize') as OlLayerVector<VectorSource>;\n\n    const parseStyles = async () => {\n      let olStylePolygon: OlStyleLike;\n      let olStyleLineString: OlStyleLike;\n      let olStylePoint: OlStyleLike;\n      let olStyleText: OlStyleLike;\n\n      for (const rule of style.rules) {\n        const newStyle: GsStyle = {\n          name: '',\n          rules: [rule]\n        };\n\n        // @ts-ignore - TS-Error due to old Geostyler-Style version.\n        const olStyle = await olParser.writeStyle(newStyle);\n\n        if (!olStyle.output) {\n          return;\n        }\n\n        if (rule.symbolizers[0].kind === 'Fill') {\n          olStylePolygon = olStyle.output;\n        }\n\n        if (rule.symbolizers[0].kind === 'Text') {\n          olStyleText = olStyle.output;\n        }\n\n        if (rule.symbolizers[0].kind === 'Line') {\n          olStyleLineString = olStyle.output;\n        }\n\n        if (rule.symbolizers[0].kind === 'Mark') {\n          olStylePoint = olStyle.output;\n        }\n      }\n\n      const drawLayerStyleFunction = (feature: OlFeature, resolution: number) => {\n        const geometryType = feature.getGeometry()?.getType();\n\n        if (!geometryType) {\n          return;\n        }\n\n        if (['MultiPolygon', 'Polygon', 'Circle'].includes(geometryType)) {\n          return typeof olStylePolygon === 'function' ? olStylePolygon(feature, resolution) : olStylePolygon;\n        }\n\n        if (['MultiLineString', 'LineString'].includes(geometryType)) {\n          return typeof olStyleLineString === 'function' ? olStyleLineString(feature, resolution) : olStyleLineString;\n        }\n\n        if (['MultiPoint', 'Point'].includes(geometryType)) {\n          if (feature.get('label')) {\n            return typeof olStyleText === 'function' ? olStyleText(feature, resolution) : olStyleText;\n          }\n\n          return typeof olStylePoint === 'function' ? olStylePoint(feature, resolution) : olStylePoint;\n        }\n      };\n\n      drawVectorLayer.setStyle(drawLayerStyleFunction as StyleFunction);\n    };\n\n    parseStyles();\n  }, [style, map]);\n\n  return (\n    <CardStyle\n      style={style}\n      onStyleChange={setStyle}\n      {...passThroughProps}\n    />\n  );\n};\n\nexport default StylingComponent;\n","import React, {\n  useState\n} from 'react';\n\nimport {\n  faPaintBrush\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Button,\n  Drawer,\n  DrawerProps\n} from 'antd';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport './index.less';\n\nimport StylingComponent from './StylingComponent';\n\nexport type StylingDrawerProps = DrawerProps & {};\n\nexport const StylingDrawer: React.FC<StylingDrawerProps> = ({\n  ...passThroughProps\n}): JSX.Element => {\n\n  const [open, setOpen] = useState(false);\n\n  const {\n    t\n  } = useTranslation();\n\n  const showDrawer = () => {\n    setOpen(true);\n  };\n\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <Button\n        type=\"link\"\n        onClick={showDrawer}\n        icon={<FontAwesomeIcon icon={faPaintBrush} />}\n      >\n        {t('StylingDrawer.pickColor')}\n      </Button>\n      <Drawer\n        title={t('StylingDrawer.title')}\n        placement=\"right\"\n        onClose={onClose}\n        open={open}\n        mask={false}\n        width={'45vw'}\n        className=\"color-pick-drawer\"\n        {...passThroughProps}\n      >\n        <StylingComponent />\n      </Drawer>\n    </>\n  );\n};\n\nexport default StylingDrawer;\n","import React, {\n  ChangeEvent\n} from 'react';\n\nimport {\n  faDrawPolygon,\n  faGripLines,\n  faCircle,\n  faFont,\n  faSquare,\n  faPenToSquare,\n  faUpload,\n  faTrash,\n  faDownload\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Feature\n} from 'ol';\nimport GeoJSON from 'ol/format/GeoJSON';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport DeleteButton from '@terrestris/react-geo/dist/Button/DeleteButton/DeleteButton';\nimport DrawButton from '@terrestris/react-geo/dist/Button/DrawButton/DrawButton';\nimport ModifyButton from '@terrestris/react-geo/dist/Button/ModifyButton/ModifyButton';\nimport SimpleButton from '@terrestris/react-geo/dist/Button/SimpleButton/SimpleButton';\nimport ToggleGroup from '@terrestris/react-geo/dist/Button/ToggleGroup/ToggleGroup';\nimport UploadButton from '@terrestris/react-geo/dist/Button/UploadButton/UploadButton';\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\nimport {\n  DigitizeUtil\n} from '@terrestris/react-geo/dist/Util/DigitizeUtil';\n\nimport './index.less';\n\nimport StylingDrawer from './StylingDrawer';\n\ninterface DefaultDrawProps {\n  showDrawPoint?: boolean;\n  showDrawLine?: boolean;\n  showDrawPolygon?: boolean;\n  showDrawCircle?: boolean;\n  showDrawRectangle?: boolean;\n  showDrawAnnotation?: boolean;\n  showModifyFeatures?: boolean;\n  showUploadFeatures?: boolean;\n  showDownloadFeatures?: boolean;\n  showDeleteFeatures?: boolean;\n}\n\nexport interface DrawProps extends Partial<DefaultDrawProps> { }\n\nexport const Draw: React.FC<DrawProps> = ({\n  showDrawPoint,\n  showDrawLine,\n  showDrawPolygon,\n  showDrawCircle,\n  showDrawRectangle,\n  showDrawAnnotation,\n  showModifyFeatures,\n  showUploadFeatures,\n  showDownloadFeatures,\n  showDeleteFeatures\n}): JSX.Element => {\n  const {\n    t\n  } = useTranslation();\n\n  const map = useMap();\n\n  const onGeoJSONDownload = () => {\n    const clonedFeatures: Feature[] = [];\n    if (map) {\n      const mapProjection = map.getView().getProjection().getCode();\n      const digitizeLayer = DigitizeUtil.getDigitizeLayer(map);\n      const digitizedFeatures = digitizeLayer.getSource()?.getFeatures();\n      if (digitizedFeatures && digitizedFeatures.length > 0) {\n        digitizedFeatures.forEach(feat => {\n          const clonedFeature = feat.clone();\n          clonedFeature.getGeometry()?.transform(mapProjection, 'EPSG:4326');\n          clonedFeatures.push(clonedFeature);\n        });\n        const geoJSON = new GeoJSON().writeFeatures(clonedFeatures);\n\n        const fileToDownload = new Blob([geoJSON], {\n          type: 'application/geo+json'\n        });\n\n        // download the file\n        const url = window.URL.createObjectURL(fileToDownload);\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', 'exportedFeatures.geojson');\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    }\n  };\n\n  const onUploadChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const uploadedFiles = e.target.files;\n    if (\n      (uploadedFiles && uploadedFiles.length === 1) &&\n      (\n        uploadedFiles[0].type === 'application/geo+json' ||\n        uploadedFiles[0].type === 'application/geojson'\n      )\n    ) {\n      onGeoJSONUpload(uploadedFiles[0]);\n    }\n  };\n\n  const onGeoJSONUpload = (geoJSONFile: File) => {\n    const fileReader = new FileReader();\n\n    fileReader.onload = () => {\n      const geoJSONFeatures = new GeoJSON().readFeatures(fileReader.result);\n\n      if (map) {\n        const mapProjection = map.getView().getProjection().getCode();\n        geoJSONFeatures.forEach(feat => {\n          feat.getGeometry()?.transform('EPSG:4326', mapProjection);\n        });\n        const digitizeLayer = DigitizeUtil.getDigitizeLayer(map);\n        const digitizeLayerSource = digitizeLayer.getSource();\n        digitizeLayerSource?.addFeatures(geoJSONFeatures);\n      }\n    };\n\n    fileReader.readAsText(geoJSONFile);\n  };\n\n  if (!map) {\n    return <></>;\n  }\n\n  return (\n    <ToggleGroup>\n\n      {showDrawPoint ? (\n        <DrawButton\n          name=\"draw-point\"\n          drawType=\"Point\"\n          type=\"link\"\n          pressed={false}\n        >\n          <FontAwesomeIcon\n            icon={faCircle}\n          />\n          <span\n            className=\"draw-point\"\n          >\n            {t('Draw.point')}\n          </span>\n        </DrawButton>\n      ) : <></>}\n\n      {showDrawLine ? (\n        <DrawButton\n          name=\"draw-line\"\n          drawType=\"LineString\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faGripLines}\n          />\n          <span\n            className=\"draw-line\"\n          >\n            {t('Draw.line')}\n          </span>\n        </DrawButton>\n      ) : <></>}\n\n      {showDrawPolygon ? (\n        <DrawButton\n          name=\"draw-polygon\"\n          drawType=\"Polygon\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faDrawPolygon}\n          />\n          <span\n            className=\"draw-polygon\"\n          >\n            {t('Draw.polygon')}\n          </span>\n        </DrawButton>\n      ) : <></>}\n\n      {showDrawCircle ? (\n        <DrawButton\n          name=\"draw-circle\"\n          drawType=\"Circle\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faCircle}\n          />\n          <span\n            className=\"draw-circle\"\n          >\n            {t('Draw.circle')}\n          </span>\n        </DrawButton>\n      ) : <></>}\n\n      {showDrawRectangle ? (\n        <DrawButton\n          name=\"draw-rectangle\"\n          drawType=\"Rectangle\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faSquare}\n          />\n          <span\n            className=\"draw-rectangle\"\n          >\n            {t('Draw.rectangle')}\n          </span>\n        </DrawButton>\n      ) : <></>}\n\n      {showDrawAnnotation ? (\n        <DrawButton\n          name=\"draw-text\"\n          drawType=\"Text\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faFont}\n          />\n          <span\n            className=\"draw-text\"\n          >\n            {t('Draw.text')}\n          </span>\n        </DrawButton>\n      ) : <></>}\n\n      {showModifyFeatures ? (\n        <ModifyButton\n          name=\"draw-modify\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faPenToSquare}\n          />\n          <span\n            className=\"draw-modify\"\n          >\n            {t('Draw.modify')}\n          </span>\n        </ModifyButton>\n      ) : <></>}\n\n      {showUploadFeatures ? (\n        <UploadButton\n          name=\"draw-upload\"\n          onChange={onUploadChange}\n          type=\"link\"\n        >\n          <SimpleButton\n            type=\"link\"\n          >\n            <FontAwesomeIcon\n              icon={faUpload}\n            />\n            <span\n              className=\"draw-upload\"\n            >\n              {t('Draw.upload')}\n            </span>\n          </SimpleButton>\n        </UploadButton>\n      ) : <></>}\n\n      {showDownloadFeatures ? (\n        <SimpleButton\n          name=\"draw-export\"\n          onClick={onGeoJSONDownload}\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faDownload}\n          />\n          <span\n            className=\"draw-export\"\n          >\n            {t('Draw.export')}\n          </span>\n        </SimpleButton>\n      ) : <></>}\n\n      {showDeleteFeatures ? (\n        <DeleteButton\n          name=\"draw-delete\"\n          type=\"link\"\n        >\n          <FontAwesomeIcon\n            icon={faTrash}\n          />\n          <span\n            className=\"draw-delete\"\n          >\n            {t('Draw.delete')}\n          </span>\n        </DeleteButton>\n      ) : <></>}\n      <StylingDrawer />\n    </ToggleGroup>\n  );\n};\n\nexport default Draw;\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  faCopy\n} from '@fortawesome/free-solid-svg-icons';\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\nimport {\n  Button,\n  Pagination,\n  TableProps,\n  Tooltip\n} from 'antd';\n\nimport copy from 'copy-to-clipboard';\n\nimport _isFinite from 'lodash/isFinite';\n\nimport OlFeature from 'ol/Feature';\nimport OlFormatGeoJSON from 'ol/format/GeoJSON';\nimport OlLayerVector from 'ol/layer/Vector';\nimport OlSourceVector from 'ol/source/Vector';\nimport OlStyleCircle from 'ol/style/Circle';\nimport OlStyleFill from 'ol/style/Fill';\nimport OlStyleStroke from 'ol/style/Stroke';\nimport OlStyle from 'ol/style/Style';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport MapUtil from '@terrestris/ol-util/dist/MapUtil/MapUtil';\n\nimport {\n  useMap\n} from '@terrestris/react-geo';\nimport PropertyGrid from '@terrestris/react-geo/dist/Grid/PropertyGrid/PropertyGrid';\n\nimport './index.less';\n\nexport type FeatureInfoPropertyGridProps = {\n  features: OlFeature[];\n  layerName?: string;\n} & TableProps<OlFeature>;\n\nexport const FeatureInfoPropertyGrid: React.FC<FeatureInfoPropertyGridProps> = ({\n  features,\n  layerName = 'Unknown layer',\n  ...restProps\n}): JSX.Element => {\n  const [currentPage, setCurrenPage] = useState<number>();\n  const [selectedFeature, setSelectedFeature] = useState<OlFeature>();\n\n  const map = useMap();\n\n  const {\n    t\n  } = useTranslation();\n\n  const vectorLayerName = `selection-layer-${layerName}`;\n\n  const onChange = (page: number) => {\n    setCurrenPage(page);\n    setSelectedFeature(features[page - 1]);\n  };\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n\n    const initVectorLayer = () => {\n      if (MapUtil.getLayerByName(map, vectorLayerName)) {\n        return;\n      }\n\n      const source = new OlSourceVector({\n        features: features\n      });\n\n      const fill = new OlStyleFill({\n        color: 'rgba(255, 255, 255, 0.15)'\n      });\n      const stroke = new OlStyleStroke({\n        color: 'rgba(209, 70, 47, 1)',\n        width: 2\n      });\n      const featureStyle = new OlStyle({\n        fill,\n        stroke,\n        image: new OlStyleCircle({\n          radius: 5,\n          fill,\n          stroke\n        })\n      });\n\n      const layer = new OlLayerVector({\n        source: source,\n        style: featureStyle\n      });\n\n      layer.set('name', vectorLayerName);\n\n      map.addLayer(layer);\n    };\n\n    const deinitVectorLayer = () => {\n      const vectorLayer = MapUtil.getLayerByName(map, vectorLayerName) as OlLayerVector<OlSourceVector>;\n\n      if (!vectorLayer) {\n        return;\n      }\n\n      map.removeLayer(vectorLayer);\n    };\n\n    initVectorLayer();\n\n    return () => deinitVectorLayer();\n  }, [features, map, vectorLayerName]);\n\n  useEffect(() => {\n    if (!map) {\n      return;\n    }\n\n    const vectorLayer = MapUtil.getLayerByName(map, vectorLayerName) as OlLayerVector<OlSourceVector>;\n\n    if (!vectorLayer) {\n      return;\n    }\n\n    vectorLayer.getSource()?.clear();\n    setCurrenPage(1);\n\n    if (features.length > 0) {\n      setSelectedFeature(features[0]);\n    }\n  }, [features, map, vectorLayerName]);\n\n  useEffect(() => {\n    if (!selectedFeature || !map) {\n      return;\n    }\n\n    const vectorLayer = MapUtil.getLayerByName(map, vectorLayerName) as OlLayerVector<OlSourceVector>;\n\n    if (!vectorLayer) {\n      return;\n    }\n\n    vectorLayer.getSource()?.clear();\n\n    vectorLayer.getSource()?.addFeature(selectedFeature);\n  }, [selectedFeature, map, vectorLayerName]);\n\n  if (!selectedFeature) {\n    return <></>;\n  }\n\n  return (\n    <>\n      <div\n        className='property-grid-header'\n      >\n        {\n          layerName && <span>{layerName}</span>\n        }\n        <div\n          className='right-elements'\n        >\n          <Pagination\n            simple\n            total={features.length}\n            size=\"small\"\n            pageSize={1}\n            current={currentPage}\n            onChange={onChange}\n          />\n          <Tooltip\n            title=\"Copy to clipboard\"\n          >\n            <Button\n              type=\"primary\"\n              onClick={() => {\n                copy(new OlFormatGeoJSON().writeFeature(selectedFeature));\n              }}\n              icon={<FontAwesomeIcon icon={faCopy} />}\n            />\n          </Tooltip>\n        </div>\n      </div>\n      <PropertyGrid\n        feature={selectedFeature}\n        size=\"small\"\n        sticky={true}\n        columns={[{\n          title: 'Key',\n          dataIndex: 'attributeName',\n          key: 'attributeName',\n          width: '50%',\n          ellipsis: true,\n          defaultSortOrder: 'ascend',\n          sorter: (a, b) => a.key.localeCompare(b.key)\n        }, {\n          title: 'Value',\n          dataIndex: 'attributeValue',\n          key: 'attributeValue',\n          width: '50%',\n          ellipsis: true\n        }]}\n        scroll={{\n          y: Object.keys(selectedFeature.getProperties()).length > 6 ?\n            250 :\n            undefined\n        }}\n        {...restProps}\n      />\n    </>\n  );\n};\n\nexport default FeatureInfoPropertyGrid;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\n\nimport {\n  getUid\n} from 'ol';\nimport OlFormatGeoJSON from 'ol/format/GeoJSON';\nimport OlLayerImage from 'ol/layer/Image';\nimport OlLayerTile from 'ol/layer/Tile';\nimport OlSourceImageWMS from 'ol/source/ImageWMS';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport MapUtil from '@terrestris/ol-util/dist/MapUtil/MapUtil';\n\nimport CoordinateInfo, {\n  CoordinateInfoState,\n  CoordinateInfoProps\n} from '@terrestris/react-geo/dist/CoordinateInfo/CoordinateInfo';\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\nimport {\n  WmsLayer\n} from '@terrestris/react-geo/dist/Util/typeUtils';\n\nimport {\n  getBearerTokenHeader\n} from '@terrestris/shogun-util/dist/security/getBearerTokenHeader';\n\nimport useAppDispatch from '../../../hooks/useAppDispatch';\nimport usePlugins from '../../../hooks/usePlugins';\nimport useSHOGunAPIClient from '../../../hooks/useSHOGunAPIClient';\n\nimport {\n  isFeatureInfoIntegration\n} from '../../../plugin';\n\nimport {\n  SelectedFeatures,\n  setSelectedFeatures\n} from '../../../store/selectedFeatures';\n\nimport FeatureInfoPropertyGrid from './FeaturePropertyGrid';\n\nimport './index.less';\n\nexport type FeatureInfoProps = {\n  enabled?: boolean;\n} & Partial<CoordinateInfoProps>;\n\nexport const FeatureInfo: React.FC<FeatureInfoProps> = ({\n  enabled,\n  ...restProps\n}): JSX.Element => {\n  const {\n    t\n  } = useTranslation();\n\n  const map = useMap();\n  const client = useSHOGunAPIClient();\n  const plugins = usePlugins();\n  const dispatch = useAppDispatch();\n\n  if (!map) {\n    return <></>;\n  }\n\n  const queryLayers = MapUtil.getAllLayers(map)\n    .filter((layer) => {\n      if (!layer.get('hoverable')) {\n        return false;\n      }\n\n      if (layer instanceof OlLayerImage && layer.getSource() instanceof OlSourceImageWMS) {\n        return true;\n      }\n\n      if (layer instanceof OlLayerTile && layer.getSource() instanceof OlSourceTileWMS) {\n        return true;\n      }\n\n      return false;\n    }) as WmsLayer[];\n\n  const resultRenderer = (coordinateInfoState: CoordinateInfoState) => {\n    const features = coordinateInfoState.features;\n    const loading = coordinateInfoState.loading;\n\n    if (Object.keys(features).length === 0) {\n      return (\n        <span className='usage-hint'>\n          {t('FeatureInfo.usageHint')}\n        </span>\n      );\n    }\n\n    const renderers: JSX.Element[] = [];\n\n    Object.keys(features).forEach(layerName => {\n      let pluginRendererAvailable = false;\n\n      plugins.forEach(plugin => {\n        if (isFeatureInfoIntegration(plugin.integration) &&\n          ((Array.isArray(plugin.integration.layers) && plugin.integration.layers.includes(layerName)) ||\n          !plugin.integration.layers)) {\n          const {\n            key,\n            wrappedComponent: WrappedPluginComponent\n          } = plugin;\n\n          renderers.push(\n            <WrappedPluginComponent\n              key={key}\n            />\n          );\n\n          pluginRendererAvailable = true;\n        }\n      });\n\n      if (!pluginRendererAvailable) {\n        renderers.push(\n          <div\n            key={layerName}\n          >\n            <FeatureInfoPropertyGrid\n              features={features[layerName]}\n              layerName={layerName}\n              loading={loading}\n            />\n          </div>\n        );\n      }\n    });\n\n    return renderers;\n  };\n\n  if (!enabled) {\n    return <></>;\n  }\n\n  const getFetchOpts = () => {\n    const opts: {\n      [uid: string]: RequestInit;\n    } = {};\n\n    queryLayers.forEach(layer => {\n      const layerUid = getUid(layer);\n      opts[layerUid] = {\n        headers: {\n          ...layer.get('useBearerToken') ? {\n            ...getBearerTokenHeader(client?.getKeycloak())\n          } : undefined\n        }\n      };\n    });\n\n    return opts;\n  };\n\n  const onSuccess = (coordinateInfoState: CoordinateInfoState) => {\n    const features = coordinateInfoState.features;\n\n    const serializedFeatures: SelectedFeatures = {};\n    Object.entries(features).forEach(entry => {\n      const layerName = entry[0];\n      const selectedFeatures = entry[1];\n\n      serializedFeatures[layerName] = new OlFormatGeoJSON().writeFeatures(selectedFeatures);\n    });\n\n    dispatch(setSelectedFeatures(serializedFeatures));\n  };\n\n  return (\n    <div className='feature-info-panel'>\n      <CoordinateInfo\n        featureCount={10}\n        map={map}\n        queryLayers={queryLayers}\n        resultRenderer={resultRenderer}\n        fetchOpts={getFetchOpts()}\n        onSuccess={onSuccess}\n        {...restProps}\n      />\n    </div>\n  );\n};\n\nexport default FeatureInfo;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ReactNode,\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  faClock\n} from '@fortawesome/free-solid-svg-icons';\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Divider\n} from 'antd';\n\nimport moment from 'moment';\n\nimport OlLayerImage from 'ol/layer/Image';\nimport OlLayerTile from 'ol/layer/Tile';\nimport OlSourceImageWMS from 'ol/source/ImageWMS';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport type {\n  MarkObj\n} from 'rc-slider/es/Marks';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport TimeSlider, {\n  TimeSliderProps\n} from '@terrestris/react-geo/dist/Slider/TimeSlider/TimeSlider';\n\nimport './index.less';\n\ninterface WmsTimeSliderProps extends Omit<TimeSliderProps, 'min' | 'max' | 'marks' | 'useRange' |\n  'onChange' | 'defaultValue' | 'value' | 'formatString'> {\n  layer: OlLayerTile<OlSourceTileWMS> | OlLayerImage<OlSourceImageWMS>;\n}\n\nexport const WmsTimeSlider: React.FC<WmsTimeSliderProps> = ({\n  layer,\n  ...passThroughProps\n}) => {\n  const [value, setValue] = useState<string | [string, string]>(layer.getSource()?.getParams().TIME);\n  const [min, setMin] = useState<string>();\n  const [max, setMax] = useState<string>();\n  const [marks, setMarks] = useState<Record<string | number, string> | undefined>();\n\n  const {\n    t\n  } = useTranslation();\n\n  useEffect(() => {\n    const timeValues = layer.get('dimension')?.values?.split(',');\n\n    if (!timeValues || timeValues.length === 0) {\n      return;\n    }\n\n    setMin(timeValues[0]);\n    setMax(timeValues[timeValues.length - 1]);\n    setValue(timeValues[timeValues.length - 1]);\n\n    const m: Record<string | number, string> = {};\n    timeValues.forEach((val: string, idx: number) => {\n      m[val] = moment(val).format('YYYY-MM-DD');\n    });\n\n    setMarks(m);\n\n    if (timeValues.default === 'current') {\n      let nearest: [number, string] = [NaN, ''];\n      Object.values(m).forEach(d => {\n        let diff = moment().diff(moment(d));\n\n        if (diff < nearest[0]) {\n          nearest = [diff, d];\n        }\n      });\n\n      setValue(nearest[1]);\n    }\n  }, [layer]);\n\n  const onChange = (val: string | [string, string]) => {\n    setValue(val);\n\n    layer.getSource()?.updateParams({\n      TIME: val\n    });\n  };\n\n  return (\n    <div\n      className=\"wms-time-slider\"\n    >\n      <Divider>\n        <FontAwesomeIcon\n          icon={faClock}\n        />\n        {t('WmsTimeSlider.title')}\n      </Divider>\n      {\n        marks ?\n          <TimeSlider\n            min={min}\n            max={max}\n            marks={marks}\n            value={value}\n            onChange={onChange}\n            step={null}\n            {...passThroughProps}\n          /> :\n          <span>\n            {t('WmsTimeSlider.warning')}\n          </span>\n      }\n    </div>\n  );\n};\n\nexport default WmsTimeSlider;\n","import React, {\n  useState\n} from 'react';\n\nimport {\n  faEllipsisV\n} from '@fortawesome/free-solid-svg-icons';\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Dropdown,\n  DropDownProps,\n  notification,\n  Spin\n} from 'antd';\nimport {\n  ItemType\n} from 'antd/lib/menu/hooks/useItems';\n\nimport {\n  getUid\n} from 'ol';\nimport {\n  Extent as OlExtent\n} from 'ol/extent';\nimport LayerGroup from 'ol/layer/Group';\nimport OlLayerImage from 'ol/layer/Image';\nimport OlLayerTile from 'ol/layer/Tile';\nimport {\n  transformExtent\n} from 'ol/proj';\nimport OlSourceImageWMS from 'ol/source/ImageWMS';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport {\n  MenuInfo\n} from 'rc-menu/lib/interface';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport Logger from '@terrestris/base-util/dist/Logger';\n\nimport LayerUtil from '@terrestris/ol-util/dist/LayerUtil/LayerUtil';\n\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport {\n  DownloadConfig\n} from '@terrestris/shogun-util/dist/model/Layer';\nimport {\n  getBearerTokenHeader\n} from '@terrestris/shogun-util/dist/security/getBearerTokenHeader';\n\nimport useSHOGunAPIClient from '../../../../hooks/useSHOGunAPIClient';\n\nexport type LayerTreeContextMenuProps = {\n  layer: OlLayerTile<OlSourceTileWMS> | OlLayerImage<OlSourceImageWMS>;\n  visibleLegendsIds: string[];\n  setVisibleLegendsIds: (ids: string[]) => void;\n} & Partial<DropDownProps>;\n\nexport const LayerTreeContextMenu: React.FC<LayerTreeContextMenuProps> = ({\n  layer,\n  visibleLegendsIds,\n  setVisibleLegendsIds,\n  ...restProps\n}): JSX.Element => {\n\n  const [settingsVisible, setSettingsVisible] = useState<boolean>(false);\n  const [extentLoading, setExtentLoading] = useState<boolean>(false);\n\n  const client = useSHOGunAPIClient();\n  const map = useMap();\n  const {\n    t\n  } = useTranslation();\n\n  const downloadConfig: DownloadConfig[] = layer.get('downloadConfig') ?? null;\n\n  const onContextMenuItemClick = (evt: MenuInfo): void => {\n    if (evt?.key.startsWith('downloadLayer')) {\n      const url = evt.key.split('|')[1];\n      downloadLayer(decodeURI(url));\n    }\n    switch (evt?.key) {\n      case 'zoomToExtent':\n        zoomToLayerExtent();\n        break;\n      case 'removeExternal':\n        removeExternalLayer();\n        break;\n      case 'toggleLegend':\n        const legendId: string = getUid(layer);\n        const newLegendIds = [...visibleLegendsIds];\n        if (newLegendIds.includes(legendId)) {\n          newLegendIds.splice(newLegendIds.indexOf(legendId), 1);\n        } else {\n          newLegendIds.push(legendId);\n        }\n        setVisibleLegendsIds(newLegendIds);\n        break;\n      default:\n        break;\n    }\n    setSettingsVisible(false);\n  };\n\n  const zoomToLayerExtent = async (): Promise<void> => {\n    if (!map) {\n      return;\n    }\n\n    setExtentLoading(true);\n\n    try {\n      let extent = await LayerUtil.getExtentForLayer(layer, {\n        headers: layer.get('useBearerToken') ? {\n          ...getBearerTokenHeader(client?.getKeycloak())\n        } : {}\n      });\n      extent = transformExtent(extent, 'EPSG:4326', map.getView().getProjection());\n      map.getView().fit(extent);\n    } catch (error) {\n      Logger.error(error);\n      notification.error({\n        message: t('LayerTreeContextMenu.extentError')\n      });\n    } finally {\n      setExtentLoading(false);\n    }\n  };\n\n  const removeExternalLayer = () => {\n    if (!map) {\n      return;\n    }\n\n    const layerGroups = map.getLayers().getArray();\n\n    layerGroups.forEach(layerGroup => {\n      if ((layerGroup as LayerGroup).getLayers) {\n        const existingLayers = (layerGroup as LayerGroup).getLayers();\n        try {\n          if (existingLayers.getLength() === 1) {\n            layerGroup.setVisible(false);\n          }\n          existingLayers.remove(layer);\n        } catch (e) {\n          Logger.error('Could not remove external layer from map.');\n        }\n      }\n    });\n  };\n\n  const downloadLayer = async (url: string) => {\n    if (!layer) {\n      return;\n    }\n    const reqOpts = {\n      method: 'GET',\n      headers: {\n        ...layer.get('useBearerToken') ? {\n          ...getBearerTokenHeader(client?.getKeycloak())\n        } : undefined\n      }\n    };\n\n    const res = await fetch(url, reqOpts);\n    const blob = await res.blob();\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.setAttribute('download', layer.get('name'));\n    a.click();\n  };\n\n  let dropdownMenuItems: ItemType[] = [{\n    label: (\n      <Spin\n        spinning={extentLoading}\n      >\n        {t('LayerTreeContextMenu.layerZoomToExtent')}\n      </Spin>\n    ),\n    key: 'zoomToExtent'\n  }];\n\n  const legendVisible = visibleLegendsIds.includes(getUid(layer));\n  if (layer.getVisible()) {\n    dropdownMenuItems.push({\n      label: legendVisible ? t('LayerTreeContextMenu.hideLegend') : t('LayerTreeContextMenu.showLegend'),\n      key: 'toggleLegend'\n    });\n  }\n\n  if (layer.get('isImported')) {\n    dropdownMenuItems.push({\n      label: t('LayerTreeContextMenu.removeLayer'),\n      key: 'removeExternal'\n    });\n  }\n\n  if (downloadConfig) {\n    const downloadItems = downloadConfig.map((dlConfig: DownloadConfig) => {\n      return {\n        label: t('LayerTreeContextMenu.downloadLayer', {\n          formatName: dlConfig.formatName ?? 'XML'\n        }),\n        key: `downloadLayer|${encodeURI(dlConfig.downloadUrl)}`\n      };\n    });\n    dropdownMenuItems.push(...downloadItems);\n  }\n\n  return (\n    <Dropdown\n      menu={{\n        items: dropdownMenuItems,\n        onClick: onContextMenuItemClick\n      }}\n      placement=\"bottomLeft\"\n      onOpenChange={setSettingsVisible}\n      open={settingsVisible}\n      trigger={['click']}\n      {...restProps}\n    >\n      <FontAwesomeIcon icon={faEllipsisV} />\n    </Dropdown>\n  );\n};\n\nexport default LayerTreeContextMenu;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useState\n} from 'react';\n\nimport {\n  getUid\n} from 'ol';\nimport OlBaseLayer from 'ol/layer/Base';\nimport OlLayerGroup from 'ol/layer/Group';\nimport OlLayerImage from 'ol/layer/Image';\nimport OlLayer from 'ol/layer/Layer';\nimport OlLayerTile from 'ol/layer/Tile';\nimport OlSourceImageWMS from 'ol/source/ImageWMS';\nimport OlSource from 'ol/source/Source';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport MapUtil from '@terrestris/ol-util/dist/MapUtil/MapUtil';\n\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\nimport RgLayerTree, {\n  LayerTreeProps as RgLayerTreeProps\n} from '@terrestris/react-geo/dist/LayerTree/LayerTree';\nimport Legend from '@terrestris/react-geo/dist/Legend/Legend';\nimport LayerTransparencySlider from '@terrestris/react-geo/dist/Slider/LayerTransparencySlider/LayerTransparencySlider';\n\nimport LayerType from '@terrestris/shogun-util/dist/model/enum/LayerType';\n\nimport WmsTimeSlider from '../../WmsTimeSlider';\n\nimport LayerTreeContextMenu from './LayerTreeContextMenu';\n\nimport './index.less';\n\nexport type LayerTreeProps = {} & Partial<RgLayerTreeProps>;\n\nexport const LayerTree: React.FC<LayerTreeProps> = ({\n  ...restProps\n}): JSX.Element => {\n  const map = useMap();\n  const {\n    t\n  } = useTranslation();\n\n  const [visibleLegendsIds, setVisibleLegendsIds] = useState<string[]>([]);\n\n  const treeFilterFunction = (layer: OlLayer<OlSource> | OlLayerGroup) => {\n\n    // @ts-ignore\n    if (layer.getLayers) {\n      return !layer.get('hideInLayerTree');\n    }\n\n    // @ts-ignore\n    if (layer.getSource && layer.getSource().forEachFeature) {\n      return false;\n    }\n    return true;\n  };\n\n  const treeNodeTitleRenderer = (layer: OlBaseLayer) => {\n    if (!map) {\n      return;\n    }\n\n    const mapView = map.getView();\n    const unit = mapView.getProjection().getUnits() || 'm';\n    const resolution = mapView.getResolution();\n    const scale = resolution ? MapUtil.getScaleForResolution(resolution, unit) : undefined;\n\n    if (layer instanceof OlLayerGroup) {\n      return (\n        <div>\n          {layer.get('name')}\n        </div>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"tree-node-header\">\n            <span>{layer.get('name')}</span>\n            {\n              (layer instanceof OlLayerTile || layer instanceof OlLayerImage) && (\n                <LayerTreeContextMenu\n                  layer={(layer)}\n                  visibleLegendsIds={visibleLegendsIds}\n                  setVisibleLegendsIds={setVisibleLegendsIds}\n                />\n              )\n            }\n\n          </div>\n          {\n            layer.get('visible') &&\n            <div className=\"layer-transparency\">\n              <LayerTransparencySlider\n                tooltip={{\n                  formatter: val => `${t('LayerTree.transparency')}: ${val}%`\n                }}\n                layer={layer}\n              />\n            </div>\n          }\n          {\n            (layer.get('visible') && layer.get('type') as LayerType === 'WMSTime') &&\n            <div className=\"layer-time-slider\">\n              <WmsTimeSlider\n                layer={layer as OlLayerTile<OlSourceTileWMS> | OlLayerImage<OlSourceImageWMS>}\n              />\n            </div>\n          }\n          {\n            layer.get('visible') && visibleLegendsIds.includes(getUid(layer)) &&\n            <Legend\n              layer={layer as OlLayerTile<OlSourceTileWMS> | OlLayerImage<OlSourceImageWMS>}\n              errorMsg={t('LayerTree.noLegendAvailable')}\n              extraParams={{\n                scale,\n                LEGEND_OPTIONS: 'fontAntiAliasing:true;forceLabels:on',\n                TRANSPARENT: true\n              }}\n            />\n          }\n        </>\n      );\n    }\n  };\n\n  if (!map) {\n    return <></>;\n  }\n\n  return (\n    <RgLayerTree\n      className=\"layertree\"\n      map={map}\n      nodeTitleRenderer={treeNodeTitleRenderer}\n      filterFunction={treeFilterFunction}\n      draggable\n      {...restProps}\n    />\n  );\n};\n\nexport default LayerTree;\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\n\nimport {\n  faDrawPolygon,\n  faPenRuler\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport MeasureButton from '@terrestris/react-geo/dist/Button/MeasureButton/MeasureButton';\nimport ToggleGroup from '@terrestris/react-geo/dist/Button/ToggleGroup/ToggleGroup';\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport './index.less';\n\ninterface DefaultMeasureProps {\n  showMeasureDistance?: boolean;\n  showMeasureArea?: boolean;\n}\n\nexport interface MeasureProps extends Partial<DefaultMeasureProps> { }\n\nexport const Measure: React.FC<MeasureProps> = ({\n  showMeasureDistance,\n  showMeasureArea\n}): JSX.Element => {\n  const {\n    t\n  } = useTranslation();\n\n  const map = useMap();\n\n  if (!map) {\n    return <></>;\n  }\n\n  return (\n    <ToggleGroup>\n      {showMeasureDistance ? (\n        <MeasureButton\n          geodesic\n          name=\"line\"\n          map={map}\n          measureType=\"line\"\n          type=\"link\"\n          continueLineMsg={t('Measure.clicktodrawline')}\n        >\n          <FontAwesomeIcon icon={faPenRuler} />\n          <span className=\"measure-text\">{t('Measure.line')}</span>\n        </MeasureButton>\n      ) : <></>}\n\n      {showMeasureArea ? (\n        <MeasureButton\n          geodesic\n          name=\"poly\"\n          map={map}\n          measureType=\"polygon\"\n          type=\"link\"\n          continuePolygonMsg={t('Measure.clicktodrawarea')}\n        >\n          <FontAwesomeIcon icon={faDrawPolygon} />\n          <span className=\"measure-text\">{t('Measure.area')}</span>\n        </MeasureButton>\n      ) : <></>}\n\n    </ToggleGroup>\n  );\n};\n\nexport default Measure;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import OlLayer from 'ol/layer/Layer';\nimport OlRendererLayer from 'ol/renderer/Layer';\nimport OlSourceImageWMS from 'ol/source/ImageWMS';\nimport OlSource from 'ol/source/Source';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\n\nimport Shared from '@terrestris/mapfish-print-manager/dist/util/Shared';\n\nShared.getLegendGraphicUrl = (layer: OlLayer<OlSource, OlRendererLayer<any>>): string => {\n  if (layer.get('legendUrl')) {\n    return layer.get('legendUrl');\n  }\n\n  if (layer.getSource() instanceof OlSourceTileWMS ||\n    layer.getSource() instanceof OlSourceImageWMS) {\n\n    const customParams: any = layer.get('customPrintLegendParams');\n    const source: any = layer.getSource();\n\n    const {\n      LAYERS,\n      VERSION,\n      FORMAT\n    } = source.getParams();\n\n    let url: string = source instanceof OlSourceImageWMS ?\n      source.getUrl() :\n      source.getUrls()[0];\n\n    if (url.startsWith('/geoserver/ows')) {\n      url = `http://shogun-geoserver:8080${url}`;\n    }\n\n    const params: any = {\n      LAYER: LAYERS.split(',')[0],\n      VERSION: VERSION || '1.3.0',\n      SERVICE: 'WMS',\n      REQUEST: 'GetLegendGraphic',\n      FORMAT: FORMAT || 'image/png',\n      ...customParams\n    };\n\n    const queryParams = Object.keys(params).map(key => {\n      return `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`;\n    }).join('&');\n\n    if (url.startsWith('/geoserver/SHOGUN')) {\n      url = `http://shogun-geoserver:8080${url}/service?`;\n      return `${url}${queryParams}`;\n    }\n\n    if (url.endsWith('?')) {\n      return `${url}${queryParams}`;\n    } else {\n      return `${url}?${queryParams}`;\n    }\n  }\n\n  return '';\n};\n","import React, {\n  useEffect,\n  useState\n} from 'react';\n\nimport type {\n  IconDefinition\n} from '@fortawesome/fontawesome-common-types';\n\nimport {\n  faChevronDown, faChevronLeft, faChevronRight, faDrawPolygon, faFileDownload, faLanguage, faMousePointer,\n  faPlus, faRuler, faShareNodes, faStream\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  FontAwesomeIcon\n} from '@fortawesome/react-fontawesome';\n\nimport {\n  Button,\n  Collapse,\n  CollapsePanelProps,\n  Tooltip\n} from 'antd';\n\nimport _toArray from 'lodash/toArray';\n\nconst { Panel } = Collapse;\n\nimport {\n  useTranslation\n} from 'react-i18next';\n\nimport {\n  useMap\n} from '@terrestris/react-geo/dist/Hook/useMap';\n\nimport useAppDispatch from '../../hooks/useAppDispatch';\nimport useAppSelector from '../../hooks/useAppSelector';\nimport usePlugins from '../../hooks/usePlugins';\n\nimport {\n  isToolMenuIntegration\n} from '../../plugin';\n\nimport {\n  show as showAdd\n} from '../../store/addLayerModal';\nimport {\n  setActiveKeys\n} from '../../store/toolMenu';\n\nimport LanguageSelect from '../LanguageSelector';\nimport Permalink from '../Permalink';\nimport PrintForm from '../PrintForm';\n\nimport Draw from './Draw';\nimport FeatureInfo from './FeatureInfo';\nimport LayerTree from './LayerTree';\nimport Measure from './Measure';\n\nimport './index.less';\n\nimport '../PrintForm/Shared/Shared';\n\nexport interface TitleEventEntity {\n  key: string;\n  domEvent: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>;\n}\n\nexport type ToolPanelConfig = {\n  icon: IconDefinition;\n  title: string;\n  wrappedComponent: JSX.Element;\n};\n\nexport type ToolMenuProps = {} & Partial<CollapsePanelProps>;\n\nexport const ToolMenu: React.FC<ToolMenuProps> = ({\n  ...restProps\n}): JSX.Element => {\n  const {\n    t\n  } = useTranslation();\n  const map = useMap();\n\n  const plugins = usePlugins();\n\n  const dispatch = useAppDispatch();\n  const availableTools = useAppSelector(state => state.toolMenu.availableTools);\n  const activeKeys = useAppSelector(state => state.toolMenu.activeKeys);\n\n  const [collapsed, setCollapsed] = useState<boolean>(false);\n  const [menuTools, setMenuTools] = useState<string[]>([]);\n\n  useEffect(() => {\n    const mobileQuery = window.matchMedia('only screen and (max-width: 450px) and (orientation: portrait),' +\n      'only screen and (max-width: 750px) and (orientation: landscape), only screen and (max-width: 580px)');\n    const mobileNavigatorRegEx = new RegExp('/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle' +\n      '|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/');\n    const isMobile = mobileQuery.matches || mobileNavigatorRegEx.test(window.navigator.userAgent);\n\n    if (isMobile) {\n      setCollapsed(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (menuTools.length < 1) {\n      if (availableTools.includes('default')) {\n        setMenuTools([\n          'measure_tools',\n          'draw_tools',\n          'feature_info',\n          'print',\n          'tree',\n          'permalink',\n          'language_selector'\n        ]);\n      } else {\n        setMenuTools(availableTools);\n      }\n    }\n  }, [menuTools, availableTools]);\n\n  const getToolPanels = (): JSX.Element[] => {\n\n    const panels: JSX.Element[] = [];\n\n    menuTools.forEach((tool: string) => {\n      const toolPanelConfig: ToolPanelConfig | undefined = getToolPanelConfig(tool);\n\n      if (!toolPanelConfig) {\n        return;\n      }\n      const {\n        icon,\n        title,\n        wrappedComponent\n      } = toolPanelConfig;\n\n      const panel = (\n        <Panel\n          className={tool}\n          header={\n            <>\n              {icon ? <FontAwesomeIcon icon={icon} /> : undefined}\n              <span>{title}</span>\n            </>\n          }\n          key={tool}\n        >\n          {wrappedComponent}\n        </Panel>\n      );\n      panels.push(panel);\n    });\n\n    if (plugins) {\n      plugins.forEach(plugin => {\n        if (isToolMenuIntegration(plugin.integration)) {\n          const {\n            key,\n            wrappedComponent: WrappedPluginComponent,\n            integration: {\n              placement,\n              label = 'Plugin',\n              insertionIndex,\n              icon,\n              ...passThroughProps\n            }\n          } = plugin;\n\n          panels.splice(insertionIndex || 0, 0, (\n            <Panel\n              header={\n                <>\n                  {icon ? <FontAwesomeIcon icon={icon} /> : undefined}\n                  <span>{t(label)}</span>\n                </>\n              }\n              key={key}\n              {...passThroughProps}\n            >\n              <WrappedPluginComponent />\n            </Panel>\n          ));\n        }\n      });\n    }\n    return panels;\n  };\n\n  const getToolPanelConfig = (tool: string): ToolPanelConfig | undefined => {\n\n    switch (tool) {\n      case 'measure_tools':\n        return {\n          icon: faRuler,\n          title: t('ToolMenu.measure'),\n          wrappedComponent: (\n            <Measure\n              showMeasureDistance={\n                availableTools.includes('default') || availableTools.includes('measure_tools_distance')\n              }\n              showMeasureArea={availableTools.includes('default') || availableTools.includes('measure_tools_area')}\n            />\n          )\n        };\n      case 'draw_tools':\n        return {\n          icon: faDrawPolygon,\n          title: t('ToolMenu.draw'),\n          wrappedComponent: (\n            <Draw\n              showDrawPoint={availableTools.includes('default') || availableTools.includes('draw_tools_point')}\n              showDrawLine={availableTools.includes('default') || availableTools.includes('draw_tools_line')}\n              showDrawPolygon={availableTools.includes('default') || availableTools.includes('draw_tools_polygon')}\n              showDrawCircle={availableTools.includes('default') || availableTools.includes('draw_tools_circle')}\n              showDrawRectangle={availableTools.includes('default') || availableTools.includes('draw_tools_rectangle')}\n              showDrawAnnotation={\n                availableTools.includes('default') || availableTools.includes('draw_tools_annotation')\n              }\n              showModifyFeatures={availableTools.includes('default') || availableTools.includes('draw_tools_modify')}\n              showUploadFeatures={availableTools.includes('default') || availableTools.includes('draw_tools_upload')}\n              showDownloadFeatures={\n                availableTools.includes('default') || availableTools.includes('draw_tools_download')\n              }\n              showDeleteFeatures={availableTools.includes('default') || availableTools.includes('draw_tools_delete')}\n            />\n          )\n        };\n      case 'feature_info':\n        return {\n          icon: faMousePointer,\n          title: t('ToolMenu.featureInfo'),\n          wrappedComponent: (\n            <FeatureInfo\n              enabled={activeKeys.includes('feature_info')}\n            />\n          )\n        };\n      case 'print':\n        return {\n          icon: faFileDownload,\n          title: t('ToolMenu.print'),\n          wrappedComponent: (\n            <PrintForm\n              active={activeKeys.includes('print')}\n              map={map!}\n              layerBlackList={[\n                'react-geo_measure',\n                'hoverVectorLayer'\n              ]}\n            />\n          )\n        };\n      case 'tree':\n        return {\n          icon: faStream,\n          title: t('ToolMenu.layertree'),\n          wrappedComponent: (\n            <div className='tree-wrapper'>\n              <LayerTree />\n              <Button\n                className='add-wms-button tool-menu-button'\n                icon={<FontAwesomeIcon icon={faPlus} />}\n                onClick={() => dispatch(showAdd())}\n              >\n                {t('ToolMenu.addWms')}\n              </Button>\n            </div>\n          )\n        };\n      case 'permalink':\n        return {\n          icon: faShareNodes,\n          title: t('Permalink.title'),\n          wrappedComponent: <Permalink />\n        };\n      case 'language_selector':\n        return {\n          icon: faLanguage,\n          title: t('ToolMenu.languageSelect'),\n          wrappedComponent: <LanguageSelect />\n        };\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className={`tool-menu ${collapsed ? 'collapsed' : ''}`}>\n      <Collapse\n        expandIcon={() => <FontAwesomeIcon icon={faChevronDown} />}\n        expandIconPosition='end'\n        activeKey={activeKeys}\n        onChange={(keys: string[] | string) => {\n          setCollapsed(false);\n          dispatch(setActiveKeys(_toArray(keys)));\n        }}\n        {...restProps}\n      >\n        {getToolPanels()}\n      </Collapse>\n      <Tooltip\n        placement={'right'}\n        title={collapsed ? t('ToolMenu.expand') : t('ToolMenu.collapse')}\n      >\n        <Button\n          className=\"collapse-btn\"\n          icon={\n            collapsed ?\n              <FontAwesomeIcon icon={faChevronRight} /> :\n              <FontAwesomeIcon icon={faChevronLeft} />\n          }\n          onClick={() => {\n            dispatch(setActiveKeys([]));\n            setCollapsed(!collapsed);\n          }}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default ToolMenu;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./App.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./App.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useEffect\n} from 'react';\n\nimport AddLayerModal from './components/AddLayerModal/index';\nimport BasicMapComponent from './components/BasicMapComponent';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport ToolMenu from './components/ToolMenu';\n\nimport './App.less';\n\nexport interface AppProps extends React.ComponentProps<'div'> { };\n\nexport const App: React.FC<AppProps> = ({\n  ...restProps\n}): JSX.Element => {\n\n  useEffect(() => {\n    const loadingMask = document.querySelectorAll('.loadmask')[0];\n\n    if (loadingMask) {\n      loadingMask.classList.add('loadmask-hidden');\n    }\n  }, []);\n\n  return (\n    <div\n      className=\"App\"\n      {...restProps}\n    >\n      <Header />\n      <BasicMapComponent />\n      <ToolMenu />\n      <Footer />\n      <AddLayerModal />\n    </div>\n  );\n};\n\nexport default App;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nimport {\n  AppInfo\n} from '@terrestris/shogun-util/dist/model/AppInfo';\n\nconst initialState: AppInfo = {\n  authorities: [],\n  buildTime: '',\n  commitHash: '',\n  userId: -1,\n  version: ''\n};\n\nexport const slice = createSlice({\n  name: 'appInfo',\n  initialState,\n  reducers: {\n    setAppInfo(state, action: PayloadAction<AppInfo>) {\n      return action.payload;\n    }\n  }\n});\n\nexport const {\n  setAppInfo\n} = slice.actions;\n\nexport default slice.reducer;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nconst initialState: string = '';\n\nexport const slice = createSlice({\n  name: 'description',\n  initialState,\n  reducers: {\n    setDescription: (state, action: PayloadAction<string>) => {\n      return action.payload;\n    }\n  }\n});\n\nexport const {\n  setDescription\n} = slice.actions;\n\nexport default slice.reducer;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nconst initialState: string = './shogun_logo.png';\n\nexport const slice = createSlice({\n  name: 'logoPath',\n  initialState,\n  reducers: {\n    setLogoPath: (state, action: PayloadAction<string>) => {\n      return action.payload;\n    }\n  }\n});\n\nexport const {\n  setLogoPath\n} = slice.actions;\n\nexport default slice.reducer;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nconst initialState: string = 'SHOGun Client';\n\nexport const slice = createSlice({\n  name: 'title',\n  initialState,\n  reducers: {\n    setTitle: (state, action: PayloadAction<string>) => {\n      return action.payload;\n    }\n  }\n});\n\nexport const {\n  setTitle\n} = slice.actions;\n\nexport default slice.reducer;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nimport User from '@terrestris/shogun-util/dist/model/User';\n\nconst initialState: User = { };\n\nexport const slice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUser(state, action: PayloadAction<User>) {\n      return action.payload;\n    }\n  }\n});\n\nexport const {\n  setUser\n} = slice.actions;\n\nexport default slice.reducer;\n","import {\n  combineReducers,\n  configureStore,\n  Reducer\n} from '@reduxjs/toolkit';\n\nimport addLayerModal from './addLayerModal';\nimport appInfo from './appInfo';\nimport description from './description';\nimport logoPath from './logoPath';\nimport selectedFeatures from './selectedFeatures';\nimport title from './title';\nimport toolMenu from './toolMenu';\nimport user from './user';\n\ntype AsyncReducer = {\n  [key: string]: Reducer;\n};\n\nexport const createReducer = (asyncReducers?: AsyncReducer) => {\n  return combineReducers({\n    appInfo,\n    title,\n    description,\n    logoPath,\n    toolMenu,\n    addLayerModal,\n    user,\n    selectedFeatures,\n    ...asyncReducers\n  });\n};\n\nexport const store = configureStore({\n  reducer: createReducer()\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./index.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\n\nimport {\n  Alert,\n  ConfigProvider,\n  notification\n} from 'antd';\n\nimport deDE from 'antd/lib/locale/de_DE';\nimport enGB from 'antd/lib/locale/en_GB';\n\nimport ClientConfiguration from 'clientConfig';\n\nimport Color from 'color';\n\nimport Keycloak from 'keycloak-js';\n\nimport {\n  defaults as OlControlDefaults\n} from 'ol/control';\nimport OlLayerGroup from 'ol/layer/Group';\nimport OlLayerTile from 'ol/layer/Tile';\nimport OlMap from 'ol/Map';\nimport {\n  fromLonLat\n} from 'ol/proj';\nimport OlSourceOsm from 'ol/source/OSM';\nimport OlSourceTileWMS from 'ol/source/TileWMS';\nimport OlView from 'ol/View';\n\nimport {\n  render\n} from 'react-dom';\n\nimport {\n  Provider\n} from 'react-redux';\n\nimport Logger from '@terrestris/base-util/dist/Logger';\nimport UrlUtil from '@terrestris/base-util/dist/UrlUtil/UrlUtil';\n\nimport MapContext from '@terrestris/react-geo/dist/Context/MapContext/MapContext';\n\nimport {\n  AppInfo\n} from '@terrestris/shogun-util/dist/model/AppInfo';\nimport Application, {\n  DefaultApplicationToolConfig\n} from '@terrestris/shogun-util/dist/model/Application';\nimport User from '@terrestris/shogun-util/dist/model/User';\nimport SHOGunApplicationUtil from '@terrestris/shogun-util/dist/parser/SHOGunApplicationUtil';\nimport SHOGunAPIClient from '@terrestris/shogun-util/dist/service/SHOGunAPIClient';\n\nconst App = React.lazy(() => import('./App'));\n\nimport {\n  PluginProvider\n} from './context/PluginContext';\nimport {\n  SHOGunAPIClientProvider\n} from './context/SHOGunAPIClientContext';\n\nimport i18n from './i18n';\n\nimport {\n  ClientPluginInternal\n} from './plugin';\n\nimport {\n  setAppInfo\n} from './store/appInfo';\nimport {\n  setDescription\n} from './store/description';\nimport {\n  setLogoPath\n} from './store/logoPath';\nimport {\n  createReducer,\n  store\n} from './store/store';\nimport {\n  setTitle\n} from './store/title';\nimport {\n  setAvailableTools\n} from './store/toolMenu';\nimport {\n  setUser\n} from './store/user';\n\nimport './index.less';\n\n// TODO: extend antd properties too\nexport interface ThemeProperties extends React.CSSProperties {\n  '--primaryColor'?: string;\n  '--secondaryColor'?: string;\n  '--complementaryColor'?: string;\n}\n\nconst client = new SHOGunAPIClient({\n  url: ClientConfiguration.shogunBase || '/'\n});\n\nconst parser = new SHOGunApplicationUtil({\n  client\n});\n\nconst getConfigLang = (lang: string) => {\n  switch (lang) {\n    case 'en':\n      return enGB;\n    case 'de':\n      return deDE;\n    default:\n      return enGB;\n  }\n};\n\nconst getApplicationConfiguration = async () => {\n  const applicationId = UrlUtil.getQueryParam(window.location.href, 'applicationId');\n\n  if (!applicationId) {\n    Logger.info('No application ID given, can\\'t load any configuration.');\n    return;\n  }\n\n  try {\n    Logger.info(`Loading application with ID ${applicationId}`);\n\n    const application = await client.application().findOne(applicationId);\n\n    Logger.info(`Successfully loaded application with ID ${applicationId}`);\n\n    return application;\n  } catch (error) {\n    Logger.error(`Error while loading application with ID ${applicationId}: ${error}`);\n\n    notification.error({\n      message: i18n.t('Index.applicationLoadErrorMessage'),\n      description: i18n.t('Index.applicationLoadErrorDescription', {\n        applicationId: applicationId\n      }),\n      duration: 0\n    });\n  }\n};\n\nconst getApplicationInfo = async () => {\n  try {\n    Logger.info('Loading application info');\n\n    const appInfo = await client.info().getAppInfo();\n\n    Logger.info('Successfully loaded application info');\n\n    return appInfo;\n  } catch (error) {\n    Logger.error('Error while loading application info: ', error);\n  }\n};\n\nconst getUser = async (userId?: number) => {\n  if (!userId) {\n    Logger.info('No user ID given, can\\'t load it\\'s details.');\n    return;\n  }\n\n  try {\n    Logger.info(`Loading user with ID ${userId}`);\n\n    const user = await client.user().findOne(userId);\n\n    Logger.info(`Successfully loaded user with ID ${userId}`);\n\n    return user;\n  } catch (error) {\n    Logger.error(`Error while loading user with ID ${userId}: `, error);\n  }\n};\n\nconst setApplicationToStore = async (application?: Application) => {\n  if (!application) {\n    Logger.info('No application configuration provided, the default store will be loaded');\n\n    return;\n  }\n\n  if (application.name) {\n    store.dispatch(setTitle(application.name));\n  }\n\n  if (application.clientConfig?.description) {\n    store.dispatch(setDescription(application.clientConfig?.description));\n  }\n\n  if (application?.clientConfig?.theme?.logoPath) {\n    store.dispatch(setLogoPath(application.clientConfig.theme.logoPath));\n  }\n\n  if (application.toolConfig) {\n    const availableTools: string[] = [];\n    application.toolConfig\n      .map((tool: DefaultApplicationToolConfig) => {\n        if (tool.config.visible) {\n          availableTools.push(tool.name);\n        };\n      });\n\n    store.dispatch(setAvailableTools(availableTools));\n  };\n};\n\nconst setAppInfoToStore = async (appInfo?: AppInfo) => {\n  if (!appInfo) {\n    return;\n  }\n\n  store.dispatch(setAppInfo(appInfo));\n};\n\nconst setUserToStore = async (user?: User) => {\n  if (!user) {\n    return;\n  }\n\n  store.dispatch(setUser(user));\n};\n\nconst initKeycloak = async () => {\n  const keycloakEnabled = ClientConfiguration.keycloak?.enabled;\n  const keycloakOnLoad = ClientConfiguration.keycloak?.onLoadAction;\n  const keycloakHost = ClientConfiguration.keycloak?.host;\n  const keycloakRealm = ClientConfiguration.keycloak?.realm;\n  const keycloakClientId = ClientConfiguration.keycloak?.clientId;\n\n  if (!keycloakEnabled) {\n    return undefined;\n  }\n\n  if (!keycloakHost) {\n    throw new Error('Neither config key keycloak.host nor environment KEYCLOAK_HOST is set');\n  }\n\n  if (!keycloakRealm) {\n    throw new Error('Neither config key keycloak.realm nor environment KEYCLOAK_REALM is set');\n  }\n\n  if (!keycloakClientId) {\n    throw new Error('Neither config key keycloak.clientId nor environment KEYCLOAK_CLIENT_ID is set');\n  }\n\n  const keycloak = new Keycloak({\n    url: `${keycloakHost}`,\n    realm: keycloakRealm,\n    clientId: keycloakClientId\n  });\n\n  keycloak.onTokenExpired = async () => {\n    try {\n      await keycloak.updateToken(0);\n    } catch (error) {\n      Logger.error('Error while refreshing the access token: ', error);\n    }\n  };\n\n  await keycloak.init({\n    onLoad: keycloakOnLoad\n  });\n\n  return keycloak;\n};\n\nconst setApplicationTitle = () => {\n  store.subscribe(() => {\n    document.title = store.getState().title;\n  });\n};\n\nconst setupMap = async (application?: Application) => {\n  if (application) {\n    return await setupSHOGunMap(application);\n  }\n\n  Logger.info('No application configuration provided, the default map will be loaded');\n\n  return setupDefaultMap();\n};\n\nconst setupSHOGunMap = async (application: Application) => {\n  const view = await parser.parseMapView(application);\n  const layers = await parser.parseLayerTree(application);\n\n  view.setConstrainResolution(true);\n\n  const externalWmsLayerGroup = new OlLayerGroup({\n    layers: []\n  });\n  externalWmsLayerGroup.set('name', i18n.t('AddLayerModal.externalWmsFolder'));\n\n  externalWmsLayerGroup.set('hideInLayerTree', externalWmsLayerGroup.getLayers().getLength() < 1);\n\n  layers?.getLayers().extend([externalWmsLayerGroup]);\n\n  return new OlMap({\n    view,\n    layers,\n    controls: OlControlDefaults({\n      zoom: false\n    })\n  });\n};\n\nconst setupDefaultMap = () => {\n  const osmLayer = new OlLayerTile({\n    source: new OlSourceOsm()\n  });\n  osmLayer.set('name', 'OpenStreetMap');\n\n  const temperatureLayer = new OlLayerTile({\n    opacity: 0.5,\n    visible: true,\n    source: new OlSourceTileWMS({\n      url: 'https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi',\n      projection: 'EPSG:3857',\n      params: {\n        LAYERS: 'MERRA2_2m_Air_Temperature_Assimilated_Monthly'\n      }\n    })\n  });\n  temperatureLayer.setProperties({\n    name: '2-meter Air Temperature, Assimilated (Monthly, MERRA2)',\n    hoverable: true\n  });\n\n  const externalLayerGroup = new OlLayerGroup({\n    layers: []\n  });\n  externalLayerGroup.set('name', i18n.t('AddLayerModal.externalWmsFolder'));\n  externalLayerGroup.set('isGroupForImportedLayers', true);\n\n  externalLayerGroup.set('hideInLayerTree', externalLayerGroup.getLayers().getLength() < 1);\n\n  const eoLayerGroup = new OlLayerGroup({\n    layers: [temperatureLayer]\n  });\n  eoLayerGroup.set('name', 'NASA Earth Observations');\n\n  const backgroundLayerGroup = new OlLayerGroup({\n    layers: [osmLayer]\n  });\n  backgroundLayerGroup.set('name', 'Background');\n\n  const center = fromLonLat([0, 40], 'EPSG:3857');\n\n  return new OlMap({\n    view: new OlView({\n      center: center,\n      zoom: 0\n    }),\n    layers: [backgroundLayerGroup, eoLayerGroup, externalLayerGroup],\n    controls: OlControlDefaults({\n      zoom: false\n    })\n  });\n};\n\nconst parseTheme = (theme?: any): ThemeProperties => {\n  const style: any = {\n    '--primaryColor': '#59666C',\n    '--secondaryColor': '#70B3BE',\n    '--complementaryColor': '#FFFFFF'\n  };\n  if (!theme) {\n    return style;\n  }\n  if (theme.primaryColor) {\n    style['--primaryColor'] = theme.primaryColor;\n  }\n  if (theme.secondaryColor) {\n    style['--secondaryColor'] = theme.secondaryColor;\n  }\n  if (theme.secondaryColor) {\n    style['--complementaryColor'] = theme.complementaryColor;\n  }\n  return style;\n};\n\n// ExamplePlugin: 'ExamplePlugin@/client-plugin/remoteEntry.js'\nconst loadPluginModules = async (moduleName: string, moduleUrl: string, remoteNames: string[]) => {\n  await __webpack_init_sharing__('default');\n\n  await new Promise<void>((resolve, reject) => {\n    const element = document.createElement('script');\n\n    element.src = moduleUrl;\n    element.type = 'text/javascript';\n    element.async = true;\n\n    element.onload = () => {\n      element.parentElement?.removeChild(element);\n      resolve();\n    };\n\n    element.onerror = (err) => {\n      element.parentElement?.removeChild(element);\n      reject(err);\n    };\n\n    document.head.appendChild(element);\n  });\n\n  // @ts-ignore\n  const container = window[moduleName];\n\n  // eslint-disable-next-line camelcase\n  await container.init(__webpack_share_scopes__.default);\n\n  const modules = [];\n  for (const remoteName of remoteNames) {\n    const factory = await container.get(remoteName);\n    const module = factory();\n    modules.push(module);\n  }\n\n  return modules;\n};\n\nconst loadPlugins = async (map: OlMap) => {\n  if (!ClientConfiguration.plugins || ClientConfiguration.plugins.length === 0) {\n    Logger.info('No plugins found');\n    return [];\n  }\n\n  Logger.info('Loading plugins');\n\n  const clientPlugins: ClientPluginInternal[] = [];\n\n  for (const plugin of ClientConfiguration.plugins) {\n    const name = plugin.name;\n    const resourcePath = plugin.resourcePath;\n    const exposedPaths = plugin.exposedPaths;\n\n    if (!name) {\n      Logger.error('Required plugin configuration \\'name\\' is not set');\n      return clientPlugins;\n    }\n\n    if (!resourcePath) {\n      Logger.error('Required plugin configuration \\'resourcePath\\' is not set');\n      return clientPlugins;\n    }\n\n    if (!exposedPaths) {\n      Logger.error('Required plugin configuration \\'exposedPaths\\' is not set');\n      return clientPlugins;\n    }\n\n    Logger.info(`Loading plugin ${name} (with exposed paths ${exposedPaths.join(' and ')}) from ${resourcePath}`);\n\n    let clientPluginModules: any[];\n    try {\n      clientPluginModules = await loadPluginModules(name, resourcePath, exposedPaths);\n      Logger.info(`Successfully loaded plugin ${name}`);\n    } catch (error) {\n      Logger.error(`Could not load plugin ${name}:`, error);\n      return clientPlugins;\n    }\n\n    clientPluginModules.forEach(module => {\n      const clientPluginDefault: ClientPluginInternal = module.default;\n      const PluginComponent = clientPluginDefault.component;\n\n      const WrappedPluginComponent = () => (\n        <PluginComponent\n          map={map}\n          client={client}\n        />\n      );\n\n      clientPluginDefault.wrappedComponent = WrappedPluginComponent;\n\n      if (clientPluginDefault.i18n) {\n        Object.entries(clientPluginDefault.i18n).forEach(locale => {\n          const lng = locale[0];\n          const resources = locale[1].translation;\n          i18n.addResourceBundle(lng, 'translation', resources, true, true);\n        });\n      }\n\n      if (clientPluginDefault.reducers) {\n        const reducers = createReducer(clientPluginDefault.reducers);\n        store.replaceReducer(reducers);\n      }\n\n      clientPlugins.push(clientPluginDefault);\n    });\n  }\n\n  return clientPlugins;\n};\n\nconst renderApp = async () => {\n  try {\n    const keycloak = await initKeycloak();\n\n    if (keycloak) {\n      client.setKeycloak(keycloak);\n    }\n\n    const appConfig = await getApplicationConfiguration();\n\n    // @ts-ignore\n    const style = parseTheme(appConfig?.clientConfig?.theme);\n\n    ConfigProvider.config({\n      theme: {\n        primaryColor: Color(style['--primaryColor']).isLight() ?\n          Color(style['--primaryColor']).darken(0.5).hexa() :\n          style['--primaryColor']\n      }\n    });\n\n    setApplicationTitle();\n\n    setApplicationToStore(appConfig);\n\n    const appInfo = await getApplicationInfo();\n\n    setAppInfoToStore(appInfo);\n\n    const user = await getUser(appInfo?.userId);\n\n    setUserToStore(user);\n\n    const map = await setupMap(appConfig);\n\n    const plugins = await loadPlugins(map);\n\n    render(\n      <React.StrictMode>\n        <React.Suspense fallback={<span></span>}>\n          <SHOGunAPIClientProvider client={client}>\n            <PluginProvider plugins={plugins}>\n              <ConfigProvider locale={getConfigLang(i18n.language)}>\n                <Provider store={store}>\n                  <MapContext.Provider value={map}>\n                    <App style={style} />\n                  </MapContext.Provider>\n                </Provider>\n              </ConfigProvider>\n            </PluginProvider>\n          </SHOGunAPIClientProvider>\n        </React.Suspense>\n      </React.StrictMode>,\n      document.getElementById('app')\n    );\n  } catch (error) {\n    const loadingMask = document.querySelectorAll('.loadmask')[0];\n\n    if (loadingMask) {\n      loadingMask.classList.add('loadmask-hidden');\n    }\n\n    Logger.error(error);\n\n    render(\n      <React.StrictMode>\n        <Alert\n          className=\"error-boundary\"\n          message={i18n.t('Index.errorMessage')}\n          description={i18n.t('Index.errorDescription')}\n          type=\"error\"\n          showIcon\n        />\n      </React.StrictMode>,\n      document.getElementById('app')\n    );\n  }\n};\n\nrenderApp();\n","import React from 'react';\n\nimport {\n  ClientPluginInternal\n} from '../plugin';\n\nexport type PluginProviderProps = {\n  plugins: ClientPluginInternal[];\n  children: JSX.Element;\n};\n\nexport const PluginContext = React.createContext<(ClientPluginInternal[])>([]);\n\nexport const PluginProvider: React.FC<PluginProviderProps> = ({\n  plugins,\n  children\n}): JSX.Element => {\n  return (\n    <PluginContext.Provider\n      value={plugins}\n    >\n      {children}\n    </PluginContext.Provider>\n  );\n};\n\nexport default PluginContext;\n","import React from 'react';\n\nimport SHOGunAPIClient from '@terrestris/shogun-util/dist/service/SHOGunAPIClient';\n\nexport type SHOGunAPIClientProviderProps = {\n  client: SHOGunAPIClient;\n  children: JSX.Element;\n};\n\nexport const SHOGunAPIClientContext = React.createContext<(SHOGunAPIClient | null)>(null);\n\nexport const SHOGunAPIClientProvider: React.FC<SHOGunAPIClientProviderProps> = ({\n  client,\n  children\n}): JSX.Element => {\n  return (\n    <SHOGunAPIClientContext.Provider\n      value={client}\n    >\n      {children}\n    </SHOGunAPIClientContext.Provider>\n  );\n};\n\nexport default SHOGunAPIClientContext;\n","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport {\n  initReactI18next\n} from 'react-i18next';\n\nimport resources from './translations';\n\n// eslint-disable-next-line import/no-named-as-default-member\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources,\n    fallbackLng: 'en',\n    debug: false,\n    interpolation: {\n      escapeValue: false\n    },\n    supportedLngs: ['de', 'en'],\n    returnNull: false\n  });\n\nexport default i18n;\n","export default {\n  de: {\n    translation: {\n      ApplicationInfo: {\n        title: 'Über',\n        clientVersionTitle: 'Client Version',\n        backendVersionTitle: 'Backend Version'\n      },\n      AddLayerModal: {\n        addSelectedLayers: 'Auswahl hinzufügen',\n        addAllLayers: 'Alle hinzufügen',\n        inputPlaceholder: 'WMS GetCapabilities URL angeben…',\n        externalWmsFolder: 'Externe Themen',\n        title: 'WMS hinzufügen',\n        columnTitle: 'Name',\n        errorMessage: 'Fehler',\n        errorDescription: 'Das Capabilities Dokument konnte nicht geladen werden, bitte prüfen Sie die URL'\n      },\n      BasicMapComponent: {\n        processedLayersFolder: 'Prozessierte Layer'\n      },\n      Permalink: {\n        title: 'Teilen',\n        twitterTooltip: 'Link via Twitter teilen',\n        whatsAppTooltip: 'Link via WhatsApp teilen',\n        mailTooltip: 'Link via Mail teilen',\n        copyTooltip: 'Link in die Zwischenablage kopieren',\n        copiedToClipboard: 'Link wurde in Zwischenablage kopiert',\n        copyToClipboardFailed: 'Link konnte nicht kopiert werden'\n      },\n      Measure: {\n        title: 'Messen',\n        line: 'Entfernung',\n        area: 'Fläche',\n        clicktodrawline: 'Zum Zeichnen einer Linie klicken',\n        clicktodrawarea: 'Zum Zeichnen einer Fläche klicken'\n      },\n      Draw: {\n        point: 'Punkt',\n        line: 'Linie',\n        polygon: 'Polygon',\n        circle: 'Kreis',\n        rectangle: 'Rechteck',\n        text: 'Anmerkung',\n        modify: 'Bearbeitung',\n        upload: 'Hochladen',\n        delete: 'Löschen',\n        export: 'Exportieren'\n      },\n      StylingDrawer: {\n        pickColor: 'Farbschema bearbeiten',\n        title: 'Farbschema bearbeiten'\n      },\n      FeatureInfo: {\n        usageHint: 'Klicken Sie in die Karte, um Detailinformationen zu erhalten.'\n      },\n      LayerTree: {\n        transparency: 'Transparenz',\n        noLegendAvailable: 'Keine Legende verfügbar'\n      },\n      LayerTreeContextMenu: {\n        layerZoomToExtent: 'Auf Layerausdehnung zoomen',\n        extentError: 'Konnte nicht auf die Layerausdehnung zoomen',\n        removeLayer: 'Layer entfernen',\n        showLegend: 'Legende anzeigen',\n        hideLegend: 'Legende ausblenden',\n        downloadLayer: 'Layer exportieren ({{formatName}})'\n      },\n      ToolMenu: {\n        expand: 'Menu ausklappen',\n        collapse: 'Menu einklappen',\n        measure: 'Messen',\n        draw: 'Zeichnen',\n        featureInfo: 'Karteninhalte abfragen',\n        addWms: 'WMS hinzufügen',\n        print: 'Export',\n        layertree: 'Karten',\n        languageSelect: 'Sprachauswahl'\n      },\n      PrintForm: {\n        title: 'Kartentitel',\n        initialTitle: 'Druckausgabe',\n        titlePlaceholder: 'Bitte geben Sie einen Titel ein',\n        comment: 'Bemerkung',\n        commentPlaceholder: 'Bitte geben Sie einen Kommentar ein',\n        layout: 'Vorlage',\n        dpi: 'Auflösung',\n        format: 'Format',\n        downloadBtnText: 'Ausdruck erzeugen',\n        printJobErrorMsg: 'Der Kartenausdruck konnte nicht erzeugt werden',\n        initErrorMsg: 'Der Kartendruck Generator konnte nicht initialisiert werden.',\n        outputFormatPlaceholder: 'Bitte wählen Sie ein Ausgabeformat aus',\n        resolutionPlaceholder: 'Bitte wählen Sie eine Ausgabequalität aus'\n      },\n      Footer: {\n        refSystem: 'Bezugssystem',\n        scale: 'Maßstab',\n        mousePosition: 'Mausposition',\n        imprint: 'Impressum',\n        contact: 'Kontakt',\n        privacypolicy: 'Datenschutz'\n      },\n      Index: {\n        applicationLoadErrorMessage: 'Fehler beim Laden der Applikation',\n        applicationLoadErrorDescription: 'Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. ' +\n          'Die Standardkonfiguration wird stattdessen geladen.',\n        errorMessage: 'Fehler beim Laden der Applikation',\n        errorDescription: 'Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden. ' +\n          'Bitte laden Sie die Seite erneut.'\n      },\n      Nominatim: {\n        placeholder: 'Ortsname, Straßenname, Stadtteilname, POI usw.'\n      },\n      UserMenu: {\n        settingsMenuTitle: 'Profil bearbeiten',\n        infoMenuTitle: 'Über',\n        logoutMenuTitle: 'Ausloggen',\n        loginMenuTitle: 'Anmelden'\n      },\n      WmsTimeSlider: {\n        title: 'Zeitlicher Bezug',\n        default: 'Keine Daten gefunden'\n      }\n    }\n  },\n  en: {\n    translation: {\n      ApplicationInfo: {\n        title: 'About',\n        clientVersionTitle: 'Client version',\n        backendVersionTitle: 'Backend version'\n      },\n      AddLayerModal: {\n        addSelectedLayers: 'Add selected',\n        addAllLayers: 'Add all',\n        inputPlaceholder: 'Enter a WMS GetCapabilities URL…',\n        externalWmsFolder: 'External layers',\n        title: 'Add WMS',\n        columnTitle: 'Name',\n        errorMessage: 'Error',\n        errorDescription: 'Could not load the provided Capabilities document, please check the validity of the URL'\n      },\n      BasicMapComponent: {\n        processedLayersFolder: 'Processed layers'\n      },\n      Permalink: {\n        title: 'Share',\n        twitterTooltip: 'Share link via Twitter',\n        whatsAppTooltip: 'Share link via WhatsApp',\n        mailTooltip: 'Share link via Mail',\n        copyTooltip: 'Copy link to Clipboard',\n        copiedToClipboard: 'Copied to clipboard',\n        copyToClipboardFailed: 'Could not copy link to clipboard'\n      },\n      Measure: {\n        title: 'Measure',\n        line: 'Distance',\n        area: 'Area',\n        clicktodrawline: 'Click to draw line',\n        clicktodrawarea: 'Click to draw area'\n      },\n      Draw: {\n        point: 'Point',\n        line: 'Line',\n        polygon: 'Polygon',\n        circle: 'Circle',\n        rectangle: 'Rectangle',\n        text: 'Annotation',\n        modify: 'Edit',\n        upload: 'Upload',\n        delete: 'Delete',\n        export: 'Export'\n      },\n      StylingDrawer: {\n        pickColor: 'Modify color scheme',\n        title: 'Modify color scheme'\n      },\n      FeatureInfo: {\n        usageHint: 'Click on the map to get details about the clicked coordinate.'\n      },\n      LayerTree: {\n        transparency: 'Transparency',\n        noLegendAvailable: 'No legend available'\n      },\n      LayerTreeContextMenu: {\n        layerZoomToExtent: 'Zoom to layer extent',\n        extentError: 'Could not zoom to layer extent',\n        removeLayer: 'Remove layer',\n        showLegend: 'Show legend',\n        hideLegend: 'Hide legend',\n        downloadLayer: 'Export layer as {{formatName}}'\n      },\n      ToolMenu: {\n        expand: 'Expand',\n        collapse: 'Collapse',\n        measure: 'Measure',\n        draw: 'Draw',\n        featureInfo: 'Query map features',\n        addWms: 'Add WMS',\n        print: 'Export',\n        layertree: 'Maps',\n        languageSelect: 'Language selector'\n      },\n      PrintForm: {\n        title: 'Title',\n        initialTitle: 'Title',\n        titlePlaceholder: 'Please input a title…',\n        comment: 'Comment',\n        commentPlaceholder: 'Please enter a comment…',\n        layout: 'Layout',\n        dpi: 'Resolution',\n        format: 'Format',\n        downloadBtnText: 'Create print',\n        printJobErrorMsg: 'Could not generate PDF output',\n        initErrorMsg: 'PDF Generator could not be initialized',\n        outputFormatPlaceholder: 'Please select an output format',\n        resolutionPlaceholder: 'Please select an output quality'\n      },\n      Footer: {\n        refSystem: 'Reference system',\n        scale: 'Scale',\n        mousePosition: 'Mouse position',\n        imprint: 'Imprint',\n        contact: 'Contact',\n        privacypolicy: 'Privacy'\n      },\n      Index: {\n        applicationLoadErrorMessage: 'Error while loading the application',\n        applicationLoadErrorDescription: 'The application with ID {{applicationId}} could not be loaded correctly. ' +\n          'You\\'re seeing the default application configuration.',\n        errorMessage: 'Error while loading the application',\n        errorDescription: 'An unexpected error occured while loading the application. Please try to reload the page.'\n      },\n      Nominatim: {\n        placeholder: 'Place name, street name, district name, POI, etc.'\n      },\n      UserMenu: {\n        settingsMenuTitle: 'Edit profile',\n        infoMenuTitle: 'About',\n        logoutMenuTitle: 'Logout',\n        loginMenuTitle: 'Login'\n      },\n      WmsTimeSlider: {\n        title: 'Time reference',\n        default: 'No data found'\n      }\n    }\n  }\n};\n","import('./bootstrap');\n","import {\n  createSlice\n} from '@reduxjs/toolkit';\n\nexport interface AddLayerModalState {\n  visible: boolean;\n}\n\nconst initialState: AddLayerModalState = {\n  visible: false\n};\n\nconst addLayerModalSlice = createSlice({\n  name: 'addLayerModal',\n  initialState,\n  reducers: {\n    show(state) {\n      state.visible = true;\n    },\n    hide(state) {\n      state.visible = false;\n    },\n    toggle(state) {\n      state.visible = !state.visible;\n    }\n  }\n});\n\nexport const {\n  show,\n  hide,\n  toggle\n} = addLayerModalSlice.actions;\n\nexport default addLayerModalSlice.reducer;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nexport type SelectedFeatures = {\n  [layerName: string]: string;\n};\n\nconst initialState: SelectedFeatures = {};\n\nexport const slice = createSlice({\n  name: 'selectedFeatures',\n  initialState,\n  reducers: {\n    setSelectedFeatures(state, action: PayloadAction<SelectedFeatures>) {\n      return action.payload;\n    }\n  }\n});\n\nexport const {\n  setSelectedFeatures\n} = slice.actions;\n\nexport default slice.reducer;\n","import {\n  createSlice,\n  PayloadAction\n} from '@reduxjs/toolkit';\n\nexport interface ToolMenuState {\n  activeKeys: string[];\n  availableTools: string[];\n}\n\nconst initialState: ToolMenuState = {\n  // This is the default state. If no config is given, then load all tools\n  activeKeys: [],\n  availableTools: ['default']\n};\n\nexport const slice = createSlice({\n  name: 'toolMenu',\n  initialState,\n  reducers: {\n    setActiveKeys(state, action: PayloadAction<string[]>) {\n      state.activeKeys = [...action.payload];\n    },\n    setAvailableTools(state, action: PayloadAction<string[]>) {\n      state.availableTools = [...action.payload];\n    }\n  }\n});\n\nexport const {\n  setActiveKeys,\n  setAvailableTools\n} = slice.actions;\n\nexport default slice.reducer;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["useDispatch","useAppSelector","useSelector","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","restProps","loading","setLoading","useState","layers","setLayers","selectedRowKeys","setSelectedRowKeys","url","setUrl","isModalVisible","state","addLayerModal","visible","dispatch","useAppDispatch","map","useMap","t","useTranslation","closeModal","hide","addLayers","layersToAdd","targetFolderName","targetGroup","MapUtil","OlLayerGroup","set","existingGroups","getLayerGroup","getLayers","insertAt","getLength","forEach","layerToAdd","getArray","includes","layerUrl","ImageLayer","getSource","getUrl","TileLayer","urls","getUrls","length","undefined","layerConfig","name","get","type","opacity","getOpacity","sourceConfig","layerNames","getParams","LAYERS","useBearerToken","push","Modal","className","title","open","onCancel","footer","Button","key","disabled","onClick","filter","layer","getUid","Input","placeholder","value","onChange","event","target","onSearch","async","capabilities","CapabilitiesUtil","capabilitiesUrl","externalLayers","error","notification","message","description","enterButton","Table","columns","render","text","record","rowKey","rowSelection","pagination","dataSource","useContext","SHOGunAPIClientContext","client","useSHOGunAPIClient","queryParams","search","window","location","React","URLSearchParams","useQueryParams","center","zoom","customLayerAttributes","restoreTransientLayers","useCallback","externalLayerGroup","config","JSON","parse","configString","Error","parser","SHOGunApplicationUtil","i","cfg","_isEmpty","olLayer","parseLayer","isExternalLayer","extend","setVisible","customFolderName","groupName","customLayerGroup","Logger","useEffect","identifier","l","PermalinkUtil","MapComponent","getControls","find","control","OlControlScaleLine","addControl","OlControlMousePosition","coordinateFormat","createStringXY","projection","id","Divider","ScaleCombo","getView","getProjection","getCode","usePlugins","PluginContext","viewBox","setViewBox","mapViewProjection","extent","transformedExtent","transformExtent","toString","NominatimSearch","countryCodes","allowClear","nominatimBaseUrl","getGravatarUrl","email","size","rating","defaultImage","force","lowerCaseEmail","toLowerCase","md5","opener","appInfo","logoPath","appDescription","isVisible","toggleVisibility","Opener","centered","onOk","src","Statistic","PROJECT_VERSION","version","buildTime","keycloak","getKeycloak","user","onMenuClick","evt","accountManagement","login","logout","UserChip","imageSrc","providerDetails","userName","FontAwesomeIcon","icon","faAngleDown","userMenu","faSignIn","label","username","divider","settings","faUserCog","info","faInfo","faSignOut","items","getMenu","plugins","insertPlugins","itemPosition","plugin","pluginIntegration","integration","placement","placementOrientation","wrappedComponent","WrappedPluginComponent","splice","insertionIndex","getLeftItems","getCenterItems","getRightItems","Option","Select","supportedLanguages","Object","keys","i18n","defaultValue","lang","supportedLanguage","toUpperCase","layerAttributes","useMemo","initialPermalink","getVisible","permalink","setPermalink","mailBody","eventKeys","identifierFunction","filterFunction","updatePermalink","filterFunctionForLayers","updateLayersInPermalink","updateLayerConfig","getAllLayers","externalLayer","clientConfig","registerLayerCallback","layerGroup","layersInGroup","layerInGroup","LayerGroup","eventKeyVisibility","on","eventKeyOpacity","listenerKeyCenter","listenerKeyResolution","mapLayerGroup","unByKey","Tooltip","TwitterOutlined","twitterUrl","URL","searchParams","WhatsAppOutlined","whatsAppUrl","MailOutlined","mailToUrl","replace","readOnly","CopyOutlined","copy","SHOGunMapFishPrintV3WMSSerializer","MapFishPrintV3WMSSerializer","static","OlSourceImageWMS","constructor","super","serialize","opts","resolution","serialized","baseURL","startsWith","SHOGunMapFishPrintV3TiledWMSSerializer","OlSourceTileWMS","defaultsDeep","tileSize","source","this","validateSource","TYPE_WMS","printManager","maxLength","inputText","setInputText","customParams","showCount","layout","setLayout","getLayouts","outputFormats","outputFormat","setOutputFormat","f","toLocaleUpperCase","setResolution","setDpi","getDpis","d","layerBlackList","active","form","Form","setPrintManager","errorMsg","setErrorMsg","layerFilter","layerName","initializeMapProvider","pManager","MapFishPrintV3Manager","ClientConfiguration","timeout","headers","getBearerTokenHeader","transformOpts","rotate","serializers","MapFishPrintV3GeoJsonSerializer","MapFishPrintV3OSMSerializer","MapFishPrintV3WMTSSerializer","init","isInitiated","getOutputFormats","shutdownManager","legendFilter","notBlacklisted","notHidden","printableLayer","res","getResolution","SCALE","setCustomPrintParams","printLegend","Alert","closable","showIcon","onClose","labelCol","span","wrapperCol","initialValue","faDownload","downloadUrl","print","passThroughProps","style","setStyle","rules","symbolizers","kind","color","strokeColor","outlineOpacity","fillOpacity","outlineWidth","outlineColor","width","wellKnownName","radius","font","offset","haloColor","haloWidth","olParser","OlParser","drawVectorLayer","olStylePolygon","olStyleLineString","olStylePoint","olStyleText","rule","newStyle","olStyle","writeStyle","output","feature","geometryType","getGeometry","getType","parseStyles","onStyleChange","setOpen","faPaintBrush","Drawer","mask","showDrawPoint","showDrawLine","showDrawPolygon","showDrawCircle","showDrawRectangle","showDrawAnnotation","showModifyFeatures","showUploadFeatures","showDownloadFeatures","showDeleteFeatures","onGeoJSONUpload","geoJSONFile","fileReader","FileReader","onload","geoJSONFeatures","GeoJSON","readFeatures","result","mapProjection","feat","transform","DigitizeUtil","addFeatures","readAsText","ToggleGroup","DrawButton","drawType","pressed","faCircle","faGripLines","faDrawPolygon","faSquare","faFont","ModifyButton","faPenToSquare","UploadButton","e","uploadedFiles","files","SimpleButton","faUpload","clonedFeatures","digitizedFeatures","getFeatures","clonedFeature","clone","geoJSON","writeFeatures","fileToDownload","Blob","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","DeleteButton","faTrash","features","currentPage","setCurrenPage","selectedFeature","setSelectedFeature","vectorLayerName","OlSourceVector","fill","OlStyleFill","stroke","OlStyleStroke","featureStyle","OlStyle","image","OlStyleCircle","OlLayerVector","addLayer","initVectorLayer","vectorLayer","removeLayer","deinitVectorLayer","clear","addFeature","Pagination","simple","total","pageSize","current","page","OlFormatGeoJSON","writeFeature","faCopy","PropertyGrid","sticky","dataIndex","ellipsis","defaultSortOrder","sorter","a","b","localeCompare","scroll","y","getProperties","enabled","queryLayers","OlLayerImage","OlLayerTile","CoordinateInfo","featureCount","resultRenderer","coordinateInfoState","renderers","pluginRendererAvailable","Array","isArray","fetchOpts","layerUid","getFetchOpts","onSuccess","serializedFeatures","entries","entry","selectedFeatures","setSelectedFeatures","setValue","TIME","min","setMin","max","setMax","marks","setMarks","timeValues","values","split","m","val","idx","moment","format","default","nearest","NaN","diff","faClock","TimeSlider","updateParams","step","visibleLegendsIds","setVisibleLegendsIds","settingsVisible","setSettingsVisible","extentLoading","setExtentLoading","downloadConfig","zoomToLayerExtent","LayerUtil","fit","removeExternalLayer","existingLayers","remove","downloadLayer","reqOpts","method","fetch","blob","dropdownMenuItems","Spin","spinning","legendVisible","downloadItems","dlConfig","formatName","encodeURI","Dropdown","menu","decodeURI","legendId","newLegendIds","indexOf","onOpenChange","trigger","faEllipsisV","nodeTitleRenderer","mapView","unit","getUnits","scale","LayerTransparencySlider","tooltip","formatter","Legend","extraParams","LEGEND_OPTIONS","TRANSPARENT","forEachFeature","draggable","showMeasureDistance","showMeasureArea","MeasureButton","geodesic","measureType","continueLineMsg","faPenRuler","continuePolygonMsg","Shared","VERSION","FORMAT","params","LAYER","SERVICE","REQUEST","encodeURIComponent","join","endsWith","Panel","Collapse","availableTools","toolMenu","activeKeys","collapsed","setCollapsed","menuTools","setMenuTools","mobileQuery","matchMedia","mobileNavigatorRegEx","RegExp","matches","test","navigator","userAgent","getToolPanelConfig","tool","faRuler","faMousePointer","faFileDownload","faStream","faPlus","showAdd","faShareNodes","faLanguage","expandIcon","faChevronDown","expandIconPosition","activeKey","setActiveKeys","_toArray","panels","toolPanelConfig","panel","header","getToolPanels","faChevronRight","faChevronLeft","App","loadingMask","querySelectorAll","classList","add","slice","createSlice","initialState","authorities","commitHash","userId","reducers","setAppInfo","action","payload","actions","setDescription","setLogoPath","setTitle","setUser","createReducer","asyncReducers","combineReducers","store","configureStore","reducer","SHOGunAPIClient","getConfigLang","enGB","deDE","setupSHOGunMap","view","parseMapView","application","parseLayerTree","setConstrainResolution","externalWmsLayerGroup","OlMap","controls","OlControlDefaults","setupDefaultMap","osmLayer","OlSourceOsm","temperatureLayer","setProperties","hoverable","eoLayerGroup","backgroundLayerGroup","fromLonLat","OlView","loadPluginModules","moduleName","moduleUrl","remoteNames","__webpack_init_sharing__","Promise","resolve","reject","element","parentElement","onerror","err","head","container","__webpack_share_scopes__","modules","remoteName","module","keycloakEnabled","keycloakOnLoad","onLoadAction","keycloakHost","host","keycloakRealm","realm","keycloakClientId","clientId","Keycloak","onTokenExpired","updateToken","onLoad","initKeycloak","setKeycloak","appConfig","applicationId","UrlUtil","findOne","duration","getApplicationConfiguration","theme","primaryColor","secondaryColor","complementaryColor","parseTheme","ConfigProvider","Color","isLight","darken","hexa","subscribe","getState","toolConfig","setAvailableTools","setApplicationToStore","getAppInfo","getApplicationInfo","setAppInfoToStore","setUserToStore","getUser","setupMap","clientPlugins","resourcePath","exposedPaths","clientPluginModules","clientPluginDefault","PluginComponent","component","locale","lng","resources","translation","replaceReducer","loadPlugins","fallback","Provider","MapContext","getElementById","renderApp","PluginProvider","children","SHOGunAPIClientProvider","LanguageDetector","use","initReactI18next","de","ApplicationInfo","clientVersionTitle","backendVersionTitle","AddLayerModal","addSelectedLayers","addAllLayers","inputPlaceholder","externalWmsFolder","columnTitle","errorMessage","errorDescription","BasicMapComponent","processedLayersFolder","Permalink","twitterTooltip","whatsAppTooltip","mailTooltip","copyTooltip","copiedToClipboard","copyToClipboardFailed","Measure","line","area","clicktodrawline","clicktodrawarea","Draw","point","polygon","circle","rectangle","modify","upload","delete","export","StylingDrawer","pickColor","FeatureInfo","usageHint","LayerTree","transparency","noLegendAvailable","LayerTreeContextMenu","layerZoomToExtent","extentError","showLegend","hideLegend","ToolMenu","expand","collapse","measure","draw","featureInfo","addWms","layertree","languageSelect","PrintForm","initialTitle","titlePlaceholder","comment","commentPlaceholder","dpi","downloadBtnText","printJobErrorMsg","initErrorMsg","outputFormatPlaceholder","resolutionPlaceholder","Footer","refSystem","mousePosition","imprint","contact","privacypolicy","Index","applicationLoadErrorMessage","applicationLoadErrorDescription","Nominatim","UserMenu","settingsMenuTitle","infoMenuTitle","logoutMenuTitle","loginMenuTitle","WmsTimeSlider","en","fallbackLng","debug","interpolation","escapeValue","supportedLngs","returnNull","addLayerModalSlice","show","toggle","___CSS_LOADER_EXPORT___"],"sourceRoot":""}