"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["404"],{63768:function(e,t,n){n.r(t),n.d(t,{Legend:function(){return u}});var r=n(76395),l=n(36693),a=n(46103),i=n(96604),c=n(92813),o=n(18635),s=n(70198);let g=(e,t)=>e.get("legendUrl")?e.get("legendUrl"):o.A.getLegendGraphicUrl(e,t),u=({className:e,layer:t,extraParams:n,onError:o,errorMsg:u,headers:A,loadingMask:f=!0,...d})=>{let[m,E]=(0,r.useState)("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),[h,p]=(0,r.useState)(g(t,n)),[b,C]=(0,r.useState)(!1),[U,k]=(0,r.useState)(!1),w=(0,r.useCallback)(e=>{c.A.warn(`Image error for legend of "${t.get("name")}".`),C(!0),o&&o(e)},[t,o]),v=(0,r.useCallback)(async()=>{try{k(!0);let e=await fetch(h,{headers:A});if(!e.ok)throw Error("No successful response returned while getting the legend graphic");let t=await e.blob();E(e=>(URL.revokeObjectURL(e),URL.createObjectURL(t)))}catch(e){c.A.error("Error while setting the img src: ",e),w(e)}finally{k(!1)}},[w,A,h]);(0,r.useEffect)(()=>{v()},[v]),(0,r.useEffect)(()=>{p(g(t,n))},[t,n,v]);let L=t.get("name")?t.get("name")+" legend":"layer legend";return r.createElement("div",{className:`${s.$}legend ${e||""}`,...d},r.createElement(i.A,{spinning:!!f&&U,indicator:r.createElement(a.g,{icon:l.s4k})},b?r.createElement("div",{className:"legend-load-error"},u):r.createElement("img",{src:m,alt:L,onError:w.bind(void 0)})))};t.default=u},70198:function(e,t,n){n.d(t,{$:function(){return r}});let r="react-geo-"},92813:function(e,t,n){var r=n(73065);let l=n.n(r)().getLogger("app-logger");l.setLevel("DEBUG"),t.A=l},40682:function(e,t,n){n.d(t,{Ob:function(){return c},fx:function(){return i},zv:function(){return a}});var r=n(76395),l=n.n(r);function a(e){return e&&l().isValidElement(e)&&e.type===l().Fragment}let i=(e,t,n)=>l().isValidElement(e)?l().cloneElement(e,"function"==typeof n?n(e.props||{}):n):t;function c(e,t){return i(e,e,t)}}}]);
//# sourceMappingURL=404.26c3a8b7560e1e6a.js.map