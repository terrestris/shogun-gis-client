"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["3054"],{2022:function(t,e,n){n.d(e,{Jx:function(){return l},Kp:function(){return c},Q9:function(){return m}});var i=n(11256),r=n(73381),s=n(66575),o=n(13002),a=n(64011),u=n(91358);class h extends s.Z{constructor(t,e,n,r){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"==typeof r?i.default.IDLE:r,this.image_=null,this.loader="function"==typeof r?r:null}changed(){this.dispatchEvent(r.default.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==i.default.IDLE&&this.loader){this.state=i.default.LOADING,this.changed();let t=this.getResolution(),e=Array.isArray(t)?t[0]:t;(0,a.toPromise)(()=>this.loader(this.getExtent(),e,this.getPixelRatio())).then(t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||u.CREATE_IMAGE_BITMAP&&t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=i.default.LOADED}).catch(t=>{this.state=i.default.ERROR,console.error(t)}).finally(()=>this.changed())}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function c(t,e,n){let i=!0,s=!1,a=!1,h=[(0,o.Vx)(t,r.default.LOAD,function(){a=!0,!s&&e()})];return t.src&&u.IMAGE_DECODE?(s=!0,t.decode().then(function(){i&&e()}).catch(function(t){i&&(a?e():n())})):h.push((0,o.Vx)(t,r.default.ERROR,n)),function(){i=!1,h.forEach(o.bN)}}function m(t,e){var n,i;return e&&(t.src=e),t.src&&u.IMAGE_DECODE?new Promise((e,n)=>t.decode().then(()=>e(t)).catch(i=>t.complete&&t.width?e(t):n(i))):(n=t,new Promise((t,e)=>{function i(){s(),t(n)}function r(){s(),e(Error("Image load error"))}function s(){n.removeEventListener("load",i),n.removeEventListener("error",r)}n.addEventListener("load",i),n.addEventListener("error",r)}))}function l(t,e){return e&&(t.src=e),t.src&&u.IMAGE_DECODE&&u.CREATE_IMAGE_BITMAP?t.decode().then(()=>createImageBitmap(t)).catch(e=>{if(t.complete&&t.width)return t;throw e}):m(t)}e.ZP=h},19473:function(t,e,n){n.d(e,{T:function(){return r}});class i{constructor(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function r(t,e,n,r,s){return void 0!==s?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=r,s):new i(t,e,n,r)}e.Z=i},13668:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=n("68163"),r=n("77701"),s=n("71534");class o extends r.default{constructor(t){let e=Object.assign({},t=t||{}),n=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(s.Z.PRELOAD)}setPreload(t){this.set(s.Z.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(s.Z.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(s.Z.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}var a=o,u=class t extends a{constructor(t){super(t)}createRenderer(){return new i.Z(this,{cacheSize:this.getCacheSize()})}}},50596:function(t,e,n){function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function s(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,{Pq:function(){return s},bA:function(){return r},py:function(){return i}})},70701:function(t,e,n){function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function s(t){return function(t,e,n){return(e<<t)+n}(t[0],t[1],t[2])}n.d(e,{T9:function(){return i},lg:function(){return r},tE:function(){return o},vp:function(){return s}});function o(t,e){let n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;let s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}}}]);
//# sourceMappingURL=3054.7980c140c9336792.js.map