"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["1848"],{11256:function(t,e,n){n.r(e),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},2022:function(t,e,n){n.d(e,{Jx:function(){return d},Kp:function(){return l},Q9:function(){return h}});var i=n(11256),r=n(73381),o=n(66575),s=n(13002),a=n(64011),u=n(91358);class c extends o.Z{constructor(t,e,n,r){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"==typeof r?i.default.IDLE:r,this.image_=null,this.loader="function"==typeof r?r:null}changed(){this.dispatchEvent(r.default.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==i.default.IDLE&&this.loader){this.state=i.default.LOADING,this.changed();let t=this.getResolution(),e=Array.isArray(t)?t[0]:t;(0,a.toPromise)(()=>this.loader(this.getExtent(),e,this.getPixelRatio())).then(t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||u.CREATE_IMAGE_BITMAP&&t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=i.default.LOADED}).catch(t=>{this.state=i.default.ERROR,console.error(t)}).finally(()=>this.changed())}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function l(t,e,n){let i=!0,o=!1,a=!1,c=[(0,s.Vx)(t,r.default.LOAD,function(){a=!0,o||e()})];return t.src&&u.IMAGE_DECODE?(o=!0,t.decode().then(function(){i&&e()}).catch(function(t){i&&(a?e():n())})):c.push((0,s.Vx)(t,r.default.ERROR,n)),function(){i=!1,c.forEach(s.bN)}}function h(t,e){return e&&(t.src=e),t.src&&u.IMAGE_DECODE?new Promise((e,n)=>t.decode().then(()=>e(t)).catch(i=>t.complete&&t.width?e(t):n(i))):new Promise((e,n)=>{function i(){o(),e(t)}function r(){o(),n(Error("Image load error"))}function o(){t.removeEventListener("load",i),t.removeEventListener("error",r)}t.addEventListener("load",i),t.addEventListener("error",r)})}function d(t,e){return e&&(t.src=e),t.src&&u.IMAGE_DECODE&&u.CREATE_IMAGE_BITMAP?t.decode().then(()=>createImageBitmap(t)).catch(e=>{if(t.complete&&t.width)return t;throw e}):h(t)}e.ZP=c},50921:function(t,e,n){n.r(e);var i=n(2022),r=n(5374),o=n(52209),s=n(54072),a=n(49081);class u extends s.ZP{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:s.r6,this.params_=Object.assign({},t.params),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(t,e,n,i){let s=(0,r.get)(n),u=this.getProjection();u&&u!==s&&(e=(0,o.aA)(u,s,t,e),t=(0,r.transform)(t,s,u));let c={url:this.url_,params:{...this.params_,...i},projection:u||s};return(0,a.QL)(c,t,e)}getLegendUrl(t,e){return(0,a.YT)({url:this.url_,params:{...this.params_,...e}},t)}getParams(){return this.params_}getImageInternal(t,e,n,r){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===r||(this.loaderProjection_=r,this.loader=(0,a.Ke)({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,e)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,e),(0,i.Jx)(t))})),super.getImageInternal(t,e,n,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(t){this.imageLoadFunction_=t,this.changed()}setUrl(t){t!=this.url_&&(this.url_=t,this.loader=null,this.changed())}updateParams(t){Object.assign(this.params_,t),this.changed()}changed(){this.image=null,super.changed()}}e.default=u},71405:function(t,e,n){n.r(e);var i=n(58493),r=n(5374);class o extends i.default{constructor(t){super(),this.projection=(0,r.get)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;let e=this;this.viewPromise_=new Promise(function(t,n){e.viewResolver=t,e.viewRejector=n})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=s(t),this.changed()}setState(t){this.state_=t,this.changed()}}function s(t){return t?"function"==typeof t?t:(Array.isArray(t)||(t=[t]),e=>t):null}e.default=o},78487:function(t,e,n){function i(t,e){let n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});let i=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+i}n.d(e,{B5:function(){return i},EY:function(){return u},Gk:function(){return c}});let r=/\{z\}/g,o=/\{x\}/g,s=/\{y\}/g,a=/\{-y\}/g;function u(t,e,n,i,u){return t.replace(r,e.toString()).replace(o,n.toString()).replace(s,i.toString()).replace(a,function(){if(void 0===u)throw Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(u-i).toString()})}function c(t){let e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){let i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){let i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}},85386:function(t,e,n){let i;n.d(e,{$H:function(){return l},E4:function(){return o},Pb:function(){return c},W8:function(){return s},ep:function(){return h},hF:function(){return d},iO:function(){return u},jy:function(){return a}});var r=n(91358);function o(t,e,n,i){let o;return o=n&&n.length?n.shift():r.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(o.width=t),e&&(o.height=e),o.getContext("2d",i)}function s(){return i||(i=o(1,1)),i}function a(t){let e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function u(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function c(t){let e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function l(t,e){let n=e.parentNode;n&&n.replaceChild(t,e)}function h(t){for(;t.lastChild;)t.lastChild.remove()}function d(t,e){let n=t.childNodes;for(let i=0;;++i){let r=n[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){t.appendChild(o);continue}if(!o){t.removeChild(r),--i;continue}t.insertBefore(o,r)}}}},91358:function(t,e,n){n.r(e),n.d(e,{CREATE_IMAGE_BITMAP:function(){return d},DEVICE_PIXEL_RATIO:function(){return c},FIREFOX:function(){return r},IMAGE_DECODE:function(){return h},MAC:function(){return u},PASSIVE_EVENT_LISTENERS:function(){return f},SAFARI:function(){return o},SAFARI_BUG_237906:function(){return s},WEBKIT:function(){return a},WORKER_OFFSCREEN_CANVAS:function(){return l}});let i="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",r=i.includes("firefox"),o=i.includes("safari")&&!i.includes("chrom"),s=o&&(i.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(i)),a=i.includes("webkit")&&!i.includes("edge"),u=i.includes("macintosh"),c="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,l="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,h="undefined"!=typeof Image&&Image.prototype.decode,d="function"==typeof createImageBitmap,f=function(){let t=!1;try{let e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}()}}]);
//# sourceMappingURL=1848.01be3a066f0b63e8.js.map