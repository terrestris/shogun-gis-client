"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["9648"],{91110:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(76395),a=n(18228),i=n(30100),l=n.n(i),u=n(63322),c=n(30126),o=n(92712),s=n(42502),d=n(3008),g=n(70198),f=n(11212),y=n(53529);let m=`${g.$}drawbutton`;var w=({className:e,digitizeLayer:t,drawInteractionConfig:n,drawStyle:w,drawType:p,maxLabelLineLength:v,modalPromptCancelButtonText:b="Cancel",modalPromptOkButtonText:h="Ok",modalPromptTitle:k="Label",onDrawEnd:L,onDrawStart:_,onModalLabelCancel:C,onModalLabelOk:$,pressed:x,...z})=>{let S=(0,c.A)(),T=(0,d.P)(t,()=>S?u.y.getDigitizeLayer(S):void 0,[S]),[D,E]=(0,r.useState)(null);(({active:e,digitizeLayer:t,drawInteractionConfig:n,drawStyle:r,drawType:g,onDrawEnd:f,onDrawStart:y})=>{let m=(0,c.A)(),w=(0,d.P)(t,()=>m?u.y.getDigitizeLayer(m):void 0,[m]),p=(0,o.h)(()=>{let e,t;if(!m||!w)return;"Rectangle"===g?(e=(0,i.createBox)(),t="Circle"):t=g;let c=new(l())({source:w.getSource()||void 0,type:t,geometryFunction:e,style:r??u.y.defaultDigitizeStyleFunction,freehandCondition:a.never,...n??{}});return c.set("name",`react-util-draw-interaction-${g}`),c},[m,w,g,r,n],e);(0,s.R)(p,e=>e.on("drawend",e=>{f?.(e)}),[p,f]),(0,s.R)(p,e=>e.on("drawstart",e=>{y?.(e)}),[p,y])})({onDrawEnd:(0,r.useCallback)(e=>{"Text"===p&&(e.feature.set("isLabel",!0),E(e.feature)),L?.(e)},[p,L]),digitizeLayer:T,drawInteractionConfig:n,drawStyle:w,drawType:"Text"===p?"Point":p,onDrawStart:_,active:!!x});let F=e?`${m} ${e}`:m,A=`${g.$}digitize-button-wrapper`,P=null;return D&&(P=r.createElement(f.g,{feature:D,onOk:()=>{$?.(D),E(null)},onCancel:()=>{T?.getSource()?.removeFeature(D),E(null),C?.(),t?.getSource()?.removeFeature(D),E(null)},title:k,okText:h,cancelText:b,maxLabelLineLength:v})),r.createElement("span",{className:A},r.createElement(y.A,{className:F,pressed:x,...z}),P)}}}]);
//# sourceMappingURL=9648.5ea7e0449ff0b164.js.map