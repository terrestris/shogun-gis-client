"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["4046"],{24969:function(t,e,i){var r=i(59900),s=i(86320),n=i(73381),o=i(66575),a=i(49179);class h extends o.Z{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(n.default.CHANGE)}release(){this.setState(r.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==r.default.EMPTY){if(this.state!==r.default.ERROR&&this.state>t)throw Error("Tile load sequence violation");this.state=t,this.changed()}}load(){(0,a.abstract)()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;let r=e-i+1e3/60;return r>=this.transition_?1:(0,s.easeIn)(r/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}e.Z=h},59900:function(t,e,i){i.r(e),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},86320:function(t,e,i){function r(t){return Math.pow(t,3)}function s(t){return 1-r(1-t)}function n(t){return 3*t*t-2*t*t*t}function o(t){return t}function a(t){return t<.5?n(2*t):1-n(2*(t-.5))}i.r(e),i.d(e,{easeIn:function(){return r},easeOut:function(){return s},inAndOut:function(){return n},linear:function(){return o},upAndDown:function(){return a}})},91587:function(t,e,i){i.r(e);var r=i(21915),s=i(21882),n=i(5374),o=i(52209),a=i(79313),h=i(70701),l=i(78487),u=i(65952),g=i(49081);class d extends u.Z{constructor(t){let e=Object.assign({},(t=t||{}).params);super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=e,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=(0,r.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,i,s){let a=(0,n.get)(i),h=this.getProjection()||a,l=this.getTileGrid();l||(l=this.getTileGridForProjection(h));let u=(0,n.transform)(t,a,h),d=(0,o.aA)(h,a,t,e),c=l.getZForResolution(d,this.zDirection),p=l.getResolution(c),_=l.getTileCoordForCoordAndZ(u,c);if(l.getResolutions().length<=_[0])return;let f=l.getTileCoordExtent(_,this.tmpExtent_),E=this.gutter_;0!==E&&(f=(0,r.buffer)(f,p*E,f));let R={QUERY_LAYERS:this.params_.LAYERS};Object.assign(R,(0,g.jt)(this.params_,"GetFeatureInfo"),s);let T=Math.floor((u[0]-f[0])/p),v=Math.floor((f[3]-u[1])/p);return R[this.v13_?"I":"X"]=T,R[this.v13_?"J":"Y"]=v,this.getRequestUrl_(_,f,1,h||a,R)}getLegendUrl(t,e){if(void 0===this.urls[0])return;let i={SERVICE:"WMS",VERSION:g.eQ,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){let t=this.params_.LAYERS;if(!(!Array.isArray(t)||1===t.length))return;i.LAYER=t}return void 0!==t&&(i.SCALE=t*(this.getProjection()?this.getProjection().getMetersPerUnit():1)/28e-5),Object.assign(i,e),(0,l.B5)(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,i,r,n){let o,a=this.urls;if(a){if(1==a.length)o=a[0];else{let e=(0,s.$W)((0,h.vp)(t),a.length);o=a[e]}return(0,g.Q4)(e,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(t[0]),i,r,o,n,this.serverType_)}}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0,e=[];for(let i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){let t=this.params_.VERSION||g.eQ;this.v13_=(0,a.n)(t,"1.3")>=0}tileUrlFunction(t,e,i){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(i)),s.getResolutions().length<=t[0])return;1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);let n=s.getResolution(t[0]),o=s.getTileCoordExtent(t,this.tmpExtent_),a=this.gutter_;0!==a&&(o=(0,r.buffer)(o,n*a,o));let h=Object.assign({},(0,g.jt)(this.params_,"GetMap"));return this.getRequestUrl_(t,o,e,i,h)}}e.default=d}}]);
//# sourceMappingURL=4046.51e11e37f95892b9.js.map