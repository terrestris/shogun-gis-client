{"version":3,"file":"1365.6a627cdf8d9581c2.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/Collection.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/CollectionEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Disposable.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Feature.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/MapBrowserEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/array.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/easing.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Event.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/EventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Target.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/condition.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/functions.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/geom/flat/length.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/Interaction.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/Property.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/Select.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/obj.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/util.js"],"sourcesContent":["/**\n * @module ol/Collection\n */\nimport BaseObject from './Object.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport Event from './events/Event.js';\n\n/**\n * @enum {string}\n * @private\n */\nconst Property = {\n  LENGTH: 'length',\n};\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n * type.\n * @template T\n */\nexport class CollectionEvent extends Event {\n  /**\n   * @param {import(\"./CollectionEventType.js\").default} type Type.\n   * @param {T} element Element.\n   * @param {number} index The index of the added or removed element.\n   */\n  constructor(type, element, index) {\n    super(type);\n\n    /**\n     * The element that is added to or removed from the collection.\n     * @type {T}\n     * @api\n     */\n    this.element = element;\n\n    /**\n     * The index of the added or removed element.\n     * @type {number}\n     * @api\n     */\n    this.index = index;\n  }\n}\n\n/***\n * @template T\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:length', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").OnSignature<'add'|'remove', CollectionEvent<T>, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types|\n *     'change:length'|'add'|'remove',Return>} CollectionOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {boolean} [unique=false] Disallow the same item from being added to\n * the collection twice.\n */\n\n/**\n * @classdesc\n * An expanded version of standard JS Array, adding convenience methods for\n * manipulation. Add and remove changes to the Collection trigger a Collection\n * event. Note that this does not cover changes to the objects _within_ the\n * Collection; they trigger events on the appropriate object, not on the\n * Collection as a whole.\n *\n * @fires CollectionEvent\n *\n * @template T\n * @api\n */\nclass Collection extends BaseObject {\n  /**\n   * @param {Array<T>} [array] Array.\n   * @param {Options} [options] Collection options.\n   */\n  constructor(array, options) {\n    super();\n\n    /***\n     * @type {CollectionOnSignature<T, import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {CollectionOnSignature<T, import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {CollectionOnSignature<T, void>}\n     */\n    this.un;\n\n    options = options || {};\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.unique_ = !!options.unique;\n\n    /**\n     * @private\n     * @type {!Array<T>}\n     */\n    this.array_ = array ? array : [];\n\n    if (this.unique_) {\n      for (let i = 0, ii = this.array_.length; i < ii; ++i) {\n        this.assertUnique_(this.array_[i], i);\n      }\n    }\n\n    this.updateLength_();\n  }\n\n  /**\n   * Remove all elements from the collection.\n   * @api\n   */\n  clear() {\n    while (this.getLength() > 0) {\n      this.pop();\n    }\n  }\n\n  /**\n   * Add elements to the collection.  This pushes each item in the provided array\n   * to the end of the collection.\n   * @param {!Array<T>} arr Array.\n   * @return {Collection<T>} This collection.\n   * @api\n   */\n  extend(arr) {\n    for (let i = 0, ii = arr.length; i < ii; ++i) {\n      this.push(arr[i]);\n    }\n    return this;\n  }\n\n  /**\n   * Iterate over each element, calling the provided callback.\n   * @param {function(T, number, Array<T>): *} f The function to call\n   *     for every element. This function takes 3 arguments (the element, the\n   *     index and the array). The return value is ignored.\n   * @api\n   */\n  forEach(f) {\n    const array = this.array_;\n    for (let i = 0, ii = array.length; i < ii; ++i) {\n      f(array[i], i, array);\n    }\n  }\n\n  /**\n   * Get a reference to the underlying Array object. Warning: if the array\n   * is mutated, no events will be dispatched by the collection, and the\n   * collection's \"length\" property won't be in sync with the actual length\n   * of the array.\n   * @return {!Array<T>} Array.\n   * @api\n   */\n  getArray() {\n    return this.array_;\n  }\n\n  /**\n   * Get the element at the provided index.\n   * @param {number} index Index.\n   * @return {T} Element.\n   * @api\n   */\n  item(index) {\n    return this.array_[index];\n  }\n\n  /**\n   * Get the length of this collection.\n   * @return {number} The length of the array.\n   * @observable\n   * @api\n   */\n  getLength() {\n    return this.get(Property.LENGTH);\n  }\n\n  /**\n   * Insert an element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  insertAt(index, elem) {\n    if (index < 0 || index > this.getLength()) {\n      throw new Error('Index out of bounds: ' + index);\n    }\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    this.array_.splice(index, 0, elem);\n    this.updateLength_();\n    this.dispatchEvent(\n      new CollectionEvent(CollectionEventType.ADD, elem, index),\n    );\n  }\n\n  /**\n   * Remove the last element of the collection and return it.\n   * Return `undefined` if the collection is empty.\n   * @return {T|undefined} Element.\n   * @api\n   */\n  pop() {\n    return this.removeAt(this.getLength() - 1);\n  }\n\n  /**\n   * Insert the provided element at the end of the collection.\n   * @param {T} elem Element.\n   * @return {number} New length of the collection.\n   * @api\n   */\n  push(elem) {\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    const n = this.getLength();\n    this.insertAt(n, elem);\n    return this.getLength();\n  }\n\n  /**\n   * Remove the first occurrence of an element from the collection.\n   * @param {T} elem Element.\n   * @return {T|undefined} The removed element or undefined if none found.\n   * @api\n   */\n  remove(elem) {\n    const arr = this.array_;\n    for (let i = 0, ii = arr.length; i < ii; ++i) {\n      if (arr[i] === elem) {\n        return this.removeAt(i);\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Remove the element at the provided index and return it.\n   * Return `undefined` if the collection does not contain this index.\n   * @param {number} index Index.\n   * @return {T|undefined} Value.\n   * @api\n   */\n  removeAt(index) {\n    if (index < 0 || index >= this.getLength()) {\n      return undefined;\n    }\n    const prev = this.array_[index];\n    this.array_.splice(index, 1);\n    this.updateLength_();\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.REMOVE, prev, index)\n      ),\n    );\n    return prev;\n  }\n\n  /**\n   * Set the element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  setAt(index, elem) {\n    const n = this.getLength();\n    if (index >= n) {\n      this.insertAt(index, elem);\n      return;\n    }\n    if (index < 0) {\n      throw new Error('Index out of bounds: ' + index);\n    }\n    if (this.unique_) {\n      this.assertUnique_(elem, index);\n    }\n    const prev = this.array_[index];\n    this.array_[index] = elem;\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.REMOVE, prev, index)\n      ),\n    );\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.ADD, elem, index)\n      ),\n    );\n  }\n\n  /**\n   * @private\n   */\n  updateLength_() {\n    this.set(Property.LENGTH, this.array_.length);\n  }\n\n  /**\n   * @private\n   * @param {T} elem Element.\n   * @param {number} [except] Optional index to ignore.\n   */\n  assertUnique_(elem, except) {\n    for (let i = 0, ii = this.array_.length; i < ii; ++i) {\n      if (this.array_[i] === elem && i !== except) {\n        throw new Error('Duplicate item added to a unique collection');\n      }\n    }\n  }\n}\n\nexport default Collection;\n","/**\n * @module ol/CollectionEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when an item is added to the collection.\n   * @event module:ol/Collection.CollectionEvent#add\n   * @api\n   */\n  ADD: 'add',\n  /**\n   * Triggered when an item is removed from the collection.\n   * @event module:ol/Collection.CollectionEvent#remove\n   * @api\n   */\n  REMOVE: 'remove',\n};\n","/**\n * @module ol/Disposable\n */\n\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nclass Disposable {\n  constructor() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @protected\n     */\n    this.disposed = false;\n  }\n\n  /**\n   * Clean up.\n   */\n  dispose() {\n    if (!this.disposed) {\n      this.disposed = true;\n      this.disposeInternal();\n    }\n  }\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  disposeInternal() {}\n}\n\nexport default Disposable;\n","/**\n * @module ol/Feature\n */\nimport BaseObject from './Object.js';\nimport EventType from './events/EventType.js';\nimport {assert} from './asserts.js';\nimport {listen, unlistenByKey} from './events.js';\n\n/**\n * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n */\n\n/**\n * @typedef {Feature|import(\"./render/Feature.js\").default} FeatureLike\n */\n\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:geometry', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types\n *     |'change:geometry', Return>} FeatureOnSignature\n */\n\n/***\n * @template {import(\"./geom/Geometry.js\").default} [Geometry=import(\"./geom/Geometry.js\").default]\n * @typedef {Object<string, *> & { geometry?: Geometry }} ObjectWithGeometry\n */\n\n/**\n * @classdesc\n * A vector object for geographic features with a geometry and other\n * attribute properties, similar to the features in vector file formats like\n * GeoJSON.\n *\n * Features can be styled individually with `setStyle`; otherwise they use the\n * style of their vector layer.\n *\n * Note that attribute properties are set as {@link module:ol/Object~BaseObject} properties on\n * the feature object, so they are observable, and have get/set accessors.\n *\n * Typically, a feature has a single geometry property. You can set the\n * geometry using the `setGeometry` method and get it with `getGeometry`.\n * It is possible to store more than one geometry on a feature using attribute\n * properties. By default, the geometry used for rendering is identified by\n * the property name `geometry`. If you want to use another geometry property\n * for rendering, use the `setGeometryName` method to change the attribute\n * property associated with the geometry for the feature.  For example:\n *\n * ```js\n *\n * import Feature from 'ol/Feature.js';\n * import Polygon from 'ol/geom/Polygon.js';\n * import Point from 'ol/geom/Point.js';\n *\n * const feature = new Feature({\n *   geometry: new Polygon(polyCoords),\n *   labelPoint: new Point(labelCoords),\n *   name: 'My Polygon',\n * });\n *\n * // get the polygon geometry\n * const poly = feature.getGeometry();\n *\n * // Render the feature as a point using the coordinates from labelPoint\n * feature.setGeometryName('labelPoint');\n *\n * // get the point geometry\n * const point = feature.getGeometry();\n * ```\n *\n * @api\n * @template {import(\"./geom/Geometry.js\").default} [Geometry=import(\"./geom/Geometry.js\").default]\n */\nclass Feature extends BaseObject {\n  /**\n   * @param {Geometry|ObjectWithGeometry<Geometry>} [geometryOrProperties]\n   *     You may pass a Geometry object directly, or an object literal containing\n   *     properties. If you pass an object literal, you may include a Geometry\n   *     associated with a `geometry` key.\n   */\n  constructor(geometryOrProperties) {\n    super();\n\n    /***\n     * @type {FeatureOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {FeatureOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {FeatureOnSignature<void>}\n     */\n    this.un;\n\n    /**\n     * @private\n     * @type {number|string|undefined}\n     */\n    this.id_ = undefined;\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.geometryName_ = 'geometry';\n\n    /**\n     * User provided style.\n     * @private\n     * @type {import(\"./style/Style.js\").StyleLike}\n     */\n    this.style_ = null;\n\n    /**\n     * @private\n     * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n     */\n    this.styleFunction_ = undefined;\n\n    /**\n     * @private\n     * @type {?import(\"./events.js\").EventsKey}\n     */\n    this.geometryChangeKey_ = null;\n\n    this.addChangeListener(this.geometryName_, this.handleGeometryChanged_);\n\n    if (geometryOrProperties) {\n      if (\n        typeof (\n          /** @type {?} */ (geometryOrProperties).getSimplifiedGeometry\n        ) === 'function'\n      ) {\n        const geometry = /** @type {Geometry} */ (geometryOrProperties);\n        this.setGeometry(geometry);\n      } else {\n        /** @type {Object<string, *>} */\n        const properties = geometryOrProperties;\n        this.setProperties(properties);\n      }\n    }\n  }\n\n  /**\n   * Clone this feature. If the original feature has a geometry it\n   * is also cloned. The feature id is not set in the clone.\n   * @return {Feature<Geometry>} The clone.\n   * @api\n   */\n  clone() {\n    const clone = /** @type {Feature<Geometry>} */ (\n      new Feature(this.hasProperties() ? this.getProperties() : null)\n    );\n    clone.setGeometryName(this.getGeometryName());\n    const geometry = this.getGeometry();\n    if (geometry) {\n      clone.setGeometry(/** @type {Geometry} */ (geometry.clone()));\n    }\n    const style = this.getStyle();\n    if (style) {\n      clone.setStyle(style);\n    }\n    return clone;\n  }\n\n  /**\n   * Get the feature's default geometry.  A feature may have any number of named\n   * geometries.  The \"default\" geometry (the one that is rendered by default) is\n   * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n   * @return {Geometry|undefined} The default geometry for the feature.\n   * @api\n   * @observable\n   */\n  getGeometry() {\n    return /** @type {Geometry|undefined} */ (this.get(this.geometryName_));\n  }\n\n  /**\n   * Get the feature identifier.  This is a stable identifier for the feature and\n   * is either set when reading data from a remote source or set explicitly by\n   * calling {@link module:ol/Feature~Feature#setId}.\n   * @return {number|string|undefined} Id.\n   * @api\n   */\n  getId() {\n    return this.id_;\n  }\n\n  /**\n   * Get the name of the feature's default geometry.  By default, the default\n   * geometry is named `geometry`.\n   * @return {string} Get the property name associated with the default geometry\n   *     for this feature.\n   * @api\n   */\n  getGeometryName() {\n    return this.geometryName_;\n  }\n\n  /**\n   * Get the feature's style. Will return what was provided to the\n   * {@link module:ol/Feature~Feature#setStyle} method.\n   * @return {import(\"./style/Style.js\").StyleLike|undefined} The feature style.\n   * @api\n   */\n  getStyle() {\n    return this.style_;\n  }\n\n  /**\n   * Get the feature's style function.\n   * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n   * representing the current style of this feature.\n   * @api\n   */\n  getStyleFunction() {\n    return this.styleFunction_;\n  }\n\n  /**\n   * @private\n   */\n  handleGeometryChange_() {\n    this.changed();\n  }\n\n  /**\n   * @private\n   */\n  handleGeometryChanged_() {\n    if (this.geometryChangeKey_) {\n      unlistenByKey(this.geometryChangeKey_);\n      this.geometryChangeKey_ = null;\n    }\n    const geometry = this.getGeometry();\n    if (geometry) {\n      this.geometryChangeKey_ = listen(\n        geometry,\n        EventType.CHANGE,\n        this.handleGeometryChange_,\n        this,\n      );\n    }\n    this.changed();\n  }\n\n  /**\n   * Set the default geometry for the feature.  This will update the property\n   * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n   * @param {Geometry|undefined} geometry The new geometry.\n   * @api\n   * @observable\n   */\n  setGeometry(geometry) {\n    this.set(this.geometryName_, geometry);\n  }\n\n  /**\n   * Set the style for the feature to override the layer style.  This can be a\n   * single style object, an array of styles, or a function that takes a\n   * resolution and returns an array of styles. To unset the feature style, call\n   * `setStyle()` without arguments or a falsey value.\n   * @param {import(\"./style/Style.js\").StyleLike} [style] Style for this feature.\n   * @api\n   * @fires module:ol/events/Event~BaseEvent#event:change\n   */\n  setStyle(style) {\n    this.style_ = style;\n    this.styleFunction_ = !style ? undefined : createStyleFunction(style);\n    this.changed();\n  }\n\n  /**\n   * Set the feature id.  The feature id is considered stable and may be used when\n   * requesting features or comparing identifiers returned from a remote source.\n   * The feature id can be used with the\n   * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n   * @param {number|string|undefined} id The feature id.\n   * @api\n   * @fires module:ol/events/Event~BaseEvent#event:change\n   */\n  setId(id) {\n    this.id_ = id;\n    this.changed();\n  }\n\n  /**\n   * Set the property name to be used when getting the feature's default geometry.\n   * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n   * this name will be returned.\n   * @param {string} name The property name of the default geometry.\n   * @api\n   */\n  setGeometryName(name) {\n    this.removeChangeListener(this.geometryName_, this.handleGeometryChanged_);\n    this.geometryName_ = name;\n    this.addChangeListener(this.geometryName_, this.handleGeometryChanged_);\n    this.handleGeometryChanged_();\n  }\n}\n\n/**\n * Convert the provided object into a feature style function.  Functions passed\n * through unchanged.  Arrays of Style or single style objects wrapped\n * in a new feature style function.\n * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n *     A feature style function, a single style, or an array of styles.\n * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n */\nexport function createStyleFunction(obj) {\n  if (typeof obj === 'function') {\n    return obj;\n  }\n  /**\n   * @type {Array<import(\"./style/Style.js\").default>}\n   */\n  let styles;\n  if (Array.isArray(obj)) {\n    styles = obj;\n  } else {\n    assert(\n      typeof (/** @type {?} */ (obj).getZIndex) === 'function',\n      'Expected an `ol/style/Style` or an array of `ol/style/Style.js`',\n    );\n    const style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n    styles = [style];\n  }\n  return function () {\n    return styles;\n  };\n}\nexport default Feature;\n","/**\n * @module ol/MapBrowserEventType\n */\nimport EventType from './events/EventType.js';\n\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n  /**\n   * A true single click with no dragging and no double click. Note that this\n   * event is delayed by 250 ms to ensure that it is not a double click.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick\n   * @api\n   */\n  SINGLECLICK: 'singleclick',\n\n  /**\n   * A click with no dragging. A double click will fire two of this.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#click\n   * @api\n   */\n  CLICK: EventType.CLICK,\n\n  /**\n   * A true double click, with no dragging.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick\n   * @api\n   */\n  DBLCLICK: EventType.DBLCLICK,\n\n  /**\n   * Triggered when a pointer is dragged.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag\n   * @api\n   */\n  POINTERDRAG: 'pointerdrag',\n\n  /**\n   * Triggered when a pointer is moved. Note that on touch devices this is\n   * triggered when the map is panned, so is not the same as mousemove.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove\n   * @api\n   */\n  POINTERMOVE: 'pointermove',\n\n  POINTERDOWN: 'pointerdown',\n  POINTERUP: 'pointerup',\n  POINTEROVER: 'pointerover',\n  POINTEROUT: 'pointerout',\n  POINTERENTER: 'pointerenter',\n  POINTERLEAVE: 'pointerleave',\n  POINTERCANCEL: 'pointercancel',\n};\n\n/***\n * @typedef {'singleclick'|'click'|'dblclick'|'pointerdrag'|'pointermove'} Types\n */\n","/**\n * @module ol/array\n */\n\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function} [comparator] Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, comparator) {\n  let mid, cmp;\n  comparator = comparator || ascending;\n  let low = 0;\n  let high = haystack.length;\n  let found = false;\n\n  while (low < high) {\n    /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n     * to double (which gives the wrong results). */\n    mid = low + ((high - low) >> 1);\n    cmp = +comparator(haystack[mid], needle);\n\n    if (cmp < 0.0) {\n      /* Too low. */\n      low = mid + 1;\n    } else {\n      /* Key found or too high */\n      high = mid;\n      found = !cmp;\n    }\n  }\n\n  /* Key not found. */\n  return found ? low : ~low;\n}\n\n/**\n * Compare function sorting arrays in ascending order.  Safe to use for numeric values.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function ascending(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n/**\n * Compare function sorting arrays in descending order.  Safe to use for numeric values.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is greater than, equal to, or less than the second.\n */\nexport function descending(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\n/**\n * {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution} can use a function\n * of this type to determine which nearest resolution to use.\n *\n * This function takes a `{number}` representing a value between two array entries,\n * a `{number}` representing the value of the nearest higher entry and\n * a `{number}` representing the value of the nearest lower entry\n * as arguments and returns a `{number}`. If a negative number or zero is returned\n * the lower value will be used, if a positive number is returned the higher value\n * will be used.\n * @typedef {function(number, number, number): number} NearestDirectionFunction\n * @api\n */\n\n/**\n * @param {Array<number>} arr Array in descending order.\n * @param {number} target Target.\n * @param {number|NearestDirectionFunction} direction\n *    0 means return the nearest,\n *    > 0 means return the largest nearest,\n *    < 0 means return the smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n  if (arr[0] <= target) {\n    return 0;\n  }\n\n  const n = arr.length;\n  if (target <= arr[n - 1]) {\n    return n - 1;\n  }\n\n  if (typeof direction === 'function') {\n    for (let i = 1; i < n; ++i) {\n      const candidate = arr[i];\n      if (candidate === target) {\n        return i;\n      }\n      if (candidate < target) {\n        if (direction(target, arr[i - 1], candidate) > 0) {\n          return i - 1;\n        }\n        return i;\n      }\n    }\n    return n - 1;\n  }\n\n  if (direction > 0) {\n    for (let i = 1; i < n; ++i) {\n      if (arr[i] < target) {\n        return i - 1;\n      }\n    }\n    return n - 1;\n  }\n\n  if (direction < 0) {\n    for (let i = 1; i < n; ++i) {\n      if (arr[i] <= target) {\n        return i;\n      }\n    }\n    return n - 1;\n  }\n\n  for (let i = 1; i < n; ++i) {\n    if (arr[i] == target) {\n      return i;\n    }\n    if (arr[i] < target) {\n      if (arr[i - 1] - target < target - arr[i]) {\n        return i - 1;\n      }\n      return i;\n    }\n  }\n  return n - 1;\n}\n\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n  while (begin < end) {\n    const tmp = arr[begin];\n    arr[begin] = arr[end];\n    arr[end] = tmp;\n    ++begin;\n    --end;\n  }\n}\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n  const extension = Array.isArray(data) ? data : [data];\n  const length = extension.length;\n  for (let i = 0; i < length; i++) {\n    arr[arr.length] = extension[i];\n  }\n}\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n  const i = arr.indexOf(obj);\n  const found = i > -1;\n  if (found) {\n    arr.splice(i, 1);\n  }\n  return found;\n}\n\n/**\n * @param {Array<any>|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array<any>|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n  const len1 = arr1.length;\n  if (len1 !== arr2.length) {\n    return false;\n  }\n  for (let i = 0; i < len1; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Sort the passed array such that the relative order of equal elements is preserved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n  const length = arr.length;\n  const tmp = Array(arr.length);\n  let i;\n  for (i = 0; i < length; i++) {\n    tmp[i] = {index: i, value: arr[i]};\n  }\n  tmp.sort(function (a, b) {\n    return compareFnc(a.value, b.value) || a.index - b.index;\n  });\n  for (i = 0; i < arr.length; i++) {\n    arr[i] = tmp[i].value;\n  }\n}\n\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function} [func] Comparison function.\n * @param {boolean} [strict] Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, func, strict) {\n  const compare = func || ascending;\n  return arr.every(function (currentVal, index) {\n    if (index === 0) {\n      return true;\n    }\n    const res = compare(arr[index - 1], currentVal);\n    return !(res > 0 || (strict && res === 0));\n  });\n}\n","/**\n * @module ol/easing\n */\n\n/**\n * Start slow and speed up.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeIn(t) {\n  return Math.pow(t, 3);\n}\n\n/**\n * Start fast and slow down.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeOut(t) {\n  return 1 - easeIn(1 - t);\n}\n\n/**\n * Start slow, speed up, and then slow down again.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function inAndOut(t) {\n  return 3 * t * t - 2 * t * t * t;\n}\n\n/**\n * Maintain a constant speed over time.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function linear(t) {\n  return t;\n}\n\n/**\n * Start slow, speed up, and at the very end slow down again.  This has the\n * same general behavior as {@link module:ol/easing.inAndOut}, but the final\n * slowdown is delayed.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function upAndDown(t) {\n  if (t < 0.5) {\n    return inAndOut(2 * t);\n  }\n  return 1 - inAndOut(2 * (t - 0.5));\n}\n","/**\n * @module ol/events/Event\n */\n\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nclass BaseEvent {\n  /**\n   * @param {string} type Type.\n   */\n  constructor(type) {\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * @type {boolean}\n     */\n    this.defaultPrevented;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  }\n\n  /**\n   * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n   * will be fired.\n   * @api\n   */\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n  evt.stopPropagation();\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n  evt.preventDefault();\n}\n\nexport default BaseEvent;\n","/**\n * @module ol/events/EventType\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  /**\n   * Generic change event. Triggered when the revision counter is increased.\n   * @event module:ol/events/Event~BaseEvent#change\n   * @api\n   */\n  CHANGE: 'change',\n\n  /**\n   * Generic error event. Triggered when an error occurs.\n   * @event module:ol/events/Event~BaseEvent#error\n   * @api\n   */\n  ERROR: 'error',\n\n  BLUR: 'blur',\n  CLEAR: 'clear',\n  CONTEXTMENU: 'contextmenu',\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DROP: 'drop',\n  FOCUS: 'focus',\n  KEYDOWN: 'keydown',\n  KEYPRESS: 'keypress',\n  LOAD: 'load',\n  RESIZE: 'resize',\n  TOUCHMOVE: 'touchmove',\n  WHEEL: 'wheel',\n};\n","/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport Event from './Event.js';\nimport {VOID} from '../functions.js';\nimport {clear} from '../obj.js';\n\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nclass Target extends Disposable {\n  /**\n   * @param {*} [target] Default event target for dispatched events.\n   */\n  constructor(target) {\n    super();\n\n    /**\n     * @private\n     * @type {*}\n     */\n    this.eventTarget_ = target;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.pendingRemovals_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.dispatching_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").Listener>>|null}\n     */\n    this.listeners_ = null;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  addEventListener(type, listener) {\n    if (!type || !listener) {\n      return;\n    }\n    const listeners = this.listeners_ || (this.listeners_ = {});\n    const listenersForType = listeners[type] || (listeners[type] = []);\n    if (!listenersForType.includes(listener)) {\n      listenersForType.push(listener);\n    }\n  }\n\n  /**\n   * Dispatches an event and calls all listeners listening for events\n   * of this type. The event parameter can either be a string or an\n   * Object with a `type` property.\n   *\n   * @param {import(\"./Event.js\").default|string} event Event object.\n   * @return {boolean|undefined} `false` if anyone called preventDefault on the\n   *     event object or if any of the listeners returned false.\n   * @api\n   */\n  dispatchEvent(event) {\n    const isString = typeof event === 'string';\n    const type = isString ? event : event.type;\n    const listeners = this.listeners_ && this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n\n    const evt = isString ? new Event(event) : /** @type {Event} */ (event);\n    if (!evt.target) {\n      evt.target = this.eventTarget_ || this;\n    }\n    const dispatching = this.dispatching_ || (this.dispatching_ = {});\n    const pendingRemovals =\n      this.pendingRemovals_ || (this.pendingRemovals_ = {});\n    if (!(type in dispatching)) {\n      dispatching[type] = 0;\n      pendingRemovals[type] = 0;\n    }\n    ++dispatching[type];\n    let propagate;\n    for (let i = 0, ii = listeners.length; i < ii; ++i) {\n      if ('handleEvent' in listeners[i]) {\n        propagate = /** @type {import(\"../events.js\").ListenerObject} */ (\n          listeners[i]\n        ).handleEvent(evt);\n      } else {\n        propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (\n          listeners[i]\n        ).call(this, evt);\n      }\n      if (propagate === false || evt.propagationStopped) {\n        propagate = false;\n        break;\n      }\n    }\n    if (--dispatching[type] === 0) {\n      let pr = pendingRemovals[type];\n      delete pendingRemovals[type];\n      while (pr--) {\n        this.removeEventListener(type, VOID);\n      }\n      delete dispatching[type];\n    }\n    return propagate;\n  }\n\n  /**\n   * Clean up.\n   * @override\n   */\n  disposeInternal() {\n    this.listeners_ && clear(this.listeners_);\n  }\n\n  /**\n   * Get the listeners for a specified event type. Listeners are returned in the\n   * order that they will be called in.\n   *\n   * @param {string} type Type.\n   * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n   */\n  getListeners(type) {\n    return (this.listeners_ && this.listeners_[type]) || undefined;\n  }\n\n  /**\n   * @param {string} [type] Type. If not provided,\n   *     `true` will be returned if this event target has any listeners.\n   * @return {boolean} Has listeners.\n   */\n  hasListener(type) {\n    if (!this.listeners_) {\n      return false;\n    }\n    return type\n      ? type in this.listeners_\n      : Object.keys(this.listeners_).length > 0;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  removeEventListener(type, listener) {\n    if (!this.listeners_) {\n      return;\n    }\n    const listeners = this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n        // make listener a no-op, and remove later in #dispatchEvent()\n        listeners[index] = VOID;\n        ++this.pendingRemovals_[type];\n      } else {\n        listeners.splice(index, 1);\n        if (listeners.length === 0) {\n          delete this.listeners_[type];\n        }\n      }\n    }\n  }\n}\n\nexport default Target;\n","/**\n * @module ol/events/condition\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport {FALSE, TRUE} from '../functions.js';\nimport {MAC, WEBKIT} from '../has.js';\nimport {assert} from '../asserts.js';\n\n/**\n * A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * `{boolean}`. If the condition is met, true should be returned.\n *\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n */\n\n/**\n * Creates a condition function that passes when all provided conditions pass.\n * @param {...Condition} var_args Conditions to check.\n * @return {Condition} Condition function.\n */\nexport function all(var_args) {\n  const conditions = arguments;\n  /**\n   * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n   * @return {boolean} All conditions passed.\n   */\n  return function (event) {\n    let pass = true;\n    for (let i = 0, ii = conditions.length; i < ii; ++i) {\n      pass = pass && conditions[i](event);\n      if (!pass) {\n        break;\n      }\n    }\n    return pass;\n  };\n}\n\n/**\n * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n * additionally the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt key is pressed.\n * @api\n */\nexport const altKeyOnly = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return (\n    originalEvent.altKey &&\n    !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n    !originalEvent.shiftKey\n  );\n};\n\n/**\n * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n * (e.g. when additionally the platform-modifier-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt and shift keys are pressed.\n * @api\n */\nexport const altShiftKeysOnly = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return (\n    originalEvent.altKey &&\n    !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n    originalEvent.shiftKey\n  );\n};\n\n/**\n * Return `true` if the map has the focus. This condition requires a map target\n * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map has the focus.\n * @api\n */\nexport const focus = function (event) {\n  const targetElement = event.map.getTargetElement();\n  const rootNode = targetElement.getRootNode();\n  const activeElement = event.map.getOwnerDocument().activeElement;\n\n  return rootNode instanceof ShadowRoot\n    ? rootNode.host.contains(activeElement)\n    : targetElement.contains(activeElement);\n};\n\n/**\n * Return `true` if the map has the focus or no 'tabindex' attribute set.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map container has the focus or no 'tabindex' attribute.\n */\nexport const focusWithTabindex = function (event) {\n  const targetElement = event.map.getTargetElement();\n  const rootNode = targetElement.getRootNode();\n  const tabIndexCandidate =\n    rootNode instanceof ShadowRoot ? rootNode.host : targetElement;\n\n  return tabIndexCandidate.hasAttribute('tabindex') ? focus(event) : true;\n};\n\n/**\n * Return always true.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True.\n * @api\n */\nexport const always = TRUE;\n\n/**\n * Return `true` if the event is a `click` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `click` event.\n * @api\n */\nexport const click = function (mapBrowserEvent) {\n  return mapBrowserEvent.type == MapBrowserEventType.CLICK;\n};\n\n/**\n * Return `true` if the event has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} The result.\n */\nexport const mouseActionButton = function (mapBrowserEvent) {\n  const originalEvent = /** @type {MouseEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return originalEvent.button == 0 && !(WEBKIT && MAC && originalEvent.ctrlKey);\n};\n\n/**\n * Return always false.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} False.\n * @api\n */\nexport const never = FALSE;\n\n/**\n * Return `true` if the browser event is a `pointermove` event, `false`\n * otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the browser event is a `pointermove` event.\n * @api\n */\nexport const pointerMove = function (mapBrowserEvent) {\n  return mapBrowserEvent.type == 'pointermove';\n};\n\n/**\n * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `singleclick` event.\n * @api\n */\nexport const singleClick = function (mapBrowserEvent) {\n  return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n};\n\n/**\n * Return `true` if the event is a map `dblclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `dblclick` event.\n * @api\n */\nexport const doubleClick = function (mapBrowserEvent) {\n  return mapBrowserEvent.type == MapBrowserEventType.DBLCLICK;\n};\n\n/**\n * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n * pressed.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if there no modifier keys are pressed.\n * @api\n */\nexport const noModifierKeys = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return (\n    !originalEvent.altKey &&\n    !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n    !originalEvent.shiftKey\n  );\n};\n\n/**\n * Return `true` if only the platform-modifier-key (the meta-key on Mac,\n * ctrl-key otherwise) is pressed, `false` otherwise (e.g. when additionally\n * the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the platform modifier key is pressed.\n * @api\n */\nexport const platformModifierKeyOnly = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return (\n    !originalEvent.altKey &&\n    (MAC ? originalEvent.metaKey : originalEvent.ctrlKey) &&\n    !originalEvent.shiftKey\n  );\n};\n\n/**\n * Return `true` if the platform-modifier-key (the meta-key on Mac,\n * ctrl-key otherwise) is pressed.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the platform modifier key is pressed.\n * @api\n */\nexport const platformModifierKey = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return MAC ? originalEvent.metaKey : originalEvent.ctrlKey;\n};\n\n/**\n * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n * additionally the alt-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the shift key is pressed.\n * @api\n */\nexport const shiftKeyOnly = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  return (\n    !originalEvent.altKey &&\n    !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n    originalEvent.shiftKey\n  );\n};\n\n/**\n * Return `true` if the target element is not editable, i.e. not an `input`,\n * `select`, or `textarea` element and no `contenteditable` attribute is\n * set or inherited, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if the target element is not editable.\n * @api\n */\nexport const targetNotEditable = function (mapBrowserEvent) {\n  const originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (\n    mapBrowserEvent.originalEvent\n  );\n  const tagName = /** @type {Element} */ (originalEvent.target).tagName;\n  return (\n    tagName !== 'INPUT' &&\n    tagName !== 'SELECT' &&\n    tagName !== 'TEXTAREA' &&\n    // `isContentEditable` is only available on `HTMLElement`, but it may also be a\n    // different type like `SVGElement`.\n    // @ts-ignore\n    !originalEvent.target.isContentEditable\n  );\n};\n\n/**\n * Return `true` if the event originates from a mouse device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a mouse device.\n * @api\n */\nexport const mouseOnly = function (mapBrowserEvent) {\n  const pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (\n    mapBrowserEvent\n  ).originalEvent;\n  assert(\n    pointerEvent !== undefined,\n    'mapBrowserEvent must originate from a pointer event',\n  );\n  // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n  return pointerEvent.pointerType == 'mouse';\n};\n\n/**\n * Return `true` if the event originates from a touchable device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a touchable device.\n * @api\n */\nexport const touchOnly = function (mapBrowserEvent) {\n  const pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (\n    mapBrowserEvent\n  ).originalEvent;\n  assert(\n    pointerEvt !== undefined,\n    'mapBrowserEvent must originate from a pointer event',\n  );\n  // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n  return pointerEvt.pointerType === 'touch';\n};\n\n/**\n * Return `true` if the event originates from a digital pen.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a digital pen.\n * @api\n */\nexport const penOnly = function (mapBrowserEvent) {\n  const pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (\n    mapBrowserEvent\n  ).originalEvent;\n  assert(\n    pointerEvt !== undefined,\n    'mapBrowserEvent must originate from a pointer event',\n  );\n  // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n  return pointerEvt.pointerType === 'pen';\n};\n\n/**\n * Return `true` if the event originates from a primary pointer in\n * contact with the surface or if the left mouse button is pressed.\n * See https://www.w3.org/TR/pointerevents/#button-states.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a primary pointer.\n * @api\n */\nexport const primaryAction = function (mapBrowserEvent) {\n  const pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (\n    mapBrowserEvent\n  ).originalEvent;\n  assert(\n    pointerEvent !== undefined,\n    'mapBrowserEvent must originate from a pointer event',\n  );\n  return pointerEvent.isPrimary && pointerEvent.button === 0;\n};\n","/**\n * @module ol/functions\n */\n\nimport {equals as arrayEquals} from './array.js';\n\n/**\n * Always returns true.\n * @return {boolean} true.\n */\nexport function TRUE() {\n  return true;\n}\n\n/**\n * Always returns false.\n * @return {boolean} false.\n */\nexport function FALSE() {\n  return false;\n}\n\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() {}\n\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n  /** @type {ReturnType} */\n  let lastResult;\n\n  /** @type {Array<any>|undefined} */\n  let lastArgs;\n\n  let lastThis;\n\n  /**\n   * @this {*} Only need to know if `this` changed, don't care what type\n   * @return {ReturnType} Memoized value\n   */\n  return function () {\n    const nextArgs = Array.prototype.slice.call(arguments);\n    if (!lastArgs || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n      lastThis = this;\n      lastArgs = nextArgs;\n      lastResult = fn.apply(this, arguments);\n    }\n    return lastResult;\n  };\n}\n\n/**\n * @template T\n * @param {function(): (T | Promise<T>)} getter A function that returns a value or a promise for a value.\n * @return {Promise<T>} A promise for the value.\n */\nexport function toPromise(getter) {\n  function promiseGetter() {\n    let value;\n    try {\n      value = getter();\n    } catch (err) {\n      return Promise.reject(err);\n    }\n    if (value instanceof Promise) {\n      return value;\n    }\n    return Promise.resolve(value);\n  }\n  return promiseGetter();\n}\n","/**\n * @module ol/geom/flat/length\n */\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Length.\n */\nexport function lineStringLength(flatCoordinates, offset, end, stride) {\n  let x1 = flatCoordinates[offset];\n  let y1 = flatCoordinates[offset + 1];\n  let length = 0;\n  for (let i = offset + stride; i < end; i += stride) {\n    const x2 = flatCoordinates[i];\n    const y2 = flatCoordinates[i + 1];\n    length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    x1 = x2;\n    y1 = y2;\n  }\n  return length;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Perimeter.\n */\nexport function linearRingLength(flatCoordinates, offset, end, stride) {\n  let perimeter = lineStringLength(flatCoordinates, offset, end, stride);\n  const dx = flatCoordinates[end - stride] - flatCoordinates[offset];\n  const dy = flatCoordinates[end - stride + 1] - flatCoordinates[offset + 1];\n  perimeter += Math.sqrt(dx * dx + dy * dy);\n  return perimeter;\n}\n","/**\n * @module ol/interaction/Interaction\n */\nimport BaseObject from '../Object.js';\nimport InteractionProperty from './Property.js';\nimport {easeOut, linear} from '../easing.js';\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active', Return>} InteractionOnSignature\n */\n\n/**\n * Object literal with config options for interactions.\n * @typedef {Object} InteractionOptions\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleEvent]\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. If the function returns a falsy value, propagation of\n * the event to other interactions in the map's interactions chain will be\n * prevented (this includes functions with no explicit return). The interactions\n * are traversed in reverse order of the interactions collection of the map.\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * User actions that change the state of the map. Some are similar to controls,\n * but are not associated with a DOM element.\n * For example, {@link module:ol/interaction/KeyboardZoom~KeyboardZoom} is\n * functionally the same as {@link module:ol/control/Zoom~Zoom}, but triggered\n * by a keyboard event not a button element event.\n * Although interactions do not have a DOM element, some of them do render\n * vectors and so are visible on the screen.\n * @api\n */\nclass Interaction extends BaseObject {\n  /**\n   * @param {InteractionOptions} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    /***\n     * @type {InteractionOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {InteractionOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {InteractionOnSignature<void>}\n     */\n    this.un;\n\n    if (options && options.handleEvent) {\n      this.handleEvent = options.handleEvent;\n    }\n\n    /**\n     * @private\n     * @type {import(\"../Map.js\").default|null}\n     */\n    this.map_ = null;\n\n    this.setActive(true);\n  }\n\n  /**\n   * Return whether the interaction is currently active.\n   * @return {boolean} `true` if the interaction is active, `false` otherwise.\n   * @observable\n   * @api\n   */\n  getActive() {\n    return /** @type {boolean} */ (this.get(InteractionProperty.ACTIVE));\n  }\n\n  /**\n   * Get the map associated with this interaction.\n   * @return {import(\"../Map.js\").default|null} Map.\n   * @api\n   */\n  getMap() {\n    return this.map_;\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event}.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @api\n   */\n  handleEvent(mapBrowserEvent) {\n    return true;\n  }\n\n  /**\n   * Activate or deactivate the interaction.\n   * @param {boolean} active Active.\n   * @observable\n   * @api\n   */\n  setActive(active) {\n    this.set(InteractionProperty.ACTIVE, active);\n  }\n\n  /**\n   * Remove the interaction from its current map and attach it to the new map.\n   * Subclasses may set up event handlers to get notified about changes to\n   * the map here.\n   * @param {import(\"../Map.js\").default|null} map Map.\n   */\n  setMap(map) {\n    this.map_ = map;\n  }\n}\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {import(\"../coordinate.js\").Coordinate} delta Delta.\n * @param {number} [duration] Duration.\n */\nexport function pan(view, delta, duration) {\n  const currentCenter = view.getCenterInternal();\n  if (currentCenter) {\n    const center = [currentCenter[0] + delta[0], currentCenter[1] + delta[1]];\n    view.animateInternal({\n      duration: duration !== undefined ? duration : 250,\n      easing: linear,\n      center: view.getConstrainedCenter(center),\n    });\n  }\n}\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number} delta Delta from previous zoom level.\n * @param {import(\"../coordinate.js\").Coordinate} [anchor] Anchor coordinate in the user projection.\n * @param {number} [duration] Duration.\n */\nexport function zoomByDelta(view, delta, anchor, duration) {\n  const currentZoom = view.getZoom();\n\n  if (currentZoom === undefined) {\n    return;\n  }\n\n  const newZoom = view.getConstrainedZoom(currentZoom + delta);\n  const newResolution = view.getResolutionForZoom(newZoom);\n\n  if (view.getAnimating()) {\n    view.cancelAnimations();\n  }\n  view.animate({\n    resolution: newResolution,\n    anchor: anchor,\n    duration: duration !== undefined ? duration : 250,\n    easing: easeOut,\n  });\n}\n\nexport default Interaction;\n","/**\n * @module ol/interaction/Property\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  ACTIVE: 'active',\n};\n","/**\n * @module ol/interaction/Select\n */\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport Feature from '../Feature.js';\nimport Interaction from './Interaction.js';\nimport VectorLayer from '../layer/Vector.js';\nimport {TRUE} from '../functions.js';\nimport {clear} from '../obj.js';\nimport {createEditingStyle} from '../style/Style.js';\nimport {extend} from '../array.js';\nimport {getUid} from '../util.js';\nimport {never, shiftKeyOnly, singleClick} from '../events/condition.js';\n\n/**\n * @enum {string}\n */\nconst SelectEventType = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event SelectEvent#select\n   * @api\n   */\n  SELECT: 'select',\n};\n\n/**\n * A function that takes a {@link module:ol/Feature~Feature} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @typedef {function(import(\"../Feature.js\").default, import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>):boolean} FilterFunction\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n * that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is the event\n * for the selected features as a whole. By default, this is\n * {@link module:ol/events/condition.singleClick}. Clicking on a feature selects that\n * feature and removes any that were in the selection. Clicking outside any\n * feature removes all from the selection.\n * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n * from the selection.\n * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} [layers]\n * A list of layers from which features should be selected. Alternatively, a\n * filter function can be provided. The function will be called for each layer\n * in the map and should return `true` for layers that you want to be\n * selectable. If the option is absent, all visible layers will be considered\n * selectable.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style]\n * Style for the selected features. By default the default edit style is used\n * (see {@link module:ol/style/Style~Style}). Set to `null` if this interaction should not apply\n * any style changes for selected features.\n * If set to a falsey value, the selected feature's style will not change.\n * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n * that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition.never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n * that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is in addition\n * to the `condition` event. By default,\n * {@link module:ol/events/condition.shiftKeyOnly}, i.e. pressing `shift` as\n * well as the `condition` event, adds that feature to the current selection if\n * it is not currently selected, and removes it if it is. See `add` and `remove`\n * if you want to use different events instead of a toggle.\n * @property {boolean} [multi=false] A boolean that determines if the default\n * behaviour should select only single features or all (overlapping) features at\n * the clicked map position. The default of `false` means single select.\n * @property {Collection<Feature>} [features]\n * Collection where the interaction will place selected features. Optional. If\n * not set the interaction will create a collection. In any case the collection\n * used by the interaction is returned by\n * {@link module:ol/interaction/Select~Select#getFeatures}.\n * @property {FilterFunction} [filter] A function\n * that takes a {@link module:ol/Feature~Feature} and a\n * {@link module:ol/layer/Layer~Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n * the radius around the given position will be checked for features.\n */\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n * this type.\n */\nexport class SelectEvent extends Event {\n  /**\n   * @param {SelectEventType} type The event type.\n   * @param {Array<import(\"../Feature.js\").default>} selected Selected features.\n   * @param {Array<import(\"../Feature.js\").default>} deselected Deselected features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Associated\n   *     {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n   */\n  constructor(type, selected, deselected, mapBrowserEvent) {\n    super(type);\n\n    /**\n     * Selected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    this.selected = selected;\n\n    /**\n     * Deselected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    this.deselected = deselected;\n\n    /**\n     * Associated {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @type {import(\"../MapBrowserEvent.js\").default}\n     * @api\n     */\n    this.mapBrowserEvent = mapBrowserEvent;\n  }\n}\n\n/**\n * Original feature styles to reset to when features are no longer selected.\n * @type {Object<number, import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction>}\n */\nconst originalFeatureStyles = {};\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'select', SelectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'select', Return>} SelectOnSignature\n */\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * @fires SelectEvent\n * @api\n */\nclass Select extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {SelectOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {SelectOnSignature<void>}\n     */\n    this.un;\n\n    options = options ? options : {};\n\n    /**\n     * @private\n     */\n    this.boundAddFeature_ = this.addFeature_.bind(this);\n\n    /**\n     * @private\n     */\n    this.boundRemoveFeature_ = this.removeFeature_.bind(this);\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : singleClick;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.addCondition_ = options.addCondition ? options.addCondition : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.removeCondition_ = options.removeCondition\n      ? options.removeCondition\n      : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.toggleCondition_ = options.toggleCondition\n      ? options.toggleCondition\n      : shiftKeyOnly;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.multi_ = options.multi ? options.multi : false;\n\n    /**\n     * @private\n     * @type {FilterFunction}\n     */\n    this.filter_ = options.filter ? options.filter : TRUE;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n    /**\n     * @private\n     * @type {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null}\n     */\n    this.style_ =\n      options.style !== undefined ? options.style : getDefaultStyleFunction();\n\n    /**\n     * @private\n     * @type {Collection<Feature>}\n     */\n    this.features_ = options.features || new Collection();\n\n    /** @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} */\n    let layerFilter;\n    if (options.layers) {\n      if (typeof options.layers === 'function') {\n        layerFilter = options.layers;\n      } else {\n        const layers = options.layers;\n        layerFilter = function (layer) {\n          return layers.includes(layer);\n        };\n      }\n    } else {\n      layerFilter = TRUE;\n    }\n\n    /**\n     * @private\n     * @type {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean}\n     */\n    this.layerFilter_ = layerFilter;\n\n    /**\n     * An association between selected feature (key)\n     * and layer (value)\n     * @private\n     * @type {Object<string, import(\"../layer/Layer.js\").default>}\n     */\n    this.featureLayerAssociation_ = {};\n  }\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"../layer/Layer.js\").default} layer Layer.\n   * @private\n   */\n  addFeatureLayerAssociation_(feature, layer) {\n    this.featureLayerAssociation_[getUid(feature)] = layer;\n  }\n\n  /**\n   * Get the selected features.\n   * @return {Collection<Feature>} Features collection.\n   * @api\n   */\n  getFeatures() {\n    return this.features_;\n  }\n\n  /**\n   * Returns the Hit-detection tolerance.\n   * @return {number} Hit tolerance in pixels.\n   * @api\n   */\n  getHitTolerance() {\n    return this.hitTolerance_;\n  }\n\n  /**\n   * Returns the associated {@link module:ol/layer/Vector~VectorLayer vector layer} of\n   * a selected feature.\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @return {import('../layer/Vector.js').default} Layer.\n   * @api\n   */\n  getLayer(feature) {\n    return /** @type {import('../layer/Vector.js').default} */ (\n      this.featureLayerAssociation_[getUid(feature)]\n    );\n  }\n\n  /**\n   * Hit-detection tolerance. Pixels inside the radius around the given position\n   * will be checked for features.\n   * @param {number} hitTolerance Hit tolerance in pixels.\n   * @api\n   */\n  setHitTolerance(hitTolerance) {\n    this.hitTolerance_ = hitTolerance;\n  }\n\n  /**\n   * Remove the interaction from its current map, if any,  and attach it to a new\n   * map, if any. Pass `null` to just remove the interaction from the current map.\n   * @param {import(\"../Map.js\").default|null} map Map.\n   * @api\n   * @override\n   */\n  setMap(map) {\n    const currentMap = this.getMap();\n    if (currentMap && this.style_) {\n      this.features_.forEach(this.restorePreviousStyle_.bind(this));\n    }\n    super.setMap(map);\n    if (map) {\n      this.features_.addEventListener(\n        CollectionEventType.ADD,\n        this.boundAddFeature_,\n      );\n      this.features_.addEventListener(\n        CollectionEventType.REMOVE,\n        this.boundRemoveFeature_,\n      );\n\n      if (this.style_) {\n        this.features_.forEach(this.applySelectedStyle_.bind(this));\n      }\n    } else {\n      this.features_.removeEventListener(\n        CollectionEventType.ADD,\n        this.boundAddFeature_,\n      );\n      this.features_.removeEventListener(\n        CollectionEventType.REMOVE,\n        this.boundRemoveFeature_,\n      );\n    }\n  }\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent<Feature>} evt Event.\n   * @private\n   */\n  addFeature_(evt) {\n    const feature = evt.element;\n    if (this.style_) {\n      this.applySelectedStyle_(feature);\n    }\n    if (!this.getLayer(feature)) {\n      const layer = /** @type {VectorLayer} */ (\n        this.getMap()\n          .getAllLayers()\n          .find(function (layer) {\n            if (\n              layer instanceof VectorLayer &&\n              layer.getSource() &&\n              layer.getSource().hasFeature(feature)\n            ) {\n              return layer;\n            }\n          })\n      );\n      if (layer) {\n        this.addFeatureLayerAssociation_(feature, layer);\n      }\n    }\n  }\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent<Feature>} evt Event.\n   * @private\n   */\n  removeFeature_(evt) {\n    if (this.style_) {\n      this.restorePreviousStyle_(evt.element);\n    }\n  }\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleLike|null} Select style.\n   */\n  getStyle() {\n    return this.style_;\n  }\n\n  /**\n   * @param {Feature} feature Feature\n   * @private\n   */\n  applySelectedStyle_(feature) {\n    const key = getUid(feature);\n    if (!(key in originalFeatureStyles)) {\n      originalFeatureStyles[key] = feature.getStyle();\n    }\n    feature.setStyle(this.style_);\n  }\n\n  /**\n   * @param {Feature} feature Feature\n   * @private\n   */\n  restorePreviousStyle_(feature) {\n    const interactions = this.getMap().getInteractions().getArray();\n    for (let i = interactions.length - 1; i >= 0; --i) {\n      const interaction = interactions[i];\n      if (\n        interaction !== this &&\n        interaction instanceof Select &&\n        interaction.getStyle() &&\n        interaction.getFeatures().getArray().lastIndexOf(feature) !== -1\n      ) {\n        feature.setStyle(interaction.getStyle());\n        return;\n      }\n    }\n\n    const key = getUid(feature);\n    feature.setStyle(originalFeatureStyles[key]);\n    delete originalFeatureStyles[key];\n  }\n\n  /**\n   * @param {Feature} feature Feature.\n   * @private\n   */\n  removeFeatureLayerAssociation_(feature) {\n    delete this.featureLayerAssociation_[getUid(feature)];\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} and may change the\n   * selected state of features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @override\n   */\n  handleEvent(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    const add = this.addCondition_(mapBrowserEvent);\n    const remove = this.removeCondition_(mapBrowserEvent);\n    const toggle = this.toggleCondition_(mapBrowserEvent);\n    const set = !add && !remove && !toggle;\n    const map = mapBrowserEvent.map;\n    const features = this.getFeatures();\n\n    /**\n     * @type {Array<Feature>}\n     */\n    const deselected = [];\n\n    /**\n     * @type {Array<Feature>}\n     */\n    const selected = [];\n\n    if (set) {\n      // Replace the currently selected feature(s) with the feature(s) at the\n      // pixel, or clear the selected feature(s) if there is no feature at\n      // the pixel.\n      clear(this.featureLayerAssociation_);\n      map.forEachFeatureAtPixel(\n        mapBrowserEvent.pixel,\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        (feature, layer) => {\n          if (!(feature instanceof Feature) || !this.filter_(feature, layer)) {\n            return;\n          }\n          this.addFeatureLayerAssociation_(feature, layer);\n          selected.push(feature);\n          return !this.multi_;\n        },\n        {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_,\n        },\n      );\n      for (let i = features.getLength() - 1; i >= 0; --i) {\n        const feature = features.item(i);\n        const index = selected.indexOf(feature);\n        if (index > -1) {\n          // feature is already selected\n          selected.splice(index, 1);\n        } else {\n          features.remove(feature);\n          deselected.push(feature);\n        }\n      }\n      if (selected.length !== 0) {\n        features.extend(selected);\n      }\n    } else {\n      // Modify the currently selected feature(s).\n      map.forEachFeatureAtPixel(\n        mapBrowserEvent.pixel,\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        (feature, layer) => {\n          if (!(feature instanceof Feature) || !this.filter_(feature, layer)) {\n            return;\n          }\n          if ((add || toggle) && !features.getArray().includes(feature)) {\n            this.addFeatureLayerAssociation_(feature, layer);\n            selected.push(feature);\n          } else if (\n            (remove || toggle) &&\n            features.getArray().includes(feature)\n          ) {\n            deselected.push(feature);\n            this.removeFeatureLayerAssociation_(feature);\n          }\n          return !this.multi_;\n        },\n        {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_,\n        },\n      );\n      for (let j = deselected.length - 1; j >= 0; --j) {\n        features.remove(deselected[j]);\n      }\n      features.extend(selected);\n    }\n    if (selected.length > 0 || deselected.length > 0) {\n      this.dispatchEvent(\n        new SelectEvent(\n          SelectEventType.SELECT,\n          selected,\n          deselected,\n          mapBrowserEvent,\n        ),\n      );\n    }\n    return true;\n  }\n}\n\n/**\n * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n */\nfunction getDefaultStyleFunction() {\n  const styles = createEditingStyle();\n  extend(styles['Polygon'], styles['LineString']);\n  extend(styles['GeometryCollection'], styles['LineString']);\n\n  return function (feature) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n    return styles[feature.getGeometry().getType()];\n  };\n}\n\nexport default Select;\n","/**\n * @module ol/obj\n */\n\n/**\n * Removes all properties from an object.\n * @param {Object<string, unknown>} object The object to clear.\n */\nexport function clear(object) {\n  for (const property in object) {\n    delete object[property];\n  }\n}\n\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n  let property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n","/**\n * @module ol/util\n */\n\n/**\n * @return {never} Any return.\n */\nexport function abstract() {\n  throw new Error('Unimplemented abstract method.');\n}\n\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nlet uidCounter_ = 0;\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n  return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport const VERSION = '10.3.1';\n"],"names":["CollectionEvent","type","element","index","Collection","array","options","i","ii","arr","f","elem","Error","n","prev","except","Disposable","Feature","geometryOrProperties","undefined","clone","geometry","style","createStyleFunction","id","name","obj","styles","Array","binarySearch","haystack","needle","comparator","mid","cmp","ascending","low","high","found","a","b","descending","linearFindNearest","target","direction","candidate","reverseSubArray","begin","end","tmp","extend","data","extension","length","equals","arr1","arr2","len1","isSorted","func","strict","compare","currentVal","res","easeIn","t","Math","easeOut","inAndOut","linear","upAndDown","stopPropagation","evt","preventDefault","BaseEvent","Target","listener","listeners","listenersForType","event","propagate","isString","dispatching","pendingRemovals","pr","Object","all","var_args","conditions","arguments","pass","altKeyOnly","mapBrowserEvent","originalEvent","altShiftKeysOnly","focus","targetElement","rootNode","activeElement","ShadowRoot","focusWithTabindex","tabIndexCandidate","always","click","mouseActionButton","never","pointerMove","singleClick","doubleClick","noModifierKeys","platformModifierKeyOnly","platformModifierKey","shiftKeyOnly","targetNotEditable","tagName","mouseOnly","pointerEvent","touchOnly","pointerEvt","penOnly","primaryAction","TRUE","FALSE","VOID","memoizeOne","fn","lastResult","lastArgs","lastThis","nextArgs","toPromise","getter","promiseGetter","value","err","Promise","lineStringLength","flatCoordinates","offset","stride","x1","y1","x2","y2","Interaction","active","map","pan","view","delta","duration","currentCenter","center","zoomByDelta","anchor","currentZoom","newZoom","newResolution","SelectEventType","SelectEvent","selected","deselected","originalFeatureStyles","Select","layerFilter","getDefaultStyleFunction","feature","layers","layer","hitTolerance","key","interactions","interaction","add","remove","toggle","features","j","clear","object","property","isEmpty","abstract","uidCounter_","getUid","String","VERSION"],"mappings":"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"}