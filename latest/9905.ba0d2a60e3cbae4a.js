"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["9905"],{15108:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(22122),o=n(90484),i=n(28991),u=n(96156),c=n(6420),a=n(56633),l=n(94184),s=n.n(l),f=n(70057),v=n(56790),d=n(8410),h=n(9948),g=n(89759),m=h.forwardRef(function(e,t){var n=e.height,o=e.offsetY,c=e.offsetX,a=e.children,l=e.prefixCls,v=e.onInnerResize,d=e.innerProps,g=e.rtl,m=e.extra,p={},Z={display:"flex",flexDirection:"column"};return void 0!==o&&(p={height:n,position:"relative",overflow:"hidden"},Z=(0,i.Z)((0,i.Z)({},Z),{},(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({transform:"translateY(".concat(o,"px)")},g?"marginRight":"marginLeft",-c),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(f.Z,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",(0,r.Z)({style:Z,className:s()((0,u.Z)({},"".concat(l,"-holder-inner"),l)),ref:t},d),a,m)))});function p(e){var t=e.children,n=e.setRef,r=h.useCallback(function(e){n(e)},[]);return h.cloneElement(t,{ref:r})}m.displayName="Filler";var Z=n(75164),w=("undefined"==typeof navigator?"undefined":(0,o.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),R=function(e,t,n,r){var o=(0,h.useRef)(!1),i=(0,h.useRef)(null),u=(0,h.useRef)({top:e,bottom:t,left:n,right:r});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):(!r||o.current)&&(clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)),!o.current&&r}},b=n(6610),E=n(5991),M=function(){function e(){(0,b.Z)(this,e),(0,u.Z)(this,"maps",void 0),(0,u.Z)(this,"id",0),(0,u.Z)(this,"diffRecords",new Map),this.maps=Object.create(null)}return(0,E.Z)(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function S(e){var t=parseFloat(e);return isNaN(t)?0:t}var y=14/15;function x(e){return Math.floor(Math.pow(e,.5))}function L(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var H=h.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,a=e.scrollRange,l=e.onStartMove,f=e.onStopMove,v=e.onScroll,d=e.horizontal,g=e.spinSize,m=e.containerSize,p=e.style,w=e.thumbStyle,R=e.showScrollBar,b=h.useState(!1),E=(0,c.Z)(b,2),M=E[0],S=E[1],y=h.useState(null),x=(0,c.Z)(y,2),H=x[0],z=x[1],T=h.useState(null),k=(0,c.Z)(T,2),_=k[0],D=k[1],C=!r,N=h.useRef(),Y=h.useRef(),X=h.useState(R),B=(0,c.Z)(X,2),I=B[0],O=B[1],P=h.useRef(),j=function(){!0!==R&&!1!==R&&(clearTimeout(P.current),O(!0),P.current=setTimeout(function(){O(!1)},3e3))},A=a-m||0,V=m-g||0,W=h.useMemo(function(){return 0===o||0===A?0:o/A*V},[o,A,V]),F=h.useRef({top:W,dragging:M,pageY:H,startTop:_});F.current={top:W,dragging:M,pageY:H,startTop:_};var K=function(e){S(!0),z(L(e,d)),D(F.current.top),l(),e.stopPropagation(),e.preventDefault()};h.useEffect(function(){var e=function(e){e.preventDefault()},t=N.current,n=Y.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",K,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",K)}},[]);var q=h.useRef();q.current=A;var G=h.useRef();G.current=V,h.useEffect(function(){if(M){var e,t=function(t){var n=F.current,r=n.dragging,o=n.pageY,i=n.startTop;Z.Z.cancel(e);var u=N.current.getBoundingClientRect(),c=m/(d?u.width:u.height);if(r){var a=(L(t,d)-o)*c,l=i;!C&&d?l-=a:l+=a;var s=q.current,f=G.current,h=Math.ceil((f?l/f:0)*s);h=Math.min(h=Math.max(h,0),s),e=(0,Z.Z)(function(){v(h,d)})}},n=function(){S(!1),f()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Z.Z.cancel(e)}}},[M]),h.useEffect(function(){return j(),function(){clearTimeout(P.current)}},[o]),h.useImperativeHandle(t,function(){return{delayHidden:j}});var J="".concat(n,"-scrollbar"),Q={position:"absolute",visibility:I?null:"hidden"},U={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return d?(Object.assign(Q,{height:8,left:0,right:0,bottom:0}),Object.assign(U,(0,u.Z)({height:"100%",width:g},C?"left":"right",W))):(Object.assign(Q,(0,u.Z)({width:8,top:0,bottom:0},C?"right":"left",0)),Object.assign(U,{width:"100%",height:g,top:W})),h.createElement("div",{ref:N,className:s()(J,(0,u.Z)((0,u.Z)((0,u.Z)({},"".concat(J,"-horizontal"),d),"".concat(J,"-vertical"),!d),"".concat(J,"-visible"),I)),style:(0,i.Z)((0,i.Z)({},Q),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:j},h.createElement("div",{ref:Y,className:s()("".concat(J,"-thumb"),(0,u.Z)({},"".concat(J,"-thumb-moving"),M)),style:(0,i.Z)((0,i.Z)({},U),w),onMouseDown:K}))});function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),Math.floor(n=Math.max(n,20))}var T=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],k=[],_={overflowY:"auto",overflowAnchor:"none"},D=h.forwardRef(function(e,t){var n,l,b,E,D,C,N,Y,X,B,I,O,P,j,A,V,W,F,K,q,G,J,Q,U,$,ee,et,en,er,eo,ei,eu,ec,ea,el,es,ef,ev=e.prefixCls,ed=void 0===ev?"rc-virtual-list":ev,eh=e.className,eg=e.height,em=e.itemHeight,ep=e.fullHeight,eZ=e.style,ew=e.data,eR=e.children,eb=e.itemKey,eE=e.virtual,eM=e.direction,eS=e.scrollWidth,ey=e.component,ex=e.onScroll,eL=e.onVirtualScroll,eH=e.onVisibleChange,ez=e.innerProps,eT=e.extraRender,ek=e.styles,e_=e.showScrollBar,eD=void 0===e_?"optional":e_,eC=(0,a.Z)(e,T),eN=h.useCallback(function(e){return"function"==typeof eb?eb(e):null==e?void 0:e[eb]},[eb]),eY=function(e,t,n){var r=h.useState(0),o=(0,c.Z)(r,2),i=o[0],u=o[1],a=(0,h.useRef)(new Map),l=(0,h.useRef)(new M),s=(0,h.useRef)(0);function f(){s.current+=1}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f();var t=function(){var e=!1;a.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,u=o.marginBottom,c=r+S(i)+S(u);l.current.get(n)!==c&&(l.current.set(n,c),e=!0)}}),e&&u(function(e){return e+1})};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then(function(){n===s.current&&t()})}}return(0,h.useEffect)(function(){return f},[]),[function(r,o){var i=e(r),u=a.current.get(i);o?(a.current.set(i,o),v()):a.current.delete(i),!u!=!o&&(o?null==t||t(r):null==n||n(r))},v,l.current,i]}(eN,null,null),eX=(0,c.Z)(eY,4),eB=eX[0],eI=eX[1],eO=eX[2],eP=eX[3],ej=!!(!1!==eE&&eg&&em),eA=h.useMemo(function(){return Object.values(eO.maps).reduce(function(e,t){return e+t},0)},[eO.id,eO.maps]),eV=ej&&ew&&(Math.max(em*ew.length,eA)>eg||!!eS),eW="rtl"===eM,eF=s()(ed,(0,u.Z)({},"".concat(ed,"-rtl"),eW),eh),eK=ew||k,eq=(0,h.useRef)(),eG=(0,h.useRef)(),eJ=(0,h.useRef)(),eQ=(0,h.useState)(0),eU=(0,c.Z)(eQ,2),e$=eU[0],e0=eU[1],e1=(0,h.useState)(0),e2=(0,c.Z)(e1,2),e9=e2[0],e5=e2[1],e4=(0,h.useState)(!1),e6=(0,c.Z)(e4,2),e8=e6[0],e3=e6[1],e7=function(){e3(!0)},te=function(){e3(!1)};function tt(e){e0(function(t){var n,r=(n="function"==typeof e?e(t):e,Number.isNaN(tw.current)||(n=Math.min(n,tw.current)),n=Math.max(n,0));return eq.current.scrollTop=r,r})}var tn=(0,h.useRef)({start:0,end:eK.length}),tr=(0,h.useRef)(),to=(n=h.useState(eK),b=(l=(0,c.Z)(n,2))[0],E=l[1],D=h.useState(null),N=(C=(0,c.Z)(D,2))[0],Y=C[1],h.useEffect(function(){var e=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function a(e){return void 0!==e?n(e):c}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=a(r[f]);if(v!==a(o[f])){l=f,s=s||v!==a(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(b||[],eK||[],eN);(null==e?void 0:e.index)!==void 0&&Y(eK[e.index]),E(eK)},[eK]),[N]);tr.current=(0,c.Z)(to,1)[0];var ti=h.useMemo(function(){if(!ej)return{scrollHeight:void 0,start:0,end:eK.length-1,offset:void 0};if(!eV)return{scrollHeight:(null==(e=eG.current)?void 0:e.offsetHeight)||0,start:0,end:eK.length-1,offset:void 0};for(var e,t,n,r,o=0,i=eK.length,u=0;u<i;u+=1){var c=eN(eK[u]),a=eO.get(c),l=o+(void 0===a?em:a);l>=e$&&void 0===t&&(t=u,n=o),l>e$+eg&&void 0===r&&(r=u),o=l}return void 0===t&&(t=0,n=0,r=Math.ceil(eg/em)),void 0===r&&(r=eK.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,eK.length-1),offset:n}},[eV,ej,e$,eK,eP,eg]),tu=ti.scrollHeight,tc=ti.start,ta=ti.end,tl=ti.offset;tn.current.start=tc,tn.current.end=ta,h.useLayoutEffect(function(){var e=eO.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=eK[tc];if(r&&void 0===n&&eN(r)===t){var o=eO.get(t)-em;tt(function(e){return e+o})}}eO.resetRecord()},[tu]);var ts=h.useState({width:0,height:eg}),tf=(0,c.Z)(ts,2),tv=tf[0],td=tf[1],th=(0,h.useRef)(),tg=(0,h.useRef)(),tm=h.useMemo(function(){return z(tv.width,eS)},[tv.width,eS]),tp=h.useMemo(function(){return z(tv.height,tu)},[tv.height,tu]),tZ=tu-eg,tw=(0,h.useRef)(tZ);tw.current=tZ;var tR=e$<=0,tb=e$>=tZ,tE=e9<=0,tM=e9>=eS,tS=R(tR,tb,tE,tM),ty=function(){return{x:eW?-e9:e9,y:e$}},tx=(0,h.useRef)(ty()),tL=(0,v.zX)(function(e){if(eL){var t=(0,i.Z)((0,i.Z)({},ty()),e);(tx.current.x!==t.x||tx.current.y!==t.y)&&(eL(t),tx.current=t)}});function tH(e,t){t?((0,g.flushSync)(function(){e5(e)}),tL()):tt(e)}var tz=function(e){var t=e,n=eS?eS-tv.width:0;return Math.min(t=Math.max(t,0),n)},tT=(0,v.zX)(function(e,t){t?((0,g.flushSync)(function(){e5(function(t){return tz(t+(eW?-e:e))})}),tL()):tt(function(t){return t+e})}),tk=(X=!!eS,B=(0,h.useRef)(0),I=(0,h.useRef)(null),O=(0,h.useRef)(null),P=(0,h.useRef)(!1),j=R(tR,tb,tE,tM),A=(0,h.useRef)(null),V=(0,h.useRef)(null),[function(e){if(ej){Z.Z.cancel(V.current),V.current=(0,Z.Z)(function(){A.current=null},2);var t,n,r=e.deltaX,o=e.deltaY,i=e.shiftKey,u=r,c=o;("sx"===A.current||!A.current&&i&&o&&!r)&&(u=o,c=0,A.current="sx");var a=Math.abs(u),l=Math.abs(c);if(null===A.current&&(A.current=X&&a>l?"x":"y"),"y"===A.current){t=e,n=c,Z.Z.cancel(I.current),!j(!1,n)&&(t._virtualHandled||(t._virtualHandled=!0,B.current+=n,O.current=n,w||t.preventDefault(),I.current=(0,Z.Z)(function(){var e=P.current?10:1;tT(B.current*e,!1),B.current=0})))}else tT(u,!0),w||e.preventDefault()}},function(e){ej&&(P.current=e.detail===O.current)}]),t_=(0,c.Z)(tk,2),tD=t_[0],tC=t_[1];W=function(e,t,n,r){return!tS(e,t,n)&&(!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),tD({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)},K=(0,h.useRef)(!1),q=(0,h.useRef)(0),G=(0,h.useRef)(0),J=(0,h.useRef)(null),Q=(0,h.useRef)(null),U=function(e){if(K.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),r=q.current-t,o=G.current-n,i=Math.abs(r)>Math.abs(o);i?q.current=t:G.current=n;var u=W(i,i?r:o,!1,e);u&&e.preventDefault(),clearInterval(Q.current),u&&(Q.current=setInterval(function(){i?r*=y:o*=y;var e=Math.floor(i?r:o);(!W(i,e,!0)||.1>=Math.abs(e))&&clearInterval(Q.current)},16))}},$=function(){K.current=!1,F()},ee=function(e){F(),1!==e.touches.length||K.current||(K.current=!0,q.current=Math.ceil(e.touches[0].pageX),G.current=Math.ceil(e.touches[0].pageY),J.current=e.target,J.current.addEventListener("touchmove",U,{passive:!1}),J.current.addEventListener("touchend",$,{passive:!0}))},F=function(){J.current&&(J.current.removeEventListener("touchmove",U),J.current.removeEventListener("touchend",$))},(0,d.Z)(function(){return ej&&eq.current.addEventListener("touchstart",ee,{passive:!0}),function(){var e;null==(e=eq.current)||e.removeEventListener("touchstart",ee),F(),clearInterval(Q.current)}},[ej]),et=function(e){tt(function(t){return t+e})},h.useEffect(function(){var e=eq.current;if(eV&&e){var t,n,r=!1,o=function(){Z.Z.cancel(t)},i=function e(){o(),t=(0,Z.Z)(function(){et(n),e()})},u=function(e){!e.target.draggable&&0===e.button&&(e._virtualHandled||(e._virtualHandled=!0,r=!0))},c=function(){r=!1,o()},a=function(t){if(r){var u=L(t,!1),c=e.getBoundingClientRect(),a=c.top,l=c.bottom;u<=a?(n=-x(a-u),i()):u>=l?(n=x(u-l),i()):o()}};return e.addEventListener("mousedown",u),e.ownerDocument.addEventListener("mouseup",c),e.ownerDocument.addEventListener("mousemove",a),function(){e.removeEventListener("mousedown",u),e.ownerDocument.removeEventListener("mouseup",c),e.ownerDocument.removeEventListener("mousemove",a),o()}}},[eV]),(0,d.Z)(function(){function e(e){var t=tR&&e.detail<0,n=tb&&e.detail>0;!ej||t||n||e.preventDefault()}var t=eq.current;return t.addEventListener("wheel",tD,{passive:!1}),t.addEventListener("DOMMouseScroll",tC,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",tD),t.removeEventListener("DOMMouseScroll",tC),t.removeEventListener("MozMousePixelScroll",e)}},[ej,tR,tb]),(0,d.Z)(function(){if(eS){var e=tz(e9);e5(e),tL({x:e})}},[tv.width,eS]);var tN=function(){var e,t;null==(e=th.current)||e.delayHidden(),null==(t=tg.current)||t.delayHidden()},tY=(en=function(){return eI(!0)},er=h.useRef(),eo=h.useState(null),eu=(ei=(0,c.Z)(eo,2))[0],ec=ei[1],(0,d.Z)(function(){if(eu&&eu.times<10){if(!eq.current)return void ec(function(e){return(0,i.Z)({},e)});en();var e=eu.targetAlign,t=eu.originAlign,n=eu.index,r=eu.offset,o=eq.current.clientHeight,u=!1,c=e,a=null;if(o){for(var l=e||t,s=0,f=0,v=0,d=Math.min(eK.length-1,n),h=0;h<=d;h+=1){var g=eN(eK[h]);f=s;var m=eO.get(g);s=v=f+(void 0===m?em:m)}for(var p="top"===l?r:o-r,Z=d;Z>=0;Z-=1){var w=eN(eK[Z]),R=eO.get(w);if(void 0===R){u=!0;break}if((p-=R)<=0)break}switch(l){case"top":a=f-r;break;case"bottom":a=v-o+r;break;default:var b=eq.current.scrollTop;f<b?c="top":v>b+o&&(c="bottom")}null!==a&&tt(a),a!==eu.lastTop&&(u=!0)}u&&ec((0,i.Z)((0,i.Z)({},eu),{},{times:eu.times+1,targetAlign:c,lastTop:a}))}},[eu,eq.current]),function(e){if(null==e)return void tN();if(Z.Z.cancel(er.current),"number"==typeof e)tt(e);else if(e&&"object"===(0,o.Z)(e)){var t,n=e.align;t="index"in e?e.index:eK.findIndex(function(t){return eN(t)===e.key});var r=e.offset;ec({times:0,index:t,offset:void 0===r?0:r,originAlign:n})}});h.useImperativeHandle(t,function(){return{nativeElement:eJ.current,getScrollInfo:ty,scrollTo:function(e){e&&"object"===(0,o.Z)(e)&&("left"in e||"top"in e)?(void 0!==e.left&&e5(tz(e.left)),tY(e.top)):tY(e)}}}),(0,d.Z)(function(){eH&&eH(eK.slice(tc,ta+1),eK)},[tc,ta,eK]);var tX=(ea=h.useMemo(function(){return[new Map,[]]},[eK,eO.id,em]),es=(el=(0,c.Z)(ea,2))[0],ef=el[1],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=es.get(e),r=es.get(t);if(void 0===n||void 0===r)for(var o=eK.length,i=ef.length;i<o;i+=1){var u,c=eN(eK[i]);es.set(c,i);var a=null!=(u=eO.get(c))?u:em;if(ef[i]=(ef[i-1]||0)+a,c===e&&(n=i),c===t&&(r=i),void 0!==n&&void 0!==r)break}return{top:ef[n-1]||0,bottom:ef[r]}}),tB=null==eT?void 0:eT({start:tc,end:ta,virtual:eV,offsetX:e9,offsetY:tl,rtl:eW,getSize:tX}),tI=eK.slice(tc,ta+1).map(function(e,t){var n=eR(e,tc+t,{style:{width:eS},offsetX:e9}),r=eN(e);return h.createElement(p,{key:r,setRef:function(t){return eB(e,t)}},n)}),tO=null;eg&&(tO=(0,i.Z)((0,u.Z)({},void 0===ep||ep?"height":"maxHeight",eg),_),ej&&(tO.overflowY="hidden",eS&&(tO.overflowX="hidden"),e8&&(tO.pointerEvents="none")));var tP={};return eW&&(tP.dir="rtl"),h.createElement("div",(0,r.Z)({ref:eJ,style:(0,i.Z)((0,i.Z)({},eZ),{},{position:"relative"}),className:eF},tP,eC),h.createElement(f.Z,{onResize:function(e){td({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(void 0===ey?"div":ey,{className:"".concat(ed,"-holder"),style:tO,ref:eq,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==e$&&tt(t),null==ex||ex(e),tL()},onMouseEnter:tN},h.createElement(m,{prefixCls:ed,height:tu,offsetX:e9,offsetY:tl,scrollWidth:eS,onInnerResize:eI,ref:eG,innerProps:ez,rtl:eW,extra:tB},tI))),eV&&tu>eg&&h.createElement(H,{ref:th,prefixCls:ed,scrollOffset:e$,scrollRange:tu,rtl:eW,onScroll:tH,onStartMove:e7,onStopMove:te,spinSize:tp,containerSize:tv.height,style:null==ek?void 0:ek.verticalScrollBar,thumbStyle:null==ek?void 0:ek.verticalScrollBarThumb,showScrollBar:eD}),eV&&eS>tv.width&&h.createElement(H,{ref:tg,prefixCls:ed,scrollOffset:e9,scrollRange:eS,rtl:eW,onScroll:tH,onStartMove:e7,onStopMove:te,spinSize:tm,containerSize:tv.width,horizontal:!0,style:null==ek?void 0:ek.horizontalScrollBar,thumbStyle:null==ek?void 0:ek.horizontalScrollBarThumb,showScrollBar:eD}))});D.displayName="List";var C=D}}]);
//# sourceMappingURL=9905.ba0d2a60e3cbae4a.js.map