{"version":3,"file":"1509.8fbd88752ee87115.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/Image.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/ImageState.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/color.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/dom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/has.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/style/IconImage.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/style/IconImageCache.js"],"sourcesContent":["/**\n * @module ol/Image\n */\nimport ImageState from './ImageState.js';\nimport EventType from './events/EventType.js';\nimport EventTarget from './events/Target.js';\nimport {listenOnce, unlistenByKey} from './events.js';\nimport {toPromise} from './functions.js';\nimport {CREATE_IMAGE_BITMAP, IMAGE_DECODE} from './has.js';\n\n/**\n * A function that takes an {@link module:ol/Image~ImageWrapper} for the image and a\n * `{string}` for the src as arguments. It is supposed to make it so the\n * underlying image {@link module:ol/Image~ImageWrapper#getImage} is assigned the\n * content specified by the src. If not specified, the default is\n *\n *     function(image, src) {\n *       image.getImage().src = src;\n *     }\n *\n * Providing a custom `imageLoadFunction` can be useful to load images with\n * post requests or - in general - through XHR requests, where the src of the\n * image element would be set to a data URI when the content is loaded.\n *\n * @typedef {function(import(\"./Image.js\").default, string): void} LoadFunction\n * @api\n */\n\n/**\n * @typedef {Object} ImageObject\n * @property {import(\"./extent.js\").Extent} [extent] Extent, if different from the requested one.\n * @property {import(\"./resolution.js\").ResolutionLike} [resolution] Resolution, if different from the requested one.\n * When x and y resolution are different, use the array type (`[xResolution, yResolution]`).\n * @property {number} [pixelRatio] Pixel ratio, if different from the requested one.\n * @property {import('./DataTile.js').ImageLike} image Image.\n */\n\n/**\n * Loader function used for image sources. Receives extent, resolution and pixel ratio as arguments.\n * For images that cover any extent and resolution (static images), the loader function should not accept\n * any arguments. The function returns an {@link import(\"./DataTile.js\").ImageLike image}, an\n * {@link import(\"./Image.js\").ImageObject image object}, or a promise for the same.\n * For loaders that generate images, the promise should not resolve until the image is loaded.\n * If the returned image does not match the extent, resolution or pixel ratio passed to the loader,\n * it has to return an {@link import(\"./Image.js\").ImageObject image object} with the `image` and the\n * correct `extent`, `resolution` and `pixelRatio`.\n *\n * @typedef {function(import(\"./extent.js\").Extent, number, number, (function(HTMLImageElement, string): void)=): import(\"./DataTile.js\").ImageLike|ImageObject|Promise<import(\"./DataTile.js\").ImageLike|ImageObject>} Loader\n * @api\n */\n\n/**\n * Loader function used for image sources. Receives extent, resolution and pixel ratio as arguments.\n * The function returns a promise for an  {@link import(\"./Image.js\").ImageObject image object}.\n *\n * @typedef {function(import(\"./extent.js\").Extent, number, number, (function(HTMLImageElement, string): void)=): Promise<import(\"./DataTile.js\").ImageLike|ImageObject>} ImageObjectPromiseLoader\n */\n\nclass ImageWrapper extends EventTarget {\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number|Array<number>|undefined} resolution Resolution. If provided as array, x and y\n   * resolution will be assumed.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"./ImageState.js\").default|Loader} stateOrLoader State.\n   */\n  constructor(extent, resolution, pixelRatio, stateOrLoader) {\n    super();\n\n    /**\n     * @protected\n     * @type {import(\"./extent.js\").Extent}\n     */\n    this.extent = extent;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.pixelRatio_ = pixelRatio;\n\n    /**\n     * @protected\n     * @type {number|Array<number>|undefined}\n     */\n    this.resolution = resolution;\n\n    /**\n     * @protected\n     * @type {import(\"./ImageState.js\").default}\n     */\n    this.state =\n      typeof stateOrLoader === 'function' ? ImageState.IDLE : stateOrLoader;\n\n    /**\n     * @private\n     * @type {import('./DataTile.js').ImageLike|null}\n     */\n    this.image_ = null;\n\n    /**\n     * @protected\n     * @type {Loader|null}\n     */\n    this.loader = typeof stateOrLoader === 'function' ? stateOrLoader : null;\n  }\n\n  /**\n   * @protected\n   */\n  changed() {\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * @return {import(\"./extent.js\").Extent} Extent.\n   */\n  getExtent() {\n    return this.extent;\n  }\n\n  /**\n   * @return {import('./DataTile.js').ImageLike} Image.\n   */\n  getImage() {\n    return this.image_;\n  }\n\n  /**\n   * @return {number} PixelRatio.\n   */\n  getPixelRatio() {\n    return this.pixelRatio_;\n  }\n\n  /**\n   * @return {number|Array<number>} Resolution.\n   */\n  getResolution() {\n    return /** @type {number} */ (this.resolution);\n  }\n\n  /**\n   * @return {import(\"./ImageState.js\").default} State.\n   */\n  getState() {\n    return this.state;\n  }\n\n  /**\n   * Load not yet loaded URI.\n   */\n  load() {\n    if (this.state == ImageState.IDLE) {\n      if (this.loader) {\n        this.state = ImageState.LOADING;\n        this.changed();\n        const resolution = this.getResolution();\n        const requestResolution = Array.isArray(resolution)\n          ? resolution[0]\n          : resolution;\n        toPromise(() =>\n          this.loader(\n            this.getExtent(),\n            requestResolution,\n            this.getPixelRatio(),\n          ),\n        )\n          .then((image) => {\n            if ('image' in image) {\n              this.image_ = image.image;\n            }\n            if ('extent' in image) {\n              this.extent = image.extent;\n            }\n            if ('resolution' in image) {\n              this.resolution = image.resolution;\n            }\n            if ('pixelRatio' in image) {\n              this.pixelRatio_ = image.pixelRatio;\n            }\n            if (\n              image instanceof HTMLImageElement ||\n              (CREATE_IMAGE_BITMAP && image instanceof ImageBitmap) ||\n              image instanceof HTMLCanvasElement ||\n              image instanceof HTMLVideoElement\n            ) {\n              this.image_ = image;\n            }\n            this.state = ImageState.LOADED;\n          })\n          .catch((error) => {\n            this.state = ImageState.ERROR;\n            console.error(error); // eslint-disable-line no-console\n          })\n          .finally(() => this.changed());\n      }\n    }\n  }\n\n  /**\n   * @param {import('./DataTile.js').ImageLike} image The image.\n   */\n  setImage(image) {\n    this.image_ = image;\n  }\n\n  /**\n   * @param {number|Array<number>} resolution Resolution.\n   */\n  setResolution(resolution) {\n    this.resolution = resolution;\n  }\n}\n\n/**\n * @param {import('./DataTile.js').ImageLike} image Image element.\n * @param {function():any} loadHandler Load callback function.\n * @param {function():any} errorHandler Error callback function.\n * @return {function():void} Callback to stop listening.\n */\nexport function listenImage(image, loadHandler, errorHandler) {\n  const img = /** @type {HTMLImageElement} */ (image);\n  let listening = true;\n  let decoding = false;\n  let loaded = false;\n\n  const listenerKeys = [\n    listenOnce(img, EventType.LOAD, function () {\n      loaded = true;\n      if (!decoding) {\n        loadHandler();\n      }\n    }),\n  ];\n\n  if (img.src && IMAGE_DECODE) {\n    decoding = true;\n    img\n      .decode()\n      .then(function () {\n        if (listening) {\n          loadHandler();\n        }\n      })\n      .catch(function (error) {\n        if (listening) {\n          if (loaded) {\n            loadHandler();\n          } else {\n            errorHandler();\n          }\n        }\n      });\n  } else {\n    listenerKeys.push(listenOnce(img, EventType.ERROR, errorHandler));\n  }\n\n  return function unlisten() {\n    listening = false;\n    listenerKeys.forEach(unlistenByKey);\n  };\n}\n\n/**\n * Loads an image.\n * @param {HTMLImageElement} image Image, not yet loaded.\n * @param {string} [src] `src` attribute of the image. Optional, not required if already present.\n * @return {Promise<HTMLImageElement>} Promise resolving to an `HTMLImageElement`.\n * @api\n */\nexport function load(image, src) {\n  return new Promise((resolve, reject) => {\n    function handleLoad() {\n      unlisten();\n      resolve(image);\n    }\n    function handleError() {\n      unlisten();\n      reject(new Error('Image load error'));\n    }\n    function unlisten() {\n      image.removeEventListener('load', handleLoad);\n      image.removeEventListener('error', handleError);\n    }\n    image.addEventListener('load', handleLoad);\n    image.addEventListener('error', handleError);\n    if (src) {\n      image.src = src;\n    }\n  });\n}\n\n/**\n * @param {HTMLImageElement} image Image, not yet loaded.\n * @param {string} [src] `src` attribute of the image. Optional, not required if already present.\n * @return {Promise<HTMLImageElement>} Promise resolving to an `HTMLImageElement`.\n */\nexport function decodeFallback(image, src) {\n  if (src) {\n    image.src = src;\n  }\n  return image.src && IMAGE_DECODE\n    ? new Promise((resolve, reject) =>\n        image\n          .decode()\n          .then(() => resolve(image))\n          .catch((e) =>\n            image.complete && image.width ? resolve(image) : reject(e),\n          ),\n      )\n    : load(image);\n}\n\n/**\n * Loads an image and decodes it to an `ImageBitmap` if `createImageBitmap()` is supported. Returns\n * the loaded image otherwise.\n * @param {HTMLImageElement} image Image, not yet loaded.\n * @param {string} [src] `src` attribute of the image. Optional, not required if already present.\n * @return {Promise<ImageBitmap|HTMLImageElement>} Promise resolving to an `ImageBitmap` or an\n * `HTMLImageElement` if `createImageBitmap()` is not supported.\n * @api\n */\nexport function decode(image, src) {\n  if (src) {\n    image.src = src;\n  }\n  return image.src && IMAGE_DECODE && CREATE_IMAGE_BITMAP\n    ? image\n        .decode()\n        .then(() => createImageBitmap(image))\n        .catch((e) => {\n          if (image.complete && image.width) {\n            return image;\n          }\n          throw e;\n        })\n    : decodeFallback(image);\n}\n\nexport default ImageWrapper;\n","/**\n * @module ol/ImageState\n */\n\n/**\n * @enum {number}\n */\nexport default {\n  IDLE: 0,\n  LOADING: 1,\n  LOADED: 2,\n  ERROR: 3,\n  EMPTY: 4,\n};\n","/**\n * @module ol/color\n */\nimport {createCanvasContext2D} from './dom.js';\nimport {clamp, toFixed} from './math.js';\n\n/**\n * A color represented as a short array [red, green, blue, alpha].\n * red, green, and blue should be integers in the range 0..255 inclusive.\n * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n * given then `1` will be used.\n * @typedef {Array<number>} Color\n * @api\n */\n\n/**\n * Color to indicate that no color should be rendered. This is meant to be used for per-reference\n * comparisons only.\n * @type {Color}\n */\nexport const NO_COLOR = [NaN, NaN, NaN, 0];\n\nlet colorParseContext;\n/**\n * @return {CanvasRenderingContext2D} The color parse context\n */\nfunction getColorParseContext() {\n  if (!colorParseContext) {\n    colorParseContext = createCanvasContext2D(1, 1, undefined, {\n      willReadFrequently: true,\n      desynchronized: true,\n    });\n  }\n  return colorParseContext;\n}\n\nconst rgbModernRegEx =\n  /^rgba?\\(\\s*(\\d+%?)\\s+(\\d+%?)\\s+(\\d+%?)(?:\\s*\\/\\s*(\\d+%|\\d*\\.\\d+|[01]))?\\s*\\)$/i;\nconst rgbLegacyAbsoluteRegEx =\n  /^rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)(?:\\s*,\\s*(\\d+%|\\d*\\.\\d+|[01]))?\\s*\\)$/i;\nconst rgbLegacyPercentageRegEx =\n  /^rgba?\\(\\s*(\\d+%)\\s*,\\s*(\\d+%)\\s*,\\s*(\\d+%)(?:\\s*,\\s*(\\d+%|\\d*\\.\\d+|[01]))?\\s*\\)$/i;\nconst hexRegEx = /^#([\\da-f]{3,4}|[\\da-f]{6}|[\\da-f]{8})$/i;\n\n/**\n * @param {string} s Color component as number or percentage.\n * @param {number} divider Divider for percentage.\n * @return {number} Color component.\n */\nfunction toColorComponent(s, divider) {\n  return s.endsWith('%')\n    ? Number(s.substring(0, s.length - 1)) / divider\n    : Number(s);\n}\n\n/**\n * @param {string} color Color string.\n */\nfunction throwInvalidColor(color) {\n  throw new Error('failed to parse \"' + color + '\" as color');\n}\n\n/**\n * @param {string} color Color string.\n * @return {Color} RGBa color array.\n */\nfunction parseRgba(color) {\n  // Fast lane for rgb(a) colors\n  if (color.toLowerCase().startsWith('rgb')) {\n    const rgb =\n      color.match(rgbLegacyAbsoluteRegEx) ||\n      color.match(rgbModernRegEx) ||\n      color.match(rgbLegacyPercentageRegEx);\n    if (rgb) {\n      const alpha = rgb[4];\n      const rgbDivider = 100 / 255;\n      return [\n        clamp((toColorComponent(rgb[1], rgbDivider) + 0.5) | 0, 0, 255),\n        clamp((toColorComponent(rgb[2], rgbDivider) + 0.5) | 0, 0, 255),\n        clamp((toColorComponent(rgb[3], rgbDivider) + 0.5) | 0, 0, 255),\n        alpha !== undefined ? clamp(toColorComponent(alpha, 100), 0, 1) : 1,\n      ];\n    }\n    throwInvalidColor(color);\n  }\n  // Fast lane for hex colors (also with alpha)\n  if (color.startsWith('#')) {\n    if (hexRegEx.test(color)) {\n      const hex = color.substring(1);\n      const step = hex.length <= 4 ? 1 : 2;\n      const colorFromHex = [0, 0, 0, 255];\n      for (let i = 0, ii = hex.length; i < ii; i += step) {\n        let colorComponent = parseInt(hex.substring(i, i + step), 16);\n        if (step === 1) {\n          colorComponent += colorComponent << 4;\n        }\n        colorFromHex[i / step] = colorComponent;\n      }\n      colorFromHex[3] = colorFromHex[3] / 255;\n      return colorFromHex;\n    }\n    throwInvalidColor(color);\n  }\n  // Use canvas color serialization to parse the color into hex or rgba\n  // See https://www.w3.org/TR/2021/SPSD-2dcontext-20210128/#serialization-of-a-color\n  const context = getColorParseContext();\n  context.fillStyle = '#abcdef';\n  let invalidCheckFillStyle = context.fillStyle;\n  context.fillStyle = color;\n  if (context.fillStyle === invalidCheckFillStyle) {\n    context.fillStyle = '#fedcba';\n    invalidCheckFillStyle = context.fillStyle;\n    context.fillStyle = color;\n    if (context.fillStyle === invalidCheckFillStyle) {\n      throwInvalidColor(color);\n    }\n  }\n  const colorString = context.fillStyle;\n  if (colorString.startsWith('#') || colorString.startsWith('rgba')) {\n    return parseRgba(colorString);\n  }\n  context.clearRect(0, 0, 1, 1);\n  context.fillRect(0, 0, 1, 1);\n  const colorFromImage = Array.from(context.getImageData(0, 0, 1, 1).data);\n  colorFromImage[3] = toFixed(colorFromImage[3] / 255, 3);\n  return colorFromImage;\n}\n\n/**\n * Return the color as an rgba string.\n * @param {Color|string} color Color.\n * @return {string} Rgba string.\n * @api\n */\nexport function asString(color) {\n  if (typeof color === 'string') {\n    return color;\n  }\n  return toString(color);\n}\n\n/**\n * @type {number}\n */\nconst MAX_CACHE_SIZE = 1024;\n\n/**\n * We maintain a small cache of parsed strings.  Whenever the cache grows too large,\n * we delete an arbitrary set of the entries.\n *\n * @type {Object<string, Color>}\n */\nconst cache = {};\n\n/**\n * @type {number}\n */\nlet cacheSize = 0;\n\n/**\n * @param {Color} color A color that may or may not have an alpha channel.\n * @return {Color} The input color with an alpha channel.  If the input color has\n * an alpha channel, the input color will be returned unchanged.  Otherwise, a new\n * array will be returned with the input color and an alpha channel of 1.\n */\nexport function withAlpha(color) {\n  if (color.length === 4) {\n    return color;\n  }\n  const output = color.slice();\n  output[3] = 1;\n  return output;\n}\n\n// The functions b1, b2, a1, a2, rgbaToLcha and lchaToRgba below are adapted from\n// https://stackoverflow.com/a/67219995/2389327\n\n/**\n * @param {number} v Input value.\n * @return {number} Output value.\n */\nfunction b1(v) {\n  return v > 0.0031308 ? Math.pow(v, 1 / 2.4) * 269.025 - 14.025 : v * 3294.6;\n}\n\n/**\n * @param {number} v Input value.\n * @return {number} Output value.\n */\nfunction b2(v) {\n  return v > 0.2068965 ? Math.pow(v, 3) : (v - 4 / 29) * (108 / 841);\n}\n\n/**\n * @param {number} v Input value.\n * @return {number} Output value.\n */\nfunction a1(v) {\n  return v > 10.314724 ? Math.pow((v + 14.025) / 269.025, 2.4) : v / 3294.6;\n}\n\n/**\n * @param {number} v Input value.\n * @return {number} Output value.\n */\nfunction a2(v) {\n  return v > 0.0088564 ? Math.pow(v, 1 / 3) : v / (108 / 841) + 4 / 29;\n}\n\n/**\n * @param {Color} color RGBA color.\n * @return {Color} LCHuv color with alpha.\n */\nexport function rgbaToLcha(color) {\n  const r = a1(color[0]);\n  const g = a1(color[1]);\n  const b = a1(color[2]);\n  const y = a2(r * 0.222488403 + g * 0.716873169 + b * 0.06060791);\n  const l = 500 * (a2(r * 0.452247074 + g * 0.399439023 + b * 0.148375274) - y);\n  const q = 200 * (y - a2(r * 0.016863605 + g * 0.117638439 + b * 0.865350722));\n  const h = Math.atan2(q, l) * (180 / Math.PI);\n  return [\n    116 * y - 16,\n    Math.sqrt(l * l + q * q),\n    h < 0 ? h + 360 : h,\n    color[3],\n  ];\n}\n\n/**\n * @param {Color} color LCHuv color with alpha.\n * @return {Color} RGBA color.\n */\nexport function lchaToRgba(color) {\n  const l = (color[0] + 16) / 116;\n  const c = color[1];\n  const h = (color[2] * Math.PI) / 180;\n  const y = b2(l);\n  const x = b2(l + (c / 500) * Math.cos(h));\n  const z = b2(l - (c / 200) * Math.sin(h));\n  const r = b1(x * 3.021973625 - y * 1.617392459 - z * 0.404875592);\n  const g = b1(x * -0.943766287 + y * 1.916279586 + z * 0.027607165);\n  const b = b1(x * 0.069407491 - y * 0.22898585 + z * 1.159737864);\n  return [\n    clamp((r + 0.5) | 0, 0, 255),\n    clamp((g + 0.5) | 0, 0, 255),\n    clamp((b + 0.5) | 0, 0, 255),\n    color[3],\n  ];\n}\n\n/**\n * @param {string} s String.\n * @return {Color} Color.\n */\nexport function fromString(s) {\n  if (s === 'none') {\n    return NO_COLOR;\n  }\n  if (cache.hasOwnProperty(s)) {\n    return cache[s];\n  }\n  if (cacheSize >= MAX_CACHE_SIZE) {\n    let i = 0;\n    for (const key in cache) {\n      if ((i++ & 3) === 0) {\n        delete cache[key];\n        --cacheSize;\n      }\n    }\n  }\n\n  const color = parseRgba(s);\n  if (color.length !== 4) {\n    throwInvalidColor(s);\n  }\n  for (const c of color) {\n    if (isNaN(c)) {\n      throwInvalidColor(s);\n    }\n  }\n  cache[s] = color;\n  ++cacheSize;\n  return color;\n}\n\n/**\n * Return the color as an array. This function maintains a cache of calculated\n * arrays which means the result should not be modified.\n * @param {Color|string} color Color.\n * @return {Color} Color.\n * @api\n */\nexport function asArray(color) {\n  if (Array.isArray(color)) {\n    return color;\n  }\n  return fromString(color);\n}\n\n/**\n * @param {Color} color Color.\n * @return {string} String.\n */\nexport function toString(color) {\n  let r = color[0];\n  if (r != (r | 0)) {\n    r = (r + 0.5) | 0;\n  }\n  let g = color[1];\n  if (g != (g | 0)) {\n    g = (g + 0.5) | 0;\n  }\n  let b = color[2];\n  if (b != (b | 0)) {\n    b = (b + 0.5) | 0;\n  }\n  const a = color[3] === undefined ? 1 : Math.round(color[3] * 1000) / 1000;\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n}\n\n/**\n * @param {string} s String.\n * @return {boolean} Whether the string is actually a valid color\n */\nexport function isStringColor(s) {\n  try {\n    fromString(s);\n    return true;\n  } catch {\n    return false;\n  }\n}\n","import {WORKER_OFFSCREEN_CANVAS} from './has.js';\n\n/**\n * @module ol/dom\n */\n\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number} [width] Canvas width.\n * @param {number} [height] Canvas height.\n * @param {Array<HTMLCanvasElement>} [canvasPool] Canvas pool to take existing canvas from.\n * @param {CanvasRenderingContext2DSettings} [settings] CanvasRenderingContext2DSettings\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(width, height, canvasPool, settings) {\n  /** @type {HTMLCanvasElement|OffscreenCanvas} */\n  let canvas;\n  if (canvasPool && canvasPool.length) {\n    canvas = /** @type {HTMLCanvasElement} */ (canvasPool.shift());\n  } else if (WORKER_OFFSCREEN_CANVAS) {\n    canvas = new OffscreenCanvas(width || 300, height || 300);\n  } else {\n    canvas = document.createElement('canvas');\n  }\n  if (width) {\n    canvas.width = width;\n  }\n  if (height) {\n    canvas.height = height;\n  }\n  //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n  return /** @type {CanvasRenderingContext2D} */ (\n    canvas.getContext('2d', settings)\n  );\n}\n\n/** @type {CanvasRenderingContext2D} */\nlet sharedCanvasContext;\n\n/**\n * @return {CanvasRenderingContext2D} Shared canvas context.\n */\nexport function getSharedCanvasContext2D() {\n  if (!sharedCanvasContext) {\n    sharedCanvasContext = createCanvasContext2D(1, 1);\n  }\n  return sharedCanvasContext;\n}\n\n/**\n * Releases canvas memory to avoid exceeding memory limits in Safari.\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\n * @param {CanvasRenderingContext2D} context Context.\n */\nexport function releaseCanvas(context) {\n  const canvas = context.canvas;\n  canvas.width = 1;\n  canvas.height = 1;\n  context.clearRect(0, 0, 1, 1);\n}\n\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n  let width = element.offsetWidth;\n  const style = getComputedStyle(element);\n  width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n  return width;\n}\n\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n  let height = element.offsetHeight;\n  const style = getComputedStyle(element);\n  height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n  return height;\n}\n\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n  const parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n}\n\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n  while (node.lastChild) {\n    node.lastChild.remove();\n  }\n}\n\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n  const oldChildren = node.childNodes;\n\n  for (let i = 0; true; ++i) {\n    const oldChild = oldChildren[i];\n    const newChild = children[i];\n\n    // check if our work is done\n    if (!oldChild && !newChild) {\n      break;\n    }\n\n    // check if children match\n    if (oldChild === newChild) {\n      continue;\n    }\n\n    // check if a new child needs to be added\n    if (!oldChild) {\n      node.appendChild(newChild);\n      continue;\n    }\n\n    // check if an old child needs to be removed\n    if (!newChild) {\n      node.removeChild(oldChild);\n      --i;\n      continue;\n    }\n\n    // reorder\n    node.insertBefore(newChild, oldChild);\n  }\n}\n","/**\n * @module ol/has\n */\n\nconst ua =\n  typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined'\n    ? navigator.userAgent.toLowerCase()\n    : '';\n\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport const SAFARI = ua.includes('safari') && !ua.includes('chrom');\n\n/**\n * https://bugs.webkit.org/show_bug.cgi?id=237906\n * @type {boolean}\n */\nexport const SAFARI_BUG_237906 =\n  SAFARI &&\n  (ua.includes('version/15.4') ||\n    /cpu (os|iphone os) 15_4 like mac os x/.test(ua));\n\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport const WEBKIT = ua.includes('webkit') && !ua.includes('edge');\n\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport const MAC = ua.includes('macintosh');\n\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport const DEVICE_PIXEL_RATIO =\n  typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport const WORKER_OFFSCREEN_CANVAS =\n  typeof WorkerGlobalScope !== 'undefined' &&\n  typeof OffscreenCanvas !== 'undefined' &&\n  self instanceof WorkerGlobalScope; //eslint-disable-line\n\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport const IMAGE_DECODE =\n  typeof Image !== 'undefined' && Image.prototype.decode;\n\n/**\n * createImageBitmap() is supported.\n * @type {boolean}\n */\nexport const CREATE_IMAGE_BITMAP = typeof createImageBitmap === 'function';\n\n/**\n * @type {boolean}\n */\nexport const PASSIVE_EVENT_LISTENERS = (function () {\n  let passive = false;\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive = true;\n      },\n    });\n\n    // @ts-ignore Ignore invalid event type '_'\n    window.addEventListener('_', null, options);\n    // @ts-ignore Ignore invalid event type '_'\n    window.removeEventListener('_', null, options);\n  } catch {\n    // passive not supported\n  }\n  return passive;\n})();\n","/**\n * @module ol/style/IconImage\n */\n\nimport {decodeFallback} from '../Image.js';\nimport ImageState from '../ImageState.js';\nimport {asString} from '../color.js';\nimport {createCanvasContext2D} from '../dom.js';\nimport EventType from '../events/EventType.js';\nimport EventTarget from '../events/Target.js';\nimport {shared as iconImageCache} from './IconImageCache.js';\n\n/**\n * @type {CanvasRenderingContext2D}\n */\nlet taintedTestContext = null;\n\nclass IconImage extends EventTarget {\n  /**\n   * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null} image Image.\n   * @param {string|undefined} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../ImageState.js\").default|undefined} imageState Image state.\n   * @param {import(\"../color.js\").Color|string|null} color Color.\n   */\n  constructor(image, src, crossOrigin, imageState, color) {\n    super();\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement|ImageBitmap}\n     */\n    this.hitDetectionImage_ = null;\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null}\n     */\n    this.image_ = image;\n\n    /**\n     * @private\n     * @type {string|null}\n     */\n    this.crossOrigin_ = crossOrigin;\n\n    /**\n     * @private\n     * @type {Object<number, HTMLCanvasElement>}\n     */\n    this.canvas_ = {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|string|null}\n     */\n    this.color_ = color;\n\n    /**\n     * @private\n     * @type {import(\"../ImageState.js\").default}\n     */\n    this.imageState_ = imageState === undefined ? ImageState.IDLE : imageState;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size|null}\n     */\n    this.size_ =\n      image && image.width && image.height ? [image.width, image.height] : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     */\n    this.tainted_;\n\n    /**\n     * @private\n     * @type {Promise<void>|null}\n     */\n    this.ready_ = null;\n  }\n\n  /**\n   * @private\n   */\n  initializeImage_() {\n    this.image_ = new Image();\n    if (this.crossOrigin_ !== null) {\n      this.image_.crossOrigin = this.crossOrigin_;\n    }\n  }\n\n  /**\n   * @private\n   * @return {boolean} The image canvas is tainted.\n   */\n  isTainted_() {\n    if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n      if (!taintedTestContext) {\n        taintedTestContext = createCanvasContext2D(1, 1, undefined, {\n          willReadFrequently: true,\n        });\n      }\n      taintedTestContext.drawImage(this.image_, 0, 0);\n      try {\n        taintedTestContext.getImageData(0, 0, 1, 1);\n        this.tainted_ = false;\n      } catch {\n        taintedTestContext = null;\n        this.tainted_ = true;\n      }\n    }\n    return this.tainted_ === true;\n  }\n\n  /**\n   * @private\n   */\n  dispatchChangeEvent_() {\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * @private\n   */\n  handleImageError_() {\n    this.imageState_ = ImageState.ERROR;\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @private\n   */\n  handleImageLoad_() {\n    this.imageState_ = ImageState.LOADED;\n    this.size_ = [this.image_.width, this.image_.height];\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement|ImageBitmap} Image or Canvas element or image bitmap.\n   */\n  getImage(pixelRatio) {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Image or Canvas element.\n   */\n  getPixelRatio(pixelRatio) {\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? pixelRatio : 1;\n  }\n\n  /**\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  getImageState() {\n    return this.imageState_;\n  }\n\n  /**\n   * @return {HTMLImageElement|HTMLCanvasElement|ImageBitmap} Image element.\n   */\n  getHitDetectionImage() {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    if (!this.hitDetectionImage_) {\n      if (this.isTainted_()) {\n        const width = this.size_[0];\n        const height = this.size_[1];\n        const context = createCanvasContext2D(width, height);\n        context.fillRect(0, 0, width, height);\n        this.hitDetectionImage_ = context.canvas;\n      } else {\n        this.hitDetectionImage_ = this.image_;\n      }\n    }\n    return this.hitDetectionImage_;\n  }\n\n  /**\n   * Get the size of the icon (in pixels).\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  getSize() {\n    return this.size_;\n  }\n\n  /**\n   * @return {string|undefined} Image src.\n   */\n  getSrc() {\n    return this.src_;\n  }\n\n  /**\n   * Load not yet loaded URI.\n   */\n  load() {\n    if (this.imageState_ !== ImageState.IDLE) {\n      return;\n    }\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n\n    this.imageState_ = ImageState.LOADING;\n    try {\n      if (this.src_ !== undefined) {\n        /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n      }\n    } catch {\n      this.handleImageError_();\n    }\n    if (this.image_ instanceof HTMLImageElement) {\n      decodeFallback(this.image_, this.src_)\n        .then((image) => {\n          this.image_ = image;\n          this.handleImageLoad_();\n        })\n        .catch(this.handleImageError_.bind(this));\n    }\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @private\n   */\n  replaceColor_(pixelRatio) {\n    if (\n      !this.color_ ||\n      this.canvas_[pixelRatio] ||\n      this.imageState_ !== ImageState.LOADED\n    ) {\n      return;\n    }\n\n    const image = this.image_;\n    const ctx = createCanvasContext2D(\n      Math.ceil(image.width * pixelRatio),\n      Math.ceil(image.height * pixelRatio),\n    );\n    const canvas = ctx.canvas;\n\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.drawImage(image, 0, 0);\n\n    ctx.globalCompositeOperation = 'multiply';\n    ctx.fillStyle = asString(this.color_);\n    ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n\n    ctx.globalCompositeOperation = 'destination-in';\n    ctx.drawImage(image, 0, 0);\n\n    this.canvas_[pixelRatio] = canvas;\n  }\n\n  /**\n   * @return {Promise<void>} Promise that resolves when the image is loaded.\n   */\n  ready() {\n    if (!this.ready_) {\n      this.ready_ = new Promise((resolve) => {\n        if (\n          this.imageState_ === ImageState.LOADED ||\n          this.imageState_ === ImageState.ERROR\n        ) {\n          resolve();\n        } else {\n          const onChange = () => {\n            if (\n              this.imageState_ === ImageState.LOADED ||\n              this.imageState_ === ImageState.ERROR\n            ) {\n              this.removeEventListener(EventType.CHANGE, onChange);\n              resolve();\n            }\n          };\n          this.addEventListener(EventType.CHANGE, onChange);\n        }\n      });\n    }\n    return this.ready_;\n  }\n}\n\n/**\n * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null} image Image.\n * @param {string|undefined} cacheKey Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default|undefined} imageState Image state.\n * @param {import(\"../color.js\").Color|string|null} color Color.\n * @param {boolean} [pattern] Also cache a `repeat` pattern with the icon image.\n * @return {IconImage} Icon image.\n */\nexport function get(image, cacheKey, crossOrigin, imageState, color, pattern) {\n  let iconImage =\n    cacheKey === undefined\n      ? undefined\n      : iconImageCache.get(cacheKey, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new IconImage(\n      image,\n      image && 'src' in image ? image.src || undefined : cacheKey,\n      crossOrigin,\n      imageState,\n      color,\n    );\n    iconImageCache.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  if (\n    pattern &&\n    iconImage &&\n    !iconImageCache.getPattern(cacheKey, crossOrigin, color)\n  ) {\n    iconImageCache.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  return iconImage;\n}\n\nexport default IconImage;\n","/**\n * @module ol/style/IconImageCache\n */\nimport ImageState from '../ImageState.js';\nimport {asArray} from '../color.js';\nimport {getSharedCanvasContext2D} from '../dom.js';\n\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache.shared}.\n */\nclass IconImageCache {\n  constructor() {\n    /**\n     * @type {!Object<string, import(\"./IconImage.js\").default>}\n     * @private\n     */\n    this.cache_ = {};\n\n    /**\n     * @type {!Object<string, CanvasPattern>}\n     * @private\n     */\n    this.patternCache_ = {};\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.cacheSize_ = 0;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxCacheSize_ = 1024;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  clear() {\n    this.cache_ = {};\n    this.patternCache_ = {};\n    this.cacheSize_ = 0;\n  }\n\n  /**\n   * @return {boolean} Can expire cache.\n   */\n  canExpireCache() {\n    return this.cacheSize_ > this.maxCacheSize_;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  expire() {\n    if (this.canExpireCache()) {\n      let i = 0;\n      for (const key in this.cache_) {\n        const iconImage = this.cache_[key];\n        if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n          delete this.cache_[key];\n          delete this.patternCache_[key];\n          --this.cacheSize_;\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color|string|null} color Color.\n   * @return {import(\"./IconImage.js\").default} Icon image.\n   */\n  get(src, crossOrigin, color) {\n    const key = getCacheKey(src, crossOrigin, color);\n    return key in this.cache_ ? this.cache_[key] : null;\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color|string|null} color Color.\n   * @return {CanvasPattern} Icon image.\n   */\n  getPattern(src, crossOrigin, color) {\n    const key = getCacheKey(src, crossOrigin, color);\n    return key in this.patternCache_ ? this.patternCache_[key] : null;\n  }\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color|string|null} color Color.\n   * @param {import(\"./IconImage.js\").default|null} iconImage Icon image.\n   * @param {boolean} [pattern] Also cache a `'repeat'` pattern with this `iconImage`.\n   */\n  set(src, crossOrigin, color, iconImage, pattern) {\n    const key = getCacheKey(src, crossOrigin, color);\n    const update = key in this.cache_;\n    this.cache_[key] = iconImage;\n    if (pattern) {\n      if (iconImage.getImageState() === ImageState.IDLE) {\n        iconImage.load();\n      }\n      if (iconImage.getImageState() === ImageState.LOADING) {\n        iconImage.ready().then(() => {\n          this.patternCache_[key] = getSharedCanvasContext2D().createPattern(\n            iconImage.getImage(1),\n            'repeat',\n          );\n        });\n      } else {\n        this.patternCache_[key] = getSharedCanvasContext2D().createPattern(\n          iconImage.getImage(1),\n          'repeat',\n        );\n      }\n    }\n    if (!update) {\n      ++this.cacheSize_;\n    }\n  }\n\n  /**\n   * Set the cache size of the icon cache. Default is `1024`. Change this value when\n   * your map uses more than 1024 different icon images and you are not caching icon\n   * styles on the application level.\n   * @param {number} maxCacheSize Cache max size.\n   * @api\n   */\n  setSize(maxCacheSize) {\n    this.maxCacheSize_ = maxCacheSize;\n    this.expire();\n  }\n}\n\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color|string|null} color Color.\n * @return {string} Cache key.\n */\nexport function getCacheKey(src, crossOrigin, color) {\n  const colorString = color ? asArray(color) : 'null';\n  return crossOrigin + ':' + src + ':' + colorString;\n}\n\nexport default IconImageCache;\n\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport const shared = new IconImageCache();\n"],"names":["Array","HTMLImageElement","ImageBitmap","HTMLCanvasElement","HTMLVideoElement","console","l","Promise","Error","createImageBitmap","e","NaN","Number","Math","h","parseInt","isNaN","OffscreenCanvas","document","o","getComputedStyle","navigator","devicePixelRatio","WorkerGlobalScope","self","Image","Object","window","a","i"],"mappings":"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"}