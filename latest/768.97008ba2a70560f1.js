"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["768"],{23068:function(t,e,i){i.r(e),i.d(e,{createStyleFunction:function(){return h}});var s=i(58493),n=i(73381),r=i(38906),o=i(13002);class l extends s.default{constructor(t){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?this.setGeometry(t):this.setProperties(t))}clone(){let t=new l(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let e=this.getGeometry();e&&t.setGeometry(e.clone());let i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=(0,o.oL)(t,n.default.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function h(t){let e;if("function"==typeof t)return t;if(Array.isArray(t))e=t;else{(0,r.h)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`");e=[t]}return function(){return e}}e.default=l},52329:function(t,e,i){i.r(e);var s=i(52043),n=i(32538),r=i(21915),o=i(38667),l=i(79682),h=i(86204),a=i(21882);class d extends n.ZP{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,l.l7)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){let t=new d(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,s){if(s<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e))return s;let n=this.flatCoordinates,o=this.stride;for(let r=0,l=n.length;r<l;r+=o){let l=(0,a.bI)(t,e,n[r],n[r+1]);if(l<s){s=l;for(let t=0;t<o;++t)i[t]=n[r+t];i.length=o}}return s}getCoordinates(){return(0,h.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){let e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new s.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){let t=this.flatCoordinates,e=this.layout,i=this.stride,n=[];for(let r=0,o=t.length;r<o;r+=i){let o=new s.default(t.slice(r,r+i),e);n.push(o)}return n}getType(){return"MultiPoint"}intersectsExtent(t){let e=this.flatCoordinates,i=this.stride;for(let s=0,n=e.length;s<n;s+=i){let i=e[s],n=e[s+1];if((0,r.containsXY)(t,i,n))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),!this.flatCoordinates&&(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.default=d},13987:function(t,e,i){i.r(e);var s=i(52329),n=i(15265),r=i(32538),o=i(83729),l=i(21915),h=i(38667),a=i(79682),d=i(38529),g=i(86204),f=i(60897),_=i(89310),u=i(32562),y=i(92526),C=i(30197),c=i(62418);class m extends r.ZP{constructor(t,e,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){let s=t,n=[],r=[];for(let t=0,e=s.length;t<e;++t){let e=s[t],i=n.length,o=e.getEnds();for(let t=0,e=o.length;t<e;++t)o[t]+=i;(0,a.l7)(n,e.getFlatCoordinates()),r.push(o)}e=0===s.length?this.getLayout():s[0].getLayout(),t=n,i=r}void 0!==e&&i?(this.setFlatCoordinates(e,t),this.endss_=i):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){let i=this.flatCoordinates.length;(0,a.l7)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,s=e.length;t<s;++t)e[t]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){let t=this.endss_.length,e=Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();let i=new m(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i}closestPointXY(t,e,i,s){return s<(0,l.closestSquaredDistanceXY)(this.getExtent(),t,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,s))}containsXY(t,e){return(0,C.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return(0,u.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.dL)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,g.ug)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let t=(0,y.E)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,d.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new s.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;(0,_.Oj)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let e=[],i=[];return e.length=(0,c.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new m(e,"XY",i)}getPolygon(t){let e;if(t<0||this.endss_.length<=t)return null;if(0===t)e=0;else{let i=this.endss_[t-1];e=i[i.length-1]}let i=this.endss_[t].slice(),s=i[i.length-1];if(0!==e)for(let t=0,s=i.length;t<s;++t)i[t]-=e;return new n.default(this.flatCoordinates.slice(e,s),this.layout,i)}getPolygons(){let t=this.layout,e=this.flatCoordinates,i=this.endss_,s=[],r=0;for(let o=0,l=i.length;o<l;++o){let l=i[o].slice(),h=l[l.length-1];if(0!==r)for(let t=0,e=l.length;t<e;++t)l[t]-=r;let a=new n.default(e.slice(r,h),t,l);s.push(a),r=h}return s}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,f.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),!this.flatCoordinates&&(this.flatCoordinates=[]);let i=(0,h.QT)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{let t=i[i.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}e.default=m},92526:function(t,e,i){i.d(e,{E:function(){return n}});var s=i(21915);function n(t,e,i,n){let r=[],o=(0,s.createEmpty)();for(let l=0,h=i.length;l<h;++l){let h=i[l];o=(0,s.createOrUpdateFromFlatCoordinates)(t,e,h[0],n),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=h[h.length-1]}return r}},4313:function(t,e,i){i.r(e),i.d(e,{toFeature:function(){return I},toGeometry:function(){return v}});var s=i(23068),n=i(52043),r=i(52329),o=i(44538),l=i(25642),h=i(13987),a=i(15265),d=i(82359),g=i(21915),f=i(62418),_=i(79682),u=i(38529),y=i(5374),C=i(89310),c=i(21422),m=i(92526),p=i(64011),F=i(17882);let P=(0,d.Ue)();class G{constructor(t,e,i,s,n,r){this.styleFunction,this.extent_,this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=n,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return!this.extent_&&(this.extent_="Point"===this.type_?(0,g.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,g.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let t=(0,g.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,u.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let t=(0,C.Q3)(this.flatCoordinates_,this.ends_),e=(0,m.E)(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=(0,u.U)(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return!this.flatMidpoints_&&(this.flatMidpoints_=(0,c.WW)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let t=this.flatCoordinates_,e=0,i=this.ends_;for(let s=0,n=i.length;s<n;++s){let n=i[s],r=(0,c.WW)(t,e,n,2,.5);(0,_.l7)(this.flatMidpoints_,r),e=n}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){let e=(t=(0,y.get)(t)).getExtent(),i=t.getWorldExtent();if(e&&i){let t=(0,g.getHeight)(i)/(0,g.getHeight)(e);(0,d.qC)(P,i[0],i[3],t,-t,0,0,0),(0,F.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,P,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new G(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,p.memoizeOne)((t,e)=>{let i;if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);let s=this.simplifiedGeometry_.getFlatCoordinates();switch(this.type_){case"LineString":s.length=(0,f.dt)(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),i=[s.length];break;case"MultiLineString":i=[],s.length=(0,f.UJ)(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,i);break;case"Polygon":i=[],s.length=(0,f.Zh)(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,i)}return i&&(this.simplifiedGeometry_=new G(this.type_,s,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}function v(t){let e=t.getType();switch(e){case"Point":return new n.default(t.getFlatCoordinates());case"MultiPoint":return new r.default(t.getFlatCoordinates(),"XY");case"LineString":return new o.default(t.getFlatCoordinates(),"XY");case"MultiLineString":return new l.default(t.getFlatCoordinates(),"XY",t.getEnds());case"Polygon":let i=t.getFlatCoordinates(),s=t.getEnds(),d=(0,C.Q3)(i,s);return d.length>1?new h.default(i,"XY",d):new a.default(i,"XY",s);default:throw Error("Invalid geometry type:"+e)}}function I(t,e){let i=t.getId(),n=v(t),r=t.getProperties(),o=new s.default;return void 0!==e&&o.setGeometryName(e),o.setGeometry(n),void 0!==i&&o.setId(i),o.setProperties(r,!0),o}G.prototype.getFlatCoordinates=G.prototype.getOrientedFlatCoordinates,e.default=G}}]);
//# sourceMappingURL=768.97008ba2a70560f1.js.map