"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["7193"],{80967:function(t,e){e.Z=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},24969:function(t,e,i){var n=i(59900),r=i(86320),s=i(73381),o=i(66575),l=i(49179);class u extends o.Z{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(s.default.CHANGE)}release(){this.setState(n.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==n.default.EMPTY){if(this.state!==n.default.ERROR&&this.state>t)throw Error("Tile load sequence violation");this.state=t,this.changed()}}load(){(0,l.abstract)()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;let n=e-i+1e3/60;return n>=this.transition_?1:(0,r.easeIn)(n/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}e.Z=u},59900:function(t,e,i){i.r(e),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},79682:function(t,e,i){function n(t,e,i){let n,s;i=i||r;let o=0,l=t.length,u=!1;for(;o<l;)(s=+i(t[n=o+(l-o>>1)],e))<0?o=n+1:(l=n,u=!s);return u?o:~o}function r(t,e){return t>e?1:t<e?-1:0}function s(t,e){return t<e?1:t>e?-1:0}function o(t,e,i){if(t[0]<=e)return 0;let n=t.length;if(e<=t[n-1])return n-1;if("function"==typeof i){for(let r=1;r<n;++r){let n=t[r];if(n===e)return r;if(n<e){if(i(e,t[r-1],n)>0)return r-1;return r}}return n-1}if(i>0){for(let i=1;i<n;++i)if(t[i]<e)return i-1;return n-1}if(i<0){for(let i=1;i<n;++i)if(t[i]<=e)return i;return n-1}for(let i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e){if(t[i-1]-e<e-t[i])return i-1;return i}}return n-1}function l(t,e,i){for(;e<i;){let n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function u(t,e){let i=Array.isArray(e)?e:[e],n=i.length;for(let e=0;e<n;e++)t[t.length]=i[e]}function a(t,e){let i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function f(t,e,i){let n=e||r;return t.every(function(e,r){if(0===r)return!0;let s=n(t[r-1],e);return!(s>0||i&&0===s)})}i.d(e,{$1:function(){return s},FZ:function(){return l},fS:function(){return a},h7:function(){return o},j2:function(){return r},l7:function(){return u},pT:function(){return f},ry:function(){return n}})},86320:function(t,e,i){function n(t){return Math.pow(t,3)}function r(t){return 1-n(1-t)}function s(t){return 3*t*t-2*t*t*t}function o(t){return t}function l(t){return t<.5?s(2*t):1-s(2*(t-.5))}i.r(e),i.d(e,{easeIn:function(){return n},easeOut:function(){return r},inAndOut:function(){return s},linear:function(){return o},upAndDown:function(){return l}})},9520:function(t,e,i){function n(t){t.stopPropagation()}function r(t){t.preventDefault()}i.r(e),i.d(e,{preventDefault:function(){return r},stopPropagation:function(){return n}}),e.default=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},73381:function(t,e,i){i.r(e),e.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},66575:function(t,e,i){var n=i(80967),r=i(64011),s=i(13580),o=i(9520);class l extends n.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;let i=this.listeners_||(this.listeners_={}),n=i[t]||(i[t]=[]);n.includes(e)||n.push(e)}dispatchEvent(t){let e;let i="string"==typeof t,n=i?t:t.type,s=this.listeners_&&this.listeners_[n];if(!s)return;let l=i?new o.default(t):t;l.target||(l.target=this.eventTarget_||this);let u=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in u||(u[n]=0,a[n]=0),++u[n];for(let t=0,i=s.length;t<i;++t)if(!1===(e="handleEvent"in s[t]?s[t].handleEvent(l):s[t].call(this,l))||l.propagationStopped){e=!1;break}if(0==--u[n]){let t=a[n];for(delete a[n];t--;)this.removeEventListener(n,r.VOID);delete u[n]}return e}disposeInternal(){this.listeners_&&(0,s.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;let i=this.listeners_[t];if(!i)return;let n=i.indexOf(e);-1!==n&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[n]=r.VOID,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t]))}}e.Z=l},64011:function(t,e,i){i.r(e),i.d(e,{FALSE:function(){return s},TRUE:function(){return r},VOID:function(){return o},memoizeOne:function(){return l},toPromise:function(){return u}});var n=i(79682);function r(){return!0}function s(){return!1}function o(){}function l(t){let e,i,r;return function(){let s=Array.prototype.slice.call(arguments);return i&&this===r&&(0,n.fS)(s,i)||(r=this,i=s,e=t.apply(this,arguments)),e}}function u(t){return function(){let e;try{e=t()}catch(t){return Promise.reject(t)}return e instanceof Promise?e:Promise.resolve(e)}()}},13580:function(t,e,i){function n(t){for(let e in t)delete t[e]}function r(t){let e;for(e in t)return!1;return!e}i.d(e,{Z:function(){return n},x:function(){return r}})},62953:function(t,e,i){i.r(e),i.d(e,{optionsFromCapabilities:function(){return f}});var n=i(21915),r=i(5374),s=i(23241),o=i(89434),l=i(78487),u=i(65952);class a extends u.Z{constructor(t){let e=void 0!==t.requestEncoding?t.requestEncoding:"KVP",i=t.tileGrid,n=t.urls;void 0===n&&void 0!==t.url&&(n=(0,l.Gk)(t.url)),super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:n,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=e,this.setKey(this.getKeyForDimensions_()),n&&n.length>0&&(this.tileUrlFunction=(0,o.Un)(n.map(this.createFromWMTSTemplate.bind(this))))}setUrls(t){this.urls=t;let e=t.join("\n");this.setTileUrlFunction((0,o.Un)(t.map(this.createFromWMTSTemplate.bind(this))),e)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let t=this.urls?this.urls.slice(0):[];for(let e in this.dimensions_)t.push(e+"-"+this.dimensions_[e]);return t.join("/")}updateDimensions(t){Object.assign(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(t){let e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==e&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t="KVP"==e?(0,l.B5)(t,i):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t});let n=this.tileGrid,r=this.dimensions_;return function(i,s,o){if(!i)return;let u={TileMatrix:n.getMatrixId(i[0]),TileCol:i[1],TileRow:i[2]};Object.assign(u,r);let a=t;return"KVP"==e?(0,l.B5)(a,u):a.replace(/\{(\w+?)\}/g,function(t,e){return encodeURIComponent(u[e])})}}}function f(t,e){let i,o;let l=t.Contents.Layer,u=l?.find(function(t){return t.Identifier==e.layer});if(!u)return null;let a=t.Contents.TileMatrixSet;(i=u.TileMatrixSetLink.length>1?"projection"in e?u.TileMatrixSetLink.findIndex(function(t){let i=a.find(function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS,n=(0,r.get)(i),s=(0,r.get)(e.projection);return n&&s?(0,r.equivalent)(n,s):i==e.projection}):u.TileMatrixSetLink.findIndex(function(t){return t.TileMatrixSet==e.matrixSet}):0)<0&&(i=0);let f=u.TileMatrixSetLink[i].TileMatrixSet,c=u.TileMatrixSetLink[i].TileMatrixSetLimits,h=u.Format[0];"format"in e&&(h=e.format),(i=u.Style.findIndex(function(t){return"style"in e?t.Title==e.style:t.isDefault}))<0&&(i=0);let d=u.Style[i].Identifier,p={};"Dimension"in u&&u.Dimension.forEach(function(t,e,i){let n=t.Identifier,r=t.Default;void 0===r&&(r=t.Value[0]),p[n]=r});let g=t.Contents.TileMatrixSet.find(function(t){return t.Identifier==f}),_=g.SupportedCRS;if(_&&(o=(0,r.get)(_)),"projection"in e){let t=(0,r.get)(e.projection);t&&(!o||(0,r.equivalent)(t,o))&&(o=t)}let m=!1,T=o.getAxisOrientation().startsWith("ne"),S=g.TileMatrix[0],E={MinTileCol:0,MinTileRow:0,MaxTileCol:S.MatrixWidth-1,MaxTileRow:S.MatrixHeight-1};if(c){E=c[c.length-1];let t=g.TileMatrix.find(t=>t.Identifier===E.TileMatrix||g.Identifier+":"+t.Identifier===E.TileMatrix);t&&(S=t)}let v=28e-5*S.ScaleDenominator/o.getMetersPerUnit(),x=T?[S.TopLeftCorner[1],S.TopLeftCorner[0]]:S.TopLeftCorner,y=S.TileWidth*v,M=S.TileHeight*v,C=g.BoundingBox;C&&T&&(C=[C[1],C[0],C[3],C[2]]);let R=[x[0]+y*E.MinTileCol,x[1]-M*(1+E.MaxTileRow),x[0]+y*(1+E.MaxTileCol),x[1]-M*E.MinTileRow];if(void 0!==C&&!(0,n.containsExtent)(C,R)){let t=u.WGS84BoundingBox,e=(0,r.get)("EPSG:4326").getExtent();if(R=C,t)m=t[0]===e[0]&&t[2]===e[2];else{let t=(0,r.transformExtent)(C,g.SupportedCRS,"EPSG:4326");m=t[0]-1e-10<=e[0]&&t[2]+1e-10>=e[2]}}let O=(0,s.createFromCapabilitiesMatrixSet)(g,R,c),L=[],D=e.requestEncoding;if(D=void 0!==D?D:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){let e=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let t=0,i=e.length;t<i;++t)if(e[t].Constraint){let i=e[t].Constraint.find(function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===D&&(D=i[0]),"KVP"===D)i.includes("KVP")&&L.push(e[t].href);else break}else e[t].href&&(D="KVP",L.push(e[t].href))}return 0===L.length&&(D="REST",u.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(h=t.format,L.push(t.template))})),{urls:L,layer:e.layer,matrixSet:f,format:h,projection:o,requestEncoding:D,tileGrid:O,style:d,dimensions:p,wrapX:m,crossOrigin:e.crossOrigin}}e.default=a},49179:function(t,e,i){function n(){throw Error("Unimplemented abstract method.")}i.r(e),i.d(e,{VERSION:function(){return o},abstract:function(){return n},getUid:function(){return s}});let r=0;function s(t){return t.ol_uid||(t.ol_uid=String(++r))}let o="10.4.0"}}]);
//# sourceMappingURL=7193.f036e9f05348ba8f.js.map