"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["6393"],{3783:function(t,e,n){n.d(e,{D4:function(){return f},RA:function(){return h},f6:function(){return c}});var r=n(80398),i=n(55506),s=n(78081),o=n(17353),a=n(29991),u=n(44954);class l extends s.A{constructor(t,e,n,i){super(),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state="function"==typeof i?r.default.IDLE:i,this.image_=null,this.loader="function"==typeof i?i:null}changed(){this.dispatchEvent(i.default.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==r.default.IDLE&&this.loader){this.state=r.default.LOADING,this.changed();let t=this.getResolution(),e=Array.isArray(t)?t[0]:t;(0,a.toPromise)(()=>this.loader(this.getExtent(),e,this.getPixelRatio())).then(t=>{"image"in t&&(this.image_=t.image),"extent"in t&&(this.extent=t.extent),"resolution"in t&&(this.resolution=t.resolution),"pixelRatio"in t&&(this.pixelRatio_=t.pixelRatio),(t instanceof HTMLImageElement||u.CREATE_IMAGE_BITMAP&&t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)&&(this.image_=t),this.state=r.default.LOADED}).catch(t=>{this.state=r.default.ERROR,console.error(t)}).finally(()=>this.changed())}}setImage(t){this.image_=t}setResolution(t){this.resolution=t}}function c(t,e,n){let r=!0,s=!1,a=!1,l=[(0,o.Jz)(t,i.default.LOAD,function(){a=!0,s||e()})];return t.src&&u.IMAGE_DECODE?(s=!0,t.decode().then(function(){r&&e()}).catch(function(t){r&&(a?e():n())})):l.push((0,o.Jz)(t,i.default.ERROR,n)),function(){r=!1,l.forEach(o.JH)}}function h(t,e){return e&&(t.src=e),t.src&&u.IMAGE_DECODE?new Promise((e,n)=>t.decode().then(()=>e(t)).catch(r=>t.complete&&t.width?e(t):n(r))):new Promise((e,n)=>{function r(){s(),e(t)}function i(){s(),n(Error("Image load error"))}function s(){t.removeEventListener("load",r),t.removeEventListener("error",i)}t.addEventListener("load",r),t.addEventListener("error",i)})}function f(t,e){return e&&(t.src=e),t.src&&u.IMAGE_DECODE&&u.CREATE_IMAGE_BITMAP?t.decode().then(()=>createImageBitmap(t)).catch(e=>{if(t.complete&&t.width)return t;throw e}):h(t)}e.Ay=l},80398:function(t,e,n){n.r(e),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},65045:function(t,e,n){let r;n.d(e,{_j:function(){return D},cD:function(){return M},dI:function(){return y},eE:function(){return A},fu:function(){return m},oJ:function(){return d},qV:function(){return o},sH:function(){return O}});var i=n(84674),s=n(94966);let o=[NaN,NaN,NaN,0],a=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,l=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,c=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function h(t,e){return t.endsWith("%")?Number(t.substring(0,t.length-1))/e:Number(t)}function f(t){throw Error('failed to parse "'+t+'" as color')}function d(t){return"string"==typeof t?t:y(t)}let E={},g=0;function m(t){if(4===t.length)return t;let e=t.slice();return e[3]=1,e}function R(t){return t>.0031308?269.025*Math.pow(t,1/2.4)-14.025:3294.6*t}function I(t){return t>.2068965?Math.pow(t,3):108/841*(t-4/29)}function _(t){return t>10.314724?Math.pow((t+14.025)/269.025,2.4):t/3294.6}function p(t){return t>.0088564?Math.pow(t,1/3):t/(108/841)+4/29}function A(t){let e=_(t[0]),n=_(t[1]),r=_(t[2]),i=p(.222488403*e+.716873169*n+.06060791*r),s=500*(p(.452247074*e+.399439023*n+.148375274*r)-i),o=200*(i-p(.016863605*e+.117638439*n+.865350722*r)),a=180/Math.PI*Math.atan2(o,s);return[116*i-16,Math.sqrt(s*s+o*o),a<0?a+360:a,t[3]]}function M(t){let e=(t[0]+16)/116,n=t[1],r=t[2]*Math.PI/180,i=I(e),o=I(e+n/500*Math.cos(r)),a=I(e-n/200*Math.sin(r)),u=R(3.021973625*o-1.617392459*i-.404875592*a),l=R(-.943766287*o+1.916279586*i+.027607165*a),c=R(.069407491*o-.22898585*i+1.159737864*a);return[(0,s.qE)(u+.5|0,0,255),(0,s.qE)(l+.5|0,0,255),(0,s.qE)(c+.5|0,0,255),t[3]]}function O(t){if("none"===t)return o;if(E.hasOwnProperty(t))return E[t];if(g>=1024){let t=0;for(let e in E)(3&t++)==0&&(delete E[e],--g)}let e=function t(e){if(e.toLowerCase().startsWith("rgb")){let t=e.match(u)||e.match(a)||e.match(l);if(t){let e=t[4],n=100/255;return[(0,s.qE)(h(t[1],n)+.5|0,0,255),(0,s.qE)(h(t[2],n)+.5|0,0,255),(0,s.qE)(h(t[3],n)+.5|0,0,255),void 0!==e?(0,s.qE)(h(e,100),0,1):1]}f(e)}if(e.startsWith("#")){if(c.test(e)){let t=e.substring(1),n=t.length<=4?1:2,r=[0,0,0,255];for(let e=0,i=t.length;e<i;e+=n){let i=parseInt(t.substring(e,e+n),16);1===n&&(i+=i<<4),r[e/n]=i}return r[3]=r[3]/255,r}f(e)}let n=(r||(r=(0,i.Y)(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),r);n.fillStyle="#abcdef";let o=n.fillStyle;n.fillStyle=e,n.fillStyle===o&&(n.fillStyle="#fedcba",o=n.fillStyle,n.fillStyle=e,n.fillStyle===o&&f(e));let d=n.fillStyle;if(d.startsWith("#")||d.startsWith("rgba"))return t(d);n.clearRect(0,0,1,1),n.fillRect(0,0,1,1);let E=Array.from(n.getImageData(0,0,1,1).data);return E[3]=(0,s.Mg)(E[3]/255,3),E}(t);for(let n of(4!==e.length&&f(t),e))isNaN(n)&&f(t);return E[t]=e,++g,e}function D(t){return Array.isArray(t)?t:O(t)}function y(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(1e3*t[3])/1e3)+")"}},41102:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var r=n(36927),i=n(48341),s=n(9359);class o extends i.default{constructor(t){const e=Object.assign({},t=t||{}),n=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(s.A.PRELOAD)}setPreload(t){this.set(s.A.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(s.A.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(s.A.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}var a=o,u=class extends a{constructor(t){super(t)}createRenderer(){return new r.A(this,{cacheSize:this.getCacheSize()})}}}}]);
//# sourceMappingURL=6393.af2588f9daf0eeef.js.map