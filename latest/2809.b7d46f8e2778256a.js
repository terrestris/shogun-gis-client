(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["2809"],{26954:function(e,t,n){"use strict";n.r(t);var r=n(54388),o=n(39660),i=n(45037),u=n(66678),l=n.n(u),s=n(41609),c=n.n(s),a=n(93754),f=n.n(a),g=n(14293),p=n.n(g),h=n(81763),m=n.n(h),b=n(31351),Z=n.n(b),v=n(9948),S=n.n(v),w=n(35703);let y=`${w.M}scalecombo`;t.default=({resolutionsFilter:e=()=>!0,syncWithMap:t=!0,scales:n=[],className:u,onZoomLevelSelect:s,resolutions:a,...g})=>{let[h,b]=(0,v.useState)(),w=(0,o.Z)(),_=(0,v.useCallback)(()=>{if(!w)return[];let t=[],o=w.getView(),i=o.getResolutions(),u=(e,n,o)=>{let i=r.Z.getScaleForResolution(n,o.getProjection().getUnits());if(!i)return;let u=r.Z.roundScale(i);if(!t.includes(u))t.push(u)};if(c()(i)||p()(i))for(let n=o.getMaxZoom();n>=o.getMinZoom();n--){let r=o.getResolutionForZoom(n);e(r)&&u(t,r,o)}else Z()(l()(i)).filter(e).forEach(e=>u(n,e,o));return t},[w,e,n]),k=(0,v.useCallback)(e=>{let t=e.target.getZoom(),n=0;m()(t)&&(n=Math.round(t)),b(n)},[]),x=(0,v.useMemo)(()=>n.length>0?n:_(),[n,_]);(0,v.useEffect)(()=>{if(!!w)t?w.getView().on("change:resolution",k):w.getView().un("change:resolution",k)},[w,t,k]),(0,v.useEffect)(()=>{b(w?.getView().getZoom())},[w]);let C=u?`${u} ${y}`:y;return S().createElement(i.Z,{showSearch:!0,onChange:e=>{if(!!w)if(s)s(e);else{let t=w.getView(),n=r.Z.getResolutionForScale(parseInt(e,10),t.getProjection().getUnits());t.setResolution(n)}},filterOption:(e,t)=>t?.key?.toString().startsWith(e)??!1,value:(e=>{if(!!f()(e)&&!(x.length-1-e<0))return x[x.length-1-e].toString()})(h??0),size:"small",className:C,options:x.map(e=>({value:e.toString(),label:`1:${e.toLocaleString()}`})),...g})}},35703:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});let r="react-geo-"},33071:function(e,t,n){"use strict";var r=n(9948);let o=n.n(r)().createContext(null);t.Z=o},39660:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(9948),o=n(33071);let i=()=>(0,r.useContext)(o.Z);t.Z=i},41609:function(e,t,n){var r=n(280),o=n(64160),i=n(35694),u=n(1469),l=n(98612),s=n(44144),c=n(25726),a=n(36719),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(u(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||a(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},93754:function(e,t,n){var r=n(40554);e.exports=function(e){return"number"==typeof e&&e==r(e)}},81763:function(e,t,n){var r=n(44239),o=n(37005);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},31351:function(e){var t=Array.prototype.reverse;e.exports=function(e){return null==e?e:t.call(e)}}}]);
//# sourceMappingURL=2809.b7d46f8e2778256a.js.map