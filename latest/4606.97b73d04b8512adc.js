"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["4606"],{97651:function(e,t,n){n.r(t),n.d(t,{ModifyButton:function(){return y},default:function(){return T}});var l=n(9948),r=n(47387),a=n.n(r),i=n(23356),c=n(76048),s=n.n(c),u=n(66283),o=n.n(u),f=n(14292),d=n(39660),m=n(18429),E=n(4667),g=n(97349),_=n(58539),w=n(35703),L=n(68660),C=n(32022);let k=`${w.M}modifybutton`,y=({className:e,hitTolerance:t=5,onFeatureSelect:n,onModifyStart:r,onModifyEnd:c,onTranslateStart:u,onTranslateEnd:y,onTranslating:T,digitizeLayer:N,selectStyle:b,selectInteractionConfig:h,modifyInteractionConfig:p,translateInteractionConfig:S,onModalLabelOk:$,onModalLabelCancel:v,maxLabelLineLength:M,modalPromptTitle:x,modalPromptOkButtonText:A,modalPromptCancelButtonText:D,editLabel:F=!0,pressed:z,...J})=>{let[U,Y]=(0,l.useState)(null);(({active:e,onFeatureSelect:t,onModifyStart:n,onModifyEnd:r,onTranslateStart:c,onTranslateEnd:u,onTranslating:w,digitizeLayer:L,selectStyle:C,selectInteractionConfig:k,hitTolerance:y,modifyInteractionConfig:T,translateInteractionConfig:N})=>{let b=(0,d.Z)(),h=(0,g.J)(L,()=>b?f.w.getDigitizeLayer(b):null,[b]),p=(0,l.useRef)(new(a())),S=(0,l.useMemo)(()=>h?[h]:[],[h]);(0,l.useEffect)(()=>{e||p.current.clear()},[e]),(0,_.c)({clearAfterSelect:!1,onFeatureSelect:t,active:e,layers:S,selectStyle:C,selectInteractionConfig:k,hitTolerance:y,featuresCollection:p.current});let $=(0,m.$)(()=>{let e=new(o())({features:p.current,...N});return e.set("name","react-util-translate-interaction"),e},[N],e),v=(0,m.$)(()=>{let e=new(s())({features:p.current,deleteCondition:i.singleClick,style:C??f.w.DEFAULT_SELECT_STYLE,...T});return e.set("name","react-util-modify-interaction"),e},[T],e);(0,E.N)(v,e=>e.on("modifystart",e=>n?.(e)),[n]),(0,E.N)(v,e=>e.on("modifyend",e=>r?.(e)),[r]),(0,E.N)($,e=>e.on("translatestart",e=>c?.(e)),[c]),(0,E.N)($,e=>e.on("translateend",e=>u?.(e)),[u]),(0,E.N)($,e=>e.on("translating",e=>w?.(e)),[w])})({selectStyle:b,selectInteractionConfig:h,digitizeLayer:N,onModifyStart:r,onModifyEnd:c,onTranslateStart:u,onTranslateEnd:y,onTranslating:T,active:!!z,modifyInteractionConfig:p,translateInteractionConfig:S,onFeatureSelect:(0,l.useCallback)(e=>{F&&Y(e.selected.find(e=>e.get("isLabel"))||null),n?.(e)},[F,n]),hitTolerance:t});let Z=e?`${k} ${e}`:k,B=`${w.M}digitize-button-wrapper`,O=null;return U&&(O=l.createElement(L.V,{feature:U,onOk:()=>{$?.(U),Y(null)},onCancel:()=>{v?.(),Y(null)},title:x,okText:A,cancelText:D,maxLabelLineLength:M})),l.createElement("span",{className:B},l.createElement(C.Z,{pressed:z,className:Z,...J}),O)};var T=y},58539:function(e,t,n){n.d(t,{c:function(){return m}});var l=n(9948),r=n(47387),a=n.n(r),i=n(23356),c=n(32744),s=n.n(c),u=n(14292),o=n(18429),f=n(4667),d=n(97349);let m=({active:e,selectStyle:t,selectInteractionConfig:n,onFeatureSelect:r,hitTolerance:c=5,layers:m,clearAfterSelect:E=!1,featuresCollection:g})=>{let _=(0,d.J)(g,()=>new(a()),[]),w=(0,o.$)(()=>{if(!_)return;let e=new(s())({condition:i.singleClick,features:_,hitTolerance:c,style:t??u.w.DEFAULT_SELECT_STYLE,layers:m,...n??{}});return e.set("name","react-util-select-interaction"),e},[_,c,t,m,n],e);(0,f.N)(w,e=>e.on("select",e=>{_&&E&&_.clear(),r?.(e)}),[_,E,r]),(0,l.useEffect)(()=>{!e&&_&&_.clear()},[e,_])}}}]);
//# sourceMappingURL=4606.97b73d04b8512adc.js.map