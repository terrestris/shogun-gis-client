"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["3823"],{78426:function(e,t,n){n.r(t),n.d(t,{CollectionEvent:function(){return a}});var i=n(19629),r=n(58493),s=n(9520);let o="length";class a extends s.default{constructor(e,t,n){super(e),this.element=t,this.index=n}}class u extends r.default{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let e=0,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(o)}insertAt(e,t){if(e<0||e>this.getLength())throw Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new a(i.Z.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new a(i.Z.REMOVE,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new a(i.Z.REMOVE,n,e)),this.dispatchEvent(new a(i.Z.ADD,t,e))}updateLength_(){this.set(o,this.array_.length)}assertUnique_(e,t){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw Error("Duplicate item added to a unique collection")}}t.default=u},19629:function(e,t){t.Z={ADD:"add",REMOVE:"remove"}},23068:function(e,t,n){n.r(t),n.d(t,{createStyleFunction:function(){return u}});var i=n(58493),r=n(38906),s=n(73381),o=n(13002);class a extends i.default{constructor(e){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){let e=new a(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=(0,o.oL)(e,s.default.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?u(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function u(e){let t;return"function"==typeof e?e:(Array.isArray(e)?t=e:((0,r.h)("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t})}t.default=a},30006:function(e,t,n){var i=n(73381);t.Z={SINGLECLICK:"singleclick",CLICK:i.default.CLICK,DBLCLICK:i.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},36403:function(e,t,n){n.r(t),n.d(t,{all:function(){return o},altKeyOnly:function(){return a},altShiftKeysOnly:function(){return u},always:function(){return c},click:function(){return d},doubleClick:function(){return m},focus:function(){return l},focusWithTabindex:function(){return h},mouseActionButton:function(){return y},mouseOnly:function(){return L},never:function(){return f},noModifierKeys:function(){return E},penOnly:function(){return T},platformModifierKey:function(){return v},platformModifierKeyOnly:function(){return p},pointerMove:function(){return g},primaryAction:function(){return S},shiftKeyOnly:function(){return C},singleClick:function(){return _},targetNotEditable:function(){return A},touchOnly:function(){return K}});var i=n(30006),r=n(64011),s=n(91358);function o(e){let t=arguments;return function(e){let n=!0;for(let i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}let a=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},u=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},l=function(e){let t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)},h=function(e){let t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||l(e)},c=r.TRUE,d=function(e){return e.type==i.Z.CLICK},y=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&0==t.button&&!(s.WEBKIT&&s.MAC&&t.ctrlKey)},f=r.FALSE,g=function(e){return"pointermove"==e.type},_=function(e){return e.type==i.Z.SINGLECLICK},m=function(e){return e.type==i.Z.DBLCLICK},E=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},p=function(e){let t=e.originalEvent;return!t.altKey&&(s.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey},v=function(e){let t=e.originalEvent;return s.MAC?t.metaKey:t.ctrlKey},C=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},A=function(e){let t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},L=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&"mouse"==t.pointerType},K=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&"touch"===t.pointerType},T=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&"pen"===t.pointerType},S=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&0===t.button}},4027:function(e,t,n){n.d(t,{W:function(){return i}});function i(e,t,n,i){let r=e[t],s=e[t+1],o=0;for(let a=t+i;a<n;a+=i){let t=e[a],n=e[a+1];o+=Math.sqrt((t-r)*(t-r)+(n-s)*(n-s)),r=t,s=n}return o}},47588:function(e,t,n){n.d(t,{Cv:function(){return a},FW:function(){return u}});var i=n(58493),r=n(86320),s=n(73604);class o extends i.default{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(s.Z.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(s.Z.ACTIVE,e)}setMap(e){this.map_=e}}function a(e,t,n){let i=e.getCenterInternal();if(i){let s=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:r.linear,center:e.getConstrainedCenter(s)})}}function u(e,t,n,i){let s=e.getZoom();if(void 0===s)return;let o=e.getConstrainedZoom(s+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:r.easeOut})}t.ZP=o},73604:function(e,t){t.Z={ACTIVE:"active"}},51273:function(e,t,n){n.r(t),n.d(t,{SelectEvent:function(){return _}});var i=n(78426),r=n(19629),s=n(23068),o=n(79682),a=n(9520),u=n(36403),l=n(64011),h=n(28799),c=n(13580),d=n(31219),y=n(49179),f=n(47588);let g={SELECT:"select"};class _ extends a.default{constructor(e,t,n,i){super(e),this.selected=t,this.deselected=n,this.mapBrowserEvent=i}}let m={};class E extends f.ZP{constructor(e){let t;if(super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:u.singleClick,this.addCondition_=e.addCondition?e.addCondition:u.never,this.removeCondition_=e.removeCondition?e.removeCondition:u.never,this.toggleCondition_=e.toggleCondition?e.toggleCondition:u.shiftKeyOnly,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:l.TRUE,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function(){let e=(0,d.createEditingStyle)();return(0,o.l7)(e.Polygon,e.LineString),(0,o.l7)(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}(),this.features_=e.features||new i.default,e.layers)if("function"==typeof e.layers)t=e.layers;else{let n=e.layers;t=function(e){return n.includes(e)}}else t=l.TRUE;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,y.getUid)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,y.getUid)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(r.Z.ADD,this.boundAddFeature_),this.features_.addEventListener(r.Z.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(r.Z.ADD,this.boundAddFeature_),this.features_.removeEventListener(r.Z.REMOVE,this.boundRemoveFeature_))}addFeature_(e){let t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){let e=this.getMap().getAllLayers().find(function(e){if(e instanceof h.default&&e.getSource()&&e.getSource().hasFeature(t))return e});e&&this.addFeatureLayerAssociation_(t,e)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){let t=(0,y.getUid)(e);t in m||(m[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){let t=this.getMap().getInteractions().getArray();for(let n=t.length-1;n>=0;--n){let i=t[n];if(i!==this&&i instanceof E&&i.getStyle()&&-1!==i.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(i.getStyle())}let n=(0,y.getUid)(e);e.setStyle(m[n]),delete m[n]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[(0,y.getUid)(e)]}handleEvent(e){if(!this.condition_(e))return!0;let t=this.addCondition_(e),n=this.removeCondition_(e),i=this.toggleCondition_(e),r=e.map,o=this.getFeatures(),a=[],u=[];if(t||n||i){r.forEachFeatureAtPixel(e.pixel,(e,r)=>{if(e instanceof s.default&&this.filter_(e,r))return(t||i)&&!o.getArray().includes(e)?(this.addFeatureLayerAssociation_(e,r),u.push(e)):(n||i)&&o.getArray().includes(e)&&(a.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=a.length-1;e>=0;--e)o.remove(a[e]);o.extend(u)}else{(0,c.Z)(this.featureLayerAssociation_),r.forEachFeatureAtPixel(e.pixel,(e,t)=>{if(e instanceof s.default&&this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),u.push(e),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=o.getLength()-1;e>=0;--e){let t=o.item(e),n=u.indexOf(t);n>-1?u.splice(n,1):(o.remove(t),a.push(t))}0!==u.length&&o.extend(u)}return(u.length>0||a.length>0)&&this.dispatchEvent(new _(g.SELECT,u,a,e)),!0}}t.default=E}}]);
//# sourceMappingURL=3823.7e91ca18226f635b.js.map