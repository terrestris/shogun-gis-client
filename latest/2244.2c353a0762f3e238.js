"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["2244"],{54616:function(e,t,n){n.r(t),n.d(t,{CollectionEvent:function(){return a}});var i=n(274),r=n(85215),s=n(43354);let o="length";class a extends s.default{constructor(e,t,n){super(e),this.element=t,this.index=n}}class l extends r.default{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e??[],this.unique_)for(let e=1,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(o)}insertAt(e,t){if(e<0||e>this.getLength())throw Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new a(i.A.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new a(i.A.REMOVE,t,e)),t}setAt(e,t){if(e>=this.getLength())return void this.insertAt(e,t);if(e<0)throw Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new a(i.A.REMOVE,n,e)),this.dispatchEvent(new a(i.A.ADD,t,e))}updateLength_(){this.set(o,this.array_.length)}assertUnique_(e,t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e&&i!==t)throw Error("Duplicate item added to a unique collection")}}t.default=l},274:function(e,t){t.A={ADD:"add",REMOVE:"remove"}},22772:function(e,t,n){n.r(t),n.d(t,{createStyleFunction:function(){return l}});var i=n(85215),r=n(17229),s=n(55506),o=n(17353);class a extends i.default{constructor(e){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){let e=new a(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let n=this.getStyle();return n&&e.setStyle(n),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.JH)(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=(0,o.KT)(e,s.default.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?l(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function l(e){let t;return"function"==typeof e?e:(Array.isArray(e)?t=e:((0,r.v)("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t})}t.default=a},5888:function(e,t,n){var i=n(55506);t.A={SINGLECLICK:"singleclick",CLICK:i.default.CLICK,DBLCLICK:i.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},89267:function(e,t,n){n.r(t),n.d(t,{all:function(){return o},altKeyOnly:function(){return a},altShiftKeysOnly:function(){return l},always:function(){return c},click:function(){return d},doubleClick:function(){return m},focus:function(){return u},focusWithTabindex:function(){return h},mouseActionButton:function(){return y},mouseOnly:function(){return L},never:function(){return f},noModifierKeys:function(){return p},penOnly:function(){return I},platformModifierKey:function(){return E},platformModifierKeyOnly:function(){return v},pointerMove:function(){return g},primaryAction:function(){return K},shiftKeyOnly:function(){return A},singleClick:function(){return _},targetNotEditable:function(){return C},touchOnly:function(){return F}});var i=n(5888),r=n(29991),s=n(44954);function o(e){let t=arguments;return function(e){let n=!0;for(let i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}let a=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},l=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},u=function(e){let t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)},h=function(e){let t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||u(e)},c=r.TRUE,d=function(e){return e.type==i.A.CLICK},y=function(e){let t=e.originalEvent;return"pointerId"in t&&0==t.button&&!(s.WEBKIT&&s.MAC&&t.ctrlKey)},f=r.FALSE,g=function(e){return"pointermove"==e.type},_=function(e){return e.type==i.A.SINGLECLICK},m=function(e){return e.type==i.A.DBLCLICK},p=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},v=function(e){let t=e.originalEvent;return!t.altKey&&(s.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey},E=function(e){let t=e.originalEvent;return s.MAC?t.metaKey:t.ctrlKey},A=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},C=function(e){let t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},L=function(e){let t=e.originalEvent;return"pointerId"in t&&"mouse"==t.pointerType},F=function(e){let t=e.originalEvent;return"pointerId"in t&&"touch"===t.pointerType},I=function(e){let t=e.originalEvent;return"pointerId"in t&&"pen"===t.pointerType},K=function(e){let t=e.originalEvent;return"pointerId"in t&&t.isPrimary&&0===t.button}},77903:function(e,t,n){n.d(t,{k:function(){return i}});function i(e,t,n,i){let r=e[t],s=e[t+1],o=0;for(let a=t+i;a<n;a+=i){let t=e[a],n=e[a+1];o+=Math.sqrt((t-r)*(t-r)+(n-s)*(n-s)),r=t,s=n}return o}},52101:function(e,t,n){n.d(t,{D2:function(){return l},e4:function(){return a}});var i=n(85215),r=n(7773),s=n(48340);class o extends i.default{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(s.A.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(s.A.ACTIVE,e)}setMap(e){this.map_=e}}function a(e,t,n){let i=e.getCenterInternal();if(i){let s=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:r.linear,center:e.getConstrainedCenter(s)})}}function l(e,t,n,i){let s=e.getZoom();if(void 0===s)return;let o=e.getConstrainedZoom(s+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:r.easeOut})}t.Ay=o},48340:function(e,t){t.A={ACTIVE:"active"}},89173:function(e,t,n){n.r(t),n.d(t,{SelectEvent:function(){return _}});var i=n(54616),r=n(274),s=n(22772),o=n(19487),a=n(43354),l=n(89267),u=n(29991),h=n(64923),c=n(53495),d=n(48069),y=n(94092),f=n(52101);let g="select";class _ extends a.default{constructor(e,t,n,i){super(e),this.selected=t,this.deselected=n,this.mapBrowserEvent=i}}let m={};class p extends f.Ay{constructor(e){let t;if(super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:l.singleClick,this.addCondition_=e.addCondition?e.addCondition:l.never,this.removeCondition_=e.removeCondition?e.removeCondition:l.never,this.toggleCondition_=e.toggleCondition?e.toggleCondition:l.shiftKeyOnly,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:u.TRUE,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function(){let e=(0,d.createEditingStyle)();return(0,o.X$)(e.Polygon,e.LineString),(0,o.X$)(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}(),this.features_=e.features||new i.default,e.layers)if("function"==typeof e.layers)t=e.layers;else{const n=e.layers;t=function(e){return n.includes(e)}}else t=u.TRUE;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,y.getUid)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,y.getUid)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(r.A.ADD,this.boundAddFeature_),this.features_.addEventListener(r.A.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(r.A.ADD,this.boundAddFeature_),this.features_.removeEventListener(r.A.REMOVE,this.boundRemoveFeature_))}addFeature_(e){let t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){let e=this.findLayerOfFeature_(t);e&&this.addFeatureLayerAssociation_(t,e)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}findLayerOfFeature_(e){return this.getMap().getAllLayers().find(function(t){if(t instanceof h.default&&t.getSource()&&t.getSource().hasFeature(e))return t})}getStyle(){return this.style_}applySelectedStyle_(e){let t=(0,y.getUid)(e);t in m||(m[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){let t=this.getMap().getInteractions().getArray();for(let n=t.length-1;n>=0;--n){let i=t[n];if(i!==this&&i instanceof p&&i.getStyle()&&-1!==i.getFeatures().getArray().lastIndexOf(e))return void e.setStyle(i.getStyle())}let n=(0,y.getUid)(e);e.setStyle(m[n]),delete m[n]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[(0,y.getUid)(e)]}selectFeatureInternal_(e,t,n){if(!(e instanceof s.default)||!this.filter_(e,t))return;let i=this.getFeatures();return i.getArray().includes(e)||(this.addFeatureLayerAssociation_(e,t),i.push(e),n?.push(e)),e}selectFeature(e){let t=this.findLayerOfFeature_(e);if(!this.layerFilter_(t))return!1;let n=this.selectFeatureInternal_(e,t);return n&&this.dispatchEvent(new _(g,[n],[],void 0)),!!n}removeFeatureInternal_(e,t){let n=this.getFeatures();if(e instanceof s.default&&n.getArray().includes(e))return n.remove(e),this.removeFeatureLayerAssociation_(e),t?.push(e),e}deselectFeature(e){let t=this.removeFeatureInternal_(e);return t&&this.dispatchEvent(new _(g,[],[t],void 0)),!!t}toggleFeature(e){this.deselectFeature(e)||this.selectFeature(e)}clearSelection(){(0,c.I)(this.featureLayerAssociation_);let e=this.getFeatures(),t=e.getArray().slice();e.clear(),0!==t.length&&this.dispatchEvent(new _(g,[],t,void 0))}handleEvent(e){if(!this.condition_(e))return!0;let t=this.addCondition_(e),n=this.removeCondition_(e),i=this.toggleCondition_(e),r=e.map,s=this.getFeatures(),o=[],a=[];if(t||n||i)r.forEachFeatureAtPixel(e.pixel,(e,r)=>{let s;if((n||i)&&(s=this.removeFeatureInternal_(e,o)),(t||i)&&!s&&(s=this.selectFeatureInternal_(e,r,a)),s)return!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});else{let t=!1;r.forEachFeatureAtPixel(e.pixel,(e,n)=>{if(t=!0,this.selectFeatureInternal_(e,n,a))return!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=s.getLength()-1;e>=0;--e){let n=s.item(e);(!(a.length>0)||a.includes(n))&&t||this.removeFeatureInternal_(n,o)}}return(a.length>0||o.length>0)&&this.dispatchEvent(new _(g,a,o,e)),!0}}t.default=p}}]);
//# sourceMappingURL=2244.2c353a0762f3e238.js.map