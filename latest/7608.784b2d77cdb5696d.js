"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["7608"],{45947:function(e,t,n){n.r(t),n.d(t,{DeleteButton:function(){return f}});var r=n(76395),o=n(30126),i=n(3008),l=n(85158),c=n(63322),s=n(70198),a=n(53529);let u=`${s.$}deletebutton`,f=({className:e,digitizeLayer:t,onFeatureRemove:n,selectStyle:s,selectInteractionConfig:f,hitTolerance:L,pressed:E,..._})=>{let w=(0,o.A)(),T=(0,i.P)(t,()=>w?c.y.getDigitizeLayer(w):void 0,[w]),A=(0,r.useMemo)(()=>T?[T]:[],[T]),O=(0,r.useCallback)(e=>{if(!T)return;let t=e.selected[0];T.getSource()?.removeFeature(t),n?.(e)},[T,n]);(0,l.V)({selectStyle:s,selectInteractionConfig:f,layers:A,active:!!E,hitTolerance:L,onFeatureSelect:O,clearAfterSelect:!0});let d=e?`${u} ${e}`:u;return r.createElement(a.A,{pressed:E,className:d,..._})};t.default=f},53529:function(e,t,n){var r=n(76395),o=n.n(r),i=n(54440),l=n(74097),c=n(70198);t.A=({type:e="primary",pressed:t=!1,tooltipProps:n={mouseEnterDelay:1.5},className:r,tooltip:s,tooltipPlacement:a,pressedIcon:u,icon:f,children:L,value:E,onClick:_,onChange:w=()=>void 0,...T})=>{let A=`${c.$}togglebutton`,O=r?`${r} ${A}`:A,d="";return t&&(d=" btn-pressed"),o().createElement(i.A,{title:s,placement:a,...n},o().createElement(l.Ay,{type:e,onClick:e=>{_&&(_(e),e.defaultPrevented)||w(e,E)},onChange:w,className:`${O}${d}`,"aria-pressed":t,icon:t?u:f,...T},L))}},70198:function(e,t,n){n.d(t,{$:function(){return r}});let r="react-geo-"},73645:function(e,t,n){var r=n(76395);t.A=n.n(r)().createContext(null)},30126:function(e,t,n){n.d(t,{k:function(){return i}});var r=n(76395),o=n(73645);let i=()=>(0,r.useContext)(o.A);t.A=i},92712:function(e,t,n){n.d(t,{h:function(){return l}});var r=n(76395),o=n(2543),i=n(30126);let l=(e,t,n)=>{let l=(0,i.A)(),[c,s]=(0,r.useState)();return(0,r.useEffect)(()=>{if(!l)return;let t=e();if(t)return s(t),l.addInteraction(t),()=>{l.removeInteraction(t),s(void 0)}},[...t,l]),(0,r.useEffect)(()=>{!c||(0,o.isNil)(n)||c.setActive(n)},[c,n]),c}},42502:function(e,t,n){n.d(t,{R:function(){return i}});var r=n(76395),o=n(17936);let i=(e,t,n,i)=>{(0,r.useEffect)(()=>{if(!e||!1===i)return;let n=(Array.isArray(e)?e:[e]).flatMap(e=>{let n=t(e);return Array.isArray(n)?n:[n]}).filter(e=>void 0!==e);return()=>{for(let e of n)(0,o.unByKey)(e)}},[e,i,t,...n])};t.A=i},3008:function(e,t,n){n.d(t,{P:function(){return o}});var r=n(76395);let o=(e,t,n)=>{let[o,i]=(0,r.useState)();return(0,r.useEffect)(()=>{e?i(e):i(t())},[e,...n]),o}},85158:function(e,t,n){n.d(t,{V:function(){return E}});var r=n(76395),o=n(21834),i=n.n(o),l=n(18228),c=n(288),s=n.n(c),a=n(63322),u=n(92712),f=n(42502),L=n(3008);let E=({active:e,selectStyle:t,selectInteractionConfig:n,onFeatureSelect:o,hitTolerance:c=5,layers:E,clearAfterSelect:_=!1,featuresCollection:w})=>{let T=(0,L.P)(w,()=>new(i()),[]),A=(0,u.h)(()=>{if(!T)return;let e=new(s())({condition:l.singleClick,features:T,hitTolerance:c,style:t??a.y.DEFAULT_SELECT_STYLE,layers:E,...n??{}});return e.set("name","react-util-select-interaction"),e},[T,c,t,E,n],e);(0,f.R)(A,e=>e.on("select",e=>{T&&_&&T.clear(),o?.(e)}),[T,_,o]),(0,r.useEffect)(()=>{!e&&T&&T.clear()},[e,T])}},63322:function(e,t,n){n.d(t,{y:function(){return g}});var r=n(21834),o=n.n(r),i=n(15516),l=n.n(i),c=n(70038),s=n.n(c),a=n(40542),u=n.n(a),f=n(47312),L=n.n(f),E=n(66922),_=n.n(E),w=n(97562),T=n.n(w),A=n(50240),O=n.n(A),d=n(18635);class g{static DEFAULT_FILL_COLOR="rgba(0, 183, 43, 0.5)";static DEFAULT_STROKE_COLOR="rgba(0, 183, 43, 0.8)";static DEFAULT_POINT_STYLE=new(T())({image:new(u())({radius:7,fill:new(L())({color:g.DEFAULT_FILL_COLOR}),stroke:new(_())({color:g.DEFAULT_STROKE_COLOR})})});static DEFAULT_LINESTRING_STYLE=new(T())({stroke:new(_())({color:g.DEFAULT_STROKE_COLOR,width:2})});static DEFAULT_POLYGON_STYLE=new(T())({fill:new(L())({color:g.DEFAULT_FILL_COLOR}),stroke:new(_())({color:g.DEFAULT_STROKE_COLOR,width:2})});static DEFAULT_TEXT_STYLE=new(T())({text:new(O())({text:"",offsetX:5,offsetY:5,font:"12px sans-serif",fill:new(L())({color:g.DEFAULT_FILL_COLOR}),stroke:new(_())({color:g.DEFAULT_STROKE_COLOR})})});static DIGITIZE_LAYER_NAME="react-geo_digitize";static DEFAULT_SELECT_STYLE=g.selectStyleFunction("rgba(154, 26, 56, 0.5)","rgba(154, 26, 56, 0.8)");static getDigitizeLayer(e){let t=d.A.getLayerByName(e,g.DIGITIZE_LAYER_NAME);return t||((t=new(l())({source:new(s())({features:new(o())}),properties:{name:g.DIGITIZE_LAYER_NAME}})).setStyle(g.defaultDigitizeStyleFunction),e.addLayer(t)),t}static defaultDigitizeStyleFunction(e){let t=e.getGeometry();if(t)switch(t.getType()){case"MultiPoint":case"Point":if(!e.get("isLabel"))return new(T())({image:new(u())({radius:7,fill:new(L())({color:g.DEFAULT_FILL_COLOR}),stroke:new(_())({color:g.DEFAULT_STROKE_COLOR})})});return new(T())({text:new(O())({text:e.get("label"),offsetX:5,offsetY:5,font:"12px sans-serif",fill:new(L())({color:g.DEFAULT_FILL_COLOR}),stroke:new(_())({color:g.DEFAULT_STROKE_COLOR})})});case"MultiLineString":case"LineString":return new(T())({stroke:new(_())({color:g.DEFAULT_STROKE_COLOR,width:2})});case"MultiPolygon":case"Polygon":case"Circle":return new(T())({fill:new(L())({color:g.DEFAULT_FILL_COLOR}),stroke:new(_())({color:g.DEFAULT_STROKE_COLOR,width:2})});case"LinearRing":throw Error('Not implemented yet: "LinearRing" case');case"GeometryCollection":throw Error('Not implemented yet: "GeometryCollection" case');default:return}}static selectStyleFunction(e,t){return n=>{let r=n.get("label")??"";return new(T())({image:new(u())({radius:7,fill:new(L())({color:e}),stroke:new(_())({color:t})}),text:new(O())({text:r,offsetX:5,offsetY:5,font:"12px sans-serif",fill:new(L())({color:e}),stroke:new(_())({color:t})}),stroke:new(_())({color:t,width:2}),fill:new(L())({color:e})})}}}}}]);
//# sourceMappingURL=7608.784b2d77cdb5696d.js.map