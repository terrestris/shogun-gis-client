"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["4939"],{43158:function(e,t,n){n.d(t,{A:function(){return C}});var r=n(55285),o=n(60875),i=n(37566),u=n(67136),c=n(59453),a=n(25598),l=n(32485),s=n.n(l),f=n(6807),v=n(81470),d=n(30981),h=n(76395),g=n(93797),m=h.forwardRef(function(e,t){var n=e.height,o=e.offsetY,c=e.offsetX,a=e.children,l=e.prefixCls,v=e.onInnerResize,d=e.innerProps,g=e.rtl,m=e.extra,p={},A={display:"flex",flexDirection:"column"};return void 0!==o&&(p={height:n,position:"relative",overflow:"hidden"},A=(0,i.A)((0,i.A)({},A),{},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)({transform:"translateY(".concat(o,"px)")},g?"marginRight":"marginLeft",-c),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(f.A,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",(0,r.A)({style:A,className:s()((0,u.A)({},"".concat(l,"-holder-inner"),l)),ref:t},d),a,m)))});function p(e){var t=e.children,n=e.setRef,r=h.useCallback(function(e){n(e)},[]);return h.cloneElement(t,{ref:r})}m.displayName="Filler";var A=n(25371),w=("u"<typeof navigator?"undefined":(0,o.A)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),R=function(e,t,n,r){var o=(0,h.useRef)(!1),i=(0,h.useRef)(null),u=(0,h.useRef)({top:e,bottom:t,left:n,right:r});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):(!r||o.current)&&(clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)),!o.current&&r}},b=n(59542),E=n(56752),M=function(){function e(){(0,b.A)(this,e),(0,u.A)(this,"maps",void 0),(0,u.A)(this,"id",0),(0,u.A)(this,"diffRecords",new Map),this.maps=Object.create(null)}return(0,E.A)(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function S(e){var t=parseFloat(e);return isNaN(t)?0:t}var y=14/15;function x(e){return Math.floor(Math.pow(e,.5))}function L(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var H=h.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,a=e.scrollRange,l=e.onStartMove,f=e.onStopMove,v=e.onScroll,d=e.horizontal,g=e.spinSize,m=e.containerSize,p=e.style,w=e.thumbStyle,R=e.showScrollBar,b=h.useState(!1),E=(0,c.A)(b,2),M=E[0],S=E[1],y=h.useState(null),x=(0,c.A)(y,2),H=x[0],T=x[1],_=h.useState(null),k=(0,c.A)(_,2),z=k[0],D=k[1],C=!r,N=h.useRef(),Y=h.useRef(),B=h.useState(R),I=(0,c.A)(B,2),O=I[0],P=I[1],X=h.useRef(),j=function(){!0!==R&&!1!==R&&(clearTimeout(X.current),P(!0),X.current=setTimeout(function(){P(!1)},3e3))},V=a-m||0,W=m-g||0,F=h.useMemo(function(){return 0===o||0===V?0:o/V*W},[o,V,W]),K=h.useRef({top:F,dragging:M,pageY:H,startTop:z});K.current={top:F,dragging:M,pageY:H,startTop:z};var q=function(e){S(!0),T(L(e,d)),D(K.current.top),l(),e.stopPropagation(),e.preventDefault()};h.useEffect(function(){var e=function(e){e.preventDefault()},t=N.current,n=Y.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",q,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",q)}},[]);var G=h.useRef();G.current=V;var J=h.useRef();J.current=W,h.useEffect(function(){if(M){var e,t=function(t){var n=K.current,r=n.dragging,o=n.pageY,i=n.startTop;A.A.cancel(e);var u=N.current.getBoundingClientRect(),c=m/(d?u.width:u.height);if(r){var a=(L(t,d)-o)*c,l=i;!C&&d?l-=a:l+=a;var s=G.current,f=J.current,h=Math.ceil((f?l/f:0)*s);h=Math.min(h=Math.max(h,0),s),e=(0,A.A)(function(){v(h,d)})}},n=function(){S(!1),f()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),A.A.cancel(e)}}},[M]),h.useEffect(function(){return j(),function(){clearTimeout(X.current)}},[o]),h.useImperativeHandle(t,function(){return{delayHidden:j}});var Q="".concat(n,"-scrollbar"),U={position:"absolute",visibility:O?null:"hidden"},Z={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return d?(Object.assign(U,{height:8,left:0,right:0,bottom:0}),Object.assign(Z,(0,u.A)({height:"100%",width:g},C?"left":"right",F))):(Object.assign(U,(0,u.A)({width:8,top:0,bottom:0},C?"right":"left",0)),Object.assign(Z,{width:"100%",height:g,top:F})),h.createElement("div",{ref:N,className:s()(Q,(0,u.A)((0,u.A)((0,u.A)({},"".concat(Q,"-horizontal"),d),"".concat(Q,"-vertical"),!d),"".concat(Q,"-visible"),O)),style:(0,i.A)((0,i.A)({},U),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:j},h.createElement("div",{ref:Y,className:s()("".concat(Q,"-thumb"),(0,u.A)({},"".concat(Q,"-thumb-moving"),M)),style:(0,i.A)((0,i.A)({},Z),w),onMouseDown:q}))});function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),Math.floor(n=Math.max(n,20))}var _=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],k=[],z={overflowY:"auto",overflowAnchor:"none"},D=h.forwardRef(function(e,t){var n,l,b,E,D,C,N,Y,B,I,O,P,X,j,V,W,F,K,q,G,J,Q,U,Z,$,ee,et,en,er,eo,ei,eu,ec,ea,el,es,ef,ev=e.prefixCls,ed=void 0===ev?"rc-virtual-list":ev,eh=e.className,eg=e.height,em=e.itemHeight,ep=e.fullHeight,eA=e.style,ew=e.data,eR=e.children,eb=e.itemKey,eE=e.virtual,eM=e.direction,eS=e.scrollWidth,ey=e.component,ex=e.onScroll,eL=e.onVirtualScroll,eH=e.onVisibleChange,eT=e.innerProps,e_=e.extraRender,ek=e.styles,ez=e.showScrollBar,eD=void 0===ez?"optional":ez,eC=(0,a.A)(e,_),eN=h.useCallback(function(e){return"function"==typeof eb?eb(e):null==e?void 0:e[eb]},[eb]),eY=function(e,t,n){var r=h.useState(0),o=(0,c.A)(r,2),i=o[0],u=o[1],a=(0,h.useRef)(new Map),l=(0,h.useRef)(new M),s=(0,h.useRef)(0);function f(){s.current+=1}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f();var t=function(){var e=!1;a.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,u=o.marginBottom,c=r+S(i)+S(u);l.current.get(n)!==c&&(l.current.set(n,c),e=!0)}}),e&&u(function(e){return e+1})};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then(function(){n===s.current&&t()})}}return(0,h.useEffect)(function(){return f},[]),[function(r,o){var i=e(r),u=a.current.get(i);o?(a.current.set(i,o),v()):a.current.delete(i),!u!=!o&&(o?null==t||t(r):null==n||n(r))},v,l.current,i]}(eN,null,null),eB=(0,c.A)(eY,4),eI=eB[0],eO=eB[1],eP=eB[2],eX=eB[3],ej=!!(!1!==eE&&eg&&em),eV=h.useMemo(function(){return Object.values(eP.maps).reduce(function(e,t){return e+t},0)},[eP.id,eP.maps]),eW=ej&&ew&&(Math.max(em*ew.length,eV)>eg||!!eS),eF="rtl"===eM,eK=s()(ed,(0,u.A)({},"".concat(ed,"-rtl"),eF),eh),eq=ew||k,eG=(0,h.useRef)(),eJ=(0,h.useRef)(),eQ=(0,h.useRef)(),eU=(0,h.useState)(0),eZ=(0,c.A)(eU,2),e$=eZ[0],e0=eZ[1],e1=(0,h.useState)(0),e2=(0,c.A)(e1,2),e5=e2[0],e3=e2[1],e9=(0,h.useState)(!1),e7=(0,c.A)(e9,2),e8=e7[0],e6=e7[1],e4=function(){e6(!0)},te=function(){e6(!1)};function tt(e){e0(function(t){var n,r=(n="function"==typeof e?e(t):e,Number.isNaN(tw.current)||(n=Math.min(n,tw.current)),n=Math.max(n,0));return eG.current.scrollTop=r,r})}var tn=(0,h.useRef)({start:0,end:eq.length}),tr=(0,h.useRef)(),to=(n=h.useState(eq),b=(l=(0,c.A)(n,2))[0],E=l[1],D=h.useState(null),N=(C=(0,c.A)(D,2))[0],Y=C[1],h.useEffect(function(){var e=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function a(e){return void 0!==e?n(e):c}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=a(r[f]);if(v!==a(o[f])){l=f,s=s||v!==a(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(b||[],eq||[],eN);(null==e?void 0:e.index)!==void 0&&Y(eq[e.index]),E(eq)},[eq]),[N]);tr.current=(0,c.A)(to,1)[0];var ti=h.useMemo(function(){if(!ej)return{scrollHeight:void 0,start:0,end:eq.length-1,offset:void 0};if(!eW)return{scrollHeight:(null==(e=eJ.current)?void 0:e.offsetHeight)||0,start:0,end:eq.length-1,offset:void 0};for(var e,t,n,r,o=0,i=eq.length,u=0;u<i;u+=1){var c=eN(eq[u]),a=eP.get(c),l=o+(void 0===a?em:a);l>=e$&&void 0===t&&(t=u,n=o),l>e$+eg&&void 0===r&&(r=u),o=l}return void 0===t&&(t=0,n=0,r=Math.ceil(eg/em)),void 0===r&&(r=eq.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,eq.length-1),offset:n}},[eW,ej,e$,eq,eX,eg]),tu=ti.scrollHeight,tc=ti.start,ta=ti.end,tl=ti.offset;tn.current.start=tc,tn.current.end=ta,h.useLayoutEffect(function(){var e=eP.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=eq[tc];if(r&&void 0===n&&eN(r)===t){var o=eP.get(t)-em;tt(function(e){return e+o})}}eP.resetRecord()},[tu]);var ts=h.useState({width:0,height:eg}),tf=(0,c.A)(ts,2),tv=tf[0],td=tf[1],th=(0,h.useRef)(),tg=(0,h.useRef)(),tm=h.useMemo(function(){return T(tv.width,eS)},[tv.width,eS]),tp=h.useMemo(function(){return T(tv.height,tu)},[tv.height,tu]),tA=tu-eg,tw=(0,h.useRef)(tA);tw.current=tA;var tR=e$<=0,tb=e$>=tA,tE=e5<=0,tM=e5>=eS,tS=R(tR,tb,tE,tM),ty=function(){return{x:eF?-e5:e5,y:e$}},tx=(0,h.useRef)(ty()),tL=(0,v._q)(function(e){if(eL){var t=(0,i.A)((0,i.A)({},ty()),e);(tx.current.x!==t.x||tx.current.y!==t.y)&&(eL(t),tx.current=t)}});function tH(e,t){t?((0,g.flushSync)(function(){e3(e)}),tL()):tt(e)}var tT=function(e){var t=e,n=eS?eS-tv.width:0;return Math.min(t=Math.max(t,0),n)},t_=(0,v._q)(function(e,t){t?((0,g.flushSync)(function(){e3(function(t){return tT(t+(eF?-e:e))})}),tL()):tt(function(t){return t+e})}),tk=(B=!!eS,I=(0,h.useRef)(0),O=(0,h.useRef)(null),P=(0,h.useRef)(null),X=(0,h.useRef)(!1),j=R(tR,tb,tE,tM),V=(0,h.useRef)(null),W=(0,h.useRef)(null),[function(e){if(ej){A.A.cancel(W.current),W.current=(0,A.A)(function(){V.current=null},2);var t,n,r=e.deltaX,o=e.deltaY,i=e.shiftKey,u=r,c=o;("sx"===V.current||!V.current&&i&&o&&!r)&&(u=o,c=0,V.current="sx");var a=Math.abs(u),l=Math.abs(c);if(null===V.current&&(V.current=B&&a>l?"x":"y"),"y"===V.current){t=e,n=c,A.A.cancel(O.current),!j(!1,n)&&(t._virtualHandled||(t._virtualHandled=!0,I.current+=n,P.current=n,w||t.preventDefault(),O.current=(0,A.A)(function(){var e=X.current?10:1;t_(I.current*e,!1),I.current=0})))}else t_(u,!0),w||e.preventDefault()}},function(e){ej&&(X.current=e.detail===P.current)}]),tz=(0,c.A)(tk,2),tD=tz[0],tC=tz[1];F=function(e,t,n,r){return!tS(e,t,n)&&(!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),tD({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)},q=(0,h.useRef)(!1),G=(0,h.useRef)(0),J=(0,h.useRef)(0),Q=(0,h.useRef)(null),U=(0,h.useRef)(null),Z=function(e){if(q.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),r=G.current-t,o=J.current-n,i=Math.abs(r)>Math.abs(o);i?G.current=t:J.current=n;var u=F(i,i?r:o,!1,e);u&&e.preventDefault(),clearInterval(U.current),u&&(U.current=setInterval(function(){i?r*=y:o*=y;var e=Math.floor(i?r:o);(!F(i,e,!0)||.1>=Math.abs(e))&&clearInterval(U.current)},16))}},$=function(){q.current=!1,K()},ee=function(e){K(),1!==e.touches.length||q.current||(q.current=!0,G.current=Math.ceil(e.touches[0].pageX),J.current=Math.ceil(e.touches[0].pageY),Q.current=e.target,Q.current.addEventListener("touchmove",Z,{passive:!1}),Q.current.addEventListener("touchend",$,{passive:!0}))},K=function(){Q.current&&(Q.current.removeEventListener("touchmove",Z),Q.current.removeEventListener("touchend",$))},(0,d.A)(function(){return ej&&eG.current.addEventListener("touchstart",ee,{passive:!0}),function(){var e;null==(e=eG.current)||e.removeEventListener("touchstart",ee),K(),clearInterval(U.current)}},[ej]),et=function(e){tt(function(t){return t+e})},h.useEffect(function(){var e=eG.current;if(eW&&e){var t,n,r=!1,o=function(){A.A.cancel(t)},i=function e(){o(),t=(0,A.A)(function(){et(n),e()})},u=function(e){!e.target.draggable&&0===e.button&&(e._virtualHandled||(e._virtualHandled=!0,r=!0))},c=function(){r=!1,o()},a=function(t){if(r){var u=L(t,!1),c=e.getBoundingClientRect(),a=c.top,l=c.bottom;u<=a?(n=-x(a-u),i()):u>=l?(n=x(u-l),i()):o()}};return e.addEventListener("mousedown",u),e.ownerDocument.addEventListener("mouseup",c),e.ownerDocument.addEventListener("mousemove",a),function(){e.removeEventListener("mousedown",u),e.ownerDocument.removeEventListener("mouseup",c),e.ownerDocument.removeEventListener("mousemove",a),o()}}},[eW]),(0,d.A)(function(){function e(e){var t=tR&&e.detail<0,n=tb&&e.detail>0;!ej||t||n||e.preventDefault()}var t=eG.current;return t.addEventListener("wheel",tD,{passive:!1}),t.addEventListener("DOMMouseScroll",tC,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",tD),t.removeEventListener("DOMMouseScroll",tC),t.removeEventListener("MozMousePixelScroll",e)}},[ej,tR,tb]),(0,d.A)(function(){if(eS){var e=tT(e5);e3(e),tL({x:e})}},[tv.width,eS]);var tN=function(){var e,t;null==(e=th.current)||e.delayHidden(),null==(t=tg.current)||t.delayHidden()},tY=(en=function(){return eO(!0)},er=h.useRef(),eo=h.useState(null),eu=(ei=(0,c.A)(eo,2))[0],ec=ei[1],(0,d.A)(function(){if(eu&&eu.times<10){if(!eG.current)return void ec(function(e){return(0,i.A)({},e)});en();var e=eu.targetAlign,t=eu.originAlign,n=eu.index,r=eu.offset,o=eG.current.clientHeight,u=!1,c=e,a=null;if(o){for(var l=e||t,s=0,f=0,v=0,d=Math.min(eq.length-1,n),h=0;h<=d;h+=1){var g=eN(eq[h]);f=s;var m=eP.get(g);s=v=f+(void 0===m?em:m)}for(var p="top"===l?r:o-r,A=d;A>=0;A-=1){var w=eN(eq[A]),R=eP.get(w);if(void 0===R){u=!0;break}if((p-=R)<=0)break}switch(l){case"top":a=f-r;break;case"bottom":a=v-o+r;break;default:var b=eG.current.scrollTop;f<b?c="top":v>b+o&&(c="bottom")}null!==a&&tt(a),a!==eu.lastTop&&(u=!0)}u&&ec((0,i.A)((0,i.A)({},eu),{},{times:eu.times+1,targetAlign:c,lastTop:a}))}},[eu,eG.current]),function(e){if(null==e)return void tN();if(A.A.cancel(er.current),"number"==typeof e)tt(e);else if(e&&"object"===(0,o.A)(e)){var t,n=e.align;t="index"in e?e.index:eq.findIndex(function(t){return eN(t)===e.key});var r=e.offset;ec({times:0,index:t,offset:void 0===r?0:r,originAlign:n})}});h.useImperativeHandle(t,function(){return{nativeElement:eQ.current,getScrollInfo:ty,scrollTo:function(e){e&&"object"===(0,o.A)(e)&&("left"in e||"top"in e)?(void 0!==e.left&&e3(tT(e.left)),tY(e.top)):tY(e)}}}),(0,d.A)(function(){eH&&eH(eq.slice(tc,ta+1),eq)},[tc,ta,eq]);var tB=(ea=h.useMemo(function(){return[new Map,[]]},[eq,eP.id,em]),es=(el=(0,c.A)(ea,2))[0],ef=el[1],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=es.get(e),r=es.get(t);if(void 0===n||void 0===r)for(var o=eq.length,i=ef.length;i<o;i+=1){var u,c=eN(eq[i]);es.set(c,i);var a=null!=(u=eP.get(c))?u:em;if(ef[i]=(ef[i-1]||0)+a,c===e&&(n=i),c===t&&(r=i),void 0!==n&&void 0!==r)break}return{top:ef[n-1]||0,bottom:ef[r]}}),tI=null==e_?void 0:e_({start:tc,end:ta,virtual:eW,offsetX:e5,offsetY:tl,rtl:eF,getSize:tB}),tO=eq.slice(tc,ta+1).map(function(e,t){var n=eR(e,tc+t,{style:{width:eS},offsetX:e5}),r=eN(e);return h.createElement(p,{key:r,setRef:function(t){return eI(e,t)}},n)}),tP=null;eg&&(tP=(0,i.A)((0,u.A)({},void 0===ep||ep?"height":"maxHeight",eg),z),ej&&(tP.overflowY="hidden",eS&&(tP.overflowX="hidden"),e8&&(tP.pointerEvents="none")));var tX={};return eF&&(tX.dir="rtl"),h.createElement("div",(0,r.A)({ref:eQ,style:(0,i.A)((0,i.A)({},eA),{},{position:"relative"}),className:eK},tX,eC),h.createElement(f.A,{onResize:function(e){td({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(void 0===ey?"div":ey,{className:"".concat(ed,"-holder"),style:tP,ref:eG,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==e$&&tt(t),null==ex||ex(e),tL()},onMouseEnter:tN},h.createElement(m,{prefixCls:ed,height:tu,offsetX:e5,offsetY:tl,scrollWidth:eS,onInnerResize:eO,ref:eJ,innerProps:eT,rtl:eF,extra:tI},tO))),eW&&tu>eg&&h.createElement(H,{ref:th,prefixCls:ed,scrollOffset:e$,scrollRange:tu,rtl:eF,onScroll:tH,onStartMove:e4,onStopMove:te,spinSize:tp,containerSize:tv.height,style:null==ek?void 0:ek.verticalScrollBar,thumbStyle:null==ek?void 0:ek.verticalScrollBarThumb,showScrollBar:eD}),eW&&eS>tv.width&&h.createElement(H,{ref:tg,prefixCls:ed,scrollOffset:e5,scrollRange:eS,rtl:eF,onScroll:tH,onStartMove:e4,onStopMove:te,spinSize:tm,containerSize:tv.width,horizontal:!0,style:null==ek?void 0:ek.horizontalScrollBar,thumbStyle:null==ek?void 0:ek.horizontalScrollBarThumb,showScrollBar:eD}))});D.displayName="List";var C=D}}]);
//# sourceMappingURL=4939.a590294a633f03b9.js.map