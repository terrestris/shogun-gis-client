"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["9905"],{15108:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(22122),o=n(90484),i=n(28991),u=n(96156),c=n(6420),a=n(56633),l=n(94184),s=n.n(l),f=n(70057),v=n(56790),d=n(8410),h=n(9948),m=n(89759),g=h.forwardRef(function(e,t){var n=e.height,o=e.offsetY,c=e.offsetX,a=e.children,l=e.prefixCls,v=e.onInnerResize,d=e.innerProps,m=e.rtl,g=e.extra,p={},Z={display:"flex",flexDirection:"column"};return void 0!==o&&(p={height:n,position:"relative",overflow:"hidden"},Z=(0,i.Z)((0,i.Z)({},Z),{},(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({transform:"translateY(".concat(o,"px)")},m?"marginRight":"marginLeft",-c),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(f.Z,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",(0,r.Z)({style:Z,className:s()((0,u.Z)({},"".concat(l,"-holder-inner"),l)),ref:t},d),a,g)))});function p(e){var t=e.children,n=e.setRef,r=h.useCallback(function(e){n(e)},[]);return h.cloneElement(t,{ref:r})}g.displayName="Filler";var Z=n(75164),w=("undefined"==typeof navigator?"undefined":(0,o.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),E=function(e,t,n,r){var o=(0,h.useRef)(!1),i=(0,h.useRef)(null),u=(0,h.useRef)({top:e,bottom:t,left:n,right:r});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):(!r||o.current)&&(clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)),!o.current&&r}},M=n(34203),R=n(6610),y=n(5991),b=function(){function e(){(0,R.Z)(this,e),(0,u.Z)(this,"maps",void 0),(0,u.Z)(this,"id",0),(0,u.Z)(this,"diffKeys",new Set),this.maps=Object.create(null)}return(0,y.Z)(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function S(e){var t=parseFloat(e);return isNaN(t)?0:t}var x=14/15;function L(e){return Math.floor(Math.pow(e,.5))}function H(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var z=h.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,a=e.scrollRange,l=e.onStartMove,f=e.onStopMove,v=e.onScroll,d=e.horizontal,m=e.spinSize,g=e.containerSize,p=e.style,w=e.thumbStyle,E=h.useState(!1),M=(0,c.Z)(E,2),R=M[0],y=M[1],b=h.useState(null),S=(0,c.Z)(b,2),x=S[0],L=S[1],z=h.useState(null),T=(0,c.Z)(z,2),k=T[0],_=T[1],D=!r,C=h.useRef(),N=h.useRef(),Y=h.useState(!1),X=(0,c.Z)(Y,2),P=X[0],I=X[1],A=h.useRef(),B=function(){clearTimeout(A.current),I(!0),A.current=setTimeout(function(){I(!1)},3e3)},K=a-g||0,O=g-m||0,j=h.useMemo(function(){return 0===o||0===K?0:o/K*O},[o,K,O]),V=h.useRef({top:j,dragging:R,pageY:x,startTop:k});V.current={top:j,dragging:R,pageY:x,startTop:k};var W=function(e){y(!0),L(H(e,d)),_(V.current.top),l(),e.stopPropagation(),e.preventDefault()};h.useEffect(function(){var e=function(e){e.preventDefault()},t=C.current,n=N.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",W,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",W)}},[]);var F=h.useRef();F.current=K;var q=h.useRef();q.current=O,h.useEffect(function(){if(R){var e,t=function(t){var n=V.current,r=n.dragging,o=n.pageY,i=n.startTop;Z.Z.cancel(e);var u=C.current.getBoundingClientRect(),c=g/(d?u.width:u.height);if(r){var a=(H(t,d)-o)*c,l=i;!D&&d?l-=a:l+=a;var s=F.current,f=q.current,h=Math.ceil((f?l/f:0)*s);h=Math.min(h=Math.max(h,0),s),e=(0,Z.Z)(function(){v(h,d)})}},n=function(){y(!1),f()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Z.Z.cancel(e)}}},[R]),h.useEffect(function(){return B(),function(){clearTimeout(A.current)}},[o]),h.useImperativeHandle(t,function(){return{delayHidden:B}});var G="".concat(n,"-scrollbar"),J={position:"absolute",visibility:P?null:"hidden"},Q={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return d?(J.height=8,J.left=0,J.right=0,J.bottom=0,Q.height="100%",Q.width=m,D?Q.left=j:Q.right=j):(J.width=8,J.top=0,J.bottom=0,D?J.right=0:J.left=0,Q.width="100%",Q.height=m,Q.top=j),h.createElement("div",{ref:C,className:s()(G,(0,u.Z)((0,u.Z)((0,u.Z)({},"".concat(G,"-horizontal"),d),"".concat(G,"-vertical"),!d),"".concat(G,"-visible"),P)),style:(0,i.Z)((0,i.Z)({},J),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:B},h.createElement("div",{ref:N,className:s()("".concat(G,"-thumb"),(0,u.Z)({},"".concat(G,"-thumb-moving"),R)),style:(0,i.Z)((0,i.Z)({},Q),w),onMouseDown:W}))});function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),Math.floor(n=Math.max(n,20))}var k=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],_=[],D={overflowY:"auto",overflowAnchor:"none"},C=h.forwardRef(function(e,t){var n,l,R,y,C,N,Y,X,P,I,A,B,K,O,j,V,W,F,q,G,J,Q,U,$,ee,et,en,er,eo,ei,eu,ec,ea,el,es,ef,ev,ed=e.prefixCls,eh=void 0===ed?"rc-virtual-list":ed,em=e.className,eg=e.height,ep=e.itemHeight,eZ=e.fullHeight,ew=e.style,eE=e.data,eM=e.children,eR=e.itemKey,ey=e.virtual,eb=e.direction,eS=e.scrollWidth,ex=e.component,eL=e.onScroll,eH=e.onVirtualScroll,ez=e.onVisibleChange,eT=e.innerProps,ek=e.extraRender,e_=e.styles,eD=(0,a.Z)(e,k),eC=h.useCallback(function(e){return"function"==typeof eR?eR(e):null==e?void 0:e[eR]},[eR]),eN=function(e,t,n){var r=h.useState(0),o=(0,c.Z)(r,2),i=o[0],u=o[1],a=(0,h.useRef)(new Map),l=(0,h.useRef)(new b),s=(0,h.useRef)(0);function f(){s.current+=1}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f();var t=function(){var e=!1;a.current.forEach(function(t,n){if(t&&t.offsetParent){var r=(0,M.ZP)(t),o=r.offsetHeight,i=getComputedStyle(r),u=i.marginTop,c=i.marginBottom,a=o+S(u)+S(c);l.current.get(n)!==a&&(l.current.set(n,a),e=!0)}}),e&&u(function(e){return e+1})};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then(function(){n===s.current&&t()})}}return(0,h.useEffect)(function(){return f},[]),[function(r,o){var i=e(r),u=a.current.get(i);o?(a.current.set(i,o),v()):a.current.delete(i),!u!=!o&&(o?null==t||t(r):null==n||n(r))},v,l.current,i]}(eC,null,null),eY=(0,c.Z)(eN,4),eX=eY[0],eP=eY[1],eI=eY[2],eA=eY[3],eB=!!(!1!==ey&&eg&&ep),eK=h.useMemo(function(){return Object.values(eI.maps).reduce(function(e,t){return e+t},0)},[eI.id,eI.maps]),eO=eB&&eE&&(Math.max(ep*eE.length,eK)>eg||!!eS),ej="rtl"===eb,eV=s()(eh,(0,u.Z)({},"".concat(eh,"-rtl"),ej),em),eW=eE||_,eF=(0,h.useRef)(),eq=(0,h.useRef)(),eG=(0,h.useRef)(),eJ=(0,h.useState)(0),eQ=(0,c.Z)(eJ,2),eU=eQ[0],e$=eQ[1],e0=(0,h.useState)(0),e1=(0,c.Z)(e0,2),e2=e1[0],e9=e1[1],e5=(0,h.useState)(!1),e4=(0,c.Z)(e5,2),e6=e4[0],e8=e4[1],e3=function(){e8(!0)},e7=function(){e8(!1)};function te(e){e$(function(t){var n,r,o=(n="function"==typeof e?e(t):e,Number.isNaN(tw.current)||(n=Math.min(n,tw.current)),n=Math.max(n,0));return eF.current.scrollTop=o,o})}var tt=(0,h.useRef)({start:0,end:eW.length}),tn=(0,h.useRef)(),tr=(n=h.useState(eW),R=(l=(0,c.Z)(n,2))[0],y=l[1],C=h.useState(null),Y=(N=(0,c.Z)(C,2))[0],X=N[1],h.useEffect(function(){var e=function(e,t,n){var r,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function a(e){return void 0!==e?n(e):c}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=a(r[f]);if(v!==a(o[f])){l=f,s=s||v!==a(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(R||[],eW||[],eC);(null==e?void 0:e.index)!==void 0&&X(eW[e.index]),y(eW)},[eW]),[Y]),to=(0,c.Z)(tr,1)[0];tn.current=to;var ti=h.useMemo(function(){if(!eB)return{scrollHeight:void 0,start:0,end:eW.length-1,offset:void 0};if(!eO)return{scrollHeight:(null===(e=eq.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:eW.length-1,offset:void 0};for(var e,t,n,r,o=0,i=eW.length,u=0;u<i;u+=1){var c=eC(eW[u]),a=eI.get(c),l=o+(void 0===a?ep:a);l>=eU&&void 0===t&&(t=u,n=o),l>eU+eg&&void 0===r&&(r=u),o=l}return void 0===t&&(t=0,n=0,r=Math.ceil(eg/ep)),void 0===r&&(r=eW.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,eW.length-1),offset:n}},[eO,eB,eU,eW,eA,eg]),tu=ti.scrollHeight,tc=ti.start,ta=ti.end,tl=ti.offset;tt.current.start=tc,tt.current.end=ta,h.useLayoutEffect(function(){var e=eI.getRecord();if(1===e.size){var t=Array.from(e)[0];if(eC(eW[tc])===t){var n=eI.get(t)-ep;te(function(e){return e+n})}}eI.resetRecord()},[tu]);var ts=h.useState({width:0,height:eg}),tf=(0,c.Z)(ts,2),tv=tf[0],td=tf[1],th=(0,h.useRef)(),tm=(0,h.useRef)(),tg=h.useMemo(function(){return T(tv.width,eS)},[tv.width,eS]),tp=h.useMemo(function(){return T(tv.height,tu)},[tv.height,tu]),tZ=tu-eg,tw=(0,h.useRef)(tZ);tw.current=tZ;var tE=eU<=0,tM=eU>=tZ,tR=e2<=0,ty=e2>=eS,tb=E(tE,tM,tR,ty),tS=function(){return{x:ej?-e2:e2,y:eU}},tx=(0,h.useRef)(tS()),tL=(0,v.zX)(function(e){if(eH){var t=(0,i.Z)((0,i.Z)({},tS()),e);(tx.current.x!==t.x||tx.current.y!==t.y)&&(eH(t),tx.current=t)}});function tH(e,t){t?((0,m.flushSync)(function(){e9(e)}),tL()):te(e)}var tz=function(e){var t=e,n=eS?eS-tv.width:0;return Math.min(t=Math.max(t,0),n)},tT=(0,v.zX)(function(e,t){t?((0,m.flushSync)(function(){e9(function(t){return tz(t+(ej?-e:e))})}),tL()):te(function(t){return t+e})}),tk=(P=!!eS,I=(0,h.useRef)(0),A=(0,h.useRef)(null),B=(0,h.useRef)(null),K=(0,h.useRef)(!1),O=E(tE,tM,tR,ty),j=(0,h.useRef)(null),V=(0,h.useRef)(null),[function(e){if(eB){Z.Z.cancel(V.current),V.current=(0,Z.Z)(function(){j.current=null},2);var t,n,r=e.deltaX,o=e.deltaY,i=e.shiftKey,u=r,c=o;("sx"===j.current||!j.current&&i&&o&&!r)&&(u=o,c=0,j.current="sx");var a=Math.abs(u),l=Math.abs(c);if(null===j.current&&(j.current=P&&a>l?"x":"y"),"y"===j.current){t=e,n=c,Z.Z.cancel(A.current),O(!1,n)||t._virtualHandled||(t._virtualHandled=!0,I.current+=n,B.current=n,w||t.preventDefault(),A.current=(0,Z.Z)(function(){var e=K.current?10:1;tT(I.current*e,!1),I.current=0}))}else tT(u,!0),w||e.preventDefault()}},function(e){eB&&(K.current=e.detail===B.current)}]),t_=(0,c.Z)(tk,2),tD=t_[0],tC=t_[1];W=function(e,t,n,r){return!tb(e,t,n)&&(!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),tD({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0)},q=(0,h.useRef)(!1),G=(0,h.useRef)(0),J=(0,h.useRef)(0),Q=(0,h.useRef)(null),U=(0,h.useRef)(null),$=function(e){if(q.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),r=G.current-t,o=J.current-n,i=Math.abs(r)>Math.abs(o);i?G.current=t:J.current=n;var u=W(i,i?r:o,!1,e);u&&e.preventDefault(),clearInterval(U.current),u&&(U.current=setInterval(function(){i?r*=x:o*=x;var e=Math.floor(i?r:o);(!W(i,e,!0)||.1>=Math.abs(e))&&clearInterval(U.current)},16))}},ee=function(){q.current=!1,F()},et=function(e){F(),1!==e.touches.length||q.current||(q.current=!0,G.current=Math.ceil(e.touches[0].pageX),J.current=Math.ceil(e.touches[0].pageY),Q.current=e.target,Q.current.addEventListener("touchmove",$,{passive:!1}),Q.current.addEventListener("touchend",ee,{passive:!0}))},F=function(){Q.current&&(Q.current.removeEventListener("touchmove",$),Q.current.removeEventListener("touchend",ee))},(0,d.Z)(function(){return eB&&eF.current.addEventListener("touchstart",et,{passive:!0}),function(){var e;null===(e=eF.current)||void 0===e||e.removeEventListener("touchstart",et),F(),clearInterval(U.current)}},[eB]),en=function(e){te(function(t){return t+e})},h.useEffect(function(){var e=eF.current;if(eO&&e){var t,n,r=!1,o=function(){Z.Z.cancel(t)},i=function e(){o(),t=(0,Z.Z)(function(){en(n),e()})},u=function(e){e._virtualHandled||(e._virtualHandled=!0,r=!0)},c=function(){r=!1,o()},a=function(t){if(r){var u=H(t,!1),c=e.getBoundingClientRect(),a=c.top,l=c.bottom;u<=a?(n=-L(a-u),i()):u>=l?(n=L(u-l),i()):o()}};return e.addEventListener("mousedown",u),e.ownerDocument.addEventListener("mouseup",c),e.ownerDocument.addEventListener("mousemove",a),function(){e.removeEventListener("mousedown",u),e.ownerDocument.removeEventListener("mouseup",c),e.ownerDocument.removeEventListener("mousemove",a),o()}}},[eO]),(0,d.Z)(function(){function e(e){var t=tE&&e.detail<0,n=tM&&e.detail>0;!eB||t||n||e.preventDefault()}var t=eF.current;return t.addEventListener("wheel",tD,{passive:!1}),t.addEventListener("DOMMouseScroll",tC,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",tD),t.removeEventListener("DOMMouseScroll",tC),t.removeEventListener("MozMousePixelScroll",e)}},[eB,tE,tM]),(0,d.Z)(function(){if(eS){var e=tz(e2);e9(e),tL({x:e})}},[tv.width,eS]);var tN=function(){var e,t;null===(e=th.current)||void 0===e||e.delayHidden(),null===(t=tm.current)||void 0===t||t.delayHidden()},tY=(er=function(){return eP(!0)},eo=h.useRef(),ei=h.useState(null),ec=(eu=(0,c.Z)(ei,2))[0],ea=eu[1],(0,d.Z)(function(){if(ec&&ec.times<10){if(!eF.current){ea(function(e){return(0,i.Z)({},e)});return}er();var e=ec.targetAlign,t=ec.originAlign,n=ec.index,r=ec.offset,o=eF.current.clientHeight,u=!1,c=e,a=null;if(o){for(var l=e||t,s=0,f=0,v=0,d=Math.min(eW.length-1,n),h=0;h<=d;h+=1){var m=eC(eW[h]);f=s;var g=eI.get(m);s=v=f+(void 0===g?ep:g)}for(var p="top"===l?r:o-r,Z=d;Z>=0;Z-=1){var w=eC(eW[Z]),E=eI.get(w);if(void 0===E){u=!0;break}if((p-=E)<=0)break}switch(l){case"top":a=f-r;break;case"bottom":a=v-o+r;break;default:var M=eF.current.scrollTop;f<M?c="top":v>M+o&&(c="bottom")}null!==a&&te(a),a!==ec.lastTop&&(u=!0)}u&&ea((0,i.Z)((0,i.Z)({},ec),{},{times:ec.times+1,targetAlign:c,lastTop:a}))}},[ec,eF.current]),function(e){if(null==e){tN();return}if(Z.Z.cancel(eo.current),"number"==typeof e)te(e);else if(e&&"object"===(0,o.Z)(e)){var t,n=e.align;t="index"in e?e.index:eW.findIndex(function(t){return eC(t)===e.key});var r=e.offset;ea({times:0,index:t,offset:void 0===r?0:r,originAlign:n})}});h.useImperativeHandle(t,function(){return{nativeElement:eG.current,getScrollInfo:tS,scrollTo:function(e){e&&"object"===(0,o.Z)(e)&&("left"in e||"top"in e)?(void 0!==e.left&&e9(tz(e.left)),tY(e.top)):tY(e)}}}),(0,d.Z)(function(){ez&&ez(eW.slice(tc,ta+1),eW)},[tc,ta,eW]);var tX=(el=h.useMemo(function(){return[new Map,[]]},[eW,eI.id,ep]),ef=(es=(0,c.Z)(el,2))[0],ev=es[1],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=ef.get(e),r=ef.get(t);if(void 0===n||void 0===r)for(var o=eW.length,i=ev.length;i<o;i+=1){var u,c=eC(eW[i]);ef.set(c,i);var a=null!==(u=eI.get(c))&&void 0!==u?u:ep;if(ev[i]=(ev[i-1]||0)+a,c===e&&(n=i),c===t&&(r=i),void 0!==n&&void 0!==r)break}return{top:ev[n-1]||0,bottom:ev[r]}}),tP=null==ek?void 0:ek({start:tc,end:ta,virtual:eO,offsetX:e2,offsetY:tl,rtl:ej,getSize:tX}),tI=eW.slice(tc,ta+1).map(function(e,t){var n=eM(e,tc+t,{style:{width:eS},offsetX:e2}),r=eC(e);return h.createElement(p,{key:r,setRef:function(t){return eX(e,t)}},n)}),tA=null;eg&&(tA=(0,i.Z)((0,u.Z)({},void 0===eZ||eZ?"height":"maxHeight",eg),D),eB&&(tA.overflowY="hidden",eS&&(tA.overflowX="hidden"),e6&&(tA.pointerEvents="none")));var tB={};return ej&&(tB.dir="rtl"),h.createElement("div",(0,r.Z)({ref:eG,style:(0,i.Z)((0,i.Z)({},ew),{},{position:"relative"}),className:eV},tB,eD),h.createElement(f.Z,{onResize:function(e){td({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(void 0===ex?"div":ex,{className:"".concat(eh,"-holder"),style:tA,ref:eF,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==eU&&te(t),null==eL||eL(e),tL()},onMouseEnter:tN},h.createElement(g,{prefixCls:eh,height:tu,offsetX:e2,offsetY:tl,scrollWidth:eS,onInnerResize:eP,ref:eq,innerProps:eT,rtl:ej,extra:tP},tI))),eO&&tu>eg&&h.createElement(z,{ref:th,prefixCls:eh,scrollOffset:eU,scrollRange:tu,rtl:ej,onScroll:tH,onStartMove:e3,onStopMove:e7,spinSize:tp,containerSize:tv.height,style:null==e_?void 0:e_.verticalScrollBar,thumbStyle:null==e_?void 0:e_.verticalScrollBarThumb}),eO&&eS>tv.width&&h.createElement(z,{ref:tm,prefixCls:eh,scrollOffset:e2,scrollRange:eS,rtl:ej,onScroll:tH,onStartMove:e3,onStopMove:e7,spinSize:tg,containerSize:tv.width,horizontal:!0,style:null==e_?void 0:e_.horizontalScrollBar,thumbStyle:null==e_?void 0:e_.horizontalScrollBarThumb}))});C.displayName="List";var N=C}}]);
//# sourceMappingURL=9905.5b4093ec3807927c.js.map