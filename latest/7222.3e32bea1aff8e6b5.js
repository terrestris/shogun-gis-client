"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["7222"],{19473:function(t,i,e){e.d(i,{T:function(){return o}});class n{constructor(t,i,e,n){this.minX=t,this.maxX=i,this.minY=e,this.maxY=n}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function o(t,i,e,o,s){return void 0!==s?(s.minX=t,s.maxX=i,s.minY=e,s.maxY=o,s):new n(t,i,e,o)}i.Z=n},50596:function(t,i,e){function n(t){return t[0]>0&&t[1]>0}function o(t,i,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*i+.5|0,e[1]=t[1]*i+.5|0,e}function s(t,i){return Array.isArray(t)?t:(void 0===i?i=[t,t]:(i[0]=t,i[1]=t),i)}e.d(i,{Pq:function(){return s},bA:function(){return o},py:function(){return n}})},70701:function(t,i,e){function n(t,i,e,n){return void 0!==n?(n[0]=t,n[1]=i,n[2]=e,n):[t,i,e]}function o(t,i,e){return t+"/"+i+"/"+e}function s(t){return function(t,i,e){return(i<<t)+e}(t[0],t[1],t[2])}e.d(i,{T9:function(){return n},lg:function(){return o},tE:function(){return r},vp:function(){return s}});function r(t,i){let e=t[0],n=t[1],o=t[2];if(i.getMinZoom()>e||e>i.getMaxZoom())return!1;let s=i.getFullTileRange(e);return!s||s.containsXY(n,o)}},8930:function(t,i,e){e.r(i);var n=e(19473),o=e(79682),s=e(38906),r=e(21915),l=e(60897),h=e(21882),u=e(50596),m=e(70701),g=e(10508);let a=[0,0,0];i.default=class t{constructor(t){let i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,s.h)((0,o.pT)(this.resolutions_,(t,i)=>i-t,!0),"`resolutions` must be sorted in descending order"),!t.origins)for(let t=0,e=this.resolutions_.length-1;t<e;++t)if(i){if(this.resolutions_[t]/this.resolutions_[t+1]!==i){i=void 0;break}}else i=this.resolutions_[t]/this.resolutions_[t+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,s.h)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let e=t.extent;void 0!==e&&!this.origin_&&!this.origins_&&(this.origin_=(0,r.getTopLeft)(e)),(0,s.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,s.h)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:g.S,(0,s.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==e?e:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((t,i)=>{let o=new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(e){let t=this.getTileRangeForExtentAndZ(e,i);o.minX=Math.max(t.minX,o.minX),o.maxX=Math.min(t.maxX,o.maxX),o.minY=Math.max(t.minY,o.minY),o.maxY=Math.min(t.maxY,o.maxY)}return o}):e&&this.calculateTileRanges_(e)}forEachTileCoord(t,i,e){let n=this.getTileRangeForExtentAndZ(t,i);for(let t=n.minX,o=n.maxX;t<=o;++t)for(let o=n.minY,s=n.maxY;o<=s;++o)e([i,t,o])}forEachTileCoordParentTileRange(t,i,e,o){let s,r,l;let h=null,u=t[0]-1;for(2===this.zoomFactor_?(r=t[1],l=t[2]):h=this.getTileCoordExtent(t,o);u>=this.minZoom;){if(void 0!==r&&void 0!==l?(r=Math.floor(r/2),l=Math.floor(l/2),s=(0,n.T)(r,r,l,l,e)):s=this.getTileRangeForExtentAndZ(h,u,e),i(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,i,e){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){let e=2*t[1],o=2*t[2];return(0,n.T)(e,e+1,o,o+1,i)}let o=this.getTileCoordExtent(t,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,i)}return null}getTileRangeForTileCoordAndZ(t,i,e){if(i>this.maxZoom||i<this.minZoom)return null;let o=t[0],s=t[1],r=t[2];if(i===o)return(0,n.T)(s,r,s,r,e);if(this.zoomFactor_){let t=Math.pow(this.zoomFactor_,i-o),l=Math.floor(s*t),h=Math.floor(r*t);if(i<o)return(0,n.T)(l,l,h,h,e);let u=Math.floor(t*(s+1))-1,m=Math.floor(t*(r+1))-1;return(0,n.T)(l,u,h,m,e)}let l=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,i,e)}getTileRangeForExtentAndZ(t,i,e){this.getTileCoordForXYAndZ_(t[0],t[3],i,!1,a);let o=a[1],s=a[2];this.getTileCoordForXYAndZ_(t[2],t[1],i,!0,a);let r=a[1],l=a[2];return(0,n.T)(o,r,s,l,e)}getTileCoordCenter(t){let i=this.getOrigin(t[0]),e=this.getResolution(t[0]),n=(0,u.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[i[0]+(t[1]+.5)*n[0]*e,i[1]-(t[2]+.5)*n[1]*e]}getTileCoordExtent(t,i){let e=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=(0,u.Pq)(this.getTileSize(t[0]),this.tmpSize_),s=e[0]+t[1]*o[0]*n,l=e[1]-(t[2]+1)*o[1]*n,h=s+o[0]*n,m=l+o[1]*n;return(0,r.createOrUpdate)(s,l,h,m,i)}getTileCoordForCoordAndResolution(t,i,e){return this.getTileCoordForXYAndResolution_(t[0],t[1],i,!1,e)}getTileCoordForXYAndResolution_(t,i,e,n,o){let s=this.getZForResolution(e),r=e/this.getResolution(s),l=this.getOrigin(s),g=(0,u.Pq)(this.getTileSize(s),this.tmpSize_),a=r*(t-l[0])/e/g[0],_=r*(l[1]-i)/e/g[1];return n?(a=(0,h.mD)(a,5)-1,_=(0,h.mD)(_,5)-1):(a=(0,h.GW)(a,5),_=(0,h.GW)(_,5)),(0,m.T9)(s,a,_,o)}getTileCoordForXYAndZ_(t,i,e,n,o){let s=this.getOrigin(e),r=this.getResolution(e),l=(0,u.Pq)(this.getTileSize(e),this.tmpSize_),g=(t-s[0])/r/l[0],a=(s[1]-i)/r/l[1];return n?(g=(0,h.mD)(g,5)-1,a=(0,h.mD)(a,5)-1):(g=(0,h.GW)(g,5),a=(0,h.GW)(a,5)),(0,m.T9)(e,g,a,o)}getTileCoordForCoordAndZ(t,i,e){return this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,e)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,i){let e=(0,o.h7)(this.resolutions_,t,i||0);return(0,h.uZ)(e,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,i){return(0,l.mV)(i,0,i.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){let i=this.resolutions_.length,e=Array(i);for(let n=this.minZoom;n<i;++n)e[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=e}}}}]);
//# sourceMappingURL=7222.3e32bea1aff8e6b5.js.map