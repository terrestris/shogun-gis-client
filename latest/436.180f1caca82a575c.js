"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["436"],{3455:function(e,t,r){r.r(t);var i=r(19487),s=r(85752),o=r(52820),n=r(32817),a=r(70910),p=r(29229),l=r(58318),u=r(46399),m=r(54970),h=r(11368),g=r(43081),S=r(99347);let R=g.M+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",E={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class d extends g.A{constructor(e){super(e=e||{}),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:R,this.hasZ=void 0!==e.hasZ&&e.hasZ}readMultiCurve(e,t){let r=(0,u.eY)([],this.MULTICURVE_PARSERS,e,t,this);if(r)return new n.default(r)}readFlatCurveRing(e,t){let r=(0,u.eY)([],this.MULTICURVE_PARSERS,e,t,this),s=[];for(let e=0,t=r.length;e<t;++e)(0,i.X$)(s,r[e].getFlatCoordinates());return s}readMultiSurface(e,t){let r=(0,u.eY)([],this.MULTISURFACE_PARSERS,e,t,this);if(r)return new a.default(r)}curveMemberParser(e,t){(0,u.UN)(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){(0,u.UN)(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return(0,u.eY)([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return(0,u.eY)([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return(0,u.eY)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return(0,u.eY)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){let r=(0,u.eY)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)}exteriorParser(e,t){let r=(0,u.eY)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)}readSurface(e,t){let r=(0,u.eY)([null],this.SURFACE_PARSERS,e,t,this);if(r&&r[0]){let e,t,s=r[0],o=[s.length];for(e=1,t=r.length;e<t;++e)(0,i.X$)(s,r[e]),o.push(s.length);return new p.default(s,"XYZ",o)}}readCurve(e,t){let r=(0,u.eY)([null],this.CURVE_PARSERS,e,t,this);if(r)return new o.default(r,"XYZ")}readEnvelope(e,t){let r=(0,u.eY)([null],this.ENVELOPE_PARSERS,e,t,this);return(0,s.createOrUpdate)(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(e,t){let r,i=(0,u.mT)(e,!1),s=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];for(;r=s.exec(i);)o.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""!==i)return;let n=t[0].srsName;if("neu"===(n?(0,l.get)(n).getAxisOrientation():"enu"))for(let e=0,t=o.length;e<t;e+=3){let t=o[e],r=o[e+1];o[e]=r,o[e+1]=t}let a=o.length;if(2==a&&o.push(0),0!==a)return o}readFlatPosList(e,t){let r,i,s,o=(0,u.mT)(e,!1).replace(/^\s*|\s*$/g,""),n=t[0],a=n.srsName,p=n.srsDimension,m=a?(0,l.get)(a).getAxisOrientation():"enu",h=o.split(/\s+/),g=2;e.getAttribute("srsDimension")?g=(0,S._X)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?g=(0,S._X)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?g=(0,S._X)(e.parentNode.getAttribute("srsDimension")):p&&(g=(0,S._X)(p));let R=m.startsWith("en"),E=[];for(let e=0,t=h.length;e<t;e+=g)r=parseFloat(h[e]),i=parseFloat(h[e+1]),s=3===g?parseFloat(h[e+2]):0,R?E.push(r,i,s):E.push(i,r,s);return E}writePos_(e,t,r){let i=r[r.length-1],s=i.hasZ;e.setAttribute("srsDimension",s?"3":"2");let o=i.srsName,n=o?(0,l.get)(o).getAxisOrientation():"enu",a=t.getCoordinates(),p=n.startsWith("en")?a[0]+" "+a[1]:a[1]+" "+a[0];s&&(p+=" "+(a[2]||0)),(0,S.uB)(e,p)}getCoords_(e,t,r){let i=(t?(0,l.get)(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];return r&&(i+=" "+(e[2]||0)),i}writePosList_(e,t,r){let i,s=r[r.length-1],o=s.hasZ;e.setAttribute("srsDimension",o?"3":"2");let n=s.srsName,a=t.getCoordinates(),p=a.length,l=Array(p);for(let e=0;e<p;++e)i=a[e],l[e]=this.getCoords_(i,n,o);(0,S.uB)(e,l.join(" "))}writePoint(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let s=(0,u.qq)(e.namespaceURI,"pos");e.appendChild(s),this.writePos_(s,t,r)}writeEnvelope(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let s=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,u.NQ)({node:e},this.ENVELOPE_SERIALIZERS,u.OL,s,r,["lowerCorner","upperCorner"],this)}writeLinearRing(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let s=(0,u.qq)(e.namespaceURI,"posList");e.appendChild(s),this.writePosList_(s,t,r)}RING_NODE_FACTORY_(e,t,r){let i=t[t.length-1],s=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),(0,u.qq)(s.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(e,t,r){let i=r[r.length-1],s=i.hasZ,o=i.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){let i=t.getLinearRings();(0,u.NQ)({node:e,hasZ:s,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,i,r,void 0,this)}else if("Surface"===e.nodeName){let i=(0,u.qq)(e.namespaceURI,"patches");e.appendChild(i),this.writeSurfacePatches_(i,t,r)}}writeCurveOrLineString(e,t,r){let i=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){let i=(0,u.qq)(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,r)}else if("Curve"===e.nodeName){let i=(0,u.qq)(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,r)}}writeMultiSurfaceOrPolygon(e,t,r){let i=r[r.length-1],s=i.hasZ,o=i.srsName,n=i.surface;o&&e.setAttribute("srsName",o);let a=t.getPolygons();(0,u.NQ)({node:e,hasZ:s,srsName:o,surface:n},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)}writeMultiPoint(e,t,r){let i=r[r.length-1],s=i.srsName,o=i.hasZ;s&&e.setAttribute("srsName",s);let n=t.getPoints();(0,u.NQ)({node:e,hasZ:o,srsName:s},this.POINTMEMBER_SERIALIZERS,(0,u.X1)("pointMember"),n,r,void 0,this)}writeMultiCurveOrLineString(e,t,r){let i=r[r.length-1],s=i.hasZ,o=i.srsName,n=i.curve;o&&e.setAttribute("srsName",o);let a=t.getLineStrings();(0,u.NQ)({node:e,hasZ:s,srsName:o,curve:n},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)}writeRing(e,t,r){let i=(0,u.qq)(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,r)}writeSurfaceOrPolygonMember(e,t,r){let i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,r))}writePointMember(e,t,r){let i=(0,u.qq)(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,r)}writeLineStringOrCurveMember(e,t,r){let i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,r))}writeSurfacePatches_(e,t,r){let i=(0,u.qq)(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,r)}writeCurveSegments_(e,t,r){let i=(0,u.qq)(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,r)}writeGeometryElement(e,t,r){let i,s=r[r.length-1],o=Object.assign({},s);o.node=e,i=Array.isArray(t)?(0,m.zU)(t,s):(0,m.hX)(t,!0,s),(0,u.NQ)(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)}writeFeatureElement(e,t,r){let i=t.getId();i&&e.setAttribute("fid",i);let s=r[r.length-1],o=s.featureNS,n=t.getGeometryName();s.serializers||(s.serializers={},s.serializers[o]={});let a=[],p=[];if(t.hasProperties()){let e=t.getProperties();for(let t in e){let r=e[t];null!=r&&(a.push(t),p.push(r),t==n||"function"==typeof r.getSimplifiedGeometry?t in s.serializers[o]||(s.serializers[o][t]=(0,u.mm)(this.writeGeometryElement,this)):t in s.serializers[o]||(s.serializers[o][t]=(0,u.mm)(S.uB)))}}let l=Object.assign({},s);l.node=e,(0,u.NQ)(l,s.serializers,(0,u.X1)(void 0,o),p,r,a)}writeFeatureMembers_(e,t,r){let i=r[r.length-1],s=i.featureType,o=i.featureNS,n={};n[o]={},n[o][s]=(0,u.mm)(this.writeFeatureElement,this);let a=Object.assign({},i);a.node=e,(0,u.NQ)(a,n,(0,u.X1)(s,o),t,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,r){let i=t[t.length-1].node;return(0,u.qq)(this.namespace,E[i.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,r){let i=t[t.length-1],s=i.multiSurface,o=i.surface,n=i.curve,a=i.multiCurve;return Array.isArray(e)?r="Envelope":"MultiPolygon"===(r=e.getType())&&!0===s?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"LineString"===r&&!0===n?r="Curve":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),(0,u.qq)(this.namespace,r)}writeGeometryNode(e,t){t=this.adaptOptions(t);let r=(0,u.qq)(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(i,t),this.writeGeometryElement(r,e,[i]),r}writeFeaturesNode(e,t){t=this.adaptOptions(t);let r=(0,u.qq)(this.namespace,"featureMembers");r.setAttributeNS(u.pF,"xsi:schemaLocation",this.schemaLocation);let i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(i,t),this.writeFeatureMembers_(r,e,[i]),r}}d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,u.Tb)(d.prototype.readFlatPos),posList:(0,u.Tb)(d.prototype.readFlatPosList),coordinates:(0,u.Tb)(h.default.prototype.readFlatCoordinates)}},d.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:d.prototype.interiorParser,exterior:d.prototype.exteriorParser}},d.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,u.Tb)(g.A.prototype.readPoint),MultiPoint:(0,u.Tb)(g.A.prototype.readMultiPoint),LineString:(0,u.Tb)(g.A.prototype.readLineString),MultiLineString:(0,u.Tb)(g.A.prototype.readMultiLineString),LinearRing:(0,u.Tb)(g.A.prototype.readLinearRing),Polygon:(0,u.Tb)(g.A.prototype.readPolygon),MultiPolygon:(0,u.Tb)(g.A.prototype.readMultiPolygon),Surface:(0,u.Tb)(d.prototype.readSurface),MultiSurface:(0,u.Tb)(d.prototype.readMultiSurface),Curve:(0,u.Tb)(d.prototype.readCurve),MultiCurve:(0,u.Tb)(d.prototype.readMultiCurve),Envelope:(0,u.Tb)(d.prototype.readEnvelope)}},d.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:(0,u.VT)(d.prototype.curveMemberParser),curveMembers:(0,u.VT)(d.prototype.curveMemberParser)}},d.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:(0,u.VT)(d.prototype.surfaceMemberParser),surfaceMembers:(0,u.VT)(d.prototype.surfaceMemberParser)}},d.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,u.VT)(g.A.prototype.readLineString),Curve:(0,u.VT)(d.prototype.readCurve)}},d.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,u.VT)(g.A.prototype.readPolygon),Surface:(0,u.VT)(d.prototype.readSurface)}},d.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:(0,u.Tb)(d.prototype.readPatch)}},d.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:(0,u.Tb)(d.prototype.readSegment)}},d.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:(0,u.VT)(d.prototype.readFlatPosList),upperCorner:(0,u.VT)(d.prototype.readFlatPosList)}},d.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:(0,u.Tb)(d.prototype.readPolygonPatch)}},d.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:(0,u.Vh)(d.prototype.readLineStringSegment)}},g.A.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,u.Tb)(g.A.prototype.readFlatLinearRing),Ring:(0,u.Tb)(d.prototype.readFlatCurveRing)}},d.prototype.writeFeatures,d.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:(0,u.mm)(d.prototype.writeRing),interior:(0,u.mm)(d.prototype.writeRing)}},d.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,u.mm)(S.uB),upperCorner:(0,u.mm)(S.uB)}},d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,u.mm)(d.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,u.mm)(d.prototype.writeSurfaceOrPolygonMember)}},d.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,u.mm)(d.prototype.writePointMember)}},d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,u.mm)(d.prototype.writeLineStringOrCurveMember),curveMember:(0,u.mm)(d.prototype.writeLineStringOrCurveMember)}},d.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,u.mm)(d.prototype.writeCurveOrLineString),MultiCurve:(0,u.mm)(d.prototype.writeMultiCurveOrLineString),Point:(0,u.mm)(d.prototype.writePoint),MultiPoint:(0,u.mm)(d.prototype.writeMultiPoint),LineString:(0,u.mm)(d.prototype.writeCurveOrLineString),MultiLineString:(0,u.mm)(d.prototype.writeMultiCurveOrLineString),LinearRing:(0,u.mm)(d.prototype.writeLinearRing),Polygon:(0,u.mm)(d.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,u.mm)(d.prototype.writeMultiSurfaceOrPolygon),Surface:(0,u.mm)(d.prototype.writeSurfaceOrPolygon),MultiSurface:(0,u.mm)(d.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,u.mm)(d.prototype.writeEnvelope)}},t.default=d}}]);
//# sourceMappingURL=436.180f1caca82a575c.js.map