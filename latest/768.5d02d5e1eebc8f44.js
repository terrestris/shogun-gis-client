"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["768"],{23068:function(t,e,i){i.r(e),i.d(e,{createStyleFunction:function(){return h}});var s=i(58493),n=i(38906),r=i(73381),o=i(13002);class l extends s.default{constructor(t){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?this.setGeometry(t):this.setProperties(t))}clone(){let t=new l(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let e=this.getGeometry();e&&t.setGeometry(e.clone());let i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=(0,o.oL)(t,r.default.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function h(t){let e;return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,n.h)("function"==typeof t.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e})}e.default=l},52329:function(t,e,i){i.r(e);var s=i(79682),n=i(21915),r=i(21882),o=i(52043),l=i(32538),h=i(38667),a=i(86204);class d extends l.ZP{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){(0,s.l7)(this.flatCoordinates,t.getFlatCoordinates()),this.changed()}clone(){let t=new d(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,s){if(s<(0,n.closestSquaredDistanceXY)(this.getExtent(),t,e))return s;let o=this.flatCoordinates,l=this.stride;for(let n=0,h=o.length;n<h;n+=l){let h=(0,r.bI)(t,e,o[n],o[n+1]);if(h<s){s=h;for(let t=0;t<l;++t)i[t]=o[n+t];i.length=l}}return s}getCoordinates(){return(0,a.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){let e=this.flatCoordinates.length/this.stride;return t<0||e<=t?null:new o.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){let t=this.flatCoordinates,e=this.layout,i=this.stride,s=[];for(let n=0,r=t.length;n<r;n+=i){let r=new o.default(t.slice(n,n+i),e);s.push(r)}return s}getType(){return"MultiPoint"}intersectsExtent(t){let e=this.flatCoordinates,i=this.stride;for(let s=0,r=e.length;s<r;s+=i){let i=e[s],r=e[s+1];if((0,n.containsXY)(t,i,r))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,h.Sg)(this.flatCoordinates,0,t,this.stride),this.changed()}}e.default=d},13987:function(t,e,i){i.r(e);var s=i(79682),n=i(21915),r=i(52329),o=i(15265),l=i(32538),h=i(32562),a=i(92526),d=i(83729),g=i(30197),f=i(38667),_=i(86204),u=i(38529),y=i(60897),C=i(89310),c=i(62418);class m extends l.ZP{constructor(t,e,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){let n=t,r=[],o=[];for(let t=0,e=n.length;t<e;++t){let e=n[t],i=r.length,l=e.getEnds();for(let t=0,e=l.length;t<e;++t)l[t]+=i;(0,s.l7)(r,e.getFlatCoordinates()),o.push(l)}e=0===n.length?this.getLayout():n[0].getLayout(),t=r,i=o}void 0!==e&&i?(this.setFlatCoordinates(e,t),this.endss_=i):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){let i=this.flatCoordinates.length;(0,s.l7)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,s=e.length;t<s;++t)e[t]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){let t=this.endss_.length,e=Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();let i=new m(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i}closestPointXY(t,e,i,s){return s<(0,n.closestSquaredDistanceXY)(this.getExtent(),t,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.sD)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.gI)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,s))}containsXY(t,e){return(0,g.Zl)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return(0,h.Eu)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,C.dL)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,_.ug)(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let t=(0,a.E)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,u.U)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new r.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;(0,C.Oj)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,C.dL)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let e=[],i=[];return e.length=(0,c.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new m(e,"XY",i)}getPolygon(t){let e;if(t<0||this.endss_.length<=t)return null;if(0===t)e=0;else{let i=this.endss_[t-1];e=i[i.length-1]}let i=this.endss_[t].slice(),s=i[i.length-1];if(0!==e)for(let t=0,s=i.length;t<s;++t)i[t]-=e;return new o.default(this.flatCoordinates.slice(e,s),this.layout,i)}getPolygons(){let t=this.layout,e=this.flatCoordinates,i=this.endss_,s=[],n=0;for(let r=0,l=i.length;r<l;++r){let l=i[r].slice(),h=l[l.length-1];if(0!==n)for(let t=0,e=l.length;t<e;++t)l[t]-=n;let a=new o.default(e.slice(n,h),t,l);s.push(a),n=h}return s}getType(){return"MultiPolygon"}intersectsExtent(t){return(0,y.oW)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);let i=(0,f.QT)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{let t=i[i.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}e.default=m},92526:function(t,e,i){i.d(e,{E:function(){return n}});var s=i(21915);function n(t,e,i,n){let r=[],o=(0,s.createEmpty)();for(let l=0,h=i.length;l<h;++l){let h=i[l];o=(0,s.createOrUpdateFromFlatCoordinates)(t,e,h[0],n),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=h[h.length-1]}return r}},4313:function(t,e,i){i.r(e),i.d(e,{toFeature:function(){return I},toGeometry:function(){return v}});var s=i(23068),n=i(79682),r=i(21915),o=i(64011),l=i(92526),h=i(38529),a=i(21422),d=i(89310),g=i(62418),f=i(17882),_=i(52043),u=i(52329),y=i(44538),C=i(25642),c=i(13987),m=i(15265),p=i(5374),F=i(82359);let P=(0,F.Ue)();class G{constructor(t,e,i,s,n,r){this.styleFunction,this.extent_,this.id_=r,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=n,this.squaredTolerance_,this.stride_=s,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,r.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,r.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let t=(0,r.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,h.X)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let t=(0,d.Q3)(this.flatCoordinates_,this.ends_),e=(0,l.E)(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=(0,h.U)(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,a.WW)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let t=this.flatCoordinates_,e=0,i=this.ends_;for(let s=0,r=i.length;s<r;++s){let r=i[s],o=(0,a.WW)(t,e,r,2,.5);(0,n.l7)(this.flatMidpoints_,o),e=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){let e=(t=(0,p.get)(t)).getExtent(),i=t.getWorldExtent();if(e&&i){let t=(0,r.getHeight)(i)/(0,r.getHeight)(e);(0,F.qC)(P,i[0],i[3],t,-t,0,0,0),(0,f.vT)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,P,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new G(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,o.memoizeOne)((t,e)=>{let i;if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);let s=this.simplifiedGeometry_.getFlatCoordinates();switch(this.type_){case"LineString":s.length=(0,g.dt)(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),i=[s.length];break;case"MultiLineString":i=[],s.length=(0,g.UJ)(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,i);break;case"Polygon":i=[],s.length=(0,g.Zh)(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,i)}return i&&(this.simplifiedGeometry_=new G(this.type_,s,i,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}function v(t){let e=t.getType();switch(e){case"Point":return new _.default(t.getFlatCoordinates());case"MultiPoint":return new u.default(t.getFlatCoordinates(),"XY");case"LineString":return new y.default(t.getFlatCoordinates(),"XY");case"MultiLineString":return new C.default(t.getFlatCoordinates(),"XY",t.getEnds());case"Polygon":let i=t.getFlatCoordinates(),s=t.getEnds(),n=(0,d.Q3)(i,s);return n.length>1?new c.default(i,"XY",n):new m.default(i,"XY",s);default:throw Error("Invalid geometry type:"+e)}}function I(t,e){let i=t.getId(),n=v(t),r=t.getProperties(),o=new s.default;return void 0!==e&&o.setGeometryName(e),o.setGeometry(n),void 0!==i&&o.setId(i),o.setProperties(r,!0),o}G.prototype.getFlatCoordinates=G.prototype.getOrientedFlatCoordinates,e.default=G}}]);
//# sourceMappingURL=768.5d02d5e1eebc8f44.js.map