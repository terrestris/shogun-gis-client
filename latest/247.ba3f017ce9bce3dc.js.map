{"version":3,"file":"247.ba3f017ce9bce3dc.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/@terrestris/react-geo/dist/Slider/TimeSlider/TimeSlider.js","webpack://@terrestris/shogun-gis-client/./node_modules/@terrestris/react-geo/dist/constants.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { Slider } from 'antd';\nimport dayjs from 'dayjs';\nimport _isArray from 'lodash/isArray';\nimport _isFunction from 'lodash/isFunction';\nimport { CSS_PREFIX } from '../../constants';\nconst TimeSlider = ({ className, defaultValue = dayjs(), formatString = 'DD.MM. HH:mm', marks, max = dayjs(), min = dayjs().subtract(1, 'hour'), onChange = () => undefined, onChangeComplete = () => undefined, useRange = false, value = dayjs(), ...passThroughProps }) => {\n    const maxUnixTimestamp = useMemo(() => dayjs(max).unix(), [max]);\n    const minUnixTimestamp = useMemo(() => dayjs(min).unix(), [min]);\n    const convertDayjsToUnix = (val) => {\n        return _isArray(val)\n            ? val.map(iso => iso.unix())\n            : val.unix();\n    };\n    const convertedMarks = useMemo(() => {\n        if (!marks) {\n            return;\n        }\n        const convertedMks = {};\n        marks.forEach((mark) => {\n            const convertedTimestamp = convertDayjsToUnix(mark.timestamp);\n            if (Array.isArray(convertedTimestamp)) {\n                return;\n            }\n            convertedMks[convertedTimestamp] = mark.markConfig;\n        });\n        return convertedMks;\n    }, [marks]);\n    const formatTimestamp = (unix) => {\n        return unix ? dayjs(unix * 1000).format(formatString) : '';\n    };\n    const valueUpdated = (val) => {\n        const updatedValue = _isArray(val)\n            ? [dayjs(val[0] * 1000), dayjs(val[1] * 1000)]\n            : dayjs(val * 1000);\n        if (_isFunction(onChange)) {\n            onChange(updatedValue);\n        }\n        if (_isFunction(onChangeComplete)) {\n            onChangeComplete(updatedValue);\n        }\n    };\n    const finalClassName = className ? `${className} ${CSS_PREFIX}timeslider` : `${CSS_PREFIX}timeslider`;\n    return useRange ? (React.createElement(Slider, { className: finalClassName, defaultValue: convertDayjsToUnix(defaultValue), marks: convertedMarks, max: maxUnixTimestamp, min: minUnixTimestamp, onChange: valueUpdated, onChangeComplete: valueUpdated, range: true, tooltip: { formatter: val => formatTimestamp(val) }, value: convertDayjsToUnix(value), ...passThroughProps })) : (React.createElement(Slider, { className: finalClassName, defaultValue: convertDayjsToUnix(defaultValue), marks: convertedMarks, max: maxUnixTimestamp, min: minUnixTimestamp, onChange: valueUpdated, onChangeComplete: valueUpdated, range: false, tooltip: {\n            formatter: val => formatTimestamp(val)\n        }, value: convertDayjsToUnix(value), ...passThroughProps }));\n};\nexport default TimeSlider;\n//# sourceMappingURL=TimeSlider.js.map","const CSS_PREFIX = 'react-geo-';\nexport { CSS_PREFIX };\n//# sourceMappingURL=constants.js.map"],"names":["m","Array"],"mappings":"mQA+CA,WAzCmB,CAAC,CAAE,WAAS,CAAE,eAAe,KAAO,CAAE,eAAe,cAAc,CAAE,OAAK,CAAE,MAAM,KAAO,CAAEA,IAAAA,EAAM,MAAQ,QAAQ,CAAC,EAAG,OAAO,CAAE,WAAW,IAAM,MAAS,CAAE,mBAAmB,IAAM,MAAS,CAAE,WAAW,EAAK,CAAE,QAAQ,KAAO,CAAE,GAAG,EAAkB,IACrQ,IAAM,EAAmB,cAAQ,IAAM,IAAM,GAAK,IAAI,GAAI,CAAC,EAAI,EACzD,EAAmB,cAAQ,IAAM,IAAMA,GAAK,IAAI,GAAI,CAACA,EAAI,EACzD,EAAqB,AAAC,GACjB,IAAS,GACV,EAAI,GAAG,CAAC,GAAO,EAAI,IAAI,IACvB,EAAI,IAAI,GAEZ,EAAiB,cAAQ,KAC3B,GAAI,CAAC,EACD,OAEJ,IAAM,EAAe,CAAC,EAQtB,OAPA,EAAM,OAAO,CAAC,AAAC,IACX,IAAM,EAAqB,EAAmB,EAAK,SAAS,EACxDC,MAAM,OAAO,CAAC,IAGlB,EAAY,CAAC,EAAmB,CAAG,EAAK,UAAU,AAAD,CACrD,GACO,CACX,EAAG,CAAC,EAAM,EACJ,EAAkB,AAAC,GACd,EAAO,IAAM,AAAO,IAAP,GAAa,MAAM,CAAC,GAAgB,GAEtD,EAAe,AAAC,IAClB,IAAM,EAAe,IAAS,GACxB,CAAC,IAAM,AAAS,IAAT,CAAG,CAAC,EAAE,EAAU,IAAM,AAAS,IAAT,CAAG,CAAC,EAAE,EAAS,CAC5C,IAAM,AAAM,IAAN,EACR,KAAY,IACZ,EAAS,GAET,IAAY,IACZ,EAAiB,EAEzB,EACM,EAAiB,EAAY,CAAC,EAAE,EAAU,CAAC,EAAE,GAAU,CAAC,UAAU,CAAC,CAAG,CAAC,EAAE,GAAU,CAAC,UAAU,CAAC,CACrG,OAAO,EAAY,iBAAmB,CAAC,GAAM,CAAE,CAAE,UAAW,EAAgB,aAAc,EAAmB,GAAe,MAAO,EAAgB,IAAK,EAAkB,IAAK,EAAkB,SAAU,EAAc,iBAAkB,EAAc,MAAO,GAAM,QAAS,CAAE,UAAW,GAAO,EAAgB,EAAK,EAAG,MAAO,EAAmB,GAAQ,GAAG,CAAgB,AAAC,GAAO,iBAAmB,CAAC,GAAM,CAAE,CAAE,UAAW,EAAgB,aAAc,EAAmB,GAAe,MAAO,EAAgB,IAAK,EAAkB,IAAK,EAAkB,SAAU,EAAc,iBAAkB,EAAc,MAAO,GAAO,QAAS,CAC7mB,UAAW,GAAO,EAAgB,EACtC,EAAG,MAAO,EAAmB,GAAQ,GAAG,CAAgB,AAAC,EACjE,C,wDC9CA,IAAM,EAAa,Y"}