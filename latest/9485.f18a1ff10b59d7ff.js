"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["9485"],{80967:function(t,e){e.Z=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},79682:function(t,e,n){function i(t,e,n){let i,s;n=n||r;let o=0,u=t.length,a=!1;for(;o<u;)(s=+n(t[i=o+(u-o>>1)],e))<0?o=i+1:(u=i,a=!s);return a?o:~o}function r(t,e){return t>e?1:t<e?-1:0}function s(t,e){return t<e?1:t>e?-1:0}function o(t,e,n){if(t[0]<=e)return 0;let i=t.length;if(e<=t[i-1])return i-1;if("function"==typeof n){for(let r=1;r<i;++r){let i=t[r];if(i===e)return r;if(i<e){if(n(e,t[r-1],i)>0)return r-1;return r}}return i-1}if(n>0){for(let n=1;n<i;++n)if(t[n]<e)return n-1;return i-1}if(n<0){for(let n=1;n<i;++n)if(t[n]<=e)return n;return i-1}for(let n=1;n<i;++n){if(t[n]==e)return n;if(t[n]<e){if(t[n-1]-e<e-t[n])return n-1;return n}}return i-1}function u(t,e,n){for(;e<n;){let i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function a(t,e){let n=Array.isArray(e)?e:[e],i=n.length;for(let e=0;e<i;e++)t[t.length]=n[e]}function l(t,e){let n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function c(t,e,n){let i=e||r;return t.every(function(e,r){if(0===r)return!0;let s=i(t[r-1],e);return!(s>0||n&&0===s)})}n.d(e,{$1:function(){return s},FZ:function(){return u},fS:function(){return l},h7:function(){return o},j2:function(){return r},l7:function(){return a},pT:function(){return c},ry:function(){return i}})},9520:function(t,e,n){function i(t){t.stopPropagation()}function r(t){t.preventDefault()}n.r(e),n.d(e,{preventDefault:function(){return r},stopPropagation:function(){return i}}),e.default=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},73381:function(t,e,n){n.r(e),e.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},66575:function(t,e,n){var i=n(80967),r=n(64011),s=n(13580),o=n(9520);class u extends i.Z{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;let n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){let e,n="string"==typeof t,i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;let u=n?new o.default(t):t;u.target||(u.target=this.eventTarget_||this);let a=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,l[i]=0),++a[i];for(let t=0,n=s.length;t<n;++t)if(!1===(e="handleEvent"in s[t]?s[t].handleEvent(u):s[t].call(this,u))||u.propagationStopped){e=!1;break}if(0==--a[i]){let t=l[i];for(delete l[i];t--;)this.removeEventListener(i,r.VOID);delete a[i]}return e}disposeInternal(){this.listeners_&&(0,s.Z)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){if(!this.listeners_)return;let n=this.listeners_[t];if(!n)return;let i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=r.VOID,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}}e.Z=u},64011:function(t,e,n){n.r(e),n.d(e,{FALSE:function(){return s},TRUE:function(){return r},VOID:function(){return o},memoizeOne:function(){return u},toPromise:function(){return a}});var i=n(79682);function r(){return!0}function s(){return!1}function o(){}function u(t){let e,n,r;return function(){let s=Array.prototype.slice.call(arguments);return n&&this===r&&(0,i.fS)(s,n)||(r=this,n=s,e=t.apply(this,arguments)),e}}function a(t){let e;try{e=t()}catch(t){return Promise.reject(t)}return e instanceof Promise?e:Promise.resolve(e)}},13580:function(t,e,n){function i(t){for(let e in t)delete t[e]}function r(t){let e;for(e in t)return!1;return!e}n.d(e,{Z:function(){return i},x:function(){return r}})},54072:function(t,e,n){n.d(e,{Ps:function(){return A},ZP:function(){return L},r6:function(){return O}});var i=n(2022),r=n(11256),s=n(79682),o=n(9520),u=n(73381),a=n(21915),l=n(21882),c=n(5374),h=n(13002),g=n(52209);function f(t){return Array.isArray(t)?Math.min(...t):t}var d=n(56245),p=n(35211);class _ extends i.ZP{constructor(t,e,n,i,s,o,u){let l=t.getExtent();l&&t.canWrapX()&&((l=l.slice())[0]=-1/0,l[2]=1/0);let c=e.getExtent();c&&e.canWrapX()&&((c=c.slice())[0]=-1/0,c[2]=1/0);let h=c?(0,a.getIntersection)(n,c):n,f=(0,a.getCenter)(h),_=(0,g.aA)(t,e,f,i),E=p.m,R=new d.Z(t,e,h,l,_*E,i),m=R.calculateSourceExtent(),I=(0,a.isEmpty)(m)?null:o(m,_,s),v=I?r.default.IDLE:r.default.EMPTY,O=I?I.getPixelRatio():1;super(n,i,O,v),this.targetProj_=e,this.maxSourceExtent_=l,this.triangulation_=R,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=I,this.sourcePixelRatio_=O,this.interpolate_=u,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==r.default.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){let t=this.sourceImage_.getState();if(t==r.default.LOADED){let t=(0,a.getWidth)(this.targetExtent_)/this.targetResolution_,e=(0,a.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,g.sY)(t,e,this.sourcePixelRatio_,f(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==r.default.IDLE){this.state=r.default.LOADING,this.changed();let t=this.sourceImage_.getState();t==r.default.LOADED||t==r.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,h.oL)(this.sourceImage_,u.default.CHANGE,t=>{let e=this.sourceImage_.getState();(e==r.default.LOADED||e==r.default.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){(0,h.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null}}var E=n(71405),R=n(14431);let m={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class I extends o.default{constructor(t,e){super(t),this.image=e}}class v extends E.default{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){let e=this.getResolutions();if(e){let n=(0,s.h7)(e,t,0);t=e[n]}return t}getImage(t,e,n,i){let r=this.getProjection();if(!r||!i||(0,c.equivalent)(r,i))return r&&(i=r),this.getImageInternal(t,e,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,c.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&(0,a.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new _(r,i,t,e,n,(t,e,n)=>this.getImageInternal(t,e,n,r),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,r){if(this.loader){let s=A(t,e,n,1),o=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&(0,a.containsExtent)(this.wantedExtent_,s)||(0,a.containsExtent)(this.image.getExtent(),s))&&(this.wantedResolution_&&f(this.wantedResolution_)===o||f(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=s,this.wantedResolution_=o,this.image=new i.ZP(s,o,n,this.loader),this.image.addEventListener(u.default.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){let e,n=t.target;switch(n.getState()){case r.default.LOADING:this.loading=!0,e=m.IMAGELOADSTART;break;case r.default.LOADED:this.loading=!1,e=m.IMAGELOADEND;break;case r.default.ERROR:this.loading=!1,e=m.IMAGELOADERROR;break;default:return}this.hasListener(e)&&this.dispatchEvent(new I(e,n))}}function O(t,e){t.getImage().src=e}function A(t,e,n,i){let r=e/n,s=(0,a.getCenter)(t),o=(0,l.mD)((0,a.getWidth)(t)/r,R.L),u=(0,l.mD)((0,a.getHeight)(t)/r,R.L),c=(0,l.mD)((i-1)*o/2,R.L),h=(0,l.mD)((i-1)*u/2,R.L);return(0,a.getForViewAndSize)(s,r,0,[o+2*c,u+2*h])}var L=v},14431:function(t,e,n){n.d(e,{L:function(){return i}});let i=4},49081:function(t,e,n){n.d(e,{Ke:function(){return _},Q4:function(){return d},QL:function(){return E},YT:function(){return R},eQ:function(){return h},jt:function(){return p}});var i=n(2022),r=n(21915),s=n(21882),o=n(5374),u=n(79313),a=n(78487),l=n(54072),c=n(14431);let h="1.3.0",g=[101,101];function f(t,e,n,i,r){r.WIDTH=n[0],r.HEIGHT=n[1];let s=i.getAxisOrientation(),o=(0,u.n)(r.VERSION,"1.3")>=0;return r[o?"CRS":"SRS"]=i.getCode(),r.BBOX=(o&&s.startsWith("ne")?[e[1],e[0],e[3],e[2]]:e).join(","),(0,a.B5)(t,r)}function d(t,e,n,i,o,u,a){u=Object.assign({REQUEST:"GetMap"},u);let l=e/n,h=[(0,s.NM)((0,r.getWidth)(t)/l,c.L),(0,s.NM)((0,r.getHeight)(t)/l,c.L)];if(1!=n)switch(a){case"geoserver":let g=90*n+.5|0;"FORMAT_OPTIONS"in u?u.FORMAT_OPTIONS+=";dpi:"+g:u.FORMAT_OPTIONS="dpi:"+g;break;case"mapserver":u.MAP_RESOLUTION=90*n;break;case"carmentaserver":case"qgis":u.DPI=90*n;break;default:throw Error("Unknown `serverType` configured")}return f(o,t,h,i,u)}function p(t,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:h,FORMAT:"image/png",STYLES:"",TRANSPARENT:"TRUE"},t)}function _(t){let e=void 0===t.hidpi||t.hidpi,n=(0,o.get)(t.projection||"EPSG:3857"),r=t.ratio||1.5,s=t.load||i.Jx,u=t.crossOrigin??null;return(i,o,a)=>{i=(0,l.Ps)(i,o,a,r),1==a||e&&void 0!==t.serverType||(a=1);let c=d(i,o,a,n,t.url,p(t.params,"GetMap"),t.serverType),h=new Image;return h.crossOrigin=u,s(h,c).then(t=>({image:t,extent:i,pixelRatio:a}))}}function E(t,e,n){if(void 0===t.url)return;let i=(0,o.get)(t.projection||"EPSG:3857"),a=(0,r.getForViewAndSize)(e,n,0,g),l={QUERY_LAYERS:t.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(l,p(t.params,"GetFeatureInfo"),t.params);let h=(0,s.GW)((e[0]-a[0])/n,c.L),d=(0,s.GW)((a[3]-e[1])/n,c.L),_=(0,u.n)(l.VERSION,"1.3")>=0;return l[_?"I":"X"]=h,l[_?"J":"Y"]=d,f(t.url,a,g,i,l)}function R(t,e){if(void 0===t.url)return;let n={SERVICE:"WMS",VERSION:h,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0!==e&&(n.SCALE=e*((0,o.get)(t.projection||"EPSG:3857").getMetersPerUnit()||1)/28e-5),Object.assign(n,t.params),void 0!==t.params&&void 0===n.LAYER){let t=n.LAYERS;if(!(!Array.isArray(t)||1!==t.length))return;n.LAYER=t}return(0,a.B5)(t.url,n)}},49179:function(t,e,n){function i(){throw Error("Unimplemented abstract method.")}n.r(e),n.d(e,{VERSION:function(){return o},abstract:function(){return i},getUid:function(){return s}});let r=0;function s(t){return t.ol_uid||(t.ol_uid=String(++r))}let o="10.4.0"}}]);
//# sourceMappingURL=9485.f18a1ff10b59d7ff.js.map