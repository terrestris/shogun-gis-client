"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["689"],{59803:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var r=i("65952"),n=i("21915"),o=i("89434"),s=i("86018"),l=i("5374"),a=i("49179");class h extends r.Z{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:(0,l.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url){if(e.jsonp)!function(e,t,i,r){let n=document.createElement("script"),o="olc_"+(0,a.getUid)(t);function s(){delete window[o],n.parentNode.removeChild(n)}n.async=!0,n.src=e+(e.includes("?")?"&":"?")+"callback="+o;let l=setTimeout(function(){s(),i&&i()},1e4);window[o]=function(e){clearTimeout(l),s(),t(e)},document.head.appendChild(n)}(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{let t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){let t=e.target;if(!t.status||t.status>=200&&t.status<300){let e;try{e=JSON.parse(t.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(e)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){let t;let i=(0,l.get)("EPSG:4326"),r=this.getProjection();if(void 0!==e.bounds){let o=(0,l.getTransformFromProjections)(i,r);t=(0,n.applyTransform)(e.bounds,o)}let a=(0,s.extentFromProjection)(r),h=e.minzoom||0,d=e.maxzoom||22,u=(0,s.createXYZ)({extent:a,maxZoom:d,minZoom:h,tileSize:this.tileSize_});if(this.tileGrid=u,this.tileUrlFunction=(0,o.uR)(e.tiles,u),e.attribution&&!this.getAttributions()){let i=void 0!==t?t:a;this.setAttributions(function(t){return(0,n.intersects)(i,t.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}var d=h}}]);
//# sourceMappingURL=689.52377326b9a2fef3.js.map