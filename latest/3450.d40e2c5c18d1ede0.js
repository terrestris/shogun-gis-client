"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["3450"],{50486:function(e,t,r){r.r(t);var i=r(79682),s=r(21915),o=r(44538),n=r(25642),a=r(13987),l=r(15265),p=r(5374),u=r(9341),h=r(18334),g=r(20038),S=r(96529),E=r(13067);let R=S.J+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",m={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class c extends S.Z{constructor(e){super(e=e||{}),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:R,this.hasZ=void 0!==e.hasZ&&e.hasZ}readMultiCurve(e,t){let r=(0,u.O)([],this.MULTICURVE_PARSERS,e,t,this);if(r)return new n.default(r)}readFlatCurveRing(e,t){let r=(0,u.O)([],this.MULTICURVE_PARSERS,e,t,this),s=[];for(let e=0,t=r.length;e<t;++e)(0,i.l7)(s,r[e].getFlatCoordinates());return s}readMultiSurface(e,t){let r=(0,u.O)([],this.MULTISURFACE_PARSERS,e,t,this);if(r)return new a.default(r)}curveMemberParser(e,t){(0,u.T3)(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){(0,u.T3)(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return(0,u.O)([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return(0,u.O)([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return(0,u.O)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return(0,u.O)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){let r=(0,u.O)(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)}exteriorParser(e,t){let r=(0,u.O)(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)}readSurface(e,t){let r=(0,u.O)([null],this.SURFACE_PARSERS,e,t,this);if(r&&r[0]){let e,t,s=r[0],o=[s.length];for(e=1,t=r.length;e<t;++e)(0,i.l7)(s,r[e]),o.push(s.length);return new l.default(s,"XYZ",o)}}readCurve(e,t){let r=(0,u.O)([null],this.CURVE_PARSERS,e,t,this);if(r)return new o.default(r,"XYZ")}readEnvelope(e,t){let r=(0,u.O)([null],this.ENVELOPE_PARSERS,e,t,this);return(0,s.createOrUpdate)(r[1][0],r[1][1],r[2][0],r[2][1])}readFlatPos(e,t){let r,i=(0,u.Ve)(e,!1),s=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];for(;r=s.exec(i);)o.push(parseFloat(r[1])),i=i.substr(r[0].length);if(""!==i)return;let n=t[0].srsName;if("neu"===(n?(0,p.get)(n).getAxisOrientation():"enu"))for(let e=0,t=o.length;e<t;e+=3){let t=o[e],r=o[e+1];o[e]=r,o[e+1]=t}let a=o.length;if(2==a&&o.push(0),0!==a)return o}readFlatPosList(e,t){let r,i,s,o=(0,u.Ve)(e,!1).replace(/^\s*|\s*$/g,""),n=t[0],a=n.srsName,l=n.srsDimension,h=a?(0,p.get)(a).getAxisOrientation():"enu",g=o.split(/\s+/),S=2;e.getAttribute("srsDimension")?S=(0,E._E)(e.getAttribute("srsDimension")):e.getAttribute("dimension")?S=(0,E._E)(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?S=(0,E._E)(e.parentNode.getAttribute("srsDimension")):l&&(S=(0,E._E)(l));let R=h.startsWith("en"),m=[];for(let e=0,t=g.length;e<t;e+=S)r=parseFloat(g[e]),i=parseFloat(g[e+1]),s=3===S?parseFloat(g[e+2]):0,R?m.push(r,i,s):m.push(i,r,s);return m}writePos_(e,t,r){let i=r[r.length-1],s=i.hasZ;e.setAttribute("srsDimension",s?"3":"2");let o=i.srsName,n=o?(0,p.get)(o).getAxisOrientation():"enu",a=t.getCoordinates(),l=n.startsWith("en")?a[0]+" "+a[1]:a[1]+" "+a[0];s&&(l+=" "+(a[2]||0)),(0,E.bZ)(e,l)}getCoords_(e,t,r){let i=(t?(0,p.get)(t).getAxisOrientation():"enu").startsWith("en")?e[0]+" "+e[1]:e[1]+" "+e[0];return r&&(i+=" "+(e[2]||0)),i}writePosList_(e,t,r){let i,s=r[r.length-1],o=s.hasZ;e.setAttribute("srsDimension",o?"3":"2");let n=s.srsName,a=t.getCoordinates(),l=a.length,p=Array(l);for(let e=0;e<l;++e)i=a[e],p[e]=this.getCoords_(i,n,o);(0,E.bZ)(e,p.join(" "))}writePoint(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let s=(0,u.c)(e.namespaceURI,"pos");e.appendChild(s),this.writePos_(s,t,r)}writeEnvelope(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let s=[t[0]+" "+t[1],t[2]+" "+t[3]];(0,u.ZL)({node:e},this.ENVELOPE_SERIALIZERS,u.hg,s,r,["lowerCorner","upperCorner"],this)}writeLinearRing(e,t,r){let i=r[r.length-1].srsName;i&&e.setAttribute("srsName",i);let s=(0,u.c)(e.namespaceURI,"posList");e.appendChild(s),this.writePosList_(s,t,r)}RING_NODE_FACTORY_(e,t,r){let i=t[t.length-1],s=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),(0,u.c)(s.namespaceURI,void 0!==o?"interior":"exterior")}writeSurfaceOrPolygon(e,t,r){let i=r[r.length-1],s=i.hasZ,o=i.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){let i=t.getLinearRings();(0,u.ZL)({node:e,hasZ:s,srsName:o},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,i,r,void 0,this)}else if("Surface"===e.nodeName){let i=(0,u.c)(e.namespaceURI,"patches");e.appendChild(i),this.writeSurfacePatches_(i,t,r)}}writeCurveOrLineString(e,t,r){let i=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&i&&e.setAttribute("srsName",i),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){let i=(0,u.c)(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,r)}else if("Curve"===e.nodeName){let i=(0,u.c)(e.namespaceURI,"segments");e.appendChild(i),this.writeCurveSegments_(i,t,r)}}writeMultiSurfaceOrPolygon(e,t,r){let i=r[r.length-1],s=i.hasZ,o=i.srsName,n=i.surface;o&&e.setAttribute("srsName",o);let a=t.getPolygons();(0,u.ZL)({node:e,hasZ:s,srsName:o,surface:n},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)}writeMultiPoint(e,t,r){let i=r[r.length-1],s=i.srsName,o=i.hasZ;s&&e.setAttribute("srsName",s);let n=t.getPoints();(0,u.ZL)({node:e,hasZ:o,srsName:s},this.POINTMEMBER_SERIALIZERS,(0,u.G3)("pointMember"),n,r,void 0,this)}writeMultiCurveOrLineString(e,t,r){let i=r[r.length-1],s=i.hasZ,o=i.srsName,n=i.curve;o&&e.setAttribute("srsName",o);let a=t.getLineStrings();(0,u.ZL)({node:e,hasZ:s,srsName:o,curve:n},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,r,void 0,this)}writeRing(e,t,r){let i=(0,u.c)(e.namespaceURI,"LinearRing");e.appendChild(i),this.writeLinearRing(i,t,r)}writeSurfaceOrPolygonMember(e,t,r){let i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,r))}writePointMember(e,t,r){let i=(0,u.c)(e.namespaceURI,"Point");e.appendChild(i),this.writePoint(i,t,r)}writeLineStringOrCurveMember(e,t,r){let i=this.GEOMETRY_NODE_FACTORY_(t,r);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,r))}writeSurfacePatches_(e,t,r){let i=(0,u.c)(e.namespaceURI,"PolygonPatch");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,r)}writeCurveSegments_(e,t,r){let i=(0,u.c)(e.namespaceURI,"LineStringSegment");e.appendChild(i),this.writeCurveOrLineString(i,t,r)}writeGeometryElement(e,t,r){let i,s=r[r.length-1],o=Object.assign({},s);o.node=e,i=Array.isArray(t)?(0,h.lj)(t,s):(0,h.fI)(t,!0,s),(0,u.ZL)(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[i],r,void 0,this)}writeFeatureElement(e,t,r){let i=t.getId();i&&e.setAttribute("fid",i);let s=r[r.length-1],o=s.featureNS,n=t.getGeometryName();s.serializers||(s.serializers={},s.serializers[o]={});let a=[],l=[];if(t.hasProperties()){let e=t.getProperties();for(let t in e){let r=e[t];null!=r&&(a.push(t),l.push(r),t==n||"function"==typeof r.getSimplifiedGeometry?t in s.serializers[o]||(s.serializers[o][t]=(0,u.A4)(this.writeGeometryElement,this)):t in s.serializers[o]||(s.serializers[o][t]=(0,u.A4)(E.bZ)))}}let p=Object.assign({},s);p.node=e,(0,u.ZL)(p,s.serializers,(0,u.G3)(void 0,o),l,r,a)}writeFeatureMembers_(e,t,r){let i=r[r.length-1],s=i.featureType,o=i.featureNS,n={};n[o]={},n[o][s]=(0,u.A4)(this.writeFeatureElement,this);let a=Object.assign({},i);a.node=e,(0,u.ZL)(a,n,(0,u.G3)(s,o),t,r)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,r){let i=t[t.length-1].node;return(0,u.c)(this.namespace,m[i.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,r){let i=t[t.length-1],s=i.multiSurface,o=i.surface,n=i.curve,a=i.multiCurve;return Array.isArray(e)?r="Envelope":"MultiPolygon"===(r=e.getType())&&!0===s?r="MultiSurface":"Polygon"===r&&!0===o?r="Surface":"LineString"===r&&!0===n?r="Curve":"MultiLineString"===r&&!0===a&&(r="MultiCurve"),(0,u.c)(this.namespace,r)}writeGeometryNode(e,t){t=this.adaptOptions(t);let r=(0,u.c)(this.namespace,"geom"),i={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(i,t),this.writeGeometryElement(r,e,[i]),r}writeFeaturesNode(e,t){t=this.adaptOptions(t);let r=(0,u.c)(this.namespace,"featureMembers");r.setAttributeNS(u.fJ,"xsi:schemaLocation",this.schemaLocation);let i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(i,t),this.writeFeatureMembers_(r,e,[i]),r}}c.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,u.z)(c.prototype.readFlatPos),posList:(0,u.z)(c.prototype.readFlatPosList),coordinates:(0,u.z)(g.default.prototype.readFlatCoordinates)}},c.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:c.prototype.interiorParser,exterior:c.prototype.exteriorParser}},c.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,u.z)(S.Z.prototype.readPoint),MultiPoint:(0,u.z)(S.Z.prototype.readMultiPoint),LineString:(0,u.z)(S.Z.prototype.readLineString),MultiLineString:(0,u.z)(S.Z.prototype.readMultiLineString),LinearRing:(0,u.z)(S.Z.prototype.readLinearRing),Polygon:(0,u.z)(S.Z.prototype.readPolygon),MultiPolygon:(0,u.z)(S.Z.prototype.readMultiPolygon),Surface:(0,u.z)(c.prototype.readSurface),MultiSurface:(0,u.z)(c.prototype.readMultiSurface),Curve:(0,u.z)(c.prototype.readCurve),MultiCurve:(0,u.z)(c.prototype.readMultiCurve),Envelope:(0,u.z)(c.prototype.readEnvelope)}},c.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:(0,u.Ei)(c.prototype.curveMemberParser),curveMembers:(0,u.Ei)(c.prototype.curveMemberParser)}},c.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:(0,u.Ei)(c.prototype.surfaceMemberParser),surfaceMembers:(0,u.Ei)(c.prototype.surfaceMemberParser)}},c.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,u.Ei)(S.Z.prototype.readLineString),Curve:(0,u.Ei)(c.prototype.readCurve)}},c.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,u.Ei)(S.Z.prototype.readPolygon),Surface:(0,u.Ei)(c.prototype.readSurface)}},c.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:(0,u.z)(c.prototype.readPatch)}},c.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:(0,u.z)(c.prototype.readSegment)}},c.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:(0,u.Ei)(c.prototype.readFlatPosList),upperCorner:(0,u.Ei)(c.prototype.readFlatPosList)}},c.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:(0,u.z)(c.prototype.readPolygonPatch)}},c.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:(0,u.pc)(c.prototype.readLineStringSegment)}},S.Z.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,u.z)(S.Z.prototype.readFlatLinearRing),Ring:(0,u.z)(c.prototype.readFlatCurveRing)}},c.prototype.writeFeatures,c.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:(0,u.A4)(c.prototype.writeRing),interior:(0,u.A4)(c.prototype.writeRing)}},c.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,u.A4)(E.bZ),upperCorner:(0,u.A4)(E.bZ)}},c.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,u.A4)(c.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,u.A4)(c.prototype.writeSurfaceOrPolygonMember)}},c.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,u.A4)(c.prototype.writePointMember)}},c.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,u.A4)(c.prototype.writeLineStringOrCurveMember),curveMember:(0,u.A4)(c.prototype.writeLineStringOrCurveMember)}},c.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,u.A4)(c.prototype.writeCurveOrLineString),MultiCurve:(0,u.A4)(c.prototype.writeMultiCurveOrLineString),Point:(0,u.A4)(c.prototype.writePoint),MultiPoint:(0,u.A4)(c.prototype.writeMultiPoint),LineString:(0,u.A4)(c.prototype.writeCurveOrLineString),MultiLineString:(0,u.A4)(c.prototype.writeMultiCurveOrLineString),LinearRing:(0,u.A4)(c.prototype.writeLinearRing),Polygon:(0,u.A4)(c.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,u.A4)(c.prototype.writeMultiSurfaceOrPolygon),Surface:(0,u.A4)(c.prototype.writeSurfaceOrPolygon),MultiSurface:(0,u.A4)(c.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,u.A4)(c.prototype.writeEnvelope)}},t.default=c}}]);
//# sourceMappingURL=3450.d40e2c5c18d1ede0.js.map