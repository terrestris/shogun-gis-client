(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["5361"],{80903:function(e,t,r){"use strict";r.d(t,{Br:function(){return f},S0:function(){return m}});var n=r(2543),i=r.n(n),a=r(62193),o=r.n(a),s=r(85015),l=r.n(s),u=r(46624),p=r(37100),c=r.n(p);let f=[{crsCode:"EPSG:25832",definition:"+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"},{crsCode:"EPSG:31466",definition:"+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7 +units=m +no_defs"},{crsCode:"EPSG:31467",definition:"+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7 +units=m +no_defs"}],d=[{alias:"urn:ogc:def:crs:EPSG::3857",mappedCode:"EPSG:3857"},{alias:"urn:ogc:def:crs:EPSG::25832",mappedCode:"EPSG:25832"},{alias:"urn:ogc:def:crs:EPSG::31466",mappedCode:"EPSG:31466"},{alias:"urn:ogc:def:crs:EPSG::31467",mappedCode:"EPSG:31467"}];class m{static initProj4Definitions(e,t=!0){let r=[];if(t&&(r=f),!i()(e)||e){let t=Array.isArray(e)?e:[e];t?.forEach(e=>{r?.findIndex(t=>t.crsCode===e?.crsCode)===-1&&r.push(e)})}r?.length>0&&(r.forEach(e=>c().defs(e.crsCode,e.definition)),(0,u.register)(c()))}static initProj4DefinitionMappings(e,t=!0){let r=[];if(t&&(r=d),!o()(e)){let t=Array.isArray(e)?e:[e];t?.forEach(e=>{r?.findIndex(t=>t.alias===e?.alias)===-1&&r.push(e)})}r?.map(e=>{let t=c().defs(e.mappedCode);c().defs(e.alias,t)})}static toDms(e){let t=Math.floor(e),r=Math.floor((e-t)*60),n=(e-t-r/60)*3600;return`${t}\xb0 ${m.zerofill(r)}' ${m.zerofill(n.toFixed(2))}''`}static toDmm(e){let t=Math.floor(e);return`${t}\xb0 ${m.zerofill(((e-t)*60).toFixed(4))}'`}static zerofill(e){let t=l()(e)?parseFloat(e):e;return t<10?`0${t}`:`${t}`}}},73645:function(e,t,r){"use strict";var n=r(76395);t.A=r.n(n)().createContext(null)},62193:function(e,t,r){var n=r(88984),i=r(5861),a=r(72428),o=r(56449),s=r(64894),l=r(3656),u=r(55527),p=r(37167),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||p(e)||a(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(c.call(e,r))return!1;return!0}},15455:function(e,t,r){"use strict";let n,i,a,o;r.d(t,{Bb:function(){return np}});var s,l=r(64199),u=r.n(l),p=r(35643),c=r.n(p),f=r(13187),d=r.n(f),m=r(22347),h=r.n(m),y=r(31195),g=r.n(y),b=r(87483),v=r.n(b),x=r(10755),w=r.n(x),k=r(57655),z=r(7623),M=r(23395),S=r.n(M),_=r(6419),E=r(3151),$=r(41907),C=r.n($),q=r(88779),j=r.n(q),A=r(1483),T=r.n(A),I=r(93811),P=r(71831),F=r.n(P),D=r(73581),R=r.n(D),O=r(86683),L=r.n(O),N=r(11160),U=r.n(N),G=r(49211),V=r.n(G),W=r(15797),J=r.n(W),Z=r(45263),B=r.n(Z),X=r(79499),H=r.n(X),Y=r(14715),K=r.n(Y),Q=r(48763),ee=r.n(Q),et=r(42043),er=r.n(et),en=r(17083),ei=r.n(en),ea=r(2587),eo=r(69671),es=r(94243),el=r(64267),eu=r(94727),ep=r(76303),ec=r.n(ep),ef=r(93839),ed=r.n(ef);function em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eh={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ey(e){return(e=Math.round(e))<0?0:e>255?255:e}function eg(e){return e<0?0:e>1?1:e}function eb(e){return"%"===e[e.length-1]?ey(parseFloat(e)/100*255):ey(parseInt(e))}function ev(e){return"%"===e[e.length-1]?eg(parseFloat(e)/100):eg(parseFloat(e))}function ex(e,t,r){return(r<0?r+=1:r>1&&(r-=1),6*r<1)?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{s=({}).parseCSSColor=function(e){var t=e.replace(/ /g,"").toLowerCase();if(t in eh)return eh[t].slice();if("#"===t[0]){if(4===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null}if(7===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=0xffffff?[(0xff0000&r)>>16,(65280&r)>>8,255&r,1]:null}return null}var n=t.indexOf("("),i=t.indexOf(")");if(-1!==n&&i+1===t.length){var a=t.substr(0,n),o=t.substr(n+1,i-(n+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)break;s=ev(o.pop());case"rgb":if(3!==o.length)break;return[eb(o[0]),eb(o[1]),eb(o[2]),s];case"hsla":if(4!==o.length)break;s=ev(o.pop());case"hsl":if(3!==o.length)break;var l=(parseFloat(o[0])%360+360)%360/360,u=ev(o[1]),p=ev(o[2]),c=p<=.5?p*(u+1):p+u-p*u,f=2*p-c;return[ey(255*ex(f,c,l+1/3)),ey(255*ex(f,c,l)),ey(255*ex(f,c,l-1/3)),s]}}return null}}catch(e){}class ew{constructor(e,t,r,n=1){this.r=e,this.g=t,this.b=r,this.a=n}static parse(e){if(!e)return;if(e instanceof ew)return e;if("string"!=typeof e)return;let t=s(e);if(t)return new ew(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){let[e,t,r,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${n})`}toArray(){let{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]}toArray01(){let{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[e/n,t/n,r/n,n]}toArray01PremultipliedAlpha(){let{r:e,g:t,b:r,a:n}=this;return[e,t,r,n]}}function ek(e){return"object"==typeof e?["literal",e]:e}function ez(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function eM(e,t){var r,n;let i=ek((r=e.default,n=t.default,void 0!==r?r:void 0!==n?n:void 0));return void 0===i&&"resolvedImage"===t.type?"":i}function eS(e,t,r){let n=e$(e,t),i=["get",e.property];if("categorical"===n&&"boolean"==typeof r[0][0]){let n=["case"];for(let e of r)n.push(["==",i,e[0]],e[1]);return n.push(eM(e,t)),n}if("categorical"===n){let n=["match",i];for(let e of r)eE(n,e[0],e[1],!1);return n.push(eM(e,t)),n}if("interval"===n){let t=["step",["number",i]];for(let e of r)eE(t,e[0],e[1],!0);return e_(t),void 0===e.default?t:["case",["==",["typeof",i],"number"],t,ek(e.default)]}if("exponential"===n){let t=void 0!==e.base?e.base:1,n=[ez(e),1===t?["linear"]:["exponential",t],["number",i]];for(let e of r)eE(n,e[0],e[1],!1);return void 0===e.default?n:["case",["==",["typeof",i],"number"],n,ek(e.default)]}throw Error(`Unknown property function type ${n}`)}function e_(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function eE(e,t,r,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(r))}function e$(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}ew.black=new ew(0,0,0,1),ew.white=new ew(1,1,1,1),ew.transparent=new ew(0,0,0,0),ew.red=new ew(1,0,0,1),ew.blue=new ew(0,0,1,1);var eC=class extends Error{constructor(e,t){super(t),this.message=t,this.key=e}};class eq{constructor(e,t=[]){for(const[r,n]of(this.parent=e,this.bindings={},t))this.bindings[r]=n}concat(e){return new eq(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}let ej={kind:"null"},eA={kind:"number"},eT={kind:"string"},eI={kind:"boolean"},eP={kind:"color"},eF={kind:"object"},eD={kind:"value"},eR={kind:"collator"},eO={kind:"formatted"},eL={kind:"resolvedImage"};function eN(e,t){return{kind:"array",itemType:e,N:t}}function eU(e){if("array"!==e.kind)return e.kind;{let t=eU(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}}let eG=[ej,eA,eT,eI,eP,eO,eF,eN(eD),eL];function eV(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!eV(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else if(e.kind===t.kind)return null;else if("value"===e.kind){for(let e of eG)if(!eV(e,t))return null}return`Expected ${eU(e)} but found ${eU(t)} instead.`}function eW(e,t){return t.some(t=>t.kind===e.kind)}function eJ(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}class eZ{constructor(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class eB{constructor(e,t,r,n,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i}}class eX{constructor(e){this.sections=e}static fromString(e){return new eX([new eB(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof eX?e:eX.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){let e=["format"];for(let t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);let r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(r)}return e}}class eH{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new eH({name:e,available:!1}):null}serialize(){return["image",this.name]}}function eY(e,t,r,n){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255)){let i="number"==typeof n?[e,t,r,n]:[e,t,r];return`Invalid rgba value [${i.join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`}function eK(e){if(null===e||"string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ew)return!0;else if(e instanceof eZ)return!0;else if(e instanceof eX)return!0;else if(e instanceof eH)return!0;else if(Array.isArray(e)){for(let t of e)if(!eK(t))return!1;return!0}else{if("object"!=typeof e)return!1;for(let t in e)if(!eK(e[t]))return!1;return!0}}function eQ(e){if(null===e)return ej;if("string"==typeof e)return eT;if("boolean"==typeof e)return eI;{if("number"==typeof e)return eA;if(e instanceof ew)return eP;if(e instanceof eZ)return eR;if(e instanceof eX)return eO;if(e instanceof eH)return eL;if(!Array.isArray(e))return eF;let t,r=e.length;for(let r of e){let e=eQ(r);if(t){if(t===e)continue;t=eD;break}t=e}return eN(t||eD,r)}}function e0(e){let t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof ew||e instanceof eX||e instanceof eH?e.toString():JSON.stringify(e)}class e1{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!eK(e[1]))return t.error("invalid value");let r=e[1],n=eQ(r),i=t.expectedType;return"array"===n.kind&&0===n.N&&i&&"array"===i.kind&&("number"!=typeof i.N||0===i.N)&&(n=i),new e1(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ew?["rgba"].concat(this.value.toArray()):this.value instanceof eX?this.value.serialize():this.value}}var e2=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};let e5={string:eT,number:eA,boolean:eI,object:eF};class e3{constructor(e,t){this.type=e,this.args=t}static parse(e,t){let r;if(e.length<2)return t.error("Expected at least one argument.");let n=1,i=e[0];if("array"===i){let i,a;if(e.length>2){let r=e[1];if("string"!=typeof r||!(r in e5)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=e5[r],n++}else i=eD;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}r=eN(i,a)}else r=e5[i];let a=[];for(;n<e.length;n++){let r=t.parse(e[n],n,eD);if(!r)return null;a.push(r)}return new e3(r,a)}evaluate(e){for(let t=0;t<this.args.length;t++){let r=this.args[t].evaluate(e);if(!eV(this.type,eQ(r)))return r;if(t===this.args.length-1)throw new e2(`Expected value to be of type ${eU(this.type)}, but found ${eU(eQ(r))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){let e=this.type,t=[e.kind];if("array"===e.kind){let r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);let n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}class e4{constructor(e){this.type=eO,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");let n=[],i=!1;for(let r=1;r<=e.length-1;++r){let a=e[r];if(i&&"object"==typeof a&&!Array.isArray(a)){i=!1;let e=null;if(a["font-scale"]&&!(e=t.parse(a["font-scale"],1,eA)))return null;let r=null;if(a["text-font"]&&!(r=t.parse(a["text-font"],1,eN(eT))))return null;let o=null;if(a["text-color"]&&!(o=t.parse(a["text-color"],1,eP)))return null;let s=n[n.length-1];s.scale=e,s.font=r,s.textColor=o}else{let a=t.parse(e[r],1,eD);if(!a)return null;let o=a.type.kind;if("string"!==o&&"value"!==o&&"null"!==o&&"resolvedImage"!==o)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:a,scale:null,font:null,textColor:null})}}return new e4(n)}evaluate(e){return new eX(this.sections.map(t=>{let r=t.content.evaluate(e);return eQ(r)===eL?new eB("",r,null,null,null):new eB(e0(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(let t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){let e=["format"];for(let t of this.sections){e.push(t.content.serialize());let r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),e.push(r)}return e}}class e8{constructor(e){this.type=eL,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");let r=t.parse(e[1],1,eT);return r?new e8(r):t.error("No image name provided.")}evaluate(e){let t=this.input.evaluate(e),r=eH.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}let e9={"to-boolean":eI,"to-color":eP,"to-number":eA,"to-string":eT};class e6{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");let n=e9[r],i=[];for(let r=1;r<e.length;r++){let n=t.parse(e[r],r,eD);if(!n)return null;i.push(n)}return new e6(n,i)}evaluate(e){if("boolean"===this.type.kind)return!!this.args[0].evaluate(e);if("color"===this.type.kind){let t,r;for(let n of this.args){if(t=n.evaluate(e),r=null,t instanceof ew)return t;if("string"==typeof t){let r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:eY(t[0],t[1],t[2],t[3])))return new ew(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new e2(r||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(let r of this.args){if(null===(t=r.evaluate(e)))return 0;let n=Number(t);if(!isNaN(n))return n}throw new e2(`Could not convert ${JSON.stringify(t)} to number.`)}if("formatted"===this.type.kind)return eX.fromString(e0(this.args[0].evaluate(e)));if("resolvedImage"===this.type.kind)return eH.fromString(e0(this.args[0].evaluate(e)));else return e0(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new e4([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new e8(this.args[0]).serialize();let e=[`to-${this.type.kind}`];return this.eachChild(t=>{e.push(t.serialize())}),e}}let e7=["Unknown","Point","LineString","Polygon"];var te=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?e7[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){let e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord,i=r*t-e[0],a=n*t-e[1];return this.featureDistanceData.bearing[0]*i+this.featureDistanceData.bearing[1]*a}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=ew.parse(e)),t}};class tt{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){let r=e[0],n=tt.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);let i=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,o=a.filter(([t])=>!Array.isArray(t)||t.length===e.length-1),s=null;for(let[n,a]of o){s=new tv(t.registry,t.path,null,t.scope);let o=[],l=!1;for(let t=1;t<e.length;t++){let r=e[t],i=Array.isArray(n)?n[t-1]:n.type,a=s.parse(r,1+o.length,i);if(!a){l=!0;break}o.push(a)}if(!l){if(Array.isArray(n)&&n.length!==o.length){s.error(`Expected ${n.length} arguments, but found ${o.length} instead.`);continue}for(let e=0;e<o.length;e++){let t=Array.isArray(n)?n[e]:n.type,r=o[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new tt(r,i,a,o)}}if(1===o.length)t.errors.push(...s.errors);else{let r=(o.length?o:a).map(([e])=>{var t;return Array.isArray(t=e)?`(${t.map(eU).join(", ")})`:`(${eU(t.type)}...)`}).join(" | "),n=[];for(let r=1;r<e.length;r++){let i=t.parse(e[r],1+n.length);if(!i)return null;n.push(eU(i.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){for(let r in tt.definitions=t,t)e[r]=tt}}class tr{constructor(e,t,r){this.type=eR,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");let r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");let n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,eI);if(!n)return null;let i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,eI);if(!i)return null;let a=null;return!r.locale||(a=t.parse(r.locale,1,eT))?new tr(n,i,a):null}evaluate(e){return new eZ(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){let e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}function tn(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function ti(e,t){return!(e[0]<=t[0])&&!(e[2]>=t[2])&&!(e[1]<=t[1])&&!(e[3]>=t[3])}function ta(e,t){let r=!1;for(let a=0,o=t.length;a<o;a++){let o=t[a];for(let t=0,a=o.length;t<a-1;t++){var n,i;if(function(e,t,r){let n=e[0]-t[0],i=e[1]-t[1],a=e[0]-r[0],o=e[1]-r[1];return n*o-a*i==0&&n*a<=0&&i*o<=0}(e,o[t],o[t+1]))return!1;n=o[t],i=o[t+1],n[1]>e[1]!=i[1]>e[1]&&e[0]<(i[0]-n[0])*(e[1]-n[1])/(i[1]-n[1])+n[0]&&(r=!r)}}return r}function to(e,t,r,n){let i=e[0]-r[0],a=e[1]-r[1],o=t[0]-r[0],s=t[1]-r[1],l=n[0]-r[0],u=n[1]-r[1],p=i*u-l*a,c=o*u-l*s;return!!(p>0)&&!!(c<0)||!!(p<0)&&!!(c>0)}function ts(e,t){for(let r=0;r<e.length;++r)if(!ta(e[r],t))return!1;for(let r=0;r<e.length-1;++r)if(function(e,t,r){for(let n of r)for(let r=0;r<n.length-1;++r)if(function(e,t,r,n){var i;let a=[t[0]-e[0],t[1]-e[1]];return 0!=(i=[n[0]-r[0],n[1]-r[1]],i[0]*a[1]-i[1]*a[0])&&!!(to(e,t,r,n)&&to(r,n,e,t))}(e,t,n[r],n[r+1]))return!0;return!1}(e[r],e[r+1],t))return!1;return!0}function tl(e,t,r){let n=[];for(let i=0;i<e.length;i++){let a=[];for(let n=0;n<e[i].length;n++){let o=function(e,t){let r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*8192),Math.round(n*i*8192)]}(e[i][n],r);tn(t,o),a.push(o)}n.push(a)}return n}function tu(e,t,r){let n=[];for(let i=0;i<e.length;i++){let a=tl(e[i],t,r);n.push(a)}return n}function tp(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){let t=.5*n,i=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===i&&(i=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=i}tn(t,e)}function tc(e,t,r,n){let i=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],o=[];if(!e)return o;for(let n of e)for(let e of n){let n=[e.x+a[0],e.y+a[1]];tp(n,t,r,i),o.push(n)}return o}function tf(e,t,r,n){let i=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],o=[];if(!e)return o;for(let r of e){let e=[];for(let n of r){let r=[n.x+a[0],n.y+a[1]];tn(t,r),e.push(r)}o.push(e)}if(t[2]-t[0]<=i/2){for(let e of(t[0]=t[1]=1/0,t[2]=t[3]=-1/0,o))for(let n of e)tp(n,t,r,i)}return o}class td{constructor(e,t){this.type=eI,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(eK(e[1])){let t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){let r=t.features[e].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new td(t,t.features[e].geometry)}else if("Feature"===t.type){let e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new td(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new td(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){let r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){let a=tl(t.coordinates,n,i),o=tc(e.geometry(),r,n,i);if(!ti(r,n))return!1;for(let e of o)if(!ta(e,a))return!1}if("MultiPolygon"===t.type){let a=tu(t.coordinates,n,i),o=tc(e.geometry(),r,n,i);if(!ti(r,n))return!1;for(let e of o)if(!function(e,t){for(let r=0;r<t.length;r++)if(ta(e,t[r]))return!0;return!1}(e,a))return!1}return!0}(e,this.geometries);else if("LineString"===e.geometryType())return function(e,t){let r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){let a=tl(t.coordinates,n,i),o=tf(e.geometry(),r,n,i);if(!ti(r,n))return!1;for(let e of o)if(!ts(e,a))return!1}if("MultiPolygon"===t.type){let a=tu(t.coordinates,n,i),o=tf(e.geometry(),r,n,i);if(!ti(r,n))return!1;for(let e of o)if(!function(e,t){for(let r=0;r<t.length;r++)if(ts(e,t[r]))return!0;return!1}(e,a))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function tm(e){if(e instanceof tt){if("get"===e.name&&1===e.args.length)return!1;else if("feature-state"===e.name)return!1;else if("has"===e.name&&1===e.args.length)return!1;else if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;else if(/^filter-/.test(e.name))return!1}if(e instanceof td)return!1;let t=!0;return e.eachChild(e=>{t&&!tm(e)&&(t=!1)}),t}function th(e){if(e instanceof tt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!th(e)&&(t=!1)}),t}function ty(e,t){if(e instanceof tt&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild(e=>{r&&!ty(e,t)&&(r=!1)}),r}class tg{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");let r=e[1];return t.scope.has(r)?new tg(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class tb{constructor(e,t=[],r,n=new eq,i=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=i,this.expectedType=r}parse(e,t,r,n,i={}){return t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new e3(t,[e]):"coerce"===r?new e6(t,[e]):e}if((null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)&&(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');let n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){let e=this.expectedType,i=n.type;if(("string"===e.kind||"number"===e.kind||"boolean"===e.kind||"object"===e.kind||"array"===e.kind)&&"value"===i.kind)n=r(n,e,t.typeAnnotation||"assert");else if(("color"===e.kind||"formatted"===e.kind||"resolvedImage"===e.kind)&&("value"===i.kind||"string"===i.kind))n=r(n,e,t.typeAnnotation||"coerce");else if(this.checkSubtype(e,i))return null}if(!(n instanceof e1)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof tg)return e(t.boundExpression);if(t instanceof tt&&"error"===t.name)return!1;if(t instanceof tr)return!1;if(t instanceof td)return!1;let r=t instanceof e6||t instanceof e3,n=!0;return t.eachChild(t=>{n=r?n&&e(t):n&&t instanceof e1}),!!n&&tm(t)&&ty(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(n)){let e=new te;try{n=new e1(n.type,n.evaluate(e))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){let n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new tb(this.registry,n,t||null,i,this.errors)}error(e,...t){let r=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new eC(r,e))}checkSubtype(e,t){let r=eV(e,t);return r&&this.error(r),r}}var tv=tb;function tx(e,t){let r,n,i=e.length-1,a=0,o=i,s=0;for(;a<=o;)if(r=e[s=Math.floor((a+o)/2)],n=e[s+1],r<=t){if(s===i||t<n)return s;a=s+1}else if(r>t)o=s-1;else throw new e2("Input is not a number.");return 0}class tw{constructor(e,t,r){for(const[n,i]of(this.type=e,this.input=t,this.labels=[],this.outputs=[],r))this.labels.push(n),this.outputs.push(i)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");let r=t.parse(e[1],1,eA);if(!r)return null;let n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){let a=1===r?-1/0:e[r],o=e[r+1],s=r,l=r+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);let u=t.parse(o,l,i);if(!u)return null;i=i||u.type,n.push([a,u])}return new tw(i,r,n)}evaluate(e){let t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);let n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);let i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[tx(t,n)].evaluate(e)}eachChild(e){for(let t of(e(this.input),this.outputs))e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}function tk(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}tk.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},tk.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},tk.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},tk.prototype.solveCurveX=function(e,t){for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(Math.abs(a=this.sampleCurveX(i)-e)<t)return i;var r,n,i,a,o,s=this.sampleCurveDerivativeX(i);if(1e-6>Math.abs(s))break;i-=a/s}if(r=0,n=1,(i=e)<r)return r;if(i>n)return n;for(;r<n&&!(Math.abs((a=this.sampleCurveX(i))-e)<t);)e>a?r=i:n=i,i=(n-r)*.5+r;return i},tk.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var tz=em(tk);function tM(e,t,r){return e*(1-r)+t*r}var tS=Object.freeze({__proto__:null,number:tM,color:function(e,t,r){return new ew(tM(e.r,t.r,r),tM(e.g,t.g,r),tM(e.b,t.b,r),tM(e.a,t.a,r))},array:function(e,t,r){return e.map((e,n)=>tM(e,t[n],r))}});let t_=4/29,tE=6/29,t$=6/29*3*(6/29),tC=6/29*(6/29)*(6/29),tq=Math.PI/180,tj=180/Math.PI;function tA(e){return e>tC?Math.pow(e,1/3):e/t$+t_}function tT(e){return e>tE?e*e*e:t$*(e-t_)}function tI(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function tP(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function tF(e){let t=tP(e.r),r=tP(e.g),n=tP(e.b),i=tA((.4124564*t+.3575761*r+.1804375*n)/.95047),a=tA((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-tA((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function tD(e){let t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=+tT(t),new ew(tI(3.2404542*(r=.95047*tT(r))-1.5371385*t-.4985314*(n=1.08883*tT(n))),tI(-.969266*r+1.8760108*t+.041556*n),tI(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}let tR=function(e){let{l:t,a:r,b:n}=tF(e),i=Math.atan2(n,r)*tj;return{h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:t,alpha:e.a}},tO=function(e){let t=e.h*tq,r=e.c;return tD({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},tL=function(e,t,r){var n,i;let a;return{h:(n=e.h,i=t.h,a=i-n,n+r*(a>180||a<-180?a-360*Math.round(a/360):a)),c:tM(e.c,t.c,r),l:tM(e.l,t.l,r),alpha:tM(e.alpha,t.alpha,r)}};class tN{constructor(e,t,r,n,i){for(const[a,o]of(this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[],i))this.labels.push(a),this.outputs.push(o)}static interpolationFactor(e,t,r,n){let i=0;if("exponential"===e.name)i=tU(t,e.base,r,n);else if("linear"===e.name)i=tU(t,1,r,n);else if("cubic-bezier"===e.name){let a=e.controlPoints;i=new tz(a[0],a[1],a[2],a[3]).solve(tU(t,1,r,n))}return i}static parse(e,t){let[r,n,i,...a]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){let e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error(`Unknown interpolation type ${String(n[0])}`,1,0);let e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,eA)))return null;let o=[],s=null;"interpolate-hcl"===r||"interpolate-lab"===r?s=eP:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<a.length;e+=2){let r=a[e],n=a[e+1],i=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(o.length&&o[o.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);let u=t.parse(n,l,s);if(!u)return null;s=s||u.type,o.push([r,u])}return"number"!==s.kind&&"color"!==s.kind&&("array"!==s.kind||"number"!==s.itemType.kind||"number"!=typeof s.N)?t.error(`Type ${eU(s)} is not interpolatable.`):new tN(s,r,n,i,o)}evaluate(e){var t,r,n;let i=this.labels,a=this.outputs;if(1===i.length)return a[0].evaluate(e);let o=this.input.evaluate(e);if(o<=i[0])return a[0].evaluate(e);let s=i.length;if(o>=i[s-1])return a[s-1].evaluate(e);let l=tx(i,o),u=i[l],p=i[l+1],c=tN.interpolationFactor(this.interpolation,o,u,p),f=a[l].evaluate(e),d=a[l+1].evaluate(e);return"interpolate"===this.operator?tS[this.type.kind.toLowerCase()](f,d,c):"interpolate-hcl"===this.operator?tO(tL(tR(f),tR(d),c)):tD((t=tF(f),r=tF(d),n=c,{l:tM(t.l,r.l,n),a:tM(t.a,r.a,n),b:tM(t.b,r.b,n),alpha:tM(t.alpha,r.alpha,n)}))}eachChild(e){for(let t of(e(this.input),this.outputs))e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);let t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function tU(e,t,r,n){let i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}class tG{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);let i=[];for(let n of e.slice(1)){let e=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,i.push(e)}return n&&i.some(e=>eV(n,e.type))?new tG(eD,i):new tG(r,i)}evaluate(e){let t,r=null,n=0;for(let i of this.args){if(n++,(r=i.evaluate(e))&&r instanceof eH&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){let e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class tV{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(let t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);let r=[];for(let n=1;n<e.length-1;n+=2){let i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);let a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}let n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new tV(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){let e=["let"];for(let[t,r]of this.bindings)e.push(t,r.serialize());return e.push(this.result.serialize()),e}}class tW{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eA),n=t.parse(e[2],2,eN(t.expectedType||eD));return r&&n?new tW(n.type.itemType,r,n):null}evaluate(e){let t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new e2(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new e2(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new e2(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class tJ{constructor(e,t){this.type=eI,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eD),n=t.parse(e[2],2,eD);return r&&n?eW(r.type,[eI,eT,eA,ej,eD])?new tJ(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${eU(r.type)} instead`):null}evaluate(e){let t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!eJ(t,["boolean","string","number","null"]))throw new e2(`Expected first argument to be of type boolean, string, number or null, but found ${eU(eQ(t))} instead.`);if(!eJ(r,["string","array"]))throw new e2(`Expected second argument to be of type array or string, but found ${eU(eQ(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class tZ{constructor(e,t,r){this.type=eA,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eD),n=t.parse(e[2],2,eD);if(!r||!n)return null;if(!eW(r.type,[eI,eT,eA,ej,eD]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${eU(r.type)} instead`);if(4!==e.length)return new tZ(r,n);{let i=t.parse(e[3],3,eA);return i?new tZ(r,n,i):null}}evaluate(e){let t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!eJ(t,["boolean","string","number","null"]))throw new e2(`Expected first argument to be of type boolean, string, number or null, but found ${eU(eQ(t))} instead.`);if(!eJ(r,["string","array"]))throw new e2(`Expected second argument to be of type array or string, but found ${eU(eQ(r))} instead.`);if(this.fromIndex){let n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){let e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class tB{constructor(e,t,r,n,i,a){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a}static parse(e,t){let r,n;if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);let i={},a=[];for(let o=2;o<e.length-1;o+=2){let s=e[o],l=e[o+1];Array.isArray(s)||(s=[s]);let u=t.concat(o);if(0===s.length)return u.error("Expected at least one branch label.");for(let e of s){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");else if(r){if(u.checkSubtype(r,eQ(e)))return null}else r=eQ(e);if(void 0!==i[String(e)])return u.error("Branch labels must be unique.");i[String(e)]=a.length}let p=t.parse(l,o,n);if(!p)return null;n=n||p.type,a.push(p)}let o=t.parse(e[1],1,eD);if(!o)return null;let s=t.parse(e[e.length-1],e.length-1,n);return!s||"value"!==o.type.kind&&t.concat(1).checkSubtype(r,o.type)?null:new tB(r,n,o,i,a,s)}evaluate(e){let t=this.input.evaluate(e);return(eQ(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){let e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],n={};for(let e of t){let t=n[this.cases[e]];void 0===t?(n[this.cases[e]]=r.length,r.push([this.cases[e],[e]])):r[t][1].push(e)}let i=e=>"number"===this.inputType.kind?Number(e):e;for(let[t,n]of r)1===n.length?e.push(i(n[0])):e.push(n.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class tX{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){let r;if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);let n=[];for(let i=1;i<e.length-1;i+=2){let a=t.parse(e[i],i,eI);if(!a)return null;let o=t.parse(e[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}let i=t.parse(e[e.length-1],e.length-1,r);return i?new tX(r,n,i):null}evaluate(e){for(let[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(let[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){let e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}class tH{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eD),n=t.parse(e[2],2,eA);if(!r||!n)return null;if(!eW(r.type,[eN(eD),eT,eD]))return t.error(`Expected first argument to be of type array or string, but found ${eU(r.type)} instead`);if(4!==e.length)return new tH(r.type,r,n);{let i=t.parse(e[3],3,eA);return i?new tH(r.type,r,n,i):null}}evaluate(e){let t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!eJ(t,["string","array"]))throw new e2(`Expected first argument to be of type array or string, but found ${eU(eQ(t))} instead.`);if(this.endIndex){let n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){let e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function tY(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function tK(e,t,r,n){return 0===n.compare(t,r)}function tQ(e,t,r){let n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=eI,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");let r=e[0],a=t.parse(e[1],1,eD);if(!a)return null;if(!tY(r,a.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${eU(a.type)}'.`);let o=t.parse(e[2],2,eD);if(!o)return null;if(!tY(r,o.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${eU(o.type)}'.`);if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error(`Cannot compare types '${eU(a.type)}' and '${eU(o.type)}'.`);n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new e3(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new e3(a.type,[o])));let s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,eR)))return null}return new i(a,o,s)}evaluate(i){let a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){let t=eQ(a),r=eQ(o);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new e2(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){let e=eQ(a),r=eQ(o);if("string"!==e.kind||"string"!==r.kind)return t(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):t(i,a,o)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){let t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}let t0=tQ("==",function(e,t,r){return t===r},tK),t1=tQ("!=",function(e,t,r){return t!==r},function(e,t,r,n){return!tK(e,t,r,n)}),t2=tQ("<",function(e,t,r){return t<r},function(e,t,r,n){return 0>n.compare(t,r)}),t5=tQ(">",function(e,t,r){return t>r},function(e,t,r,n){return n.compare(t,r)>0}),t3=tQ("<=",function(e,t,r){return t<=r},function(e,t,r,n){return 0>=n.compare(t,r)}),t4=tQ(">=",function(e,t,r){return t>=r},function(e,t,r,n){return n.compare(t,r)>=0});class t8{constructor(e,t,r,n,i,a){this.type=eT,this.number=e,this.locale=t,this.currency=r,this.unit=n,this.minFractionDigits=i,this.maxFractionDigits=a}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");let r=t.parse(e[1],1,eA);if(!r)return null;let n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&!(i=t.parse(n.locale,1,eT)))return null;let a=null;if(n.currency&&!(a=t.parse(n.currency,1,eT)))return null;let o=null;if(n.unit&&!(o=t.parse(n.unit,1,eT)))return null;let s=null;if(n["min-fraction-digits"]&&!(s=t.parse(n["min-fraction-digits"],1,eA)))return null;let l=null;return!n["max-fraction-digits"]||(l=t.parse(n["max-fraction-digits"],1,eA))?new t8(r,i,a,o,s,l):null}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){let e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class t9{constructor(e){this.type=eA,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);let r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${eU(r.type)} instead.`):new t9(r):null}evaluate(e){let t=this.input.evaluate(e);if("string"==typeof t||Array.isArray(t))return t.length;throw new e2(`Expected value to be of type string or array, but found ${eU(eQ(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){let e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}let t6={"==":t0,"!=":t1,">":t5,"<":t2,">=":t4,"<=":t3,array:e3,at:tW,boolean:e3,case:tX,coalesce:tG,collator:tr,format:e4,image:e8,in:tJ,"index-of":tZ,interpolate:tN,"interpolate-hcl":tN,"interpolate-lab":tN,length:t9,let:tV,literal:e1,match:tB,number:e3,"number-format":t8,object:e3,slice:tH,step:tw,string:e3,"to-boolean":e6,"to-color":e6,"to-number":e6,"to-string":e6,var:tg,within:td};function t7(e,[t,r,n,i]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);let a=i?i.evaluate(e):1,o=eY(t,r,n,a);if(o)throw new e2(o);return new ew(t/255*a,r/255*a,n/255*a,a)}function re(e,t){let r=t[e];return void 0===r?null:r}function rt(e){return{result:"success",value:e}}function rr(e){return{result:"error",value:e}}function rn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}tt.register(t6,{error:[{kind:"error"},[eT],(e,[t])=>{throw new e2(t.evaluate(e))}],typeof:[eT,[eD],(e,[t])=>eU(eQ(t.evaluate(e)))],"to-rgba":[eN(eA,4),[eP],(e,[t])=>t.evaluate(e).toArray()],rgb:[eP,[eA,eA,eA],t7],rgba:[eP,[eA,eA,eA,eA],t7],has:{type:eI,overloads:[[[eT],(e,[t])=>t.evaluate(e)in e.properties()],[[eT,eF],(e,[t,r])=>t.evaluate(e)in r.evaluate(e)]]},get:{type:eD,overloads:[[[eT],(e,[t])=>re(t.evaluate(e),e.properties())],[[eT,eF],(e,[t,r])=>re(t.evaluate(e),r.evaluate(e))]]},"feature-state":[eD,[eT],(e,[t])=>re(t.evaluate(e),e.featureState||{})],properties:[eF,[],e=>e.properties()],"geometry-type":[eT,[],e=>e.geometryType()],id:[eD,[],e=>e.id()],zoom:[eA,[],e=>e.globals.zoom],pitch:[eA,[],e=>e.globals.pitch||0],"distance-from-center":[eA,[],e=>e.distanceFromCenter()],"heatmap-density":[eA,[],e=>e.globals.heatmapDensity||0],"line-progress":[eA,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[eA,[],e=>e.globals.skyRadialProgress||0],accumulated:[eD,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[eA,{type:eA},(e,t)=>{let r=0;for(let n of t)r+=n.evaluate(e);return r}],"*":[eA,{type:eA},(e,t)=>{let r=1;for(let n of t)r*=n.evaluate(e);return r}],"-":{type:eA,overloads:[[[eA,eA],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[eA],(e,[t])=>-t.evaluate(e)]]},"/":[eA,[eA,eA],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[eA,[eA,eA],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[eA,[],()=>Math.LN2],pi:[eA,[],()=>Math.PI],e:[eA,[],()=>Math.E],"^":[eA,[eA,eA],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[eA,[eA],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[eA,[eA],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[eA,[eA],(e,[t])=>Math.log(t.evaluate(e))],log2:[eA,[eA],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[eA,[eA],(e,[t])=>Math.sin(t.evaluate(e))],cos:[eA,[eA],(e,[t])=>Math.cos(t.evaluate(e))],tan:[eA,[eA],(e,[t])=>Math.tan(t.evaluate(e))],asin:[eA,[eA],(e,[t])=>Math.asin(t.evaluate(e))],acos:[eA,[eA],(e,[t])=>Math.acos(t.evaluate(e))],atan:[eA,[eA],(e,[t])=>Math.atan(t.evaluate(e))],min:[eA,{type:eA},(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[eA,{type:eA},(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[eA,[eA],(e,[t])=>Math.abs(t.evaluate(e))],round:[eA,[eA],(e,[t])=>{let r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[eA,[eA],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[eA,[eA],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[eI,[eT,eD],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[eI,[eD],(e,[t])=>e.id()===t.value],"filter-type-==":[eI,[eT],(e,[t])=>e.geometryType()===t.value],"filter-<":[eI,[eT,eD],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[eI,[eD],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[eI,[eT,eD],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[eI,[eD],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[eI,[eT,eD],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[eI,[eD],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[eI,[eT,eD],(e,[t,r])=>{let n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[eI,[eD],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[eI,[eD],(e,[t])=>t.value in e.properties()],"filter-has-id":[eI,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[eI,[eN(eT)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[eI,[eN(eD)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[eI,[eT,eN(eD)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[eI,[eT,eN(eD)],(e,[t,r])=>(function(e,t,r,n){for(;r<=n;){let i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1})(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:eI,overloads:[[[eI,eI],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[{type:eI},(e,t)=>{for(let r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:eI,overloads:[[[eI,eI],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[{type:eI},(e,t)=>{for(let r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[eI,[eI],(e,[t])=>!t.evaluate(e)],"is-supported-script":[eI,[eT],(e,[t])=>{let r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[eT,[eT],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[eT,[eT],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[eT,{type:eD},(e,t)=>t.map(t=>e0(t.evaluate(e))).join("")],"resolved-locale":[eT,[eR],(e,[t])=>t.evaluate(e).resolvedLocale()]});class ri{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new te,this._defaultValue=t?function(e){return"color"===e.type&&(rn(e.default)||Array.isArray(e.default))?new ew(0,0,0,0):"color"===e.type?ew.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{let e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new e2(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function ra(e,t){var r;let n,i=new tv(t6,[],t?(r=t,n={color:eP,string:eT,number:eA,enum:eT,boolean:eI,formatted:eO,resolvedImage:eL},"array"===r.type?eN(n[r.value]||eD,r.length):n[r.type]):void 0),a=i.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return a?rt(new ri(a,t)):rr(i.errors)}class ro{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!th(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)}evaluate(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)}}class rs{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!th(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)}evaluate(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)}interpolationFactor(e,t,r){return this.interpolationType?tN.interpolationFactor(this.interpolationType,e,t,r):0}}var rl={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function ru(e){var t;if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(let t=1;t<e.length;t++)if(ru(e[t]))return!0;return!1}let rp=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function rc(e,t){return e<t?-1:+(e>t)}function rf(e,t,r){switch(e){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,e,t]}}function rd(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:if(t.length>200&&!t.some(e=>typeof e!=typeof t[0]))return["filter-in-large",e,["literal",t.sort(rc)]];return["filter-in-small",e,["literal",t]]}}function rm(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function rh(e){return["!",e]}var ry=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function rg(e){e=e.slice();let t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=function(e,t){let r={};for(let t in e)"ref"!==t&&(r[t]=e[t]);return ry.forEach(e=>{e in t&&(r[e]=t[e])}),r}(e[r],t[e[r].ref]));return e}var rb={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},rv=/(italic|oblique)$/i,rx={},rw=em(function(e,t,r){var n=rx[e];if(!n){Array.isArray(e)||(e=[e]);for(var i,a,o=400,s="normal",l=[],u=0,p=e.length;u<p;++u){var c=e[u].split(" "),f=c[c.length-1].toLowerCase();for(var d in"normal"==f||"italic"==f||"oblique"==f?(s=a?s:f,a=!0,c.pop(),f=c[c.length-1].toLowerCase()):rv.test(f)&&(f=f.replace(rv,""),s=a?s:c[c.length-1].replace(f,""),a=!0),rb){var m=c.length>1?c[c.length-2].toLowerCase():"";if(f==d||f==d.replace("-","")||m+"-"+f==d){o=i?o:rb[d],c.pop(),m&&d.startsWith(m)&&c.pop();break}}i||"number"!=typeof f||(o=f,i=!0);var h=c.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==h.indexOf(" ")&&(h='"'+h+'"'),l.push(h)}n=rx[e]=[s,o,l]}return n[0]+" "+n[1]+" "+t+"px"+(r?"/"+r:"")+" "+n[2]});let rk="https://api.mapbox.com";function rz(e){let t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function rM(e,t){let r=rz(e);if(!r)return decodeURI(new URL(e,location.href).href);let n="styles/";if(0!==r.indexOf(n))throw Error(`unexpected style url: ${e}`);let i=r.slice(n.length);return`${rk}/styles/v1/${i}?&access_token=${t}`}let rS=["a","b","c","d"];function r_(e,t,r,n){let i=new URL(e,n),a=rz(e);if(!a)return t&&(i.searchParams.has(r)||i.searchParams.set(r,t)),[decodeURI(i.href)];if("mapbox.satellite"===a){let e=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${a}/{z}/{x}/{y}${e}.webp?access_token=${t}`]}return rS.map(e=>`https://${e}.tiles.mapbox.com/v4/${a}/{z}/{x}/{y}.vector.pbf?access_token=${t}`)}let rE={},r$={},rC=0;function rq(e){return e.id||(e.id=rC++),e.id}function rj(e){let t=rE[e.id];return t||(t={},rE[rq(e)]=t),t}function rA(e){return e*Math.PI/180}let rT=function(){let e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function rI(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);let r=document.createElement("canvas");return r.width=e,r.height=t,r}function rP(e,t){let r=0,n=t.length;for(;r<n;++r)if(t[r]<e&&r+1<n){let n=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(n)}return n-1}function rF(e,t){let r=Math.floor(e),n=Math.pow(2,e-r);return t[r]/n}let rD={};function rR(e,t,r={},n){if(t in rD)return n&&(n.request=rD[t][0]),rD[t][1];let i=r.transformRequest&&r.transformRequest(t,e)||t,a=(0,k.toPromise)(()=>i).then(e=>(e instanceof Request||(e=new Request(e)),e.headers.get("Accept")||e.headers.set("Accept","application/json"),n&&(n.request=e),fetch(e).then(function(e){return delete rD[t],e.ok?e.json():Promise.reject(Error("Error fetching source "+t))}).catch(function(e){return delete rD[t],Promise.reject(Error("Error fetching source "+t))})));return rD[t]=[i,a],a}function rO(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return rR("Style",e=rM(e,t.accessToken),t);try{let t=JSON.parse(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}let rL={};function rN(e,t,r={}){let n=[t,JSON.stringify(e)].toString(),i=rL[n];if(!i||r.transformRequest){let a;r.transformRequest&&(a=(e,t)=>{let n=r.transformRequest&&r.transformRequest(t,"Tiles")||t;if(e instanceof _.A)e.setLoader((t,r,i)=>{(0,k.toPromise)(()=>n).then(r=>{fetch(r).then(e=>e.arrayBuffer()).then(r=>{let n=e.getFormat().readFeatures(r,{extent:t,featureProjection:i});e.setFeatures(n)}).catch(t=>e.setState(S().ERROR))})});else{let t=e.getImage();(0,k.toPromise)(()=>n).then(r=>{r instanceof Request?fetch(r).then(e=>e.blob()).then(e=>{let r=URL.createObjectURL(e);t.addEventListener("load",()=>URL.revokeObjectURL(r)),t.addEventListener("error",()=>URL.revokeObjectURL(r)),t.src=r}).catch(t=>e.setState(S().ERROR)):t.src=r})}});let o=e.url;if(o&&!e.tiles){let n=r_(o,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(o.startsWith("mapbox://"))i=Promise.resolve({tileJson:Object.assign({},e,{url:void 0,tiles:n}),tileLoadFunction:a});else{let e={};i=rR("Source",n[0],r,e).then(function(t){return t.tiles=t.tiles.map(function(n){return"tms"===t.scheme&&(n=n.replace("{y}","{-y}")),r_(n,r.accessToken,r.accessTokenParam||"access_token",e.request.url)[0]}),Promise.resolve({tileJson:t,tileLoadFunction:a})})}}else i=Promise.resolve({tileJson:Object.assign({},e=Object.assign({},e,{tiles:e.tiles.map(function(n){return"tms"===e.scheme&&(n=n.replace("{y}","{-y}")),r_(n,r.accessToken,r.accessTokenParam||"access_token",t||location.href)[0]})})),tileLoadFunction:a});rL[n]=i}return i}function rU(e,t,r,n){let i=[2*r*t.pixelRatio+t.width,2*r*t.pixelRatio+t.height],a=rI(i[0],i[1]),o=a.getContext("2d");o.drawImage(e,t.x,t.y,t.width,t.height,r*t.pixelRatio,r*t.pixelRatio,t.width,t.height);let s=o.getImageData(0,0,i[0],i[1]);o.globalCompositeOperation="destination-over",o.fillStyle=`rgba(${255*n.r},${255*n.g},${255*n.b},${n.a})`;let l=s.data;for(let e=0,n=s.width;e<n;++e)for(let i=0,a=s.height;i<a;++i)l[(i*n+e)*4+3]>0&&o.arc(e,i,r*t.pixelRatio,0,2*Math.PI);return o.fill(),a}function rG(e,t,r){let n=rI(t.width,t.height),i=n.getContext("2d");i.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);let a=i.getImageData(0,0,t.width,t.height),o=a.data;for(let e=0,t=a.width;e<t;++e)for(let n=0,i=a.height;n<i;++n){let i=(n*t+e)*4,a=function(e,t,r){let n=Math.max(0,Math.min(1,(r-.65)/.19999999999999996));return n*n*(3-2*n)}(.65,.85,o[i+3]/255);a>0?(o[i+0]=Math.round(255*r.r*a),o[i+1]=Math.round(255*r.g*a),o[i+2]=Math.round(255*r.b*a),o[i+3]=Math.round(255*a)):o[i+3]=0}return i.putImageData(a,0,0),n}let rV=Array(256).join("");function rW(e,t){if(t>=.05){let r="",n=e.split("\n"),i=rV.slice(0,Math.round(t/.1));for(let e=0,t=n.length;e<t;++e)e>0&&(r+="\n"),r+=n[e].split("").join(i);return r}return e}function rJ(){return n||(n=rI(1,1).getContext("2d")),n}function rZ(e,t){return rJ().measureText(e).width+(e.length-1)*t}let rB={};function rX(e,t,r,n){if(-1!==e.indexOf("\n")){let i=e.split("\n"),a=[];for(let e=0,o=i.length;e<o;++e)a.push(rX(i[e],t,r,n));return a.join("\n")}let i=r+","+t+","+e+","+n,a=rB[i];if(!a){let o=e.split(" ");if(o.length>1){let e=rJ();e.font=t;let i=e.measureText("M").width*r,s="",l=[];for(let e=0,t=o.length;e<t;++e){let t=o[e],r=s+(s?" ":"")+t;rZ(r,n)<=i?s=r:(s&&l.push(s),s=t)}s&&l.push(s);for(let e=0,t=l.length;e<t&&t>1;++e){let r=l[e];if(rZ(r,n)<.35*i){let i=e>0?rZ(l[e-1],n):1/0,a=e<t-1?rZ(l[e+1],n):1/0;l.splice(e,1),t-=1,i<a?(l[e-1]+=" "+r,e-=1):l[e]=r+" "+l[e]}}for(let e=0,t=l.length-1;e<t;++e){let r=l[e],a=l[e+1];if(rZ(r,n)>.7*i&&rZ(a,n)<.6*i){let o=r.split(" "),s=o.pop();rZ(s,n)<.2*i&&(l[e]=o.join(" "),l[e+1]=s+" "+a),t-=1}}a=l.join("\n")}else a=e;a=rW(a,n),rB[i]=a}return a}let rH=/font-family: ?([^;]*);/,rY=/("|')/g,rK={},rQ={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},r0={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},r1=function(e,t){let r=function(e,t){if("error"===(e=ra(e,t)).result)return e;let r=e.value.expression,n=tm(r);if(!n&&"data-driven"!==t["property-type"])return rr([new eC("","data expressions not supported")]);let i=ty(r,["zoom","pitch","distance-from-center"]);if(!i&&!(t.expression&&t.expression.parameters.indexOf("zoom")>-1))return rr([new eC("","zoom expressions not supported")]);let a=function e(t){let r=null;if(t instanceof tV)r=e(t.result);else if(t instanceof tG){for(let n of t.args)if(r=e(n))break}else(t instanceof tw||t instanceof tN)&&t.input instanceof tt&&"zoom"===t.input.name&&(r=t);return r instanceof eC||t.eachChild(t=>{let n=e(t);n instanceof eC?r=n:!r&&n?r=new eC("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new eC("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(r);if(!a&&!i)return rr([new eC("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof eC)return rr([a]);if(a instanceof tN&&!(t.expression&&t.expression.interpolated))return rr([new eC("",'"interpolate" expressions cannot be used with this property')]);if(!a)return rt(n?new ro("constant",e.value):new ro("source",e.value));let o=a instanceof tN?a.interpolation:void 0;return rt(n?new rs("camera",e.value,a.labels,o):new rs("composite",e.value,a.labels,o))}(e,t);if("error"===r.result)throw Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value},r2={},r5={zoom:0};function r3(e,t,r,n,i,a,o){let s=e.id;a||(a={},console.warn("No functionCache provided to getValue()")),a[s]||(a[s]={});let l=a[s];if(!l[r]){var u;let n=(e[t]||r2)[r],i=rl[`${t}_${e.type}`][r];void 0===n&&(n=i.default);let a=Array.isArray(u=n)&&u.length>0&&"string"==typeof u[0]&&u[0]in t6;if(!a&&rn(n)&&(n=function(e,t){let r=e.stops;if(!r){var n=e,i=t;let r=["get",n.property];if(void 0===n.default)return"string"===i.type?["string",r]:r;{if("enum"===i.type)return["match",r,Object.keys(i.values),r,n.default];let e=["color"===i.type?"to-color":i.type,r,ek(n.default)];return"array"===i.type&&e.splice(1,0,i.value,i.length||null),e}}let a=r&&"object"==typeof r[0][0],o=a||void 0!==e.property;return(r=r.map(e=>!o&&t.tokens&&"string"==typeof e[1]?[e[0],function(e){let t=["concat"],r=/{([^{}]+)}/g,n=0;for(let i=r.exec(e);null!==i;i=r.exec(e)){let a=e.slice(n,r.lastIndex-i[0].length);n=r.lastIndex,a.length>0&&t.push(a),t.push(["get",i[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}(e[1])]:[e[0],ek(e[1])]),a)?function(e,t,r){let n={},i={},a=[];for(let t=0;t<r.length;t++){let o=r[t],s=o[0].zoom;void 0===n[s]&&(n[s]={zoom:s,type:e.type,property:e.property,default:e.default},i[s]=[],a.push(s)),i[s].push([o[0].value,o[1]])}if("exponential"===e$({},t)){let r=[ez(e),["linear"],["zoom"]];for(let e of a){let a=eS(n[e],t,i[e]);eE(r,e,a,!1)}return r}{let e=["step",["zoom"]];for(let r of a){let a=eS(n[r],t,i[r]);eE(e,r,a,!0)}return e_(e),e}}(e,t,r):a||!o?function(e,t,r,n=["zoom"]){let i,a=e$(e,t),o=!1;if("interval"===a)i=["step",n],o=!0;else if("exponential"===a){let t=void 0!==e.base?e.base:1;i=[ez(e),1===t?["linear"]:["exponential",t],n]}else throw Error(`Unknown zoom function type "${a}"`);for(let e of r)eE(i,e[0],e[1],o);return e_(i),i}(e,t,r):eS(e,t,r)}(n,i),a=!0),a){let e=r1(n,i);l[r]=e.evaluate.bind(e)}else"color"==i.type&&(n=ew.parse(n)),l[r]=function(){return n}}return r5.zoom=n,l[r](r5,i,o)}function r4(e,t,r,n,i){return r3(e,"layout",`${n}-allow-overlap`,t,r,i)?r3(e,"layout",`${n}-ignore-placement`,t,r,i)?"none":"obstacle":"declutter"}function r8(e,t){if(e){if(0===e.a||0===t)return;let r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}let r9=/\{[^{}}]*\}/g;function r6(e,t){return e.replace(r9,function(e){return t[e.slice(1,-1)]||""})}let r7={};function ne(e,t){let r,n,i,a,o,s,l,u,p,c,f,d,m,h,y,g,b,v,x,w,k,z=e[0],M=z.width,S=z.height,_=z.data,E=new Uint8ClampedArray(_.length),$=2*t.resolution,C=M-1,q=S-1,j=[0,0,0,0],A=2*Math.PI,T=Math.PI/2,I=Math.PI*t.sunEl/180,P=Math.PI*t.sunAz/180,F=Math.cos(I),D=Math.sin(I),R=t.highlightColor,O=t.shadowColor,L=t.accentColor,N=t.encoding;function U(e,t="mapbox"){return"mapbox"===t?(256*e[0]*256+256*e[1]+e[2])*.1-1e4:"terrarium"===t?256*e[0]+e[1]+e[2]/256-32768:void 0}for(n=0;n<=q;++n)for(r=0,o=0===n?0:n-1,s=n===q?q:n+1;r<=C;++r)i=0===r?0:r-1,a=r===C?C:r+1,l=(n*M+i)*4,j[0]=_[l],j[1]=_[l+1],j[2]=_[l+2],j[3]=_[l+3],u=t.vert*U(j,N),l=(n*M+a)*4,j[0]=_[l],j[1]=_[l+1],j[2]=_[l+2],j[3]=_[l+3],p=(t.vert*U(j,N)-u)/$,l=(o*M+r)*4,j[0]=_[l],j[1]=_[l+1],j[2]=_[l+2],j[3]=_[l+3],u=t.vert*U(j,N),l=(s*M+r)*4,j[0]=_[l],j[1]=_[l+1],j[2]=_[l+2],j[3]=_[l+3],d=(d=Math.atan2(c=(t.vert*U(j,N)-u)/$,-p))<0?T-d:d>T?A-d+T:T-d,k=D*Math.cos(f=Math.atan(Math.sqrt(p*p+c*c)))+F*Math.sin(f)*Math.cos(P-d),m=Math.cos(f),h=255*k,v=Math.min(Math.max(2*t.sunEl,0),1),x=1.875-1.75*t.opacity,w=.5!==t.opacity?(Math.pow(x,f)-1)/(Math.pow(x,T)-1)*T:f,g={r:(1-m)*L.r*v*255,g:(1-m)*L.g*v*255,b:(1-m)*L.b*v*255,a:(1-m)*L.a*v*255},y=Math.abs(((d+P)/Math.PI+.5)%2-1),b={r:(R.r*(1-y)+O.r*y)*h,g:(R.g*(1-y)+O.g*y)*h,b:(R.b*(1-y)+O.b*y)*h,a:(R.a*(1-y)+O.a*y)*h},E[l=(n*M+r)*4]=g.r*(1-y)+b.r,E[l+1]=g.g*(1-y)+b.g,E[l+2]=g.b*(1-y)+b.b,E[l+3]=_[l+3]*t.opacity*v*Math.sin(w);return new ImageData(E,M,S)}function nt(e,t){return t.accessToken||(t=Object.assign({},t),new URL(e).searchParams.forEach((e,r)=>{t.accessToken=e,t.accessTokenParam=r})),t}let nr={};function nn(e,t){let r;return e.some(function(e){if(e.id==t)return r=e.source,!0}),r}function ni(e,t,r){let n=new(J())({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),i=n.getTileJSON(),a=n.getTileGrid(),o=(0,el.get)(r.projection||"EPSG:3857"),s=function(e,t){let r=e.bounds;if(r){let e=(0,el.fromLonLat)([r[0],r[1]],t),n=(0,el.fromLonLat)([r[2],r[3]],t);return[e[0],e[1],n[0],n[1]]}return(0,el.get)(t).getExtent()}(i,o),l=o.getExtent(),u=i.minzoom||0,p=i.maxzoom||22,c={attributions:n.getAttributions(),projection:o,tileGrid:new(V())({origin:l?(0,eu.getTopLeft)(l):a.getOrigin(0),extent:s||a.getExtent(),minZoom:u,resolutions:(function(e,t=512){return e.getExtent()?(0,es.createXYZ)({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():rT})(o,t.tileSize).slice(0,p+1),tileSize:a.getTileSize(0)})};return Array.isArray(i.tiles)?c.urls=i.tiles:c.url=i.tiles,c}function na(e,t,r){return new Promise(function(n,i){rN(e,t,r).then(function({tileJson:t,tileLoadFunction:i}){let a=ni(e,t,r);a.tileLoadFunction=i,a.format=new(F()),n(new(er())(a))}).catch(i)})}function no(e){let t=e?e.getCode():"EPSG:3857";return`{bbox-${t.toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function ns(e,t,r){let n=new(B());return new Promise(function(n,i){rN(e,t,r).then(function({tileJson:t,tileLoadFunction:i}){let a=new(J())({interpolate:void 0===r.interpolate||r.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:t});a.tileGrid=ni(e,t,r).tileGrid,r.projection&&(a.projection=(0,el.get)(r.projection));let o=a.getTileUrlFunction();i&&a.setTileLoadFunction(i),a.setTileUrlFunction(function(e,t,r){let n=no(r),i=o(e,t,r);if(-1!=i.indexOf(n)){let t=a.getTileGrid().getTileCoordExtent(e);i=i.replace(n,t.toString())}return i}),a.set("mapbox-source",e),n(a)}).catch(function(e){i(e)})}).then(function(e){n.setSource(e)}).catch(function(){n.setSource(void 0)}),n}function nl(e,t,r){let n=r.projection?new(C())({dataProjection:r.projection}):new(C()),i=e.data,a={};if("string"==typeof i){let[a]=r_(i,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(a)){let t=new(K())({attributions:e.attribution,format:n,loader:(e,n,i,o,s)=>{var l;let u;rR("GeoJSON",(l=e,u=no(i),a.replace(u,`${l.join(",")}`)),r).then(e=>{let r=t.getFormat().readFeatures(e,{featureProjection:i});t.addFeatures(r),o(r)}).catch(r=>{t.removeLoadedExtent(e),s()})},strategy:eo.bbox});return t.set("mapbox-source",e),t}let o=new(K())({attributions:e.attribution,format:n,url:a,loader:(e,t,n,i,s)=>{rR("GeoJSON",a,r).then(e=>{let t=o.getFormat().readFeatures(e,{featureProjection:n});o.addFeatures(t),i(t)}).catch(t=>{o.removeLoadedExtent(e),s()})}});return o}a.features=n.readFeatures(i,{featureProjection:(0,el.getUserProjection)()||"EPSG:3857"});let o=new(K())(Object.assign({attributions:e.attribution,format:n},a));return o.set("mapbox-source",e),o}function nu(e,t,r,n){let i,a,o,s=[],l=null;if(t instanceof R()){if(!(l=t.getView()).isDef()&&!l.getRotation()&&!l.getResolutions()){let e=n.projection?(0,el.get)(n.projection):l.getProjection();l=new(ei())(Object.assign(l.getProperties(),{maxResolution:rT[0]/ea.METERS_PER_UNIT[e.getUnits()],projection:n.projection||l.getProjection()})),t.setView(l)}"center"in e&&!l.getCenter()&&l.setCenter((0,el.fromLonLat)(e.center,l.getProjection())),"zoom"in e&&void 0===l.getZoom()&&l.setResolution(rT[0]/ea.METERS_PER_UNIT[l.getProjection().getUnits()]/Math.pow(2,e.zoom)),l.getCenter()&&void 0!==l.getZoom()||l.fit(l.getProjection().getExtent(),{nearest:!0,size:t.getSize()})}t.set("mapbox-style",e),t.set("mapbox-metadata",{styleUrl:r,options:n});let u=e.layers,p=[];for(let l=0,c=u.length;l<c;++l){let c=u[l],f=c.type;if("heatmap"==f){console.debug(`layers[${l}].type "${f}" not supported`);continue}(o=c.source||nn(u,c.ref))&&o==a||(p.length&&(s.push(nc(i,p,e,r,t,n)),p=[]),(i=function(e,t,r,n){var i;let a,o=rj(e),s=e.layers,l=r.type,u=r.source||nn(s,r.ref),p=e.sources[u];if("background"==l)a=function(e,t,r){let n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new(T())({source:new(U())({}),render(i){var a,o,s,l;let u,p,c,f,d,m,h=(a=e,o=i.viewState.resolution,s=t,l=r,p={id:a.id,type:a.type},c=a.layout||{},p.paint=f=a.paint||{},m=r3(p,"paint","background-color",d=rP(o,s.resolutions||rT),nr,l),void 0!==f["background-opacity"]&&(u=r3(p,"paint","background-opacity",d,nr,l)),"none"==c.visibility?void 0:r8(m,u));return n.style.backgroundColor=h,n}})}(r,n,o);else if("vector"==p.type){let e;e=new(ee())({declutter:!0,visible:!1}),na(p,t,n).then(function(t){t.set("mapbox-source",p),e.setSource(t)}).catch(function(t){e.setSource(void 0)}),a=e}else if("raster"==p.type){let e;(a=ns(p,t,n)).setVisible(!r.layout||"none"!==r.layout.visibility),a.on("prerender",(i=a,e=null,function(t){r.paint&&"raster-opacity"in r.paint&&t.frameState.viewState.zoom!==e&&(e=t.frameState.viewState.zoom,delete o[r.id],function(e,t,r,n){let i=r3(e,"paint","raster-opacity",r,nr,n);t.setOpacity(i)}(r,i,e,o))}))}else if("geojson"==p.type)a=new(H())({declutter:!0,source:nl(p,t,n),visible:!1});else if("raster-dem"==p.type&&"hillshade"==r.type){let e,i=(e=ns(p,t,n),new(j())({source:new(L())({operationType:"image",operation:ne,sources:[e]})}));a=i,i.getSource().on("beforeoperations",function(e){let t=e.data;t.resolution=(0,el.getPointResolution)(n.projection||"EPSG:3857",e.resolution,(0,eu.getCenter)(e.extent),"m");let i=rP(e.resolution,n.resolutions||rT);t.encoding=p.encoding,t.vert=5*r3(r,"paint","hillshade-exaggeration",i,nr,o),t.sunAz=r3(r,"paint","hillshade-illumination-direction",i,nr,o),t.sunEl=35,t.opacity=.3,t.highlightColor=r3(r,"paint","hillshade-highlight-color",i,nr,o),t.shadowColor=r3(r,"paint","hillshade-shadow-color",i,nr,o),t.accentColor=r3(r,"paint","hillshade-accent-color",i,nr,o)}),a.setVisible(!r.layout||"none"!==r.layout.visibility)}return a&&a.set("mapbox-source",u),a}(e,r,c,n))instanceof H()||i instanceof ee()||(p=[]),a=i.get("mapbox-source")),p.push(c.id)}return s.push(nc(i,p,e,r,t,n)),Promise.all(s)}function np(e,t,r={}){let n,i;if(i="string"==typeof e||e instanceof HTMLElement?new(R())({target:e}):e,"string"==typeof t){let e=t.startsWith("data:")?location.href:rM(t,r.accessToken);r=nt(e,r),n=new Promise(function(n,a){rO(t,r).then(function(t){nu(t,i,e,r).then(function(){n(i)}).catch(a)}).catch(function(e){a(Error(`Could not load ${t}: ${e.message}`))})})}else n=new Promise(function(e,n){nu(t,i,!r.styleUrl||r.styleUrl.startsWith("data:")?location.href:rM(r.styleUrl,r.accessToken),r).then(function(){e(i)}).catch(n)});return n}function nc(e,t,r,n,s,l={}){let p=24,f=0,m=r.layers;for(let e=0,r=m.length;e<r;++e){let r=m[e];-1!==t.indexOf(r.id)&&(p=Math.min("minzoom"in r?r.minzoom:0,p),f=Math.max("maxzoom"in r?r.maxzoom:24,f))}return new Promise(function(m,y){let b=function(){let b=e.getSource();if(!b||"error"===b.getState())return void y(Error("Error accessing data for source "+e.get("mapbox-source")));if("getTileGrid"in b){let t=b.getTileGrid();if(t){let r=t.getMinZoom();(p>0||r>0)&&e.setMaxResolution(Math.min(rF(Math.max(0,p-1e-12),rT),rF(Math.max(0,r-1e-12),t.getResolutions()))),f<24&&e.setMinResolution(rF(f,rT))}}else p>0&&e.setMaxResolution(rF(Math.max(0,p-1e-12),rT));b instanceof K()||b instanceof er()?(function(e,t,r="",n={},s){let l,p,f,m,y=!0;return"string"==typeof r||Array.isArray(r)?m=r:(f=r,m=f.source||f.layers,n=f),"string"==typeof n?(l=n,f={}):(l=n.styleUrl,f=n),!1===f.updateSource&&(y=!1),s||(s=f.resolutions),l||"string"!=typeof t||t.trim().startsWith("{")||(l=t),l&&(f=nt(l=l.startsWith("data:")?location.href:rM(l,f.accessToken),f)),new Promise(function(r,n){rO(t,f).then(function(t){let b,x,M;if(8!=t.version)return n(Error("glStyle version 8 required."));if(!(e instanceof H()||e instanceof ee()))return n(Error("Can only apply to VectorLayer or VectorTileLayer"));let S=e instanceof ee()?"vector":"geojson";if(m?p=Array.isArray(m)?t.layers.find(function(e){return e.id===m[0]}).source:m:m=p=Object.keys(t.sources).find(function(e){return t.sources[e].type===S}),!p)return n(Error(`No ${S} source found in the glStyle.`));function _(){if(!y)return Promise.resolve();if(e instanceof ee())return na(t.sources[p],l,f).then(function(t){let r=e.getSource();r?t!==r&&(r.setTileUrlFunction(t.getTileUrlFunction()),"function"==typeof r.setUrls&&"function"==typeof t.getUrls&&r.setUrls(t.getUrls()),r.format_||(r.format_=t.format_),r.getAttributions()||r.setAttributions(t.getAttributions()),r.getTileLoadFunction()===et.defaultLoadFunction&&r.setTileLoadFunction(t.getTileLoadFunction()),(0,el.equivalent)(r.getProjection(),t.getProjection())&&(r.tileGrid=t.getTileGrid())):e.setSource(t);let n=e.getSource().getTileGrid();!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())&&n.getMinZoom()>0&&e.setMaxResolution(rF(Math.max(0,n.getMinZoom()-1e-12),n.getResolutions()))});let r=t.sources[p],n=e.getSource();n&&n.get("mapbox-source")===r||(n=nl(r,l,f));let i=e.getSource();return i?n!==i&&(i.getAttributions()||i.setAttributions(n.getAttributions()),i.format_||(i.format_=n.getFormat()),i.url_=n.getUrl()):e.setSource(n),Promise.resolve()}function $(){if(M||t.sprite&&!b)M?(e.setStyle(M),_().then(r).catch(n)):n(Error("Something went wrong trying to apply style."));else{if(f.projection&&!s){let e=(0,el.get)(f.projection).getUnits();"m"!==e&&(s=rT.map(t=>t/ea.METERS_PER_UNIT[e]))}M=function(e,t,r,n=rT,i,s,l,p){var f;let m,y,b,x,z;if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw Error("glStyle version 8 required.");if(r7[rq(t)+"."+(0,E.getUid)(e)]=Array.from(arguments),s){if("undefined"!=typeof Image){let t,r=new Image;(0,k.toPromise)(()=>s).then(e=>{e instanceof Request?fetch(e).then(e=>e.blob()).then(e=>{r.src=t=URL.createObjectURL(e)}).catch(()=>{}):(r.crossOrigin="anonymous",r.src=e,t&&URL.revokeObjectURL(t))}),r.onload=function(){m=r,y=[r.width,r.height],e.changed(),r.onload=null}}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){let e=self;e.postMessage({action:"loadImage",src:s}),e.addEventListener("message",function(e){"imageLoaded"===e.data.action&&e.data.src===s&&(y=[(m=e.data.image).width,m.height])})}}let M=rg(t.layers),S={},_=[],$={},C={},q=rj(t),j=((z=r$[(f=t).id])||(z={},r$[rq(f)]=z),z);for(let e=0,n=M.length;e<n;++e){let n=M[e],i=n.id;if("string"==typeof r&&n.source==r||Array.isArray(r)&&-1!==r.indexOf(i)){let r=n["source-layer"];if(x){if(n.source!==x)throw Error(`Layer "${i}" does not use source "${x}`)}else{x=n.source;let e=t.sources[x];if(!e)throw Error(`Source "${x}" is not defined`);let r=e.type;if("vector"!==r&&"geojson"!==r)throw Error(`Source "${x}" is not of type "vector" or "geojson", but "${r}"`)}let a=S[r];a||(a=[],S[r]=a),a.push({layer:n,index:e}),_.push(i)}}let A=new(g()),T=new(c()),I=[],P=function(r,s,f){let x=r.getProperties(),k=S[x.layer];if(!k)return;let z=n.indexOf(s);-1==z&&(z=rP(s,n));let M=rQ[r.getGeometry().getType()],_={id:r.getId(),properties:x,type:M},E=e.get("mapbox-featurestate")[r.getId()],P=-1;for(let n=0,S=k.length;n<S;++n){var F;let S=k[n],D=S.layer,R=D.id;if(void 0!==f&&f!==R)continue;let O=D.layout||r2,L=D.paint||r2;if("none"===O.visibility||"minzoom"in D&&z<D.minzoom||"maxzoom"in D&&z>=D.maxzoom)continue;let N=D.filter;if(!N||(F=z,j||console.warn("No filterCache provided to evaluateFilter()"),R in j||(j[R]=function(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};!function e(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(let r of t.slice(1))if(!e(r)&&"boolean"!=typeof r)return!1;return!0;default:return!0}}(e)&&(e=function e(t){if(!t)return!0;let r=t[0];return t.length<=1?"any"!==r:"=="===r?rf(t[1],t[2],"=="):"!="===r?rh(rf(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?rf(t[1],t[2],r):"any"===r?["any"].concat(t.slice(1).map(e)):"all"===r?["all"].concat(t.slice(1).map(e)):"none"===r?["all"].concat(t.slice(1).map(e).map(rh)):"in"===r?rd(t[1],t.slice(2)):"!in"===r?rh(rd(t[1],t.slice(2))):"has"===r?rm(t[1]):"!has"===r?rh(rm(t[1])):"within"!==r||t}(e));let r=e,n=!0;try{n=function(e){if(!ru(e))return e;let t=function e(t){if(Array.isArray(t))return t.map(e);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){let r={};for(let n in t)r[n]=e(t[n]);return r}return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}(e);return function e(t){let r=!1,n=[];if("case"===t[0]){for(let e=1;e<t.length-1;e+=2)r=r||ru(t[e]),n.push(t[e+1]);n.push(t[t.length-1])}else if("match"===t[0]){r=r||ru(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){r=r||ru(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}r&&(t.length=0,t.push("any",...n));for(let r=1;r<t.length;r++)e(t[r])}(t),t=function e(t){if(!Array.isArray(t))return t;let r=function(e){if(rp.has(e[0])){for(let t=1;t<e.length;t++)if(ru(e[t]))return!0}return e}(t);return!0===r?r:r.map(t=>e(t))}(t)}(r)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(r,null,2)}
        `)}let i=rl[`filter_${t}`],a=ra(n,i),o=null;if("error"===a.result)throw Error(a.value.map(e=>`${e.key}: ${e.message}`).join(", "));o=(e,t,r)=>a.value.evaluate(e,t,{},r);let s=null,l=null;if(n!==r){let e=ra(r,i);if("error"===e.result)throw Error(e.value.map(e=>`${e.key}: ${e.message}`).join(", "));s=(t,r,n,i,a)=>e.value.evaluate(t,r,{},n,void 0,void 0,i,a),l=!tm(e.value.expression)}return{filter:o,dynamicFilter:s||void 0,needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(n),needFeature:!!l}}(N).filter),r5.zoom=F,j[R](r5,_))){let n,f,k,j,F,R,N,U,G,V,W,J,Z,B,X,H=S.index;if(3==M&&("fill"==D.type||"fill-extrusion"==D.type))if(f=r3(D,"paint",D.type+"-opacity",z,_,q,E),D.type+"-pattern"in L){let e=r3(D,"paint",D.type+"-pattern",z,_,q,E);if(e){let t="string"==typeof e?r6(e,x):e.toString();if(m&&i&&i[t]){(!(R=I[++P])||!R.getFill()||R.getStroke()||R.getText())&&(R=new(v())({fill:new(c())}),I[P]=R),k=R.getFill(),R.setZIndex(H);let e=t+"."+f,r=C[e];if(!r){let n=i[t],a=rI(n.width,n.height),o=a.getContext("2d");o.globalAlpha=f,o.drawImage(m,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r=o.createPattern(a,"repeat"),C[e]=r}k.setColor(r)}}}else n=r8(r3(D,"paint",D.type+"-color",z,_,q,E),f),D.type+"-outline-color"in L&&(F=r8(r3(D,"paint",D.type+"-outline-color",z,_,q,E),f)),F||(F=n),(n||F)&&((!(R=I[++P])||n&&!R.getFill()||!n&&R.getFill()||F&&!R.getStroke()||!F&&R.getStroke()||R.getText())&&(R=new(v())({fill:n?new(c()):void 0,stroke:F?new(g()):void 0}),I[P]=R),n&&(k=R.getFill()).setColor(n),F&&((j=R.getStroke()).setColor(F),j.setWidth(.5)),R.setZIndex(H));if(1!=M&&"line"==D.type){n="line-pattern"in L?void 0:r8(r3(D,"paint","line-color",z,_,q,E),r3(D,"paint","line-opacity",z,_,q,E));let e=r3(D,"paint","line-width",z,_,q,E);n&&e>0&&((!(R=I[++P])||!R.getStroke()||R.getFill()||R.getText())&&(R=new(v())({stroke:new(g())}),I[P]=R),(j=R.getStroke()).setLineCap(r3(D,"layout","line-cap",z,_,q,E)),j.setLineJoin(r3(D,"layout","line-join",z,_,q,E)),j.setMiterLimit(r3(D,"layout","line-miter-limit",z,_,q,E)),j.setColor(n),j.setWidth(e),j.setLineDash(L["line-dasharray"]?r3(D,"paint","line-dasharray",z,_,q,E).map(function(t){return t*e}):null),R.setZIndex(H))}let Y=!1,K=null,Q=0;if((1==M||2==M)&&"icon-image"in O){let t=r3(D,"layout","icon-image",z,_,q,E);if(t){let n;N="string"==typeof t?r6(t,x):t.toString();let l=p?p(e,N):void 0;if(m&&i&&i[N]||l){let e=r3(D,"layout","icon-rotation-alignment",z,_,q,E);if(2==M){let t=r.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){let r=t.getExtent();if(Math.sqrt(Math.max(Math.pow((r[2]-r[0])/s,2),Math.pow((r[3]-r[1])/s,2)))>150){let r="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();if(o||(a=[NaN,NaN],o=new(h())("Point",a,[],2,{},void 0)),n=o,a[0]=r[0],a[1]=r[1],"line"===r3(D,"layout","symbol-placement",z,_,q,E)&&"map"===e){let e=t.getStride(),n=t.getFlatCoordinates();for(let t=0,i=n.length-e;t<i;t+=e){let i=n[t],a=n[t+1],o=n[t+e],s=n[t+e+1],l=Math.min(i,o),u=Math.max(i,o),p=r[0];if(.001>Math.abs((s-a)*(p-i)-(o-i)*(r[1]-a))&&p<=u&&p>=l){Q=Math.atan2(a-s,o-i);break}}}}}}if(2!==M||n){let t=r3(D,"layout","icon-size",z,_,q,E),r=void 0!==L["icon-color"]?r3(D,"paint","icon-color",z,_,q,E):null;if(!r||0!==r.a){let n=r3(D,"paint","icon-halo-color",z,_,q,E),a=r3(D,"paint","icon-halo-width",z,_,q,E),o=`${N}.${t}.${a}.${n}`;if(null!==r&&(o+=`.${r}`),!(U=$[o])){let s,u=r4(D,z,_,"icon",q);"icon-offset"in O&&(s=r3(D,"layout","icon-offset",z,_,q,E).slice(0),s[0]*=t,s[1]*=-t);let p=r?[255*r.r,255*r.g,255*r.b,r.a]:void 0;if(l){let r={color:p,rotateWithView:"map"===e,displacement:s,declutterMode:u,scale:t};"string"==typeof l?r.src=l:(r.img=l,r.imgSize=[l.width,l.height]),U=new(d())(r)}else{let o,l,c,f=i[N];a?f.sdf?(o=rU(rG(m,f,r||[0,0,0,1]),{x:0,y:0,width:f.width,height:f.height,pixelRatio:f.pixelRatio},a,n),p=void 0):o=rU(m,f,a,n):(f.sdf?(b||(b=rG(m,{x:0,y:0,width:y[0],height:y[1]},{r:1,g:1,b:1,a:1})),o=b):o=m,l=[f.width,f.height],c=[f.x,f.y]),U=new(d())({color:p,img:o,imgSize:y,size:l,offset:c,rotateWithView:"map"===e,scale:t/f.pixelRatio,displacement:s,declutterMode:u})}$[o]=U}}U&&((!(R=I[++P])||!R.getImage()||R.getFill()||R.getStroke())&&(R=new(v()),I[P]=R),R.setGeometry(n),U.setRotation(Q+rA(r3(D,"layout","icon-rotate",z,_,q,E))),U.setOpacity(r3(D,"paint","icon-opacity",z,_,q,E)),U.setAnchor(r0[r3(D,"layout","icon-anchor",z,_,q,E)]),R.setImage(U),K=R.getText(),R.setText(void 0),R.setZIndex(H),Y=!0,G=!1)}else G=!0}}}if(1==M&&"circle"===D.type){(!(R=I[++P])||!R.getImage()||R.getFill()||R.getStroke())&&(R=new(v()),I[P]=R);let e="circle-radius"in L?r3(D,"paint","circle-radius",z,_,q,E):5,t=r8(r3(D,"paint","circle-stroke-color",z,_,q,E),r3(D,"paint","circle-stroke-opacity",z,_,q,E)),r=r3(D,"paint","circle-translate",z,_,q,E),n=r8(r3(D,"paint","circle-color",z,_,q,E),r3(D,"paint","circle-opacity",z,_,q,E)),i=r3(D,"paint","circle-stroke-width",z,_,q,E),a=e+"."+t+"."+n+"."+i+"."+r[0]+"."+r[1];(U=$[a])||(U=new(u())({radius:e,displacement:[r[0],-r[1]],stroke:t&&i>0?new(g())({width:i,color:t}):void 0,fill:n?new(c())({color:n}):void 0,declutterMode:"none"}),$[a]=U),R.setImage(U),K=R.getText(),R.setText(void 0),R.setGeometry(void 0),R.setZIndex(H),Y=!0}if("text-field"in O){Z=Math.round(r3(D,"layout","text-size",z,_,q,E));let e=r3(D,"layout","text-font",z,_,q,E);J=r3(D,"layout","text-line-height",z,_,q,E),(W=rw(l?l(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,Z,J)).includes("sans-serif")||(W+=",sans-serif"),B=r3(D,"layout","text-letter-spacing",z,_,q,E),X=r3(D,"layout","text-max-width",z,_,q,E);let r=r3(D,"layout","text-field",z,_,q,E);V="object"==typeof r&&r.sections?1===r.sections.length?r.toString():r.sections.reduce((t,r,n)=>{let i=r.fontStack?r.fontStack.split(","):e,a=rw(l?l(i):i,Z*(r.scale||1),J),o=r.text;if("\n"===o)return t.push("\n",""),t;if(2==M)return t.push(rW(o,B),a),t;o=rX(o,a,X,B).split("\n");for(let e=0,r=o.length;e<r;++e)e>0&&t.push("\n",""),t.push(o[e],a);return t},[]):r6(r,x).trim(),f=r3(D,"paint","text-opacity",z,_,q,E)}if(V&&f&&!G){let e;Y||((!(R=I[++P])||!R.getText()||R.getFill()||R.getStroke())&&(R=new(v()),I[P]=R),R.setImage(void 0),R.setGeometry(void 0));let t=r4(D,z,_,"text",q);R.getText()||R.setText(K),(!(K=R.getText())||"getDeclutterMode"in K&&K.getDeclutterMode()!==t)&&(K=new(w())({padding:[2,2,2,2],declutterMode:t}),R.setText(K));let r=r3(D,"layout","text-transform",z,_,q,E);"uppercase"==r?V=Array.isArray(V)?V.map((e,t)=>t%2?e:e.toUpperCase()):V.toUpperCase():"lowercase"==r&&(V=Array.isArray(V)?V.map((e,t)=>t%2?e:e.toLowerCase()):V.toLowerCase());let n=Array.isArray(V)?V:2==M?rW(V,B):rX(V,W,X,B);if(K.setText(n),K.setFont(W),K.setRotation(rA(r3(D,"layout","text-rotate",z,_,q,E))),"function"==typeof K.setKeepUpright){let e=r3(D,"layout","text-keep-upright",z,_,q,E);K.setKeepUpright(e)}let i=r3(D,"layout","text-anchor",z,_,q,E),a=Y||1==M?"point":r3(D,"layout","symbol-placement",z,_,q,E);if("line-center"===a?(K.setPlacement("line"),e="center"):K.setPlacement(a),"line"===a&&"function"==typeof K.setRepeat){let e=r3(D,"layout","symbol-spacing",z,_,q,E);K.setRepeat(2*e)}K.setOverflow("point"===a);let o=r3(D,"paint","text-halo-width",z,_,q,E),s=r3(D,"layout","text-offset",z,_,q,E),l=r3(D,"paint","text-translate",z,_,q,E),u=0,p=0;if("point"==a){e="center",-1!==i.indexOf("left")?(e="left",p=o):-1!==i.indexOf("right")&&(e="right",p=-o);let t=r3(D,"layout","text-rotation-alignment",z,_,q,E);K.setRotateWithView("map"==t)}else K.setMaxAngle(rA(r3(D,"layout","text-max-angle",z,_,q,E))*V.length/n.length),K.setRotateWithView(!1);K.setTextAlign(e);let c="middle";0==i.indexOf("bottom")?(c="bottom",u=-o-.5*(J-1)*Z):0==i.indexOf("top")&&(c="top",u=o+.5*(J-1)*Z),K.setTextBaseline(c);let d=r3(D,"layout","text-justify",z,_,q,E);K.setJustify("auto"===d?void 0:d),K.setOffsetX(s[0]*Z+p+l[0]),K.setOffsetY(s[1]*Z+u+l[1]),T.setColor(r8(r3(D,"paint","text-color",z,_,q,E),f)),K.setFill(T);let m=r8(r3(D,"paint","text-halo-color",z,_,q,E),f);if(m&&o>0){A.setColor(m),o*=2;let e=.5*Z;A.setWidth(o<=e?o:e),K.setStroke(A)}else K.setStroke(void 0);let h=r3(D,"layout","text-padding",z,_,q,E),y=K.getPadding();h!==y[0]&&(y[0]=h,y[1]=h,y[2]=h,y[3]=h),R.setZIndex(H)}}}if(P>-1)return I.length=P+1,I};return e.setStyle(P),e.set("mapbox-source",x),e.set("mapbox-layers",_),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),P}(e,t,m,s,b,x,(e,t=f.webfonts)=>(function(e,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){let r=e.toString();if(r in rK)return rK[r];let n=[];for(let t=0,r=e.length;t<r;++t){e[t]=e[t].replace("Arial Unicode MS","Arial");let r=rw(e[t],1);(0,z.registerFont)(r);let i=r.split(" ");n.push([i.slice(3).join(" ").replace(/"/g,""),i[1],i[0]])}for(let e=0,r=n.length;e<r;++e){let r=n[e],a=r[0];if(!function(e){if(!i){i={};let e=document.styleSheets;for(let t=0,r=e.length;t<r;++t){let r=e[t];try{let e=r.rules||r.cssRules;if(e)for(let t=0,r=e.length;t<r;++t){let r=e[t];5==r.type&&(i[r.cssText.match(rH)[1].replace(rY,"")]=!0)}}catch(e){}}}return e in i}(a)&&100!==z.checkedFonts.get(`${r[2]}
${r[1]} 
${a}`)){let e=t.replace("{font-family}",a.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",a.replace(/ /g,"+")).replace("{fontweight}",r[1]).replace("{-fontstyle}",r[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",r[2]);if(!document.querySelector('link[href="'+e+'"]')){let t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}}}return rK[r]=e,e})(e,t),f.getImage),e.getStyle()?_().then(r).catch(n):n(Error(`Nothing to show for source [${p}]`))}}if(t.sprite){let e=new URL(function(e,t,r){let n=rz(e);if(!n)return decodeURI(new URL(e,r).href);let i="sprites/";if(0!==n.indexOf(i))throw Error(`unexpected sprites url: ${e}`);let a=n.slice(i.length);return`${rk}/styles/v1/${a}/sprite?access_token=${t}`}(t.sprite,f.accessToken,l||location.href)),r=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",i=e.origin+e.pathname+r+".json"+e.search;new Promise(function(t,r){rR("Sprite",i,f).then(t).catch(function(n){rR("Sprite",i=e.origin+e.pathname+".json"+e.search,f).then(t).catch(r)})}).then(function(t){if(void 0===t&&n(Error("No sprites found.")),b=t,x=e.origin+e.pathname+r+".png"+e.search,f.transformRequest){let e=f.transformRequest(x,"SpriteImage")||x;(e instanceof Request||e instanceof Promise)&&(x=e)}$()}).catch(function(e){n(Error(`Sprites cannot be loaded: ${i}: ${e.message}`))})}else $()}).catch(n)})})(e,r,t,Object.assign({styleUrl:n},l)).then(function(){function t(){let t=s.get("mapbox-style");if(!t)return;let r=rg(t.layers),n=e.get("mapbox-layers"),i=r.filter(function(e){return n.includes(e.id)}).some(function(e){return!e.layout||!e.layout.visibility||"visible"===e.layout.visibility});e.get("visible")!==i&&e.setVisible(i)}e.on("change",t),t(),m()}).catch(y):m()};e.set("mapbox-layers",t);let x=s.getLayers();-1===x.getArray().indexOf(e)&&x.push(e),e.getSource()?b():e.once("change:source",b)})}ec(),ee()},6419:function(e,t,r){"use strict";var n=r(31644),i=r(74255);class a extends n.A{constructor(e,t,r,n,i,a){super(e,t,a),this.extent=null,this.format_=n,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=i,this.url_=r,this.key=r}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==i.default.IDLE&&(this.setState(i.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(i.default.ERROR)}setFeatures(e){this.features_=e,this.setState(i.default.LOADED)}setLoader(e){this.loader_=e}}t.A=a},94092:function(e,t,r){"use strict";function n(){throw Error("Unimplemented abstract method.")}r.r(t),r.d(t,{VERSION:function(){return o},abstract:function(){return n},getUid:function(){return a}});let i=0;function a(e){return e.ol_uid||(e.ol_uid=String(++i))}let o="10.6.1"}}]);
//# sourceMappingURL=5361.4abb2ea0e6fbad7a.js.map