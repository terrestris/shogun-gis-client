"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["5678"],{54616:function(t,e,i){i.r(e),i.d(e,{CollectionEvent:function(){return r}});var n=i(274),s=i(85215),o=i(43354);let a="length";class r extends o.default{constructor(t,e,i){super(t),this.element=e,this.index=i}}class h extends s.default{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){let e=this.array_;for(let i=0,n=e.length;i<n;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(a)}insertAt(t,e){if(t<0||t>this.getLength())throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new r(n.A.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){let e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;let e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new r(n.A.REMOVE,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);let i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new r(n.A.REMOVE,i,t)),this.dispatchEvent(new r(n.A.ADD,e,t))}updateLength_(){this.set(a,this.array_.length)}assertUnique_(t,e){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw Error("Duplicate item added to a unique collection")}}e.default=h},274:function(t,e){e.A={ADD:"add",REMOVE:"remove"}},92601:function(t,e,i){i.r(e);var n=i(5888),s=i(52101);class o extends s.Ay{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==n.A.DBLCLICK){let i=t.originalEvent,n=t.map,o=t.coordinate,a=i.shiftKey?-this.delta_:this.delta_,r=n.getView();(0,s.D2)(r,a,o,this.duration_),i.preventDefault(),e=!0}return!e}}e.default=o},28352:function(t,e,i){i.r(e);var n=i(53094),s=i(7773),o=i(89267),a=i(29991),r=i(29592);class h extends r.default{constructor(t){super({stopDown:a.FALSE}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,o.all)(o.noModifierKeys,o.primaryAction);this.condition_=t.onFocusOnly?(0,o.all)(o.focusWithTabindex,e):e,this.noKinetic_=!1}handleDragEvent(t){let e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());let i=this.targetPointers,s=e.getEventPixel((0,r.centroid)(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){let e=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],i=t.map.getView();(0,n.scale)(e,i.getResolution()),(0,n.rotate)(e,i.getRotation()),i.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){let e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let t=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),r=e.getCoordinateFromPixelInternal([a[0]-t*Math.cos(n),a[1]-t*Math.sin(n)]);i.animateInternal({center:i.getConstrainedCenter(r),duration:500,easing:s.easeOut})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){let e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}e.default=h},16712:function(t,e,i){i.r(e);var n=i(89267),s=i(29991),o=i(17285),a=i(29592);class r extends a.default{constructor(t){t=t||{},super({stopDown:s.FALSE}),this.condition_=t.condition?t.condition:n.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,n.mouseOnly)(t))return;let e=t.map,i=e.getView();if(i.getConstraints().rotation===o.b8)return;let s=e.getSize(),a=t.pixel,r=Math.atan2(s[1]/2-a[1],a[0]-s[0]/2);if(void 0!==this.lastAngle_){let t=r-this.lastAngle_;i.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){return!(0,n.mouseOnly)(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!(0,n.mouseOnly)(t)&&!!((0,n.mouseActionButton)(t)&&this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}}e.default=r},58031:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var n=i(53094),s=i(55506),o="ArrowLeft",a="ArrowRight",r="ArrowDown",h=i(89267),l=i(52101);class d extends l.Ay{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return(0,h.noModifierKeys)(t)&&(0,h.targetNotEditable)(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==s.default.KEYDOWN){let i=t.originalEvent,s=i.key;if(this.condition_(t)&&(s==r||s==o||s==a||"ArrowUp"==s)){let h=t.map.getView(),d=h.getResolution()*this.pixelDelta_,u=0,_=0;s==r?_=-d:s==o?u=-d:s==a?u=d:_=d;let c=[u,_];(0,n.rotate)(c,h.getRotation()),(0,l.e4)(h,c,this.duration_),i.preventDefault(),e=!0}}return!e}}var u=d},79999:function(t,e,i){i.r(e);var n=i(55506),s=i(89267),o=i(52101);class a extends o.Ay{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(t){return!(0,s.platformModifierKey)(t)&&(0,s.targetNotEditable)(t)},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==n.default.KEYDOWN||t.type==n.default.KEYPRESS){let i=t.originalEvent,n=i.key;if(this.condition_(t)&&("+"===n||"-"===n)){let s=t.map,a="+"===n?this.delta_:-this.delta_,r=s.getView();(0,o.D2)(r,a,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}}e.default=a},80096:function(t,e,i){i.r(e);var n=i(55506),s=i(89267),o=i(94966),a=i(52101);class r extends a.Ay{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:s.always;this.condition_=t.onFocusOnly?(0,s.all)(s.focusWithTabindex,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==n.default.WHEEL)return!0;let e=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let s=i.deltaY;switch(i.deltaMode){case WheelEvent.DOM_DELTA_LINE:s*=40;break;case WheelEvent.DOM_DELTA_PAGE:s*=300}if(0===s)return!1;this.lastDelta_=s;let o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>Math.abs(s)?"trackpad":"wheel");let a=e.getView();if("trackpad"===this.mode_&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=s;let r=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,e),r),!1}handleWheelZoom_(t){let e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-(0,o.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),(0,a.D2)(e,i,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}e.default=r},93474:function(t,e,i){i.r(e);var n=i(29991),s=i(17285),o=i(29592);class a extends o.default{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=n.FALSE),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0,i=this.targetPointers[0],n=this.targetPointers[1],a=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){let t=a-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=a;let r=t.map,h=r.getView();h.getConstraints().rotation!==s.b8&&(this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel((0,o.centroid)(this.targetPointers))),this.rotating_&&(r.render(),h.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){let e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}e.default=a},64242:function(t,e,i){i.r(e);var n=i(29991),s=i(29592);class o extends s.default{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=n.FALSE),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1,i=this.targetPointers[0],n=this.targetPointers[1],o=i.clientX-n.clientX,a=i.clientY-n.clientY,r=Math.sqrt(o*o+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/r),this.lastDistance_=r;let h=t.map,l=h.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=h.getCoordinateFromPixelInternal(h.getEventPixel((0,s.centroid)(this.targetPointers))),h.render(),l.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){let e=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}e.default=o},45885:function(t,e,i){i.r(e),i.d(e,{defaults:function(){return g}});var n=i(54616),s=class{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;let t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;let n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;let s=this.points_[e]-this.points_[i],o=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/n,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},o=i(92601),a=i(28352),r=i(16712),h=i(22937),l=i(58031),d=i(79999),u=i(80096),_=i(93474),c=i(64242);function g(t){t=t||{};let e=new n.default,i=new s(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new r.default),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new o.default({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new a.default({onFocusOnly:t.onFocusOnly,kinetic:i})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new _.default),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new c.default({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new l.default),e.push(new d.default({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new u.default({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new h.default({duration:t.zoomDuration})),e}}}]);
//# sourceMappingURL=5678.a0bfe3d37ca9ea79.js.map