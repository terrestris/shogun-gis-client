"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["3480"],{40188:function(e,t){t.Z={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},58493:function(e,t,s){s.r(t),s.d(t,{ObjectEvent:function(){return h}});var i=s(9520),n=s(13910),r=s(56834),l=s(49179),a=s(13580);class h extends i.default{constructor(e,t,s){super(e),this.key=t,this.oldValue=s}}class o extends r.default{constructor(e){super(),this.on,this.once,this.un,(0,l.getUid)(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let s;s=`change:${e}`,this.hasListener(s)&&this.dispatchEvent(new h(s,e,t)),s=n.Z.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new h(s,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,s){let i=this.values_||(this.values_={});if(s)i[e]=t;else{let s=i[e];i[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(let s in e)this.set(s,e[s],t)}applyProperties(e){if(!!e.values_)Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let s=this.values_[e];delete this.values_[e],(0,a.x)(this.values_)&&(this.values_=null),!t&&this.notify(e,s)}}}t.default=o},13910:function(e,t){t.Z={PROPERTYCHANGE:"propertychange"}},56834:function(e,t,s){s.r(t),s.d(t,{unByKey:function(){return a}});var i=s(66575),n=s(73381),r=s(13002);class l extends i.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(n.default.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let s=e.length,i=Array(s);for(let n=0;n<s;++n)i[n]=(0,r.oL)(this,e[n],t);return i}return(0,r.oL)(this,e,t)}onceInternal(e,t){let s;if(Array.isArray(e)){let i=e.length;s=Array(i);for(let n=0;n<i;++n)s[n]=(0,r.Vx)(this,e[n],t)}else s=(0,r.Vx)(this,e,t);return t.ol_key=s,s}unInternal(e,t){let s=t.ol_key;if(s)a(s);else if(Array.isArray(e))for(let s=0,i=e.length;s<i;++s)this.removeEventListener(e[s],t);else this.removeEventListener(e,t)}}function a(e){if(Array.isArray(e))for(let t=0,s=e.length;t<s;++t)(0,r.bN)(e[t]);else(0,r.bN)(e)}l.prototype.on,l.prototype.once,l.prototype.un,t.default=l},19530:function(e,t,s){var i=s(58493),n=s(40188),r=s(64011),l=s(13002);class a extends i.default{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let e=0,t=this.listenerKeys.length;e<t;++e)(0,l.bN)(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e,e){let t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==r.VOID&&this.listenerKeys.push((0,l.oL)(e,n.Z.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}}t.Z=a},25303:function(e,t,s){s.r(t);var i=s(19530),n=s(67644),r=s(5374);let l="units",a=[1,2,5],h=25.4/.28;class o extends i.Z{constructor(e){e=e||{};let t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;let s=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=s+"-inner",this.element.className=s+" "+n.XV,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(l,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(l)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(l,e)}setDpi(e){this.dpi_=e}updateElement_(){let e,t,s,i,n,l;let o=this.viewState_;if(!o){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let u=o.center,d=o.projection,c=this.getUnits(),p=(0,r.getPointResolution)(d,o.resolution,u,"degrees"==c?"degrees":"m"),_=this.minWidth_*(this.dpi_||h)/h,v=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||h)/h:void 0,m=_*p,f="";if("degrees"==c){let e=r.METERS_PER_UNIT.degrees;(m*=e)<e/60?(f="″",p*=3600):m<e?(f="′",p*=60):f="\xb0"}else if("imperial"==c)m<.9144?(f="in",p/=.0254):m<1609.344?(f="ft",p/=.3048):(f="mi",p/=1609.344);else if("nautical"==c)p/=1852,f="NM";else if("metric"==c)m<1e-6?(f="nm",p*=1e9):m<.001?(f="μm",p*=1e6):m<1?(f="mm",p*=1e3):m<1e3?f="m":(f="km",p/=1e3);else if("us"==c)m<.9144?(f="in",p*=39.37):m<1609.344?(f="ft",p/=.30480061):(f="mi",p/=1609.3472);else throw Error("Invalid units");let g=3*Math.floor(Math.log(_*p)/Math.log(10));for(;;){let r=Math.pow(10,s=Math.floor(g/3));if(isNaN(t=Math.round((e=a[(g%3+3)%3]*r)/p))){this.element.style.display="none",this.renderedVisible_=!1;return}if(void 0!==v&&t>=v){e=i,t=n,s=l;break}if(t>=_)break;i=e,n=t,l=s,++g}let y=this.scaleBar_?this.createScaleBar(t,e,f):e.toFixed(s<0?-s:0)+" "+f;this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=t&&(this.innerElement_.style.width=t+"px",this.renderedWidth_=t),!this.renderedVisible_&&(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,s){let i=this.getScaleForResolution(),n=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),r=this.scaleBarSteps_,l=e/r,a=[this.createMarker("absolute")];for(let i=0;i<r;++i){let n=i%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${l}px;"></div>`+this.createMarker("relative")+(i%2==0||2===r?this.createStepText(i,e,!1,t,s):"")+"</div>")}return a.push(this.createStepText(r,e,!0,t,s)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+n+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,s,i,n){let r=0===e?0:Math.round(i/this.scaleBarSteps_*e*100)/100,l=0===e?-3:-(t/this.scaleBarSteps_*1),a=0===e?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${0===e?"left":"center"};min-width: ${a}px;left: ${s?t+"px":"unset"};">`+r+(0===e?"":" "+n)+"</div>"}getScaleForResolution(){let e=(0,r.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||h;return 1e3/25.4*e*t}render(e){let t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}t.default=o},67644:function(e,t,s){s.d(t,{$A:function(){return n},Qi:function(){return l},XV:function(){return r},hN:function(){return h},hg:function(){return a},oj:function(){return i},p:function(){return d}});let i="ol-hidden",n="ol-selectable",r="ol-unselectable",l="ol-unsupported",a="ol-control",h="ol-collapsed",o=RegExp("^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$","i"),u=["style","variant","weight","size","lineHeight","family"],d=function(e){let t=e.match(o);if(!t)return null;let s={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let e=0,i=u.length;e<i;++e){let i=t[e+1];void 0!==i&&(s[u[e]]=i)}return s.families=s.family.split(/,\s?/),s}},13002:function(e,t,s){s.d(t,{Vx:function(){return r},bN:function(){return l},oL:function(){return n}});var i=s(13580);function n(e,t,s,i,n){if(n){let n=s;s=function(){e.removeEventListener(t,s),n.apply(i??this,arguments)}}else i&&i!==e&&(s=s.bind(i));let r={target:e,type:t,listener:s};return e.addEventListener(t,s),r}function r(e,t,s,i){return n(e,t,s,i,!0)}function l(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),(0,i.Z)(e))}}}]);
//# sourceMappingURL=3480.8abeca682b6c176d.js.map