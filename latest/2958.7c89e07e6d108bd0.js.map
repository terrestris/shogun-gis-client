{"version":3,"file":"2958.7c89e07e6d108bd0.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/Collection.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/CollectionEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Disposable.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Object.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/ObjectEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Observable.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/array.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/asserts.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Event.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/EventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Target.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/functions.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/layer/Base.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/layer/Group.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/layer/Property.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/math.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/obj.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/util.js"],"sourcesContent":["/**\n * @module ol/Collection\n */\nimport CollectionEventType from './CollectionEventType.js';\nimport BaseObject from './Object.js';\nimport Event from './events/Event.js';\n\n/**\n * @enum {string}\n * @private\n */\nconst Property = {\n  LENGTH: 'length',\n};\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n * type.\n * @template T\n */\nexport class CollectionEvent extends Event {\n  /**\n   * @param {import(\"./CollectionEventType.js\").default} type Type.\n   * @param {T} element Element.\n   * @param {number} index The index of the added or removed element.\n   */\n  constructor(type, element, index) {\n    super(type);\n\n    /**\n     * The element that is added to or removed from the collection.\n     * @type {T}\n     * @api\n     */\n    this.element = element;\n\n    /**\n     * The index of the added or removed element.\n     * @type {number}\n     * @api\n     */\n    this.index = index;\n  }\n}\n\n/***\n * @template T\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:length', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").OnSignature<'add'|'remove', CollectionEvent<T>, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types|\n *     'change:length'|'add'|'remove',Return>} CollectionOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {boolean} [unique=false] Disallow the same item from being added to\n * the collection twice.\n */\n\n/**\n * @classdesc\n * An expanded version of standard JS Array, adding convenience methods for\n * manipulation. Add and remove changes to the Collection trigger a Collection\n * event. Note that this does not cover changes to the objects _within_ the\n * Collection; they trigger events on the appropriate object, not on the\n * Collection as a whole.\n *\n * @fires CollectionEvent\n *\n * @template T\n * @api\n */\nclass Collection extends BaseObject {\n  /**\n   * @param {Array<T>} [array] Array.\n   * @param {Options} [options] Collection options.\n   */\n  constructor(array, options) {\n    super();\n\n    /***\n     * @type {CollectionOnSignature<T, import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {CollectionOnSignature<T, import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {CollectionOnSignature<T, void>}\n     */\n    this.un;\n\n    options = options || {};\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.unique_ = !!options.unique;\n\n    /**\n     * @private\n     * @type {!Array<T>}\n     */\n    this.array_ = array ? array : [];\n\n    if (this.unique_) {\n      for (let i = 0, ii = this.array_.length; i < ii; ++i) {\n        this.assertUnique_(this.array_[i], i);\n      }\n    }\n\n    this.updateLength_();\n  }\n\n  /**\n   * Remove all elements from the collection.\n   * @api\n   */\n  clear() {\n    while (this.getLength() > 0) {\n      this.pop();\n    }\n  }\n\n  /**\n   * Add elements to the collection.  This pushes each item in the provided array\n   * to the end of the collection.\n   * @param {!Array<T>} arr Array.\n   * @return {Collection<T>} This collection.\n   * @api\n   */\n  extend(arr) {\n    for (let i = 0, ii = arr.length; i < ii; ++i) {\n      this.push(arr[i]);\n    }\n    return this;\n  }\n\n  /**\n   * Iterate over each element, calling the provided callback.\n   * @param {function(T, number, Array<T>): *} f The function to call\n   *     for every element. This function takes 3 arguments (the element, the\n   *     index and the array). The return value is ignored.\n   * @api\n   */\n  forEach(f) {\n    const array = this.array_;\n    for (let i = 0, ii = array.length; i < ii; ++i) {\n      f(array[i], i, array);\n    }\n  }\n\n  /**\n   * Get a reference to the underlying Array object. Warning: if the array\n   * is mutated, no events will be dispatched by the collection, and the\n   * collection's \"length\" property won't be in sync with the actual length\n   * of the array.\n   * @return {!Array<T>} Array.\n   * @api\n   */\n  getArray() {\n    return this.array_;\n  }\n\n  /**\n   * Get the element at the provided index.\n   * @param {number} index Index.\n   * @return {T} Element.\n   * @api\n   */\n  item(index) {\n    return this.array_[index];\n  }\n\n  /**\n   * Get the length of this collection.\n   * @return {number} The length of the array.\n   * @observable\n   * @api\n   */\n  getLength() {\n    return this.get(Property.LENGTH);\n  }\n\n  /**\n   * Insert an element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  insertAt(index, elem) {\n    if (index < 0 || index > this.getLength()) {\n      throw new Error('Index out of bounds: ' + index);\n    }\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    this.array_.splice(index, 0, elem);\n    this.updateLength_();\n    this.dispatchEvent(\n      new CollectionEvent(CollectionEventType.ADD, elem, index),\n    );\n  }\n\n  /**\n   * Remove the last element of the collection and return it.\n   * Return `undefined` if the collection is empty.\n   * @return {T|undefined} Element.\n   * @api\n   */\n  pop() {\n    return this.removeAt(this.getLength() - 1);\n  }\n\n  /**\n   * Insert the provided element at the end of the collection.\n   * @param {T} elem Element.\n   * @return {number} New length of the collection.\n   * @api\n   */\n  push(elem) {\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    const n = this.getLength();\n    this.insertAt(n, elem);\n    return this.getLength();\n  }\n\n  /**\n   * Remove the first occurrence of an element from the collection.\n   * @param {T} elem Element.\n   * @return {T|undefined} The removed element or undefined if none found.\n   * @api\n   */\n  remove(elem) {\n    const arr = this.array_;\n    for (let i = 0, ii = arr.length; i < ii; ++i) {\n      if (arr[i] === elem) {\n        return this.removeAt(i);\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Remove the element at the provided index and return it.\n   * Return `undefined` if the collection does not contain this index.\n   * @param {number} index Index.\n   * @return {T|undefined} Value.\n   * @api\n   */\n  removeAt(index) {\n    if (index < 0 || index >= this.getLength()) {\n      return undefined;\n    }\n    const prev = this.array_[index];\n    this.array_.splice(index, 1);\n    this.updateLength_();\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.REMOVE, prev, index)\n      ),\n    );\n    return prev;\n  }\n\n  /**\n   * Set the element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  setAt(index, elem) {\n    const n = this.getLength();\n    if (index >= n) {\n      this.insertAt(index, elem);\n      return;\n    }\n    if (index < 0) {\n      throw new Error('Index out of bounds: ' + index);\n    }\n    if (this.unique_) {\n      this.assertUnique_(elem, index);\n    }\n    const prev = this.array_[index];\n    this.array_[index] = elem;\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.REMOVE, prev, index)\n      ),\n    );\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.ADD, elem, index)\n      ),\n    );\n  }\n\n  /**\n   * @private\n   */\n  updateLength_() {\n    this.set(Property.LENGTH, this.array_.length);\n  }\n\n  /**\n   * @private\n   * @param {T} elem Element.\n   * @param {number} [except] Optional index to ignore.\n   */\n  assertUnique_(elem, except) {\n    for (let i = 0, ii = this.array_.length; i < ii; ++i) {\n      if (this.array_[i] === elem && i !== except) {\n        throw new Error('Duplicate item added to a unique collection');\n      }\n    }\n  }\n}\n\nexport default Collection;\n","/**\n * @module ol/CollectionEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when an item is added to the collection.\n   * @event module:ol/Collection.CollectionEvent#add\n   * @api\n   */\n  ADD: 'add',\n  /**\n   * Triggered when an item is removed from the collection.\n   * @event module:ol/Collection.CollectionEvent#remove\n   * @api\n   */\n  REMOVE: 'remove',\n};\n","/**\n * @module ol/Disposable\n */\n\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nclass Disposable {\n  constructor() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @protected\n     */\n    this.disposed = false;\n  }\n\n  /**\n   * Clean up.\n   */\n  dispose() {\n    if (!this.disposed) {\n      this.disposed = true;\n      this.disposeInternal();\n    }\n  }\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  disposeInternal() {}\n}\n\nexport default Disposable;\n","/**\n * @module ol/Object\n */\nimport ObjectEventType from './ObjectEventType.js';\nimport Observable from './Observable.js';\nimport Event from './events/Event.js';\nimport {isEmpty} from './obj.js';\nimport {getUid} from './util.js';\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n */\nexport class ObjectEvent extends Event {\n  /**\n   * @param {string} type The event type.\n   * @param {string} key The property name.\n   * @param {*} oldValue The old value for `key`.\n   */\n  constructor(type, key, oldValue) {\n    super(type);\n\n    /**\n     * The name of the property whose value is changing.\n     * @type {string}\n     * @api\n     */\n    this.key = key;\n\n    /**\n     * The old value. To get the new value use `e.target.get(e.key)` where\n     * `e` is the event object.\n     * @type {*}\n     * @api\n     */\n    this.oldValue = oldValue;\n  }\n}\n\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types, ObjectEvent, Return> &\n *    import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types, Return>} ObjectOnSignature\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Most non-trivial classes inherit from this.\n *\n * This extends {@link module:ol/Observable~Observable} with observable\n * properties, where each property is observable as well as the object as a\n * whole.\n *\n * Classes that inherit from this have pre-defined properties, to which you can\n * add your owns. The pre-defined properties are listed in this documentation as\n * 'Observable Properties', and have their own accessors; for example,\n * {@link module:ol/Map~Map} has a `target` property, accessed with\n * `getTarget()` and changed with `setTarget()`. Not all properties are however\n * settable. There are also general-purpose accessors `get()` and `set()`. For\n * example, `get('target')` is equivalent to `getTarget()`.\n *\n * The `set` accessors trigger a change event, and you can monitor this by\n * registering a listener. For example, {@link module:ol/View~View} has a\n * `center` property, so `view.on('change:center', function(evt) {...});` would\n * call the function whenever the value of the center property changes. Within\n * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n * would return the new center.\n *\n * You can add your own observable properties with\n * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n * You can listen for changes on that property value with\n * `object.on('change:prop', listener)`. You can get a list of all\n * properties with {@link module:ol/Object~BaseObject#getProperties}.\n *\n * Note that the observable properties are separate from standard JS properties.\n * You can, for example, give your map object a title with\n * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n * first will be a `hasOwnProperty`; the second will appear in\n * `getProperties()`. Only the second is observable.\n *\n * Properties can be deleted by using the unset method. E.g.\n * object.unset('foo').\n *\n * @fires ObjectEvent\n * @api\n */\nclass BaseObject extends Observable {\n  /**\n   * @param {Object<string, *>} [values] An object with key-value pairs.\n   */\n  constructor(values) {\n    super();\n\n    /***\n     * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {ObjectOnSignature<void>}\n     */\n    this.un;\n\n    // Call {@link module:ol/util.getUid} to ensure that the order of objects' ids is\n    // the same as the order in which they were created.  This also helps to\n    // ensure that object properties are always added in the same order, which\n    // helps many JavaScript engines generate faster code.\n    getUid(this);\n\n    /**\n     * @private\n     * @type {Object<string, *>|null}\n     */\n    this.values_ = null;\n\n    if (values !== undefined) {\n      this.setProperties(values);\n    }\n  }\n\n  /**\n   * Gets a value.\n   * @param {string} key Key name.\n   * @return {*} Value.\n   * @api\n   */\n  get(key) {\n    let value;\n    if (this.values_ && this.values_.hasOwnProperty(key)) {\n      value = this.values_[key];\n    }\n    return value;\n  }\n\n  /**\n   * Get a list of object property names.\n   * @return {Array<string>} List of property names.\n   * @api\n   */\n  getKeys() {\n    return (this.values_ && Object.keys(this.values_)) || [];\n  }\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>} Object.\n   * @api\n   */\n  getProperties() {\n    return (this.values_ && Object.assign({}, this.values_)) || {};\n  }\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>?} Object.\n   */\n  getPropertiesInternal() {\n    return this.values_;\n  }\n\n  /**\n   * @return {boolean} The object has properties.\n   */\n  hasProperties() {\n    return !!this.values_;\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {*} oldValue Old value.\n   */\n  notify(key, oldValue) {\n    let eventType;\n    eventType = `change:${key}`;\n    if (this.hasListener(eventType)) {\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    }\n    eventType = ObjectEventType.PROPERTYCHANGE;\n    if (this.hasListener(eventType)) {\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    }\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {import(\"./events.js\").Listener} listener Listener.\n   */\n  addChangeListener(key, listener) {\n    this.addEventListener(`change:${key}`, listener);\n  }\n\n  /**\n   * @param {string} key Key name.\n   * @param {import(\"./events.js\").Listener} listener Listener.\n   */\n  removeChangeListener(key, listener) {\n    this.removeEventListener(`change:${key}`, listener);\n  }\n\n  /**\n   * Sets a value.\n   * @param {string} key Key name.\n   * @param {*} value Value.\n   * @param {boolean} [silent] Update without triggering an event.\n   * @api\n   */\n  set(key, value, silent) {\n    const values = this.values_ || (this.values_ = {});\n    if (silent) {\n      values[key] = value;\n    } else {\n      const oldValue = values[key];\n      values[key] = value;\n      if (oldValue !== value) {\n        this.notify(key, oldValue);\n      }\n    }\n  }\n\n  /**\n   * Sets a collection of key-value pairs.  Note that this changes any existing\n   * properties and adds new ones (it does not remove any existing properties).\n   * @param {Object<string, *>} values Values.\n   * @param {boolean} [silent] Update without triggering an event.\n   * @api\n   */\n  setProperties(values, silent) {\n    for (const key in values) {\n      this.set(key, values[key], silent);\n    }\n  }\n\n  /**\n   * Apply any properties from another object without triggering events.\n   * @param {BaseObject} source The source object.\n   * @protected\n   */\n  applyProperties(source) {\n    if (!source.values_) {\n      return;\n    }\n    Object.assign(this.values_ || (this.values_ = {}), source.values_);\n  }\n\n  /**\n   * Unsets a property.\n   * @param {string} key Key name.\n   * @param {boolean} [silent] Unset without triggering an event.\n   * @api\n   */\n  unset(key, silent) {\n    if (this.values_ && key in this.values_) {\n      const oldValue = this.values_[key];\n      delete this.values_[key];\n      if (isEmpty(this.values_)) {\n        this.values_ = null;\n      }\n      if (!silent) {\n        this.notify(key, oldValue);\n      }\n    }\n  }\n}\n\nexport default BaseObject;\n","/**\n * @module ol/ObjectEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when a property is changed.\n   * @event module:ol/Object.ObjectEvent#propertychange\n   * @api\n   */\n  PROPERTYCHANGE: 'propertychange',\n};\n\n/**\n * @typedef {'propertychange'} Types\n */\n","/**\n * @module ol/Observable\n */\nimport EventType from './events/EventType.js';\nimport EventTarget from './events/Target.js';\nimport {listen, listenOnce, unlistenByKey} from './events.js';\n\n/***\n * @template {string} Type\n * @template {Event|import(\"./events/Event.js\").default} EventClass\n * @template Return\n * @typedef {(type: Type, listener: (event: EventClass) => ?) => Return} OnSignature\n */\n\n/***\n * @template {string} Type\n * @template Return\n * @typedef {(type: Type[], listener: (event: Event|import(\"./events/Event\").default) => ?) => Return extends void ? void : Return[]} CombinedOnSignature\n */\n\n/**\n * @typedef {'change'|'error'} EventTypes\n */\n\n/***\n * @template Return\n * @typedef {OnSignature<EventTypes, import(\"./events/Event.js\").default, Return> & CombinedOnSignature<EventTypes, Return>} ObservableOnSignature\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * An event target providing convenient methods for listener registration\n * and unregistration. A generic `change` event is always available through\n * {@link module:ol/Observable~Observable#changed}.\n *\n * @fires import(\"./events/Event.js\").default\n * @api\n */\nclass Observable extends EventTarget {\n  constructor() {\n    super();\n\n    this.on =\n      /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (\n        this.onInternal\n      );\n\n    this.once =\n      /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (\n        this.onceInternal\n      );\n\n    this.un = /** @type {ObservableOnSignature<void>} */ (this.unInternal);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.revision_ = 0;\n  }\n\n  /**\n   * Increases the revision counter and dispatches a 'change' event.\n   * @api\n   */\n  changed() {\n    ++this.revision_;\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * Get the version number for this object.  Each time the object is modified,\n   * its version number will be incremented.\n   * @return {number} Revision.\n   * @api\n   */\n  getRevision() {\n    return this.revision_;\n  }\n\n  /**\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n   * @protected\n   */\n  onInternal(type, listener) {\n    if (Array.isArray(type)) {\n      const len = type.length;\n      const keys = new Array(len);\n      for (let i = 0; i < len; ++i) {\n        keys[i] = listen(this, type[i], listener);\n      }\n      return keys;\n    }\n    return listen(this, /** @type {string} */ (type), listener);\n  }\n\n  /**\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n   * @protected\n   */\n  onceInternal(type, listener) {\n    let key;\n    if (Array.isArray(type)) {\n      const len = type.length;\n      key = new Array(len);\n      for (let i = 0; i < len; ++i) {\n        key[i] = listenOnce(this, type[i], listener);\n      }\n    } else {\n      key = listenOnce(this, /** @type {string} */ (type), listener);\n    }\n    /** @type {Object} */ (listener).ol_key = key;\n    return key;\n  }\n\n  /**\n   * Unlisten for a certain type of event.\n   * @param {string|Array<string>} type Type.\n   * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n   * @protected\n   */\n  unInternal(type, listener) {\n    const key = /** @type {Object} */ (listener).ol_key;\n    if (key) {\n      unByKey(key);\n    } else if (Array.isArray(type)) {\n      for (let i = 0, ii = type.length; i < ii; ++i) {\n        this.removeEventListener(type[i], listener);\n      }\n    } else {\n      this.removeEventListener(type, listener);\n    }\n  }\n}\n\n/**\n * Listen for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.on;\n\n/**\n * Listen once for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.once;\n\n/**\n * Unlisten for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @api\n */\nObservable.prototype.un;\n\n/**\n * Removes an event listener using the key returned by `on()` or `once()`.\n * @param {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} key The key returned by `on()`\n *     or `once()` (or an array of keys).\n * @api\n */\nexport function unByKey(key) {\n  if (Array.isArray(key)) {\n    for (let i = 0, ii = key.length; i < ii; ++i) {\n      unlistenByKey(key[i]);\n    }\n  } else {\n    unlistenByKey(/** @type {import(\"./events.js\").EventsKey} */ (key));\n  }\n}\n\nexport default Observable;\n","/**\n * @module ol/array\n */\n\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function} [comparator] Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, comparator) {\n  let mid, cmp;\n  comparator = comparator || ascending;\n  let low = 0;\n  let high = haystack.length;\n  let found = false;\n\n  while (low < high) {\n    /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n     * to double (which gives the wrong results). */\n    mid = low + ((high - low) >> 1);\n    cmp = +comparator(haystack[mid], needle);\n\n    if (cmp < 0.0) {\n      /* Too low. */\n      low = mid + 1;\n    } else {\n      /* Key found or too high */\n      high = mid;\n      found = !cmp;\n    }\n  }\n\n  /* Key not found. */\n  return found ? low : ~low;\n}\n\n/**\n * Compare function sorting arrays in ascending order.  Safe to use for numeric values.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function ascending(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n/**\n * Compare function sorting arrays in descending order.  Safe to use for numeric values.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is greater than, equal to, or less than the second.\n */\nexport function descending(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\n/**\n * {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution} can use a function\n * of this type to determine which nearest resolution to use.\n *\n * This function takes a `{number}` representing a value between two array entries,\n * a `{number}` representing the value of the nearest higher entry and\n * a `{number}` representing the value of the nearest lower entry\n * as arguments and returns a `{number}`. If a negative number or zero is returned\n * the lower value will be used, if a positive number is returned the higher value\n * will be used.\n * @typedef {function(number, number, number): number} NearestDirectionFunction\n * @api\n */\n\n/**\n * @param {Array<number>} arr Array in descending order.\n * @param {number} target Target.\n * @param {number|NearestDirectionFunction} direction\n *    0 means return the nearest,\n *    > 0 means return the largest nearest,\n *    < 0 means return the smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n  if (arr[0] <= target) {\n    return 0;\n  }\n\n  const n = arr.length;\n  if (target <= arr[n - 1]) {\n    return n - 1;\n  }\n\n  if (typeof direction === 'function') {\n    for (let i = 1; i < n; ++i) {\n      const candidate = arr[i];\n      if (candidate === target) {\n        return i;\n      }\n      if (candidate < target) {\n        if (direction(target, arr[i - 1], candidate) > 0) {\n          return i - 1;\n        }\n        return i;\n      }\n    }\n    return n - 1;\n  }\n\n  if (direction > 0) {\n    for (let i = 1; i < n; ++i) {\n      if (arr[i] < target) {\n        return i - 1;\n      }\n    }\n    return n - 1;\n  }\n\n  if (direction < 0) {\n    for (let i = 1; i < n; ++i) {\n      if (arr[i] <= target) {\n        return i;\n      }\n    }\n    return n - 1;\n  }\n\n  for (let i = 1; i < n; ++i) {\n    if (arr[i] == target) {\n      return i;\n    }\n    if (arr[i] < target) {\n      if (arr[i - 1] - target < target - arr[i]) {\n        return i - 1;\n      }\n      return i;\n    }\n  }\n  return n - 1;\n}\n\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n  while (begin < end) {\n    const tmp = arr[begin];\n    arr[begin] = arr[end];\n    arr[end] = tmp;\n    ++begin;\n    --end;\n  }\n}\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n  const extension = Array.isArray(data) ? data : [data];\n  const length = extension.length;\n  for (let i = 0; i < length; i++) {\n    arr[arr.length] = extension[i];\n  }\n}\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n  const i = arr.indexOf(obj);\n  const found = i > -1;\n  if (found) {\n    arr.splice(i, 1);\n  }\n  return found;\n}\n\n/**\n * @param {Array<any>|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array<any>|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n  const len1 = arr1.length;\n  if (len1 !== arr2.length) {\n    return false;\n  }\n  for (let i = 0; i < len1; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Sort the passed array such that the relative order of equal elements is preserved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n  const length = arr.length;\n  const tmp = Array(arr.length);\n  let i;\n  for (i = 0; i < length; i++) {\n    tmp[i] = {index: i, value: arr[i]};\n  }\n  tmp.sort(function (a, b) {\n    return compareFnc(a.value, b.value) || a.index - b.index;\n  });\n  for (i = 0; i < arr.length; i++) {\n    arr[i] = tmp[i].value;\n  }\n}\n\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function} [func] Comparison function.\n * @param {boolean} [strict] Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, func, strict) {\n  const compare = func || ascending;\n  return arr.every(function (currentVal, index) {\n    if (index === 0) {\n      return true;\n    }\n    const res = compare(arr[index - 1], currentVal);\n    return !(res > 0 || (strict && res === 0));\n  });\n}\n","/**\n * @module ol/asserts\n */\n\n/**\n * @param {*} assertion Assertion we expected to be truthy.\n * @param {string} errorMessage Error message.\n */\nexport function assert(assertion, errorMessage) {\n  if (!assertion) {\n    throw new Error(errorMessage);\n  }\n}\n","/**\n * @module ol/events\n */\nimport {clear} from './obj.js';\n\n/**\n * Key to use with {@link module:ol/Observable.unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener Listener.\n * @property {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @property {string} type Type.\n * @api\n */\n\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent HandleEvent listener function.\n */\n\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events.unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean} [once] If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, thisArg, once) {\n  if (once) {\n    const originalListener = listener;\n    /**\n     * @param {Event|import('./events/Event.js').default} event The event\n     * @return {void|boolean} When the function returns `false`, event propagation will stop.\n     * @this {typeof target}\n     */\n    listener = function (event) {\n      target.removeEventListener(type, listener);\n      return originalListener.call(thisArg ?? this, event);\n    };\n  } else if (thisArg && thisArg !== target) {\n    listener = listener.bind(thisArg);\n  }\n  const eventsKey = {\n    target: target,\n    type: type,\n    listener: listener,\n  };\n  target.addEventListener(type, listener);\n  return eventsKey;\n}\n\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events.unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events.listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [thisArg] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, thisArg) {\n  return listen(target, type, listener, thisArg, true);\n}\n\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events.listen} or {@link module:ol/events.listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n  if (key && key.target) {\n    key.target.removeEventListener(key.type, key.listener);\n    clear(key);\n  }\n}\n","/**\n * @module ol/events/Event\n */\n\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nclass BaseEvent {\n  /**\n   * @param {string} type Type.\n   */\n  constructor(type) {\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * @type {boolean}\n     */\n    this.defaultPrevented;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  }\n\n  /**\n   * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n   * will be fired.\n   * @api\n   */\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n  evt.stopPropagation();\n}\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n  evt.preventDefault();\n}\n\nexport default BaseEvent;\n","/**\n * @module ol/events/EventType\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  /**\n   * Generic change event. Triggered when the revision counter is increased.\n   * @event module:ol/events/Event~BaseEvent#change\n   * @api\n   */\n  CHANGE: 'change',\n\n  /**\n   * Generic error event. Triggered when an error occurs.\n   * @event module:ol/events/Event~BaseEvent#error\n   * @api\n   */\n  ERROR: 'error',\n\n  BLUR: 'blur',\n  CLEAR: 'clear',\n  CONTEXTMENU: 'contextmenu',\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DROP: 'drop',\n  FOCUS: 'focus',\n  KEYDOWN: 'keydown',\n  KEYPRESS: 'keypress',\n  LOAD: 'load',\n  RESIZE: 'resize',\n  TOUCHMOVE: 'touchmove',\n  WHEEL: 'wheel',\n};\n","/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport {VOID} from '../functions.js';\nimport {clear} from '../obj.js';\nimport Event from './Event.js';\n\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nclass Target extends Disposable {\n  /**\n   * @param {*} [target] Default event target for dispatched events.\n   */\n  constructor(target) {\n    super();\n\n    /**\n     * @private\n     * @type {*}\n     */\n    this.eventTarget_ = target;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.pendingRemovals_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, number>|null}\n     */\n    this.dispatching_ = null;\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").Listener>>|null}\n     */\n    this.listeners_ = null;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  addEventListener(type, listener) {\n    if (!type || !listener) {\n      return;\n    }\n    const listeners = this.listeners_ || (this.listeners_ = {});\n    const listenersForType = listeners[type] || (listeners[type] = []);\n    if (!listenersForType.includes(listener)) {\n      listenersForType.push(listener);\n    }\n  }\n\n  /**\n   * Dispatches an event and calls all listeners listening for events\n   * of this type. The event parameter can either be a string or an\n   * Object with a `type` property.\n   *\n   * @param {import(\"./Event.js\").default|string} event Event object.\n   * @return {boolean|undefined} `false` if anyone called preventDefault on the\n   *     event object or if any of the listeners returned false.\n   * @api\n   */\n  dispatchEvent(event) {\n    const isString = typeof event === 'string';\n    const type = isString ? event : event.type;\n    const listeners = this.listeners_ && this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n\n    const evt = isString ? new Event(event) : /** @type {Event} */ (event);\n    if (!evt.target) {\n      evt.target = this.eventTarget_ || this;\n    }\n    const dispatching = this.dispatching_ || (this.dispatching_ = {});\n    const pendingRemovals =\n      this.pendingRemovals_ || (this.pendingRemovals_ = {});\n    if (!(type in dispatching)) {\n      dispatching[type] = 0;\n      pendingRemovals[type] = 0;\n    }\n    ++dispatching[type];\n    let propagate;\n    for (let i = 0, ii = listeners.length; i < ii; ++i) {\n      if ('handleEvent' in listeners[i]) {\n        propagate = /** @type {import(\"../events.js\").ListenerObject} */ (\n          listeners[i]\n        ).handleEvent(evt);\n      } else {\n        propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (\n          listeners[i]\n        ).call(this, evt);\n      }\n      if (propagate === false || evt.propagationStopped) {\n        propagate = false;\n        break;\n      }\n    }\n    if (--dispatching[type] === 0) {\n      let pr = pendingRemovals[type];\n      delete pendingRemovals[type];\n      while (pr--) {\n        this.removeEventListener(type, VOID);\n      }\n      delete dispatching[type];\n    }\n    return propagate;\n  }\n\n  /**\n   * Clean up.\n   * @override\n   */\n  disposeInternal() {\n    this.listeners_ && clear(this.listeners_);\n  }\n\n  /**\n   * Get the listeners for a specified event type. Listeners are returned in the\n   * order that they will be called in.\n   *\n   * @param {string} type Type.\n   * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n   */\n  getListeners(type) {\n    return (this.listeners_ && this.listeners_[type]) || undefined;\n  }\n\n  /**\n   * @param {string} [type] Type. If not provided,\n   *     `true` will be returned if this event target has any listeners.\n   * @return {boolean} Has listeners.\n   */\n  hasListener(type) {\n    if (!this.listeners_) {\n      return false;\n    }\n    return type\n      ? type in this.listeners_\n      : Object.keys(this.listeners_).length > 0;\n  }\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").Listener} listener Listener.\n   */\n  removeEventListener(type, listener) {\n    if (!this.listeners_) {\n      return;\n    }\n    const listeners = this.listeners_[type];\n    if (!listeners) {\n      return;\n    }\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n        // make listener a no-op, and remove later in #dispatchEvent()\n        listeners[index] = VOID;\n        ++this.pendingRemovals_[type];\n      } else {\n        listeners.splice(index, 1);\n        if (listeners.length === 0) {\n          delete this.listeners_[type];\n        }\n      }\n    }\n  }\n}\n\nexport default Target;\n","/**\n * @module ol/functions\n */\n\nimport {equals as arrayEquals} from './array.js';\n\n/**\n * Always returns true.\n * @return {boolean} true.\n */\nexport function TRUE() {\n  return true;\n}\n\n/**\n * Always returns false.\n * @return {boolean} false.\n */\nexport function FALSE() {\n  return false;\n}\n\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() {}\n\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n  /** @type {ReturnType} */\n  let lastResult;\n\n  /** @type {Array<any>|undefined} */\n  let lastArgs;\n\n  let lastThis;\n\n  /**\n   * @this {*} Only need to know if `this` changed, don't care what type\n   * @return {ReturnType} Memoized value\n   */\n  return function () {\n    const nextArgs = Array.prototype.slice.call(arguments);\n    if (!lastArgs || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n      lastThis = this;\n      lastArgs = nextArgs;\n      lastResult = fn.apply(this, arguments);\n    }\n    return lastResult;\n  };\n}\n\n/**\n * @template T\n * @param {function(): (T | Promise<T>)} getter A function that returns a value or a promise for a value.\n * @return {Promise<T>} A promise for the value.\n */\nexport function toPromise(getter) {\n  function promiseGetter() {\n    let value;\n    try {\n      value = getter();\n    } catch (err) {\n      return Promise.reject(err);\n    }\n    if (value instanceof Promise) {\n      return value;\n    }\n    return Promise.resolve(value);\n  }\n  return promiseGetter();\n}\n","/**\n * @module ol/layer/Base\n */\nimport BaseObject from '../Object.js';\nimport {assert} from '../asserts.js';\nimport {clamp} from '../math.js';\nimport {abstract} from '../util.js';\nimport LayerProperty from './Property.js';\n\n/**\n * A css color, or a function called with a view resolution returning a css color.\n *\n * @typedef {string|function(number):string} BackgroundColor\n * @api\n */\n\n/**\n * @typedef {import(\"../ObjectEventType\").Types|'change:extent'|'change:maxResolution'|'change:maxZoom'|\n *    'change:minResolution'|'change:minZoom'|'change:opacity'|'change:visible'|'change:zIndex'} BaseLayerObjectEventTypes\n */\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<BaseLayerObjectEventTypes, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|BaseLayerObjectEventTypes, Return>} BaseLayerOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number | undefined} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {BackgroundColor} [background] Background color for the layer. If not specified, no background\n * will be rendered.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Note that with {@link module:ol/layer/Base~BaseLayer} and all its subclasses, any property set in\n * the options is set as a {@link module:ol/Object~BaseObject} property on the layer object, so\n * is observable, and has get/set accessors.\n *\n * @api\n */\nclass BaseLayer extends BaseObject {\n  /**\n   * @param {Options} options Layer options.\n   */\n  constructor(options) {\n    super();\n\n    /***\n     * @type {BaseLayerOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {BaseLayerOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {BaseLayerOnSignature<void>}\n     */\n    this.un;\n\n    /**\n     * @type {BackgroundColor|false}\n     * @private\n     */\n    this.background_ = options.background;\n\n    /**\n     * @type {Object<string, *>}\n     */\n    const properties = Object.assign({}, options);\n    if (typeof options.properties === 'object') {\n      delete properties.properties;\n      Object.assign(properties, options.properties);\n    }\n\n    properties[LayerProperty.OPACITY] =\n      options.opacity !== undefined ? options.opacity : 1;\n    assert(\n      typeof properties[LayerProperty.OPACITY] === 'number',\n      'Layer opacity must be a number',\n    );\n\n    properties[LayerProperty.VISIBLE] =\n      options.visible !== undefined ? options.visible : true;\n    properties[LayerProperty.Z_INDEX] = options.zIndex;\n    properties[LayerProperty.MAX_RESOLUTION] =\n      options.maxResolution !== undefined ? options.maxResolution : Infinity;\n    properties[LayerProperty.MIN_RESOLUTION] =\n      options.minResolution !== undefined ? options.minResolution : 0;\n    properties[LayerProperty.MIN_ZOOM] =\n      options.minZoom !== undefined ? options.minZoom : -Infinity;\n    properties[LayerProperty.MAX_ZOOM] =\n      options.maxZoom !== undefined ? options.maxZoom : Infinity;\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.className_ =\n      properties.className !== undefined ? properties.className : 'ol-layer';\n    delete properties.className;\n\n    this.setProperties(properties);\n\n    /**\n     * @type {import(\"./Layer.js\").State}\n     * @private\n     */\n    this.state_ = null;\n  }\n\n  /**\n   * Get the background for this layer.\n   * @return {BackgroundColor|false} Layer background.\n   */\n  getBackground() {\n    return this.background_;\n  }\n\n  /**\n   * @return {string} CSS class name.\n   */\n  getClassName() {\n    return this.className_;\n  }\n\n  /**\n   * This method is not meant to be called by layers or layer renderers because the state\n   * is incorrect if the layer is included in a layer group.\n   *\n   * @param {boolean} [managed] Layer is managed.\n   * @return {import(\"./Layer.js\").State} Layer state.\n   */\n  getLayerState(managed) {\n    /** @type {import(\"./Layer.js\").State} */\n    const state =\n      this.state_ ||\n      /** @type {?} */ ({\n        layer: this,\n        managed: managed === undefined ? true : managed,\n      });\n    const zIndex = this.getZIndex();\n    state.opacity = clamp(Math.round(this.getOpacity() * 100) / 100, 0, 1);\n    state.visible = this.getVisible();\n    state.extent = this.getExtent();\n    state.zIndex = zIndex === undefined && !state.managed ? Infinity : zIndex;\n    state.maxResolution = this.getMaxResolution();\n    state.minResolution = Math.max(this.getMinResolution(), 0);\n    state.minZoom = this.getMinZoom();\n    state.maxZoom = this.getMaxZoom();\n    this.state_ = state;\n\n    return state;\n  }\n\n  /**\n   * @abstract\n   * @param {Array<import(\"./Layer.js\").default>} [array] Array of layers (to be\n   *     modified in place).\n   * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n   */\n  getLayersArray(array) {\n    return abstract();\n  }\n\n  /**\n   * @abstract\n   * @param {Array<import(\"./Layer.js\").State>} [states] Optional list of layer\n   *     states (to be modified in place).\n   * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n   */\n  getLayerStatesArray(states) {\n    return abstract();\n  }\n\n  /**\n   * Return the {@link module:ol/extent~Extent extent} of the layer or `undefined` if it\n   * will be visible regardless of extent.\n   * @return {import(\"../extent.js\").Extent|undefined} The layer extent.\n   * @observable\n   * @api\n   */\n  getExtent() {\n    return /** @type {import(\"../extent.js\").Extent|undefined} */ (\n      this.get(LayerProperty.EXTENT)\n    );\n  }\n\n  /**\n   * Return the maximum resolution of the layer. Returns Infinity if\n   * the layer has no maximum resolution set.\n   * @return {number} The maximum resolution of the layer.\n   * @observable\n   * @api\n   */\n  getMaxResolution() {\n    return /** @type {number} */ (this.get(LayerProperty.MAX_RESOLUTION));\n  }\n\n  /**\n   * Return the minimum resolution of the layer. Returns 0 if\n   * the layer has no minimum resolution set.\n   * @return {number} The minimum resolution of the layer.\n   * @observable\n   * @api\n   */\n  getMinResolution() {\n    return /** @type {number} */ (this.get(LayerProperty.MIN_RESOLUTION));\n  }\n\n  /**\n   * Return the minimum zoom level of the layer. Returns -Infinity if\n   * the layer has no minimum zoom set.\n   * @return {number} The minimum zoom level of the layer.\n   * @observable\n   * @api\n   */\n  getMinZoom() {\n    return /** @type {number} */ (this.get(LayerProperty.MIN_ZOOM));\n  }\n\n  /**\n   * Return the maximum zoom level of the layer. Returns Infinity if\n   * the layer has no maximum zoom set.\n   * @return {number} The maximum zoom level of the layer.\n   * @observable\n   * @api\n   */\n  getMaxZoom() {\n    return /** @type {number} */ (this.get(LayerProperty.MAX_ZOOM));\n  }\n\n  /**\n   * Return the opacity of the layer (between 0 and 1).\n   * @return {number} The opacity of the layer.\n   * @observable\n   * @api\n   */\n  getOpacity() {\n    return /** @type {number} */ (this.get(LayerProperty.OPACITY));\n  }\n\n  /**\n   * @abstract\n   * @return {import(\"../source/Source.js\").State} Source state.\n   */\n  getSourceState() {\n    return abstract();\n  }\n\n  /**\n   * Return the value of this layer's `visible` property. To find out whether the layer\n   * is visible on a map, use `isVisible()` instead.\n   * @return {boolean} The value of the `visible` property of the layer.\n   * @observable\n   * @api\n   */\n  getVisible() {\n    return /** @type {boolean} */ (this.get(LayerProperty.VISIBLE));\n  }\n\n  /**\n   * Return the Z-index of the layer, which is used to order layers before\n   * rendering. Returns undefined if the layer is unmanaged.\n   * @return {number|undefined} The Z-index of the layer.\n   * @observable\n   * @api\n   */\n  getZIndex() {\n    return /** @type {number|undefined} */ (this.get(LayerProperty.Z_INDEX));\n  }\n\n  /**\n   * Sets the background color.\n   * @param {BackgroundColor} [background] Background color.\n   */\n  setBackground(background) {\n    this.background_ = background;\n    this.changed();\n  }\n\n  /**\n   * Set the extent at which the layer is visible.  If `undefined`, the layer\n   * will be visible at all extents.\n   * @param {import(\"../extent.js\").Extent|undefined} extent The extent of the layer.\n   * @observable\n   * @api\n   */\n  setExtent(extent) {\n    this.set(LayerProperty.EXTENT, extent);\n  }\n\n  /**\n   * Set the maximum resolution at which the layer is visible.\n   * @param {number} maxResolution The maximum resolution of the layer.\n   * @observable\n   * @api\n   */\n  setMaxResolution(maxResolution) {\n    this.set(LayerProperty.MAX_RESOLUTION, maxResolution);\n  }\n\n  /**\n   * Set the minimum resolution at which the layer is visible.\n   * @param {number} minResolution The minimum resolution of the layer.\n   * @observable\n   * @api\n   */\n  setMinResolution(minResolution) {\n    this.set(LayerProperty.MIN_RESOLUTION, minResolution);\n  }\n\n  /**\n   * Set the maximum zoom (exclusive) at which the layer is visible.\n   * Note that the zoom levels for layer visibility are based on the\n   * view zoom level, which may be different from a tile source zoom level.\n   * @param {number} maxZoom The maximum zoom of the layer.\n   * @observable\n   * @api\n   */\n  setMaxZoom(maxZoom) {\n    this.set(LayerProperty.MAX_ZOOM, maxZoom);\n  }\n\n  /**\n   * Set the minimum zoom (inclusive) at which the layer is visible.\n   * Note that the zoom levels for layer visibility are based on the\n   * view zoom level, which may be different from a tile source zoom level.\n   * @param {number} minZoom The minimum zoom of the layer.\n   * @observable\n   * @api\n   */\n  setMinZoom(minZoom) {\n    this.set(LayerProperty.MIN_ZOOM, minZoom);\n  }\n\n  /**\n   * Set the opacity of the layer, allowed values range from 0 to 1.\n   * @param {number} opacity The opacity of the layer.\n   * @observable\n   * @api\n   */\n  setOpacity(opacity) {\n    assert(typeof opacity === 'number', 'Layer opacity must be a number');\n    this.set(LayerProperty.OPACITY, opacity);\n  }\n\n  /**\n   * Set the visibility of the layer (`true` or `false`).\n   * @param {boolean} visible The visibility of the layer.\n   * @observable\n   * @api\n   */\n  setVisible(visible) {\n    this.set(LayerProperty.VISIBLE, visible);\n  }\n\n  /**\n   * Set Z-index of the layer, which is used to order layers before rendering.\n   * The default Z-index is 0.\n   * @param {number} zindex The z-index of the layer.\n   * @observable\n   * @api\n   */\n  setZIndex(zindex) {\n    this.set(LayerProperty.Z_INDEX, zindex);\n  }\n\n  /**\n   * Clean up.\n   * @override\n   */\n  disposeInternal() {\n    if (this.state_) {\n      this.state_.layer = null;\n      this.state_ = null;\n    }\n    super.disposeInternal();\n  }\n}\n\nexport default BaseLayer;\n","/**\n * @module ol/layer/Group\n */\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport {assert} from '../asserts.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport {getIntersection} from '../extent.js';\nimport {clear} from '../obj.js';\nimport {getUid} from '../util.js';\nimport BaseLayer from './Base.js';\n\n/**\n * @typedef {'addlayer'|'removelayer'} GroupEventType\n */\n\n/**\n * @classdesc\n * A layer group triggers 'addlayer' and 'removelayer' events when layers are added to or removed from\n * the group or one of its child groups.  When a layer group is added to or removed from another layer group,\n * a single event will be triggered (instead of one per layer in the group added or removed).\n */\nexport class GroupEvent extends Event {\n  /**\n   * @param {GroupEventType} type The event type.\n   * @param {BaseLayer} layer The layer.\n   */\n  constructor(type, layer) {\n    super(type);\n\n    /**\n     * The added or removed layer.\n     * @type {BaseLayer}\n     * @api\n     */\n    this.layer = layer;\n  }\n}\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:layers', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|'change:layers', Return>} GroupOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {Array<import(\"./Base.js\").default>|Collection<import(\"./Base.js\").default>} [layers] Child layers.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n\n/**\n * @enum {string}\n * @private\n */\nconst Property = {\n  LAYERS: 'layers',\n};\n\n/**\n * @classdesc\n * A {@link module:ol/Collection~Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @api\n */\nclass LayerGroup extends BaseLayer {\n  /**\n   * @param {Options} [options] Layer options.\n   */\n  constructor(options) {\n    options = options || {};\n    const baseOptions = /** @type {Options} */ (Object.assign({}, options));\n    delete baseOptions.layers;\n\n    let layers = options.layers;\n\n    super(baseOptions);\n\n    /***\n     * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {GroupOnSignature<void>}\n     */\n    this.un;\n\n    /**\n     * @private\n     * @type {Array<import(\"../events.js\").EventsKey>}\n     */\n    this.layersListenerKeys_ = [];\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n     */\n    this.listenerKeys_ = {};\n\n    this.addChangeListener(Property.LAYERS, this.handleLayersChanged_);\n\n    if (layers) {\n      if (Array.isArray(layers)) {\n        layers = new Collection(layers.slice(), {unique: true});\n      } else {\n        assert(\n          typeof (/** @type {?} */ (layers).getArray) === 'function',\n          'Expected `layers` to be an array or a `Collection`',\n        );\n      }\n    } else {\n      layers = new Collection(undefined, {unique: true});\n    }\n\n    this.setLayers(layers);\n  }\n\n  /**\n   * @private\n   */\n  handleLayerChange_() {\n    this.changed();\n  }\n\n  /**\n   * @private\n   */\n  handleLayersChanged_() {\n    this.layersListenerKeys_.forEach(unlistenByKey);\n    this.layersListenerKeys_.length = 0;\n\n    const layers = this.getLayers();\n    this.layersListenerKeys_.push(\n      listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this),\n      listen(\n        layers,\n        CollectionEventType.REMOVE,\n        this.handleLayersRemove_,\n        this,\n      ),\n    );\n\n    for (const id in this.listenerKeys_) {\n      this.listenerKeys_[id].forEach(unlistenByKey);\n    }\n    clear(this.listenerKeys_);\n\n    const layersArray = layers.getArray();\n    for (let i = 0, ii = layersArray.length; i < ii; i++) {\n      const layer = layersArray[i];\n      this.registerLayerListeners_(layer);\n      this.dispatchEvent(new GroupEvent('addlayer', layer));\n    }\n    this.changed();\n  }\n\n  /**\n   * @param {BaseLayer} layer The layer.\n   */\n  registerLayerListeners_(layer) {\n    const listenerKeys = [\n      listen(\n        layer,\n        ObjectEventType.PROPERTYCHANGE,\n        this.handleLayerChange_,\n        this,\n      ),\n      listen(layer, EventType.CHANGE, this.handleLayerChange_, this),\n    ];\n\n    if (layer instanceof LayerGroup) {\n      listenerKeys.push(\n        listen(layer, 'addlayer', this.handleLayerGroupAdd_, this),\n        listen(layer, 'removelayer', this.handleLayerGroupRemove_, this),\n      );\n    }\n\n    this.listenerKeys_[getUid(layer)] = listenerKeys;\n  }\n\n  /**\n   * @param {GroupEvent} event The layer group event.\n   */\n  handleLayerGroupAdd_(event) {\n    this.dispatchEvent(new GroupEvent('addlayer', event.layer));\n  }\n\n  /**\n   * @param {GroupEvent} event The layer group event.\n   */\n  handleLayerGroupRemove_(event) {\n    this.dispatchEvent(new GroupEvent('removelayer', event.layer));\n  }\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent<import(\"./Base.js\").default>} collectionEvent CollectionEvent.\n   * @private\n   */\n  handleLayersAdd_(collectionEvent) {\n    const layer = collectionEvent.element;\n    this.registerLayerListeners_(layer);\n    this.dispatchEvent(new GroupEvent('addlayer', layer));\n    this.changed();\n  }\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent<import(\"./Base.js\").default>} collectionEvent CollectionEvent.\n   * @private\n   */\n  handleLayersRemove_(collectionEvent) {\n    const layer = collectionEvent.element;\n    const key = getUid(layer);\n    this.listenerKeys_[key].forEach(unlistenByKey);\n    delete this.listenerKeys_[key];\n    this.dispatchEvent(new GroupEvent('removelayer', layer));\n    this.changed();\n  }\n\n  /**\n   * Returns the {@link module:ol/Collection~Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n   * in this group.\n   * @return {!Collection<import(\"./Base.js\").default>} Collection of\n   *   {@link module:ol/layer/Base~BaseLayer layers} that are part of this group.\n   * @observable\n   * @api\n   */\n  getLayers() {\n    return /** @type {!Collection<import(\"./Base.js\").default>} */ (\n      this.get(Property.LAYERS)\n    );\n  }\n\n  /**\n   * Set the {@link module:ol/Collection~Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n   * in this group.\n   * @param {!Collection<import(\"./Base.js\").default>} layers Collection of\n   *   {@link module:ol/layer/Base~BaseLayer layers} that are part of this group.\n   * @observable\n   * @api\n   */\n  setLayers(layers) {\n    const collection = this.getLayers();\n    if (collection) {\n      const currentLayers = collection.getArray();\n      for (let i = 0, ii = currentLayers.length; i < ii; ++i) {\n        this.dispatchEvent(new GroupEvent('removelayer', currentLayers[i]));\n      }\n    }\n\n    this.set(Property.LAYERS, layers);\n  }\n\n  /**\n   * @param {Array<import(\"./Layer.js\").default>} [array] Array of layers (to be modified in place).\n   * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n   * @override\n   */\n  getLayersArray(array) {\n    array = array !== undefined ? array : [];\n    this.getLayers().forEach(function (layer) {\n      layer.getLayersArray(array);\n    });\n    return array;\n  }\n\n  /**\n   * Get the layer states list and use this groups z-index as the default\n   * for all layers in this and nested groups, if it is unset at this point.\n   * If dest is not provided and this group's z-index is undefined\n   * 0 is used a the default z-index.\n   * @param {Array<import(\"./Layer.js\").State>} [dest] Optional list\n   * of layer states (to be modified in place).\n   * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n   * @override\n   */\n  getLayerStatesArray(dest) {\n    const states = dest !== undefined ? dest : [];\n    const pos = states.length;\n\n    this.getLayers().forEach(function (layer) {\n      layer.getLayerStatesArray(states);\n    });\n\n    const ownLayerState = this.getLayerState();\n    let defaultZIndex = ownLayerState.zIndex;\n    if (!dest && ownLayerState.zIndex === undefined) {\n      defaultZIndex = 0;\n    }\n    for (let i = pos, ii = states.length; i < ii; i++) {\n      const layerState = states[i];\n      layerState.opacity *= ownLayerState.opacity;\n      layerState.visible = layerState.visible && ownLayerState.visible;\n      layerState.maxResolution = Math.min(\n        layerState.maxResolution,\n        ownLayerState.maxResolution,\n      );\n      layerState.minResolution = Math.max(\n        layerState.minResolution,\n        ownLayerState.minResolution,\n      );\n      layerState.minZoom = Math.max(layerState.minZoom, ownLayerState.minZoom);\n      layerState.maxZoom = Math.min(layerState.maxZoom, ownLayerState.maxZoom);\n      if (ownLayerState.extent !== undefined) {\n        if (layerState.extent !== undefined) {\n          layerState.extent = getIntersection(\n            layerState.extent,\n            ownLayerState.extent,\n          );\n        } else {\n          layerState.extent = ownLayerState.extent;\n        }\n      }\n      if (layerState.zIndex === undefined) {\n        layerState.zIndex = defaultZIndex;\n      }\n    }\n\n    return states;\n  }\n\n  /**\n   * @return {import(\"../source/Source.js\").State} Source state.\n   * @override\n   */\n  getSourceState() {\n    return 'ready';\n  }\n}\n\nexport default LayerGroup;\n","/**\n * @module ol/layer/Property\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  OPACITY: 'opacity',\n  VISIBLE: 'visible',\n  EXTENT: 'extent',\n  Z_INDEX: 'zIndex',\n  MAX_RESOLUTION: 'maxResolution',\n  MIN_RESOLUTION: 'minResolution',\n  MAX_ZOOM: 'maxZoom',\n  MIN_ZOOM: 'minZoom',\n  SOURCE: 'source',\n  MAP: 'map',\n};\n","/**\n * @module ol/math\n */\n\n/**\n * Takes a number and clamps it to within the provided bounds.\n * @param {number} value The input number.\n * @param {number} min The minimum value to return.\n * @param {number} max The maximum value to return.\n * @return {number} The input number if it is within bounds, or the nearest\n *     number within the bounds.\n */\nexport function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n/**\n * Returns the square of the closest distance between the point (x, y) and the\n * line segment (x1, y1) to (x2, y2).\n * @param {number} x X.\n * @param {number} y Y.\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  if (dx !== 0 || dy !== 0) {\n    const t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n    if (t > 1) {\n      x1 = x2;\n      y1 = y2;\n    } else if (t > 0) {\n      x1 += dx * t;\n      y1 += dy * t;\n    }\n  }\n  return squaredDistance(x, y, x1, y1);\n}\n\n/**\n * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredDistance(x1, y1, x2, y2) {\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  return dx * dx + dy * dy;\n}\n\n/**\n * Solves system of linear equations using Gaussian elimination method.\n *\n * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n *                                     in row-major order.\n * @return {Array<number>|null} The resulting vector.\n */\nexport function solveLinearSystem(mat) {\n  const n = mat.length;\n\n  for (let i = 0; i < n; i++) {\n    // Find max in the i-th column (ignoring i - 1 first rows)\n    let maxRow = i;\n    let maxEl = Math.abs(mat[i][i]);\n    for (let r = i + 1; r < n; r++) {\n      const absValue = Math.abs(mat[r][i]);\n      if (absValue > maxEl) {\n        maxEl = absValue;\n        maxRow = r;\n      }\n    }\n\n    if (maxEl === 0) {\n      return null; // matrix is singular\n    }\n\n    // Swap max row with i-th (current) row\n    const tmp = mat[maxRow];\n    mat[maxRow] = mat[i];\n    mat[i] = tmp;\n\n    // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n    for (let j = i + 1; j < n; j++) {\n      const coef = -mat[j][i] / mat[i][i];\n      for (let k = i; k < n + 1; k++) {\n        if (i == k) {\n          mat[j][k] = 0;\n        } else {\n          mat[j][k] += coef * mat[i][k];\n        }\n      }\n    }\n  }\n\n  // Solve Ax=b for upper triangular matrix A (mat)\n  const x = new Array(n);\n  for (let l = n - 1; l >= 0; l--) {\n    x[l] = mat[l][n] / mat[l][l];\n    for (let m = l - 1; m >= 0; m--) {\n      mat[m][n] -= mat[m][l] * x[l];\n    }\n  }\n  return x;\n}\n\n/**\n * Converts radians to to degrees.\n *\n * @param {number} angleInRadians Angle in radians.\n * @return {number} Angle in degrees.\n */\nexport function toDegrees(angleInRadians) {\n  return (angleInRadians * 180) / Math.PI;\n}\n\n/**\n * Converts degrees to radians.\n *\n * @param {number} angleInDegrees Angle in degrees.\n * @return {number} Angle in radians.\n */\nexport function toRadians(angleInDegrees) {\n  return (angleInDegrees * Math.PI) / 180;\n}\n\n/**\n * Returns the modulo of a / b, depending on the sign of b.\n *\n * @param {number} a Dividend.\n * @param {number} b Divisor.\n * @return {number} Modulo.\n */\nexport function modulo(a, b) {\n  const r = a % b;\n  return r * b < 0 ? r + b : r;\n}\n\n/**\n * Calculates the linearly interpolated value of x between a and b.\n *\n * @param {number} a Number\n * @param {number} b Number\n * @param {number} x Value to be interpolated.\n * @return {number} Interpolated value.\n */\nexport function lerp(a, b, x) {\n  return a + x * (b - a);\n}\n\n/**\n * Returns a number with a limited number of decimal digits.\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The input number with a limited number of decimal digits.\n */\nexport function toFixed(n, decimals) {\n  const factor = Math.pow(10, decimals);\n  return Math.round(n * factor) / factor;\n}\n\n/**\n * Rounds a number to the nearest integer value considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The nearest integer.\n */\nexport function round(n, decimals) {\n  return Math.round(toFixed(n, decimals));\n}\n\n/**\n * Rounds a number to the next smaller integer considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The next smaller integer.\n */\nexport function floor(n, decimals) {\n  return Math.floor(toFixed(n, decimals));\n}\n\n/**\n * Rounds a number to the next bigger integer considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The next bigger integer.\n */\nexport function ceil(n, decimals) {\n  return Math.ceil(toFixed(n, decimals));\n}\n\n/**\n * Wraps a number between some minimum and maximum values.\n * @param {number} n The number to wrap.\n * @param {number} min The minimum of the range (inclusive).\n * @param {number} max The maximum of the range (exclusive).\n * @return {number} The wrapped number.\n */\nexport function wrap(n, min, max) {\n  if (n >= min && n < max) {\n    return n;\n  }\n  const range = max - min;\n  return ((((n - min) % range) + range) % range) + min;\n}\n","/**\n * @module ol/obj\n */\n\n/**\n * Removes all properties from an object.\n * @param {Object<string, unknown>} object The object to clear.\n */\nexport function clear(object) {\n  for (const property in object) {\n    delete object[property];\n  }\n}\n\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n  let property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n","/**\n * @module ol/util\n */\n\n/**\n * @return {never} Any return.\n */\nexport function abstract() {\n  throw new Error('Unimplemented abstract method.');\n}\n\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nlet uidCounter_ = 0;\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n  return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport const VERSION = '10.4.0';\n"],"names":["CollectionEvent","type","element","index","Collection","array","options","i","ii","arr","f","elem","Error","n","prev","except","Disposable","ObjectEvent","key","oldValue","BaseObject","values","undefined","value","Object","eventType","listener","silent","source","Observable","Array","len","keys","unByKey","binarySearch","haystack","needle","comparator","mid","cmp","ascending","low","high","found","a","b","descending","linearFindNearest","target","direction","candidate","reverseSubArray","begin","end","tmp","extend","data","extension","length","equals","arr1","arr2","len1","isSorted","func","strict","compare","currentVal","res","assert","assertion","errorMessage","listen","thisArg","once","originalListener","event","eventsKey","listenOnce","unlistenByKey","stopPropagation","evt","preventDefault","BaseEvent","Target","listeners","listenersForType","propagate","isString","dispatching","pendingRemovals","pr","TRUE","FALSE","VOID","memoizeOne","fn","lastResult","lastArgs","lastThis","nextArgs","arguments","toPromise","getter","promiseGetter","err","Promise","BaseLayer","properties","Infinity","managed","state","zIndex","Math","states","background","extent","maxResolution","minResolution","maxZoom","minZoom","opacity","visible","zindex","GroupEvent","layer","LayerGroup","baseOptions","layers","id","layersArray","listenerKeys","collectionEvent","collection","currentLayers","dest","pos","ownLayerState","defaultZIndex","layerState","clamp","min","max","squaredSegmentDistance","x","y","x1","y1","x2","y2","dx","dy","t","squaredDistance","solveLinearSystem","mat","maxRow","maxEl","r","absValue","j","coef","k","l","m","toDegrees","angleInRadians","toRadians","angleInDegrees","modulo","lerp","toFixed","decimals","factor","round","floor","ceil","wrap","range","clear","object","property","isEmpty","abstract","uidCounter_","getUid","obj","String","VERSION"],"mappings":"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"}