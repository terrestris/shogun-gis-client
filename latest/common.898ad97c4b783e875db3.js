(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([[312],{19588:function(e,t,r){"use strict";r.r(t),r.d(t,{App:function(){return tl},default:function(){return rl}});var n=r(12922),a=r.n(n),o=r(10744),i=r(53104),l=r(82576),s=r(61968),c=r(29128),u=r(90340),d=r(80552),m=r(62024),p=r.n(m),g=r(73714),f=r.n(g),y=r(62424),h=r.n(y),E=r(48200),b=r(36864),w=r.n(b),v=r(16412),S=r.n(v),T=r(31216),k=r.n(T),L=r(57800),C=r(51640),P=r.n(C),F=r(66572);var A=()=>(0,F.useDispatch)();const O=F.useSelector;var N=O,D=r(20508),M=r(14596),I=r.n(M),j=r(86520),x=r.n(j),U=r(36176),R=r.n(U),B=r(65120),_=r.n(B),z=r(66808),V=r.n(z),W=r(61936),$=r.n(W),G=r(41396),K={};K.styleTagTransform=$(),K.setAttributes=_(),K.insert=R().bind(null,"head"),K.domAPI=x(),K.insertStyleElement=V();I()(G.c,K),G.c&&G.c.locals&&G.c.locals;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}var q=({...e})=>{const[t,r]=(0,n.useState)(!1),[m,g]=(0,n.useState)([]),[y,b]=(0,n.useState)([]),[v,T]=(0,n.useState)(""),[P,F]=(0,n.useState)("https://sgx.geodatenzentrum.de/wms_topplus_open"),[O,M]=(0,n.useState)(),[I,j]=(0,n.useState)("1.3.0"),x=N((e=>e.addLayerModal.visible)),U=A(),R=(0,C.useMap)(),{t:B}=(0,E.useTranslation)();(0,n.useEffect)((()=>{x&&M(w().createValidGetCapabilitiesRequest(P,"WMS",I))}),[I,x,P]);const _=()=>{b([]),g([]),U((0,D.WS)())},z=e=>{if(!R)return;const t=B("AddLayerModal.externalWmsFolder");let r=k().getLayerByName(R,t);if(!r){r=new(p())({layers:[]}),r.set("name",t);const e=R.getLayerGroup().getLayers();e.insertAt(e?.getLength()||0,r)}e.forEach((e=>{if(!r.getLayers().getArray().includes(e)){let t;if(e.set("isExternalLayer",!0),e instanceof f()&&(t=e.getSource()?.getUrl()),e instanceof h()){const r=e.getSource()?.getUrls();t=1===r?.length?r[0]:void 0}const n={name:e.get("name"),type:e instanceof h()?"TILEWMS":"WMS",opacity:e.getOpacity(),sourceConfig:{layerNames:e.getSource()?.getParams().LAYERS,url:t,useBearerToken:!1}};e.set("layerConfig",n),r.getLayers().push(e)}})),_()};return a().createElement(i.default,H({className:"add-layer-modal",title:B("AddLayerModal.title"),open:x,onCancel:_,width:600,footer:[a().createElement(L.SimpleButton,{"aria-label":"add-all",key:"add-all",disabled:m?.length<1,onClick:()=>{z(m)}},B("AddLayerModal.addAllLayers")),a().createElement(L.SimpleButton,{"aria-label":"add-selected",key:"add-selected",disabled:y?.length<1,onClick:()=>{const e=m.filter((e=>y.includes((0,d.getUid)(e))));z(e)}},B("AddLayerModal.addSelectedLayers"))]},e),a().createElement("span",null,B("AddLayerModal.requestWmsGetCapabilitiesInstruction")),a().createElement(l.c.Search,{"aria-label":"input-search",className:"url-input",placeholder:B("AddLayerModal.inputPlaceholder"),value:P,onChange:e=>{const t=e.target.value;T(w().isValid(t.trim())?"":"error"),F(e.target.value)},onSearch:async()=>{if(O)try{r(!0);const e=await S().getWmsCapabilities(O),t=S().getLayersFromWmsCapabilities(e,"Title");g(t)}catch(e){o.c.error({message:B("AddLayerModal.errorMessage"),description:B("AddLayerModal.errorDescription")})}finally{r(!1)}},status:v,enterButton:!0,addonBefore:a().createElement(s.default,{"aria-label":"select-version",defaultValue:"1.3.0",onChange:j,options:[{value:"1.3.0",label:`${B("AddLayerModal.version")} 1.3.0`},{value:"1.1.1",label:`${B("AddLayerModal.version")} 1.1.1`}]})}),""!==v&&a().createElement(c.c,{className:"error"},B("AddLayerModal.invalidUrlErrorMsg")),a().createElement(u.c,{"aria-label":"wms-table",loading:t,columns:[{title:B("AddLayerModal.columnTitle"),render:(e,t)=>t.get("title")}],scroll:{y:250},rowKey:e=>(0,d.getUid)(e),rowSelection:{selectedRowKeys:y,onChange:b},pagination:!1,dataSource:m}))},Y=r(55976),J=r(4648),Z=r.n(J),Q=r(74820);const X=()=>(0,n.useContext)(Q.cp);var ee=X;function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},te.apply(this,arguments)}var re=({...e})=>{const t=P()(),r=ee(),{t:o,i18n:i}=(0,E.useTranslation)();(0,n.useEffect)((()=>{if(!t)return;const e=k().getLayersByProperty(t,"isExternalLayerGroup",!0);if(1!==e?.length)return;const r=e[0],n=e[0].get("name");r.set("name",o("AddLayerModal.externalWmsFolder"));const a=new Y.ObjectEvent("change:layers","name",n);r.dispatchEvent(a)}),[i.language,t,o]);const l=[];return r&&r.forEach((e=>{if((t=e.integration)&&"map"===t.placement){const{key:t,wrappedComponent:r}=e;l.push(a().createElement(r,{key:t}))}var t})),t?a().createElement(Z(),te({map:t},e),l):a().createElement(a().Fragment,null)},ne=r(38568),ae=r(95940),oe={};oe.styleTagTransform=$(),oe.setAttributes=_(),oe.insert=R().bind(null,"head"),oe.domAPI=x(),oe.insertStyleElement=V();I()(ae.c,oe),ae.c&&ae.c.locals&&ae.c.locals;var ie=()=>{const e=ee(),{t:t}=(0,E.useTranslation)(),r=()=>{let t=null;return e.forEach((e=>{if((r=e.integration)&&"cookie-banner"===r.placement){const{key:r,wrappedComponent:n}=e;t=a().createElement(n,{key:r})}var r})),t};return a().createElement(ne.oF,{disableStyles:!0,key:"default-cookie-consent",location:"bottom",buttonText:t("CookieBanner.button"),cookieName:"SHOGun-Session-Cookie",buttonClasses:"cookie-button",containerClasses:"cookie-container",contentClasses:"cookie-content",expires:150},r()?r():t("CookieBanner.info"))},le=r(36224),se=r(608),ce=r.n(se),ue=r(11545),de=r.n(ue),me=r(39868),pe=r(84528),ge=r(76994),fe=r.n(ge),ye=r(92856),he=r.n(ye),Ee=r(13432),be=r(86837);var we=()=>(0,n.useContext)(be.cp);var ve=()=>{const e=we();return(0,n.useCallback)((async t=>{let r;const n=t.layer.getSource();if(n instanceof fe()&&(r=n.getUrl()),n instanceof he()){const e=n.getUrls();r=e?e[0]:void 0}if(!r)return;r.endsWith("?")&&(r=r.slice(0,-1));const a={"Content-Type":"application/xml"},o=await fetch(r,{method:"POST",headers:t.layer?.get("useBearerToken")?{...a,...(0,Ee.getBearerTokenHeader)(e?.getKeycloak())}:a,body:(new XMLSerializer).serializeToString(t.transaction)});if(!o.ok)throw new Error("No successful response while executing a WFS-Transaction");const i=await o.text();if((e=>["wfs:FAILED","ows:ExceptionReport"].some((t=>e.getElementsByTagName(t).length>0)))((new DOMParser).parseFromString(i,"text/xml")))throw new Error(`Something failed: ${i}`);return i}),[e])},Se=r(38316),Te=r.n(Se),ke=r(17412),Le=r.n(ke),Ce=r(50760),Pe=r(24962),Fe=r.n(Pe),Ae=r(78532),Oe=r(24156),Ne=r(11976),De=r(83414),Me=r(27964),Ie=r(73336),je=r.n(Ie),xe=r(14764),Ue=r.n(xe),Re=r(8940),Be=r.n(Re),_e=r(15856),ze=r.n(_e),Ve=r(69516),We=r(22712),$e=r(4120),Ge=r(74968);function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ke.apply(this,arguments)}var He=({readOnly:e=!1,fieldConfig:t,...r})=>{const n=we(),{t:o}=(0,E.useTranslation)();return n?a().createElement(We.default,Ke({multiple:!0,name:"file",action:"/files/uploadToFileSystem",withCredentials:!0,headers:{...(0,Ge.getCsrfTokenHeader)(),...(0,Ee.getBearerTokenHeader)(n.getKeycloak())},onRemove:async e=>{const t=e?.response?.fileUuid;if(t){const e=`${n?.getBasePath()}files/${t}`;return await fetch(e,{method:"DELETE",credentials:"same-origin",headers:{...(0,Ge.getCsrfTokenHeader)(),...(0,Ee.getBearerTokenHeader)(n?.getKeycloak())}})}},onPreview:async e=>{if(!n)return;const{response:t}=e,r=t?.fileName,a=`/files/${t?.fileUuid}`;if(Ue()(r)||Ue()(t?.fileUuid))return;const o=document.createElement("a");document.body.appendChild(o);const i={headers:{...(0,Ee.getBearerTokenHeader)(n.getKeycloak())}},l=await fetch(a,i),s=await l.blob();let c=window.URL.createObjectURL(s);o.href=c,o.download=r,o.click(),window.URL.revokeObjectURL(c)}},t?.fieldProps,r),!e&&a().createElement($e.c,null,o("FileUpload.upload"))):a().createElement(a().Fragment,null)},qe=r(15896),Ye=r(76542),Je=r(80919);var Ze=()=>{const e=we();return(0,n.useCallback)((async t=>{if(Ue()(t))return Promise.reject();const r=await fetch(t,{credentials:"include",headers:{...(0,Ee.getBearerTokenHeader)(e?.getKeycloak())}}),n=await r.blob();return new Promise(((e,t)=>{try{const t=new FileReader;t.onload=function(){e(this.result)},t.readAsDataURL(n)}catch(e){t(e)}}))}),[e])};function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(this,arguments)}var Xe=({fieldConfig:e,readOnly:t=!1,initialFileList:r,...o})=>{const[l,s]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,m]=(0,n.useState)(),p=we(),g=Ze(),{t:f}=(0,E.useTranslation)();(0,Je.C)((async()=>{if(!r||0===r.length)return;const e=await(async e=>{const t=e.map((async e=>({...e,thumbUrl:await g(`${p?.getBasePath()}imagefiles/${e?.response?.fileUuid}/thumbnail`),url:void 0})));return await Promise.all(t)})(r);m(e)}),[r?.length]);return p?a().createElement(a().Fragment,null,a().createElement(We.default,Qe({accept:"image/*",multiple:!0,name:"file",action:`${p.getBasePath()}imagefiles/uploadToFileSystem`,withCredentials:!0,listType:"picture-card",headers:{...(0,Ge.getCsrfTokenHeader)(),...(0,Ee.getBearerTokenHeader)(p.getKeycloak())},onRemove:async e=>{const t=e?.response?.fileUuid;if(t){const e=`${p?.getBasePath()}imagefiles/${t}`;return await fetch(e,{method:"DELETE",credentials:"same-origin",headers:{...(0,Ge.getCsrfTokenHeader)(),...(0,Ee.getBearerTokenHeader)(p?.getKeycloak())}})}},onPreview:async e=>{const{response:t}=e;if(Ue()(t)||Ue()(t?.fileUuid))return;const r=`${p?.getBasePath()}imagefiles/${t.fileUuid}`,n=await g(r);u(n),s(!0)},fileList:t?d:void 0},e?.fieldProps,o),!t&&a().createElement("div",null,a().createElement(Ye.FontAwesomeIcon,{icon:qe.qsE}),a().createElement("div",{style:{marginTop:8}},f("ImageUpload.upload")))),a().createElement(i.default,{open:l,footer:null,onCancel:()=>s(!1)},a().createElement("img",{alt:"example",style:{width:"100%"},src:c}))):a().createElement(a().Fragment,null)},et=r(57640),tt=r(63296),rt={};rt.styleTagTransform=$(),rt.setAttributes=_(),rt.insert=R().bind(null,"head"),rt.domAPI=x(),rt.insertStyleElement=V();I()(tt.c,rt),tt.c&&tt.c.locals&&tt.c.locals;function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nt.apply(this,arguments)}var at=({feature:e,formConfig:t,...r})=>{const[o]=(0,et.aS)();(0,n.useEffect)((()=>{o.setFieldsValue(e.getProperties())}),[e,o]);return a().createElement(Ae.c,nt({className:"feature-info-form",form:o,labelCol:{span:8},labelAlign:"left",labelWrap:!0},r),t?.map((e=>a().createElement(Ae.c.Item,{key:e.propertyName,name:e.propertyName,label:e.displayName||e.propertyName},a().createElement(ut,nt({label:e.displayName||e.propertyName},e.fieldProps))))))},ot=r(91036),it={};it.styleTagTransform=$(),it.setAttributes=_(),it.insert=R().bind(null,"head"),it.domAPI=x(),it.insertStyleElement=V();I()(ot.c,it),ot.c&&ot.c.locals&&ot.c.locals;function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lt.apply(this,arguments)}var st=({value:e,referenceConfig:t,...r})=>{const[o,l]=(0,n.useState)(!1),[s,c]=(0,n.useState)(),{t:d}=(0,E.useTranslation)(),m="id",p=e=>{if(t?.tablePropertyName){const r=/{{(.*?)}}/g;if(t?.tablePropertyName.match(r)){let n,a=t?.tablePropertyName;for(;n=r.exec(t?.tablePropertyName);)a=a.replace(n[0],e[n[1]]);return a}return e[t?.tablePropertyName]}if(e[m])return e[m]},g=[{width:"100%",render:(e,t)=>p(t)?p(t):d("ReferenceTable.defaultRowPlaceholder")},{render:(e,t)=>a().createElement($e.c,{onClick:()=>f(e,t),icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.iUR})})}],f=(e,t)=>{const r=new(de());r.setProperties(t),c(r),l(!0)};return a().createElement(a().Fragment,null,a().createElement(u.c,lt({size:"small",showHeader:!1,pagination:!1,columns:g,rowKey:m,dataSource:(()=>{if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t;if(null==t||"number"==typeof t||"boolean"==typeof t||"string"==typeof t)return ze().warn("Unsupported value given"),[];if("object"==typeof t)return[t]}catch(e){return ze().warn("Error while parsing the table data ",e),[]}})()},r)),a().createElement(i.default,{className:"reference-table-modal",open:o,maskClosable:!1,footer:null,width:600,destroyOnClose:!0,title:(()=>{if(!s)return d("ReferenceTable.defaultModalTitle");const e=p(s.getProperties());return e?`${d("ReferenceTable.modalTitle",{referenceValue:e})}`:d("ReferenceTable.defaultModalTitle")})(),onCancel:async()=>{l(!1),c(void 0)}},s&&a().createElement(at,{feature:s,formConfig:t?.featureInfoFormConfig})))};function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ct.apply(this,arguments)}var ut=({format:e="DD.MM.YYYY",suffix:t,value:r,label:n,referenceConfig:o,...i})=>{const{i18n:l}=(0,E.useTranslation)();let s="";if("string"==typeof r&&(s=r),"boolean"==typeof r||"false"===r||"true"===r)return a().createElement(Oe.c,{checked:!0===r||"true"===r,disabled:!0});Number.isFinite(r)&&(s=new Intl.NumberFormat(l.language,{useGrouping:!1}).format(Number(r))),(0,ke.isMoment)(r)&&(s=r.format(e)),Array.isArray(r)&&(s=r.join(", "));const u=r&&(e=>{if(!r)return null;let t="string"!=typeof e?JSON.stringify(e):e;try{t=JSON.parse(t)}catch(e){return null}return"object"==typeof t&&null!==t&&wt(t[0])?t:null})(r);if(u)return u[0].response?.fileType?.startsWith("image/")?a().createElement(Xe,{initialFileList:u,disabled:!0,readOnly:!0}):a().createElement(He,{defaultFileList:u,disabled:!0,readOnly:!0});return r&&(e=>{let t="string"!=typeof e?JSON.stringify(e):e;try{t=JSON.parse(t)}catch(e){return!1}return"object"==typeof t&&null!==t})(r)?a().createElement(st,{value:"string"==typeof r?r:JSON.stringify(r),referenceConfig:o}):a().createElement(c.c.Text,ct({className:"displayfield"},i),s,s&&t?` ${t}`:"")},dt=r(77572),mt=r(21194),pt=r(83564),gt={};gt.styleTagTransform=$(),gt.setAttributes=_(),gt.insert=R().bind(null,"head"),gt.domAPI=x(),gt.insertStyleElement=V();I()(pt.c,gt),pt.c&&pt.c.locals&&pt.c.locals;function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ft.apply(this,arguments)}var yt=({parentForm:e,propertyName:t,value:r,tablePropertyName:o,formConfig:l,onChange:s=(()=>{}),...c})=>{const[d,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(),[f]=(0,et.aS)(),{t:y}=(0,E.useTranslation)(),h=Ze(),b=we(),w=e=>{if(!o)return e.id||"";const t=/{{(.*?)}}/g;if(!o.match(t))return e[o];let r,n=o;for(;r=t.exec(o);)n=n.replace(r[0],e[r[1]]);return n},v=[{width:"100%",defaultSortOrder:"ascend",sorter:(e,t)=>{const r=w(e),n=w(t);return Number.isFinite(r)&&Number.isFinite(n)?r-n:"string"==typeof r&&"string"==typeof n?r.localeCompare(n):0},render:(e,t)=>w(t)},{render:(e,t)=>a().createElement($e.c,{onClick:()=>T(t),icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.cpv})})},{render:(e,t)=>a().createElement(dt.c,{title:y("EditReferenceTable.confirmDeleteTitle"),onConfirm:()=>S(t),placement:"bottomRight"},a().createElement($e.c,{danger:!0,icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe._8k})}))}],S=r=>{const n=e.getFieldsValue();if(!n[t])return void ze().warn(`Could not find the property ${t} in the form values`);const a=Te()(n[t]);if(!Array.isArray(a))return void ze().warn("The delete candidate is not of required type array");const o=a.findIndex((e=>!(!Number.isFinite(e.id)||e.id!==r.id)||!(!e.internalId||e.internalId!==r.internalId)));-1!==o?(a.splice(o,1),s(a)):ze().warn(`Could not find the index (${r.id}) to delete`)},T=e=>{const t=new(de());t.setProperties(e),f.setFieldsValue(t.getProperties()),g(t),m(!0)},k=()=>{f.resetFields(),m(!1),g(void 0)};return a().createElement(a().Fragment,null,a().createElement($e.c,{className:"add-reference-button",onClick:()=>{const e=new(de());e.set("internalId",(0,mt.getUid)(e)),f.setFieldsValue(e.getProperties()),g(e),m(!0)},icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.qsE})}),a().createElement(u.c,ft({size:"small",showHeader:!1,pagination:!1,columns:v,rowKey:"id",dataSource:(()=>{if(!r)return;if(!Array.isArray(r))return void ze().warn("Reference value must be of of type array.");const e=Te()(r);e.forEach((e=>{Object.entries(e).forEach((async([t,n])=>{const a=l?.some((e=>e.propertyName===t&&"DATE"===e.component));if(a&&n){Le()(r).isValid()?e[t]=Le()(n):(ze().warn("Could not parse date"),e[t]=null)}const o=l?.some((e=>e.propertyName===t&&"UPLOAD"===e.component));if(o)if(Array.isArray(e[t])){const r=e[t]?.map((async e=>({...e,thumbUrl:e.type.startsWith("image")?await h(`${b?.getBasePath()}imagefiles/${e?.response?.fileUuid}/thumbnail`):void 0,url:e.type.startsWith("image")?void 0:e.url}))),n=await Promise.all(r);e[t]=n}else e[t]=[]}))}));return e.every((e=>!!Number.isFinite(e.id)||"string"==typeof e.id&&e.id.length>0))||ze().warn("Not all elements in the referenced array contain an id value. This might result in unexpected behaviour"),e})()},c)),a().createElement(i.default,{className:"edit-reference-table-modal",open:d,maskClosable:!1,width:600,destroyOnClose:!0,title:`${y("EditReferenceTable.modalTitle",{referenceValue:p?w(p.getProperties()):void 0})}`,onCancel:()=>{k()},onOk:async()=>{try{await f.validateFields()}catch(e){return void ze().warn("Form validation failed: ",e)}(()=>{const r=Te()(f.getFieldsValue(!0));let n=[];Array.isArray(e.getFieldValue(t))&&(n=Te()(e.getFieldValue(t)));const a=n.findIndex((e=>!(!Number.isFinite(e.id)||e.id!==r.id)||!(!e.internalId||e.internalId!==r.internalId)));a>-1?n[a]=r:n.push(r),f.isFieldsTouched()&&s(n)})(),k()}},p&&a().createElement(vt,{form:f,formConfig:l,applyFormDirty:!1})))},ht=r(79136),Et={};Et.styleTagTransform=$(),Et.setAttributes=_(),Et.insert=R().bind(null,"head"),Et.domAPI=x(),Et.insertStyleElement=V();I()(ht.c,Et),ht.c&&ht.c.locals&&ht.c.locals;function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(this,arguments)}function wt(e){return!Ue()(e)&&(e.uid&&!Ue()(e.name)&&!Ue()(e.type)&&!Ue()(e.uid)&&Be()(e.response)&&!Ue()(e.response.id)&&!Ue()(e.response.fileUuid)&&!Ue()(e.response.fileName)&&!Ue()(e.response.fileType))}var vt=({form:e,formConfig:t,applyFormDirty:r=!0,...n})=>{const o=we(),i=A(),c=N((e=>e.editFeature.formDirty)),u=e=>a().createElement(ut,e.fieldProps),d=t=>{if(o)switch(t.component){case"CHECKBOX":return a().createElement(Oe.c,t?.fieldProps);case"DATE":return a().createElement(Ne.c,t?.fieldProps);case"DISPLAY":return a().createElement("span",t?.fieldProps);case"INPUT":return a().createElement(l.c,t?.fieldProps);case"NUMBER":return a().createElement(De.c,t?.fieldProps);case"SELECT":return a().createElement(s.default,bt({allowClear:!0},t?.fieldProps));case"SWITCH":return a().createElement(Me.c,t?.fieldProps);case"TEXTAREA":return a().createElement(l.c.TextArea,t?.fieldProps);case"UPLOAD":return"IMAGE"===t?.fieldProps?.type?a().createElement(Xe,t?.fieldProps):a().createElement(He,t?.fieldProps);case"REFERENCE_TABLE":const r=t;return a().createElement(yt,bt({key:r.propertyName,tablePropertyName:r.tablePropertyName,propertyName:r.propertyName,formConfig:r.editFormConfig,parentForm:e},r.fieldProps));default:return ze().error(`Component type "${t?.component}" is not supported`),a().createElement(a().Fragment,null)}};return a().createElement(Ae.c,bt({className:"edit-feature-form",form:e,labelCol:{span:8},labelAlign:"left",labelWrap:!0,onValuesChange:je()((async e=>{r&&e&&!c&&i((0,Ve._A)(!0))}),250)},n),t?.map((e=>{let t;e.readOnly?t=u(e):e.component?t=d(e):(ze().warn("FieldConfig is missing `readOnly`, `component` or `dataType` property."),t=a().createElement(l.c,{key:e.propertyName,placeholder:""}));const r={rules:[]};return r.rules=[{required:e.required}],"SWITCH"!==e.component&&"CHECKBOX"!==e.component||e.readOnly||(r.valuePropName="checked"),"UPLOAD"!==e.component||e.readOnly||(r.valuePropName="fileList",r.getValueFromEvent=e=>Array.isArray(e)?e:e&&e.fileList),a().createElement(Ae.c.Item,bt({key:e.propertyName,name:e.propertyName,label:e.displayName||e.propertyName},r),t)})))};const St=e=>["gml:MultiPoint","gml:Point","gml:MultiLineString","gml:LineString","gml:MultiPolygon","gml:Polygon"].includes(e);var Tt=()=>{const e=we();return(0,n.useCallback)((async t=>{let r;const n=t.getSource();if(n instanceof fe()&&(r=n.getUrl()),n instanceof he()){const e=n.getUrls();r=e?e[0]:void 0}if(!r)return;r.endsWith("?")&&(r=r.slice(0,-1));const a={SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:"2.0.0",OUTPUTFORMAT:"application/json",TYPENAMES:t.getSource()?.getParams().LAYERS},o={"Content-Type":"application/json"},i=await fetch(`${r}?${w().objectToRequestString(a)}`,{method:"GET",headers:t.get("useBearerToken")?{...o,...(0,Ee.getBearerTokenHeader)(e?.getKeycloak())}:o});if(!i.ok)throw new Error("No successful response while executing a WFS-Transaction");return await i.json()}),[e])};var kt=()=>{const e=P()(),t=Tt(),r=we(),a=N((e=>e.editFeature.userEditMode)),o=(0,n.useCallback)(((e,t,n)=>{for(const[a,i]of Object.entries(e)){if(Array.isArray(i)){const r=i.map((e=>o(e,t)));e[a]=n?JSON.stringify(r):r}void 0===i&&(e[a]=null);if(t.some((e=>e.children?.some((e=>e.propertyName===a&&e.readOnly))))&&delete e[a],(0,ke.isMoment)(i)&&(e[a]=i.toISOString()),Array.isArray(i)&&i.length>0&&wt(i[0])){const t=i[0].response?.fileType?.startsWith("image/")?"imagefiles/":"files/",n=i.map((e=>({uid:e.uid,lastModified:e.lastModified,name:e.name,type:e.type,url:`${r?.getBasePath()}${t}${e.response.fileUuid}`,response:{id:e.response?.id,created:e.response?.created,fileName:e.response?.fileName,fileType:e.response?.fileType,fileUuid:e.response?.fileUuid}})));e[a]=JSON.stringify(n)}}return e}),[r]);return(0,n.useCallback)((async r=>{if(!e)return;const n=[],i=[],l=[],s=await t(r.layer);if(!s)return;const c=r.layer.get("editFormConfig"),u=s.featureTypes[0]?.properties?.find((e=>St(e.type)));let d=!1;if(r.upsertFeatures)for(const e of r.upsertFeatures){const t=new(de()),l=e.getGeometry()?.clone();l&&!(0,Ce.isEmpty)(l.getExtent())&&a?.includes("EDIT_GEOMETRY")&&(t.set(u?.name||"geom",l),t.setGeometryName(u?.name||"geom")),r.form&&t.setProperties(o(Te()(r.form?.getFieldsValue()),c,!0));const s=!!e.getId();s&&!d&&(d=!0),s&&t.setId(e.getId()),s?i.push(t):n.push(t)}r.deleteFeatures&&l.push(...r.deleteFeatures);const m={featureNS:s.targetNamespace,featurePrefix:s.targetPrefix,featureType:r.layer.getSource()?.getParams().LAYERS,srsName:e.getView().getProjection().getCode(),version:"1.1.0",nativeElements:[]},p=(new(Fe())).writeTransaction(n,i,l,m);if(d&&ce().wfsLockFeatureEnabled){const e=p.getRootNode(),t=document.createElementNS("http://www.opengis.net/wfs","LockId"),r=document.createTextNode("GeoServer");t.appendChild(r),e.appendChild(t)}return p}),[e,a,t,o])},Lt=r(64076),Ct=r(70776),Pt=r(98248),Ft={};Ft.styleTagTransform=$(),Ft.setAttributes=_(),Ft.insert=R().bind(null,"head"),Ft.domAPI=x(),Ft.insertStyleElement=V();I()(Pt.c,Ft),Pt.c&&Pt.c.locals&&Pt.c.locals;function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},At.apply(this,arguments)}var Ot=({open:e,children:t,...r})=>{const o=P()();(0,n.useEffect)((()=>{document.querySelectorAll("#map")[0]?.classList.toggle("bisected",!!e)}),[e]);return a().createElement(Ct.c,At({className:"map-drawer",mask:!1,open:e,placement:"right",width:getComputedStyle(document.documentElement).getPropertyValue("--editDrawerWidth"),afterOpenChange:()=>{o?.updateSize()}},r),t)},Nt=r(46592);var Dt=()=>{const e=we(),t=P()(),r=Tt();return(0,n.useCallback)((async n=>{if(!t)return;const a=await r(n.layer);if(!a)return;let o;const i=n.layer.getSource();if(i instanceof fe()&&(o=i.getUrl()),i instanceof he()){const e=i.getUrls();o=e?e[0]:void 0}if(!o)return;o.endsWith("?")&&(o=o.slice(0,-1));const l=(new(Fe())).writeGetFeature({srsName:t.getView().getProjection().getCode(),featureNS:a.targetNamespace,featurePrefix:a.targetPrefix,featureTypes:[i?.getParams().LAYERS],outputFormat:"application/json",filter:n.filter}),s={"Content-Type":"application/json"},c=await fetch(o,{method:"POST",headers:n.layer?.get("useBearerToken")?{...s,...(0,Ee.getBearerTokenHeader)(e?.getKeycloak())}:s,body:(new XMLSerializer).serializeToString(l)});if(!c.ok)throw new Error("No successful response");return await c.json()}),[e,r,t])},Mt=r(63924),It=r(40656),jt=r.n(It),xt=r(76968),Ut=r.n(xt),Rt=r(76780),Bt=r.n(Rt),_t=r(45160),zt=r.n(_t),Vt=r(83140),Wt=r.n(Vt),$t=r(65016),Gt=r.n($t),Kt=r(34680),Ht=r.n(Kt),qt=r(92496),Yt=r.n(qt),Jt=r(35544),Zt=r(41052),Qt={};Qt.styleTagTransform=$(),Qt.setAttributes=_(),Qt.insert=R().bind(null,"head"),Qt.domAPI=x(),Qt.insertStyleElement=V();I()(Zt.c,Qt),Zt.c&&Zt.c.locals&&Zt.c.locals;function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xt.apply(this,arguments)}var er=({feature:e,historyLength:t=10})=>{const r=(0,n.useRef)({past:[],future:[]}),o=(0,C.useMap)(),i=A(),[l,s]=(0,n.useState)(),[,c]=(0,n.useState)(0),u=(0,n.useMemo)((()=>new(Ut())),[]),d=N((e=>e.editFeature.userEditMode)),m=N((e=>e.editFeature.formDirty));(0,n.useEffect)((()=>{if(o)return l||s(Jt.DigitizeUtil.getDigitizeLayer(o)),()=>{l&&o?.removeLayer(l)}}),[l,o]),(0,n.useEffect)((()=>{r.current.past.length>0&&!m&&i((0,Ve._A)(!0))}),[i,r.current.past]),(0,n.useEffect)((()=>{if(l&&e?.id){l.getSource()?.clear();const t=u.readFeature(e),r=l.getSource();r.addFeature(t),c((e=>e+1)),(0,Ce.isEmpty)(r.getExtent())||o?.getView().fit(r.getExtent(),{padding:[50,50,50,50]})}}),[e,l,u,o]);const p=()=>{const e=l?.getSource(),n=e?.getFeatures();if(!n)return;const a=u.writeFeaturesObject(n),o=r.current.past[r.current.past.length-1];jt()(o)||(e?.clear(),e?.addFeatures(u.readFeatures(o)),r.current={past:r.current.past.slice(0,-1),future:[...r.current.future,a].slice(-t)},c((e=>e+1)))},g=()=>{const e=l?.getSource(),n=e?.getFeatures();if(!n)return;const a=u.writeFeaturesObject(n),o=r.current.future[r.current.future.length-1];jt()(o)||(e?.clear(),e?.addFeatures(u.readFeatures(o)),r.current={future:r.current.future.slice(0,-1),past:[...r.current.past,a].slice(-t)},c((e=>e+1)))},f=t=>{y(),e.geometry.type.toLocaleLowerCase().startsWith("multi")||l?.getSource()?.clear()},y=()=>{const e=l?.getSource()?.getFeatures();if(!e)return;const t=u.writeFeaturesObject(e);r.current={...r.current,past:[...r.current.past,t].slice(-10)},c((e=>e+1))},h={tooltipPlacement:"left",tooltipProps:{mouseEnterDelay:.5}};return l&&d.includes("EDIT_GEOMETRY")?a().createElement(Yt(),{className:"geometry-edit-tb",alignment:"vertical"},a().createElement(Ht(),null,d.includes("CREATE")?a().createElement(zt(),Xt({icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.uYF}),pressedIcon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.uYF}),name:"draw",digitizeLayer:l,tooltip:(0,Mt.t)("EditFeatureGeometryToolbar.draw"),drawType:e.geometry.type,onDrawEnd:f},h)):a().createElement(a().Fragment,null),d.includes("UPDATE")?a().createElement(Wt(),Xt({icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.o7b}),pressedIcon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.o7b}),name:"edit",digitizeLayer:l,tooltip:(0,Mt.t)("EditFeatureGeometryToolbar.edit"),onModifyStart:y,onModifyEnd:y,onTranslateEnd:y},h)):a().createElement(a().Fragment,null),d.includes("DELETE")?a().createElement(Bt(),Xt({icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe._8k}),pressedIcon:a().createElement(Ye.FontAwesomeIcon,{icon:qe._8k}),name:"delete",digitizeLayer:l,tooltip:(0,Mt.t)("EditFeatureGeometryToolbar.delete"),onFeatureRemove:y},h)):a().createElement(a().Fragment,null)),a().createElement(Gt(),Xt({icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.OQi}),tooltip:(0,Mt.t)("EditFeatureGeometryToolbar.undo"),onClick:p,disabled:0===r.current.past?.length},h)),a().createElement(Gt(),Xt({icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.OQi,flip:"horizontal"}),tooltip:(0,Mt.t)("EditFeatureGeometryToolbar.redo"),onClick:g,disabled:0===r.current.future?.length},h))):a().createElement(a().Fragment,null)},tr=r(6512);function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rr.apply(this,arguments)}var nr=({tabConfig:e,form:t,initialValues:r,...n})=>{const o=e?.map(((e,n)=>({label:e.title,key:`${n}`,forceRender:!0,children:a().createElement(vt,{name:e.title,form:t,initialValues:r,formConfig:e.children})})));return a().createElement(tr.c,rr({items:o},n))};function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ar.apply(this,arguments)}var or=({feature:e,layer:t,onError:r=(()=>{}),onSuccess:o=(()=>{}),...i})=>{const[l,s]=(0,n.useState)(!1),{t:c}=(0,E.useTranslation)(),u=(0,C.useMap)(),d=kt(),m=ve();return a().createElement(dt.c,{title:c("DeleteButton.confirm"),onConfirm:async()=>{if(u&&t&&(0,pe.isWmsLayer)(t))try{s(!0);const r=(new(Ut())).readFeature(e),n=await d({deleteFeatures:[r],layer:t});if(!n)return;await m({layer:t,transaction:n}),t.getSource()?.refresh(),o()}catch(e){me.Logger.error(e),r(e)}finally{s(!1)}},placement:"bottomRight"},a().createElement($e.c,ar({type:"primary",loading:l,disabled:!e.id,danger:!0,icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe._8k})},i),c("DeleteButton.title")))};function ir(){return ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ir.apply(this,arguments)}var lr=({feature:e,form:t,...r})=>{const{t:n}=(0,E.useTranslation)(),o=(0,C.useMap)(),i=A();return a().createElement($e.c,ir({type:"primary",onClick:()=>{if(t.resetFields(),i((0,Ve._A)(!1)),o){const t=Jt.DigitizeUtil.getDigitizeLayer(o);if(t){t.getSource()?.clear();const r=(new(Ut())).readFeature(e);t.getSource()?.addFeature(r)}}},icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.cvL})},r),n("ResetButton.title"))},sr=r(76844),cr={};cr.styleTagTransform=$(),cr.setAttributes=_(),cr.insert=R().bind(null,"head"),cr.domAPI=x(),cr.insertStyleElement=V();I()(sr.c,cr),sr.c&&sr.c.locals&&sr.c.locals;var ur=r(41836),dr={};dr.styleTagTransform=$(),dr.setAttributes=_(),dr.insert=R().bind(null,"head"),dr.domAPI=x(),dr.insertStyleElement=V();I()(ur.c,dr),ur.c&&ur.c.locals&&ur.c.locals;var mr=({loadComplete:e=!1})=>a().createElement("div",{className:e?"feedback-icon":"feedback-icon hidden"},a().createElement("div",{className:e?"checkmark":"checkmark-hidden"}));function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pr.apply(this,arguments)}var gr=({form:e,layer:t,onError:r=(()=>{}),onSuccess:o=(()=>{}),...i})=>{const[l,s]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),d=(0,C.useMap)(),m=kt(),p=ve(),g=A(),f=N((e=>e.editFeature.formDirty)),{t:y}=(0,E.useTranslation)();return a().createElement($e.c,pr({className:"save-button",type:"primary",onClick:async()=>{if(!d)return;if(!t||!(0,pe.isWmsLayer)(t))return;const n=Jt.DigitizeUtil.getDigitizeLayer(d);if(!n)return void me.Logger.error("Cannot find the digitize layer");const a=n.getSource()?.getFeatures();if(a&&0!==a.length){try{await e.validateFields()}catch(e){return r(e),void me.Logger.warn("Validation has failed: ",e)}try{s(!0);const r=await m({upsertFeatures:a,form:e,layer:t});if(!r)return;const n=await p({layer:t,transaction:r});t.getSource()?.refresh(),u(!0),setTimeout((()=>{u(!1)}),3e3),g((0,Ve._A)(!1)),o(n)}catch(e){me.Logger.error(e),r(e)}finally{s(!1)}}else me.Logger.error("Cannot save feature without geometry")},loading:l,disabled:!f,icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.q6o})},i),y("SaveButton.title"),a().createElement(mr,{loadComplete:c}))},fr=r(40164),yr={};yr.styleTagTransform=$(),yr.setAttributes=_(),yr.insert=R().bind(null,"head"),yr.domAPI=x(),yr.insertStyleElement=V();I()(fr.c,yr),fr.c&&fr.c.locals&&fr.c.locals;var hr=({feature:e,layer:t,form:r,onSaveSuccess:n=(()=>{}),onSaveError:o=(()=>{}),onDeleteSuccess:i=(()=>{}),onDeleteError:l=(()=>{})})=>{const s=N((e=>e.editFeature.userEditMode));return a().createElement("div",{className:"edit-feature-toolbar"},s.includes("CREATE")||s.includes("UPDATE")?a().createElement(a().Fragment,null,a().createElement(lr,{feature:e,form:r}),a().createElement(gr,{form:r,layer:t,onSuccess:n,onError:o})):a().createElement(a().Fragment,null),s.includes("DELETE")&&a().createElement(or,{feature:e,layer:t,onSuccess:i,onError:l}))};var Er=({feature:e,layer:t})=>{const{t:r}=(0,E.useTranslation)(),o=Dt(),i=Ze(),[l,s]=(0,n.useState)(),[c,u]=(0,n.useState)(),[d,m]=(0,n.useState)(),[p]=(0,et.aS)(),g=P()(),f=A(),y=we(),h=(0,n.useCallback)((async e=>{if(!t||!(0,pe.isWmsLayer)(t))return;const r=await o({layer:t,filter:(0,Nt.equalTo)("id",e)});r?.features[0]&&f((0,Ve.sr)(r?.features[0]))}),[f,o,t]),b=(0,n.useCallback)((async()=>{if(!g||!y)return;let r=t.get("editFormConfig");if(0===r?.length)return void me.Logger.warn(`Layer ${t.get("name")} has no 'editFormConfig' set`);const n=structuredClone(e?.properties)||{},a=Object.entries(n).map((async([e,t])=>{const a=r?.filter((t=>t.children?.find((t=>t.propertyName===e))));if(a.length>1&&me.Logger.warn(`Property ${e} is configured in multiple tabs. Is this intended?`),a&&a[0]){const r=a[0].children?.some((t=>t.propertyName===e&&"DATE"===t.component));if(r){const r=Le()(t);r.isValid()?n[e]=r:(me.Logger.warn("Could not parse date"),n[e]=null)}const o=a[0].children?.some((t=>t.propertyName===e&&"UPLOAD"===t.component));if(o)if(t)try{const r=JSON.parse(t);if(!wt(r[0]))throw new Error("File config is no valid SHOGun file.");const a=r;n[e]=a;const o=a.map((async e=>{const t=a[0].response?.fileType?.startsWith("image/"),r=t?await i(`${y.getBasePath()}imagefiles/${e?.response?.fileUuid}/thumbnail`):void 0;return{...e,thumbUrl:r,url:t?void 0:e.url}})),l=await Promise.all(o);n[e]=l}catch(t){me.Logger.error("Could not parse file list from JSON config: ",t),n[e]=[]}else n[e]=[];const l=a[0].children?.some((t=>t.propertyName===e&&"REFERENCE_TABLE"===t.component));if(l)try{n[e]=JSON.parse(n[e])}catch(e){me.Logger.warn("Could not parse the input for the REFERENCE_TABLE",e)}}}));await Promise.all(a),p.resetFields(),p.setFieldsValue(n),s(r),u(n)}),[g,y,t,e?.properties,p,i]);(0,n.useEffect)((()=>{b()}),[b]);return a().createElement(a().Fragment,null,a().createElement(er,{feature:e}),d&&a().createElement(le.c,{className:"error-alert",message:d,type:"error",showIcon:!0}),a().createElement(hr,{feature:e,layer:t,form:p,onSaveSuccess:e=>{if(!e)return;m(void 0);const t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("ogc:FeatureId"),r=t.item(0)?.getAttribute("fid"),n=r?.split(".")[1];n&&h(n)},onSaveError:e=>{if("object"==typeof e&&null!==e&&"errorFields"in e){const t=(e=>{const t=[];return(e.errorFields||[]).forEach((e=>{Array.isArray(e.errors)&&t.push(...e.errors)})),t.map(((e,r)=>a().createElement(a().Fragment,{key:r},e,r!==t.length-1&&a().createElement("br",null))))})(e);m(t)}else m(r("EditFeatureFullForm.saveErrorMsg"))},onDeleteSuccess:()=>{m(void 0),f((0,Ve.sr)(null))},onDeleteError:()=>{m(r("EditFeatureFullForm.deleteErrorMsg"))}}),a().createElement(nr,{tabConfig:l,initialValues:c,form:p}))};var br=()=>{const e=we();return(0,n.useCallback)((async t=>{let r;const n=t.layer.getSource();if(n instanceof fe()&&(r=n.getUrl()),n instanceof he()){const e=n.getUrls();r=e?e[0]:void 0}if(!r)return;r.endsWith("?")&&(r=r.slice(0,-1));const a=(e=>{const t=e.feature.id,r=e.feature.properties;if(!t||!r)return void ze().warn("Either the id of the feature or its properties (or even both) aren't available");let n;n="number"==typeof t?t:parseInt(t.split(".")[1],10);const a=Object.entries(r).find((([,e])=>e===n||e===n.toString()));if(!a)return void ze().warn("Count not detect the id property");const o=a[0],i=e.layer.getSource()?.getParams().LAYERS,l=document.createElementNS("http://www.opengis.net/wfs/2.0","LockFeature");l.setAttribute("service","WFS"),l.setAttribute("version","2.0.0"),l.setAttribute("expiry","300"),l.setAttribute("lockAction","SOME");const s=document.createElementNS("http://www.opengis.net/wfs/2.0","Query");s.setAttribute("typeNames",i);const c=document.createElementNS("http://www.opengis.net/fes/2.0","Filter"),u=document.createElementNS("http://www.opengis.net/fes/2.0","PropertyIsEqualTo"),d=document.createElementNS("http://www.opengis.net/fes/2.0","ValueReference"),m=document.createTextNode(o);d.appendChild(m);const p=document.createElementNS("http://www.opengis.net/fes/2.0","Literal"),g=document.createTextNode(n.toString());return p.appendChild(g),u.appendChild(d),u.appendChild(p),c.appendChild(u),s.appendChild(c),l.appendChild(s),l})({layer:t.layer,feature:t.feature});if(!a)return;const o={"Content-Type":"application/xml"},i=await fetch(r,{method:"POST",headers:t.layer?.get("useBearerToken")?{...o,...(0,Ee.getBearerTokenHeader)(e?.getKeycloak())}:o,body:(new XMLSerializer).serializeToString(a)});if(!i.ok)throw new Error("No successful response while executing a WFS-LockFeature");const l=await i.text();if((new DOMParser).parseFromString(l,"text/xml").getElementsByTagName("wfs:FeaturesNotLocked").length>0)throw new Error(`Error while locking a feature: ${l}`);return l}),[e])};var wr=(e,t,r)=>{const a=(0,C.useMap)(),o=we(),i=(0,n.useCallback)((async n=>{if(!a||!e)return;const i=n.coordinate,l=a.getView().getResolution();if(!l)return;const s=e.getSource(),c=s?.getFeatureInfoUrl(i,l,a.getView().getProjection(),{INFO_FORMAT:"application/json",BUFFER:10}),u={"Content-Type":"application/json"};if(c)try{a.getTargetElement().style.cursor="wait";const r=await fetch(c,{method:"GET",headers:e.get("useBearerToken")?{...u,...(0,Ee.getBearerTokenHeader)(o?.getKeycloak())}:u});if(!r.ok)throw new Error("No successful response");const n=await r.json();t&&t(n)}catch(e){me.Logger.error("Error: ",e),r&&r()}finally{a.getTargetElement().style.cursor=""}}),[o,e,a,t,r]),l=(0,n.useCallback)((t=>{if(!a||!e)return;if(t.dragging)return;const r=e.getData(t.pixel);if(!(r instanceof Uint8ClampedArray))return;const n=r&&r[3]>0;a.getTargetElement().style.cursor=n?"pointer":""}),[e,a]);(0,n.useEffect)((()=>{if(a)return a.on("pointermove",l),a.on("singleclick",i),()=>{a.un("pointermove",l),a.un("singleclick",i)}}),[a,l,i])},vr=r(88408),Sr={};Sr.styleTagTransform=$(),Sr.setAttributes=_(),Sr.insert=R().bind(null,"head"),Sr.domAPI=x(),Sr.insertStyleElement=V();I()(vr.c,Sr),vr.c&&vr.c.locals&&vr.c.locals;var Tr=({layer:e,onLockSuccess:t=(()=>{}),onLockError:r=(()=>{}),onCreate:o=(()=>{})})=>{const[i,l]=(0,n.useState)(!1),s=Tt(),c=br(),u=A(),d=P()(),{t:m}=(0,E.useTranslation)(),p=N((e=>e.editFeature.userEditMode));wr(e,(async n=>{if(n.features.length&&(p.includes("UPDATE")||p.includes("DELETE"))){const a=n.features[0];if(!e||!a)return;if(ce().wfsLockFeatureEnabled)try{const r=await c({layer:e,feature:a});if(!r)return;u((0,Ve.sr)(a)),t(r)}catch(e){r(e)}else u((0,Ve.sr)(a))}}));return a().createElement("div",{className:"edit-feature-switch"},p.includes("CREATE")&&a().createElement(a().Fragment,null,p.includes("UPDATE")&&a().createElement("div",null,m("EditFeatureSwitch.usageHint")),a().createElement($e.c,{loading:i,onClick:async()=>{const t=await(async()=>{if(d&&e)try{l(!0);const t=await s(e);if(!t)return;const r=t.featureTypes[0]?.properties?.find((e=>St(e.type)));switch(r?.type){case"gml:MultiPoint":return"MultiPoint";case"gml:Point":return"Point";case"gml:MultiLineString":return"MultiLineString";case"gml:LineString":return"LineString";case"gml:MultiPolygon":return"MultiPolygon";case"gml:Polygon":return"Polygon"}}catch(e){ze().error(e)}finally{l(!1)}})();t&&(u((0,Ve.sr)({type:"Feature",properties:{},geometry:{type:t,coordinates:[]}})),o())}},m("EditFeatureSwitch.createFeature"))),!p.includes("CREATE")&&(p.includes("UPDATE")||p.includes("DELETE"))&&a().createElement("div",null,m("EditFeatureSwitch.limitedUsageHint")))},kr=r(93140),Lr={};Lr.styleTagTransform=$(),Lr.setAttributes=_(),Lr.insert=R().bind(null,"head"),Lr.domAPI=x(),Lr.insertStyleElement=V();I()(kr.c,Lr),kr.c&&kr.c.locals&&kr.c.locals;function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cr.apply(this,arguments)}var Pr=({...e})=>{const{t:t}=(0,E.useTranslation)(),[r,o]=(0,n.useState)(),[l,s]=(0,n.useState)(!1),[c,u]=(0,n.useState)(t("EditFeatureDrawer.featureEditor")),d=N((e=>e.editFeatureDrawerOpen)),m=N((e=>e.editFeature.layerId)),p=N((e=>e.editFeature.feature)),g=N((e=>e.editFeature.formDirty)),f=P()(),y=A(),h=kt(),b=ve();(0,n.useEffect)((()=>{if(!f||!m)return;const e=k().getLayerByOlUid(f,m);e&&(0,pe.isWmsLayer)(e)?(u(`${t("EditFeatureDrawer.featureEditor")} - ${e.get("name")}`),o(e)):me.Logger.warn(`Could not find layer with id ${m}`)}),[f,m,t]);const w=async()=>{await(async()=>{if(r&&p&&p.id&&ce().wfsLockFeatureEnabled)try{const e=new(de());e.setId(p.id);const t=await h({layer:r,deleteFeatures:[],upsertFeatures:[e]});if(!t)return;await b({layer:r,transaction:t})}catch(e){me.Logger.error("Error while releasing the lock on the feature")}})(),y((0,Lt.WS)()),y((0,Ve._A)(!1)),y((0,Ve.a_)()),s(!1)};return a().createElement(Ot,Cr({className:"map-drawer edit-feature-drawer",onClose:()=>{r&&p&&g?i.default.confirm({maskClosable:!1,title:t("EditFeatureDrawer.closeDrawerWarnTitle"),content:t("EditFeatureDrawer.closeDrawerWarnContent"),okType:"danger",onOk:w}):w()},open:d,title:c},e),!r&&a().createElement(le.c,{message:t("EditFeatureDrawer.noLayerFoundError"),type:"error",showIcon:!0}),l&&a().createElement(le.c,{message:t("EditFeatureDrawer.isFeatureLockedErrorMsg"),type:"error",showIcon:!0}),r&&m&&!p&&a().createElement(Tr,{layer:r,onLockSuccess:()=>{s(!1)},onLockError:()=>{s(!0)},onCreate:()=>{s(!1)}}),r&&p&&a().createElement(Er,{feature:p,layer:r}))},Fr=r(3734),Ar=r(3096),Or=r.n(Ar),Nr=r(83264),Dr=r.n(Nr),Mr=r(96336),Ir=r(97644),jr=r.n(Ir),xr=r(49732),Ur={};Ur.styleTagTransform=$(),Ur.setAttributes=_(),Ur.insert=R().bind(null,"head"),Ur.domAPI=x(),Ur.insertStyleElement=V();I()(xr.c,Ur),xr.c&&xr.c.locals&&xr.c.locals;function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rr.apply(this,arguments)}var Br=({...e})=>{const t=X(),{t:r}=(0,E.useTranslation)(),o=N((e=>e.legal)),i=P()(),l=(e,r)=>{t.forEach((t=>{if((n=t.integration)&&"footer"===n.placement&&t.integration?.placementOrientation===e){const{key:e,wrappedComponent:n}=t;r.splice(t.integration?.insertionIndex||0,0,a().createElement(n,{key:e}))}var n}))};if((0,n.useEffect)((()=>{if(!i)return;i.getControls().getArray().find((e=>e instanceof Dr()))||i.addControl(new(Dr())({target:"scale-line-container"}))}),[i]),(0,n.useEffect)((()=>{if(!i)return;i.getControls().getArray().find((e=>e instanceof Or()))||i.addControl(new(Or())({coordinateFormat:(0,Mr.createStringXY)(2),projection:i.getView().getProjection(),target:"mouse-position"}))}),[i]),!i)return a().createElement(a().Fragment,null);const s=()=>{window.open(o.contact,"_blank")},c=()=>{window.open(o.imprint,"_blank")},u=()=>{window.open(o.privacy,"_blank")};return a().createElement("div",Rr({className:"footer"},e),a().createElement("div",{className:"item-container left-items"},(()=>{const e=[a().createElement("div",{key:"scale-line-container",id:"scale-line-container","aria-label":"scale-line"}),a().createElement(Fr.c,{key:"scale-line-divider",type:"vertical"}),a().createElement("div",{key:"scale-combo-container",className:"scale-combo","aria-label":"scale-combo"},r("Footer.scale"),": ",a().createElement(jr(),{"aria-label":"scalecombo-dropdown",map:i}),a().createElement(Fr.c,{type:"vertical"})),a().createElement("div",{key:"reference-system-container",className:"reference-system","aria-label":"reference-system"},r("Footer.refSystem"),": ",i.getView().getProjection().getCode(),a().createElement(Fr.c,{type:"vertical"})),a().createElement("div",{key:"mouse-position-container",className:"mouse-position-wrapper"},r("Footer.mousePosition"),": ",a().createElement("div",{id:"mouse-position",className:"mouse-position","aria-label":"mouse-position"}))];return l("left",e),e})()),a().createElement("div",{className:"item-container right-items"},(()=>{const e=[a().createElement($e.c,{key:"open-contact",onClick:s,type:"link"},r("Footer.contact")),a().createElement($e.c,{key:"open-imprint",onClick:c,type:"link"},r("Footer.imprint")),a().createElement($e.c,{key:"open-privacy",onClick:u,type:"link"},r("Footer.privacypolicy"))];return t.length>0&&l("right",e),e})()))},_r=r(32640),zr=r(30792),Vr=r.n(zr);function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wr.apply(this,arguments)}var $r=({...e})=>{const t=P()(),{t:r}=(0,E.useTranslation)(),[o,i]=(0,n.useState)();return(0,n.useEffect)((()=>{const e=t?.getView().getProjection(),r=t?.getView()?.get("extent");if(r){const t=(0,_r.transformExtent)(r,e,"EPSG:4326");i(t.toString())}}),[t]),t?a().createElement(Vr(),Wr({countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:r("Nominatim.placeholder"),viewBox:o||""},e)):a().createElement(a().Fragment,null)},Gr=r(59936),Kr=r(30080),Hr=r(37408),qr=r(24232),Yr=r(83876),Jr=r(34444),Zr=r.n(Jr),Qr=r(47152),Xr=r.n(Qr),en=r(33944),tn=r.n(en),rn=r(44480),nn=r.n(rn),an=r(64384),on=r.n(an),ln=r(19786),sn=r.n(ln),cn=r(70800),un=r.n(cn),dn=r(92860),mn={};mn.styleTagTransform=$(),mn.setAttributes=_(),mn.insert=R().bind(null,"head"),mn.domAPI=x(),mn.insertStyleElement=V();I()(dn.c,mn),dn.c&&dn.c.locals&&dn.c.locals;const pn=e=>e.map((e=>`(${e.trim()}*^3 OR *${e.trim()}*^2 OR ${e.trim()}~1)`)).join(" AND ");var gn=({searchValue:e,map:t})=>{let r=e.trim().replaceAll(/[()\\\-_./\/]/g," ").split(" ").map((e=>e.trim())).filter((e=>""!==e));const n=[];return t.getAllLayers().forEach((e=>{if(e.get("searchable")&&(0,pe.isWmsLayer)(e)){const t=e.get("searchConfig"),a=e.getSource()?.getParams().LAYERS;t?.attributes?n.push({query:`(featureType:"${a}" AND (${pn(r)}))`,fieldList:t.attributes.join(" ")}):n.push({query:`(featureType:"${a}" AND (${pn(r)}))`})}})),n};const fn=e=>"fulfilled"===e.status;var yn=({useNominatim:e})=>{const t=we(),r=P()(),{t:o}=(0,E.useTranslation)(),i=(A(),(0,n.useRef)(null)),[s,c]=(0,n.useState)(e),[u,d]=(0,n.useState)(!0),[m,p]=(0,n.useState)(ce().search?.defaultUseViewBox??!0),[g,f]=(0,n.useState)(""),[y,h]=(0,n.useState)(!1),[b,w]=(0,n.useState)(!1),[v,S]=(0,n.useState)(!1),[T,L]=(0,n.useState)([]),[C,F]=(0,n.useState)({}),[O,D]=(0,n.useState)([]),[M,I]=(0,n.useState)([]);N((e=>e.editFeature.userEditMode));(0,n.useEffect)((()=>(window.addEventListener("mousedown",j),()=>{window.removeEventListener("mousedown",j)})),[]);const j=e=>{const t=[];let r=e.target;for(;r;)t.unshift(r),r=r.parentNode;i.current&&i.current.contains(e.target)||w(!1)},x=(0,n.useMemo)((()=>({items:[{label:a().createElement(Oe.c,{checked:m,onChange:e=>p(e.target.checked)},o("MultiSearch.searchInViewBox")),key:"viewbox"},{label:a().createElement(Oe.c,{checked:u,onChange:e=>d(e.target.checked)},o("MultiSearch.searchData")),key:"data"},{label:a().createElement(Oe.c,{checked:s,onChange:e=>c(e.target.checked)},o("MultiSearch.searchNominatim")),key:"nominatim"}]})),[u,s,m,o]),U=(0,n.useCallback)((async()=>{const e=ce().search?.minChars??3;if(g.length<e)return void B();if(!u&&!s)return;let n;h(!0),D([]),L([]),F({});let a=null;if(m){const e=r?.getView().getProjection(),t=r?.getView()?.calculateExtent();t&&(a=(0,_r.transformExtent)(t,e,"EPSG:4326"))}if(u&&r)try{const e=ce().search?.solrBasePath??"/search/query",n=new URL(`${window.location.origin}${e}`),o=gn({searchValue:g,map:r}).map((e=>{const r={q:e.query,rows:ce().search?.solrQueryConfig?.rowsPerQuery??100,defType:ce().search?.solrQueryConfig?.queryParser??"edismax"};if(e.fieldList?r.qf=e.fieldList:r.qf=ce().search?.coreName??"search",m&&a){const e=`geometry:[${a[1]},${a[0]} TO ${a[3]},${a[2]}]`;r.fq=e}ce().search?.useSolrHighlighting&&(r.hl=!0,r["hl.fl"]="*",r["hl.tag.pre"]=ce().search?.solrQueryConfig?.tagPre??"<b>",r["hl.tag.post"]=ce().search?.solrQueryConfig?.tagPost??"</b>",r["hl.requireFieldMatch"]=ce().search?.solrQueryConfig?.requireFieldMatch??!0);return fetch(n.href,{method:"POST",headers:{"Content-Type":"application/json",...(0,Ee.getBearerTokenHeader)(t?.getKeycloak())},body:JSON.stringify(r)})})),i=(await Promise.allSettled(o.map((async e=>(await e).json())))).filter(fn),l=i.flatMap((e=>e.value?.response?.docs)),s=Object.assign({},...i.map((e=>e.value?.highlighting)));L(l),F(s)}catch(e){L([]),F({}),ze().error("Error while fetching the layer search results: ",e)}finally{s||h(!1)}if(s)try{const e=new URL("https://nominatim.terrestris.de/search");e.searchParams.set("q",g),e.searchParams.set("format","json"),e.searchParams.set("polygon_geojson","1"),m&&a&&(e.searchParams.set("viewbox",a.toString()),e.searchParams.set("bounded","1")),n=await fetch(e.href),D(await n.json())}catch(e){D([]),ze().error("Error while fetching the nominatim results: ",e)}finally{h(!1)}}),[g,u,s,m,r,t]),R=(0,n.useCallback)(((e,t)=>{if(!r)return"";const n=k().getLayerByNameParam(r,e.featureType[0]),a=n?.get("searchConfig"),o=["category","id","featureType","geometry","search"];let i="";if(a?.displayTemplate)return l=a.displayTemplate,s=e,l.replace(/{\s*(\w+?)\s*}/g,((e,t)=>s[t]?.toString()||""));var l,s;if(t){const e=Object.keys(t).filter((e=>!o.includes(e)));if(e.length>0){return`${t[e[0]]} [${e[0]}]`}}return Object.keys(e).filter((e=>!o.includes(e))).forEach((t=>{let r=e[t]?.toString();!i&&r.toLowerCase().indexOf(g?.toLowerCase())>-1&&(i=`${r} [${t}]`)})),i||(i=e.id),i}),[g,r]);(0,n.useEffect)((()=>{if(!r)return;let e=[];if(O.length>0){const t=new(Ut()),n=O.filter((e=>!Ue()(e?.geojson))).map((e=>{const n=t.readFeature(e.geojson,{dataProjection:"EPSG:4326",featureProjection:r.getView().getProjection()});return n.set("title",e.display_name),n})),a={title:o("MultiSearch.nominatimTitle"),features:n};e.push(a)}if(T?.length>0){const t=new(Xr()),n=Zr()(T,(e=>e?.category[0]));Object.keys(n).forEach((a=>{const o={title:a,features:n[a].map((e=>{if(!e?.geometry?.[0])return;const n=e.id,a=t.readGeometry(e.geometry[0],{dataProjection:"EPSG:4326",featureProjection:r.getView().getProjection()}),o=new(de())({geometry:a});let i;if(o.set("title",R(e,C?.[n])),e.featureType?.[0]){const t=k().getLayerByNameParam(r,e.featureType?.[0]);t&&(o.set("layer",t),i=t.get("name"))}else i=n.substring(0,n.lastIndexOf("_"));return o.set("ftName",i),o})).filter((e=>e))};e.push(o)}))}w(!0),I(e)}),[T,C,O,r,R,o]),(0,n.useEffect)((()=>{const e=ce().search?.delay??1e3,t=setTimeout((()=>{U()}),e);return()=>clearTimeout(t)}),[U]);const B=()=>{L([]),D([])},_=e=>{const t=e.feature.get("layer");if(!t?.get("editable"))return;return[a().createElement(a().Fragment,null)]},z=(0,n.useMemo)((()=>new(sn())({stroke:new(on())({color:"rgb(255,0,0)",width:2}),fill:new(nn())({color:"rgba(255,255,255, 0.5)"}),image:new(tn())({radius:10,fill:new(nn())({color:"rgba(255,255,255, 0.5)"}),stroke:new(on())({color:"rgb(255,0,0)",width:3})})})),[]);return r?a().createElement("div",{ref:i},a().createElement(l.c,{value:g,disabled:!u&&!s,onChange:e=>{h(""!==e.target.value),f(e.target.value)},allowClear:!0,addonAfter:a().createElement(Yr.c,{placement:"bottomRight",menu:x,trigger:["click"],onOpenChange:S,open:v},a().createElement(Gr.c,null)),onFocus:()=>w(!0),placeholder:o("MultiSearch.searchPlaceholder"),prefix:a().createElement(Kr.c,null),suffix:y?a().createElement(Hr.c,null):null}),(()=>{if(g.length<2||!b||y||!T)return null;const e=O.length+T.length;if(0===e)return a().createElement("div",{className:"no-search-result-div"},a().createElement(qr.c,{image:qr.c.PRESENTED_IMAGE_SIMPLE}));return a().createElement(un(),{searchResults:M,numTotal:e,accordion:!0,searchTerms:g.split(" "),actionsCreator:_,layerStyle:z,onClick:e=>{const t=e.feature.getGeometry()?.getExtent(),n=document.getElementsByClassName("tool-menu");let a=[0,0,0,n[0]?.clientWidth??0];t&&r?.getView().fit(t,{size:r.getSize(),padding:a})}})})()):a().createElement(a().Fragment,null)},hn=r(22456),En={};En.styleTagTransform=$(),En.setAttributes=_(),En.insert=R().bind(null,"head"),En.domAPI=x(),En.insertStyleElement=V();I()(hn.c,En),hn.c&&hn.c.locals&&hn.c.locals;var bn=()=>{const e=N((e=>e.searchEngines.includes("nominatim"))),t=N((e=>e.searchEngines.includes("solr")));return e||t?a().createElement("div",{className:"search","aria-label":"search-field"},t?a().createElement(yn,{"aria-label":"search",useNominatim:e}):a().createElement($r,{"aria-label":"search"})):(ze().warn("Neither nominatim nor solr search is configured."),a().createElement(a().Fragment,null))},wn=r(87024),vn=r.n(wn),Sn=r(93391),Tn=r.n(Sn);const kn=({email:e="",size:t=80,rating:r="g",defaultImage:n="identicon",force:a=!1})=>{const o=e.toLowerCase();let i=`https://www.gravatar.com/avatar/${Tn()(o)}?s=${t}&r=${r}&d=${n}`;return a&&(i=`${i}&f=y`),i};var Ln=r(99136);var Cn=r(33006),Pn={};Pn.styleTagTransform=$(),Pn.setAttributes=_(),Pn.insert=R().bind(null,"head"),Pn.domAPI=x(),Pn.insertStyleElement=V();I()(Cn.c,Pn),Cn.c&&Cn.c.locals&&Cn.c.locals;function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(this,arguments)}var An=({opener:e,...t})=>{const{t:r}=(0,E.useTranslation)(),o=N((e=>e.appInfo)),l=N((e=>e.logoPath)),s=N((e=>e.description)),[c,u]=(0,n.useState)(!1),d=()=>{u(!c)};let m;return m=e?a().cloneElement(e,{onClick:d}):a().createElement("button",{onClick:d},"Open"),a().createElement(a().Fragment,null,m,a().createElement(i.default,Fn({className:"application-info",title:r("ApplicationInfo.title"),centered:!0,open:c,onOk:d,onCancel:d,footer:null},t),a().createElement("img",{className:"logo",src:l}),a().createElement("div",{className:"description"},s),a().createElement(Ln.c,{title:r("ApplicationInfo.clientVersionTitle"),value:"7.3.1"}),o.version&&o.buildTime&&a().createElement(Ln.c,{title:r("ApplicationInfo.backendVersionTitle"),value:`${o.version} (${o.buildTime})`})))},On=r(81576),Nn={};Nn.styleTagTransform=$(),Nn.setAttributes=_(),Nn.insert=R().bind(null,"head"),Nn.domAPI=x(),Nn.insertStyleElement=V();I()(On.c,Nn),On.c&&On.c.locals&&On.c.locals;var Dn=()=>{const{t:e}=(0,E.useTranslation)(),t=we(),r=t?.getKeycloak(),n=N((e=>e.user)),o=e=>{switch(e.key){case"settings":r&&r.accountManagement();break;case"info":default:break;case"login":r&&r.login();break;case"logout":r&&r.logout()}};return a().createElement(vn(),{size:"small",imageSrc:kn({email:n.providerDetails?.email||"",size:28}),userName:a().createElement(Ye.FontAwesomeIcon,{icon:qe.msy}),userMenu:(()=>{const t={key:"login",icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.cHd}),label:e("UserMenu.loginMenuTitle")},i={key:"username",label:a().createElement("div",{className:"user-name","aria-label":"user-name"},a().createElement("span",null,n.providerDetails?.email))},l={type:"divider"},s={key:"settings",icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.GuZ}),label:e("UserMenu.settingsMenuTitle")},c={key:"info",icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.eoG}),label:a().createElement(An,{opener:a().createElement("span",{className:"info-opener","aria-label":"info-opener"},e("UserMenu.infoMenuTitle"))})},u={key:"logout",icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.UfL}),label:a().createElement("div",{"aria-label":"login"},e("UserMenu.logoutMenuTitle"))},d=[];if(jt()(n))ce().keycloak?.enabled&&d.push(t),d.push(c);else{const e=r?.tokenParsed?.resource_access?.account?.roles,t=Array.isArray(e)&&e.indexOf("manage-account")>-1?[i,l,s,c,l,u]:[i,l,c,l,u];d.push(...t)}return{items:d,onClick:o}})()})},Mn=r(20852),In={};In.styleTagTransform=$(),In.setAttributes=_(),In.insert=R().bind(null,"head"),In.domAPI=x(),In.insertStyleElement=V();I()(Mn.c,In),Mn.c&&Mn.c.locals&&Mn.c.locals;function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jn.apply(this,arguments)}var xn=({...e})=>{const t=O((e=>e.title)),r=O((e=>e.logoPath)),n=X(),o=(e,t)=>{n.forEach((r=>{if((n=r.integration)&&"header"===n.placement&&r.integration?.placementOrientation===e){const{key:e,wrappedComponent:n}=r;t.splice(r.integration?.insertionIndex||0,0,a().createElement(n,{key:e}))}var n}))};return a().createElement("div",jn({className:"header"},e),a().createElement("div",{className:"item-container left-items"},(()=>{const e=[a().createElement("img",{key:"logo",className:"logo","aria-label":"logo",src:r}),a().createElement("div",{key:"title",className:"title","aria-label":"title"},t)];return o("left",e),e})()),a().createElement("div",{className:"item-container center-items"},(()=>{const e=[a().createElement(bn,{key:"search","aria-label":"search-input",name:"search-input",className:"search-input"})];return o("center",e),e})()),a().createElement("div",{className:"item-container right-items"},(()=>{const e=[a().createElement("div",{key:"user-menu","aria-label":"user-menu"},a().createElement(Dn,{key:"user-menu"}))];return o("right",e),e})()))},Un=r(86156),Rn=r(20388),Bn=r(5674),_n=r.n(Bn),zn=r(80964),Vn=r(46828),Wn=r(304),$n={};$n.styleTagTransform=$(),$n.setAttributes=_(),$n.insert=R().bind(null,"head"),$n.domAPI=x(),$n.insertStyleElement=V();I()(Wn.c,$n),Wn.c&&Wn.c.locals&&Wn.c.locals;function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gn.apply(this,arguments)}var Kn=({layer:e,...t})=>{const[r,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(),[s,c]=(0,n.useState)(),u=we(),{t:d}=(0,E.useTranslation)(),m=(0,n.useCallback)((async()=>{try{if(o(!0),l(""),!e||!e.get("shogunId"))throw new Error("No layer provided or the layer has no shogunId set");const t=await(u?.layer().findOne(e.get("shogunId")));c(t)}catch(e){ze().error(e),l(d("LayerConfiguration.errorMessage"))}finally{o(!1)}}),[d,u,e]);return(0,n.useEffect)((()=>{m()}),[m]),i?a().createElement(le.c,{type:"error",closable:!0,message:i}):a().createElement(Vn.c,{spinning:r},a().createElement("pre",Gn({className:"layer-configuration"},t),a().createElement("code",null,JSON.stringify(s,null,"  "))))},Hn=r(94392),qn={};qn.styleTagTransform=$(),qn.setAttributes=_(),qn.insert=R().bind(null,"head"),qn.domAPI=x(),qn.insertStyleElement=V();I()(Hn.c,qn),Hn.c&&Hn.c.locals&&Hn.c.locals;function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yn.apply(this,arguments)}var Jn=({layer:e,...t})=>{const[r,o]=(0,n.useState)(!1),[i,l]=(0,n.useState)(),[s,c]=(0,n.useState)(),u=we(),{t:d}=(0,E.useTranslation)(),m=(0,n.useCallback)((async()=>{if(e&&(0,pe.isWmsLayer)(e))try{o(!0),c(""),l(void 0);const t=await S().getWmsCapabilitiesByLayer(e,{headers:{...e.get("useBearerToken")?{...(0,Ee.getBearerTokenHeader)(u?.getKeycloak())}:void 0}});l(t)}catch(e){ze().error(e),c(d("LayerDetails.errorMessage"))}finally{o(!1)}}),[d,u,e]);(0,n.useEffect)((()=>{m()}),[m]);const p=()=>{if(e&&(0,pe.isWmsLayer)(e))return e.getSource()?.getParams().LAYERS},g=()=>{if(!e||!(0,pe.isWmsLayer)(e))return;let t;if(e.getSource()instanceof fe()&&(t=e.getSource().getUrl()),e.getSource()instanceof he()){const r=e.getSource().getUrls();t=r?r[0]:void 0}return t?w().createValidGetCapabilitiesRequest(t,"WMS","1.3.0"):void 0},f=()=>{const e=i?.Capability?.Layer?.Layer,t=p(),r=e?.find((e=>e.Name===t));return r},y=()=>{const e=f();if(e&&e.EX_GeographicBoundingBox)return[e.EX_GeographicBoundingBox.westBoundLongitude,e.EX_GeographicBoundingBox.southBoundLatitude,e.EX_GeographicBoundingBox.eastBoundLongitude,e.EX_GeographicBoundingBox.northBoundLatitude].join(", ")},h=()=>{const e=f();if(e)return e.MinScaleDenominator},b=()=>{const e=f();if(e)return e.MaxScaleDenominator},v=()=>{const e=f();if(e)return e.Abstract},T=()=>i?.Service?.Abstract,k=()=>i?.Service?.ContactInformation?.ContactElectronicMailAddress,L=()=>{const e=f();if(e)return e.Title},C=()=>i?.Service?.AccessConstraints;return s?a().createElement(le.c,{type:"error",closable:!0,message:s}):a().createElement(Vn.c,{spinning:r},a().createElement(Ae.c,Yn({className:"layer-details",layout:"horizontal",size:"small",labelAlign:"left",labelWrap:!0,labelCol:{flex:"150px"}},t),a().createElement(Ae.c.Item,{name:"layerName",label:d("LayerDetails.layerNameLabel")},a().createElement("span",null,p()?p():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"layerTitle",label:d("LayerDetails.layerTitleLabel")},a().createElement("span",null,L()?L():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"service-abstract",label:d("LayerDetails.serviceAbstractLabel")},a().createElement("span",null,T()?T():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"abstract",label:d("LayerDetails.abstractLabel")},a().createElement("span",null,v()?v():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"accessConstraints",label:d("LayerDetails.accessConstraintsLabel")},a().createElement("span",null,C()?C():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"CapabilitiesUrl",label:d("LayerDetails.capabilitiesUrlLabel")},a().createElement("a",{href:g()},g())),a().createElement(Ae.c.Item,{name:"contact",label:d("LayerDetails.contactLabel")},k()?a().createElement("a",{href:`mailto:${k()}`},k()):a().createElement("span",null,d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"minScale",label:d("LayerDetails.minScaleLabel")},a().createElement("span",null,h()?h():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"maxScale",label:d("LayerDetails.maxScaleLabel")},a().createElement("span",null,b()?b():d("LayerDetails.noDataPlaceholder"))),a().createElement(Ae.c.Item,{name:"bbox",label:d("LayerDetails.bboxLabel")},a().createElement("span",null,y()?y():d("LayerDetails.noDataPlaceholder")))))},Zn=r(32664),Qn={};Qn.styleTagTransform=$(),Qn.setAttributes=_(),Qn.insert=R().bind(null,"head"),Qn.domAPI=x(),Qn.insertStyleElement=V();I()(Zn.c,Qn),Zn.c&&Zn.c.locals&&Zn.c.locals;function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xn.apply(this,arguments)}var ea=({...e})=>{const[t,r]=(0,n.useState)(),[o,l]=(0,n.useState)(!1),s=N((e=>e.layerDetailsModal.visible)),c=N((e=>e.layerDetailsModal.layerId)),u=A(),d=(0,C.useMap)(),{t:m}=(0,E.useTranslation)();(0,n.useEffect)((()=>{if(!d)return;if(!c)return void r(void 0);const e=k().getLayerByOlUid(d,c);e instanceof _n()&&r(e)}),[d,c]);return a().createElement(i.default,Xn({className:"layer-details-modal",title:a().createElement("div",{className:"title-group"},a().createElement("span",null,m("LayerDetailsModal.title",{layerName:t?.get("name")})),t?.get("shogunId")&&a().createElement(Rn.c,{title:m(o?"LayerDetailsModal.internalConfigurationButtonTooltip":"LayerDetailsModal.internalConfigurationButtonTooltipPressed")},a().createElement($e.c,{type:"link",className:o?"pressed":"",icon:a().createElement(Un.c,null),onClick:()=>{l(!o)}}))),open:s,onCancel:()=>{u((0,zn.WS)()),u((0,zn.EV)(void 0))},width:800,footer:!1},e),a().createElement(Jn,{layer:t,hidden:o}),t?.get("shogunId")&&a().createElement(Kn,{layer:t,hidden:!o}))},ta=r(70188),ra={};ra.styleTagTransform=$(),ra.setAttributes=_(),ra.insert=R().bind(null,"head"),ra.domAPI=x(),ra.insertStyleElement=V();I()(ta.c,ra),ta.c&&ta.c.locals&&ta.c.locals;var na=r(36308),aa=r(79768),oa=r.n(aa),ia=r(41224),la=r.n(ia);function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(this,arguments)}var ca=({...e})=>{const[t,r]=(0,n.useState)({name:"Default Style",rules:[{name:"Area",symbolizers:[{kind:"Fill",color:"#00b72b",outlineOpacity:.8,opacity:.5,fillOpacity:.8,outlineWidth:2,outlineColor:"#00b72b"}]},{name:"Line",symbolizers:[{kind:"Line",color:"#00b72b",width:2,opacity:.8}]},{name:"Point",symbolizers:[{kind:"Mark",wellKnownName:"circle",color:"#00b72b",strokeColor:"#00b72b",strokeOpacity:.8,opacity:.5,radius:7}],filter:["==","label","undefined"]},{name:"Text",symbolizers:[{kind:"Text",label:"{{label}}",size:12,font:["sans-serif"],opacity:.8,color:"#00b72b",offset:[5,5],haloColor:"#00b72b",haloWidth:1}],filter:["!=","label","undefined"]}]}),a=(0,C.useMap)();return(0,n.useEffect)((()=>{if(!t||!a)return;const e=new(la());let r=k().getLayerByName(a,"react-geo_digitize");(async()=>{let n,a,o,i;for(const r of t.rules){const t={name:"",rules:[r]},l=await e.writeStyle(t);if(!l.output)return;"Fill"===r.symbolizers[0].kind&&(n=l.output),"Text"===r.symbolizers[0].kind&&(i=l.output),"Line"===r.symbolizers[0].kind&&(a=l.output),"Mark"===r.symbolizers[0].kind&&(o=l.output)}r.setStyle(((e,t)=>{const r=e.getGeometry()?.getType();if(r)return["MultiPolygon","Polygon","Circle"].includes(r)?"function"==typeof n?n(e,t):n:["MultiLineString","LineString"].includes(r)?"function"==typeof a?a(e,t):a:["MultiPoint","Point"].includes(r)?e.get("label")?"function"==typeof i?i(e,t):i:"function"==typeof o?o(e,t):o:void 0}))})()}),[t,a]),n.createElement(oa(),sa({style:t,onStyleChange:r},e))};function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua.apply(this,arguments)}var da=({...e})=>{const t=A(),r=N((e=>e.stylingDrawerVisibility)),{t:n}=(0,E.useTranslation)();return a().createElement(Ct.c,ua({title:n("StylingDrawer.title"),placement:"right",onClose:()=>{t((0,na.O0)(!1))},open:r,className:"color-pick-drawer",maskClosable:!1,mask:!1},e),a().createElement(ca,null))},ma=r(62348),pa=r(28136),ga=r.n(pa),fa=r(73560),ya=r(97632),ha=r(58e3),Ea=r(22716),ba={};ba.styleTagTransform=$(),ba.setAttributes=_(),ba.insert=R().bind(null,"head"),ba.domAPI=x(),ba.insertStyleElement=V();I()(Ea.c,ba),Ea.c&&Ea.c.locals&&Ea.c.locals;var wa=r(98140);const{Option:va}=s.default;var Sa=()=>{const e=Object.keys(wa.c.services.resourceStore.data);return a().createElement("div",{className:"language-select","aria-label":"language-selector"},a().createElement(s.default,{defaultValue:wa.c.language||"en",onChange:e=>{wa.c.changeLanguage(e)}},e.map((e=>a().createElement(va,{key:e,value:e},e.toUpperCase())))))},Ta=r(46192),ka=r(52048),La=r(86708),Ca=r(36924),Pa=r(6272),Fa=r.n(Pa),Aa=r(66752),Oa=r(37160),Na=r.n(Oa),Da=r(52268),Ma={};Ma.styleTagTransform=$(),Ma.setAttributes=_(),Ma.insert=R().bind(null,"head"),Ma.domAPI=x(),Ma.insertStyleElement=V();I()(Da.c,Ma),Da.c&&Da.c.locals&&Da.c.locals;var Ia=()=>{const e=(0,C.useMap)(),t=(0,n.useMemo)((()=>["layerConfig","isExternalLayer","isUploadedLayer","groupName"]),[]),{t:r}=(0,E.useTranslation)(),o=e?Na().getLink(e,";",(e=>e.get("name")),(e=>(e instanceof h()||e instanceof f())&&e.getVisible()),t):"",[i,s]=(0,n.useState)(o),c=`Hey,\r\ncheck out the layer-composition I created:\r\n\r\n${i}`;return(0,n.useEffect)((()=>{if(!e)return;let r=[];const n=e=>e.get("name"),a=e=>(e instanceof h()||e instanceof f())&&e.getVisible(),o=()=>{s(Na().getLink(e,";",n,a,t))},i=()=>{e.getAllLayers().filter((e=>e.get("isExternalLayer")||e.get("isUploadedLayer"))).forEach((e=>{const t=e.get("layerConfig");t&&(t.clientConfig?t.clientConfig.opacity=e.getOpacity():t.clientConfig={opacity:e.getOpacity()},e.set("layerConfig",t))})),o()},l=e=>{const t=e.getLayers().getArray();for(let e=0;e<t.length;e++){const n=t[e];if(n instanceof p())l(n);else{let e=n.on("change:visible",o),t=n.on("change:opacity",i);r.push(e,t)}}},c=e.getView().on("change:center",o),u=e.getView().on("change:resolution",o);let d=e.getLayerGroup();return l(d),i(),()=>{(0,Aa.unByKey)(c),(0,Aa.unByKey)(u),(0,Aa.unByKey)(r)}}),[t,e,r]),a().createElement("div",{className:"permalink-wrapper"},a().createElement("div",{className:"icons"},a().createElement(Rn.c,{title:r("Permalink.whatsAppTooltip")},a().createElement(Ta.c,{onClick:function(){const e=new URL("https://wa.me");e.searchParams.set("text",c),window.open(e)}})),a().createElement(Rn.c,{title:r("Permalink.mailTooltip")},a().createElement(ka.c,{onClick:function(){const e=new URL("mailto:");e.searchParams.set("subject","SHOGun Web-GIS"),e.searchParams.set("body",c),window.open(e.toString().replace(/\+/g,"%20"),"_self")}}))),a().createElement("div",{className:"link","aria-label":"permalink-url"},a().createElement(l.c,{value:i,readOnly:!0}),a().createElement(Rn.c,{title:r("Permalink.copyTooltip")},a().createElement(La.c,{onClick:function(){Fa()(i)?Ca.cp.info(r("Permalink.copiedToClipboard")):Ca.cp.info(r("Permalink.copyToClipboardFailed"))}}))))},ja=r(47616),xa=r(80781),Ua=r.n(xa),Ra=r(71912),Ba=r.n(Ra),_a=r(25344),za=r.n(_a),Va=r(56032),Wa=r(94860),$a=r(30724),Ga=r.n($a),Ka=r(17504),Ha=r.n(Ka);class qa extends(Ha()){serialize(e,t){const r=super.serialize(e,t);return r.baseURL.startsWith("/geoserver/ows")&&(r.baseURL=`http://shogun-geoserver:8080${r.baseURL}`),r.baseURL.startsWith("/geoserver/SHOGUN")&&(r.baseURL=`http://shogun-geoserver:8080${r.baseURL}`),r}}var Ya=qa;var Ja=class extends Ya{serialize(e,t){const r={tileSize:[512,512],...t},n=e.getSource();if(!n||!this.validateSource(n))return;return{...super.serialize(e,r),type:Ga().TYPE_WMS,...t}}};function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(this,arguments)}var Qa=({value:e,id:t,placeholder:r,maxLength:o,...i})=>{const[s,c]=(0,n.useState)(e),u=A();return(0,n.useEffect)((()=>{Ue()(t)||u((0,Wa.iE)({[t]:s}))}),[s,t,u]),(0,n.useEffect)((()=>{c(e)}),[e]),a().createElement(l.c,Za({id:t,value:s,onChange:e=>c(e.target.value),placeholder:r,maxLength:o,showCount:!!(o&&o>1)},i))};function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}var eo=({printManager:e,onValueChange:t,placeholder:r="Bitte wählen Sie eine Vorlage aus",value:o,...i})=>{const[l,c]=(0,n.useState)(o),u=(0,n.useRef)(l);return(0,n.useEffect)((()=>{u.current=o}),[o]),(0,n.useEffect)((()=>{e&&(e.setLayout(l),u.current!==l&&t())}),[e,l,t,o]),(0,n.useEffect)((()=>{c(o)}),[o]),a().createElement(s.default,Xa({placeholder:r,value:l,onChange:c},i),e?.getLayouts().map((e=>a().createElement(s.default.Option,{key:e.name,value:e.name},e.name))))};function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},to.apply(this,arguments)}var ro=({printManager:e,placeholder:t,value:r,outputFormats:o,...i})=>{const[l,c]=(0,n.useState)(r);return(0,n.useEffect)((()=>{e&&e.setOutputFormat(l)}),[e,l]),(0,n.useEffect)((()=>{c(r)}),[r]),a().createElement(s.default,to({placeholder:t,value:l,onChange:c},i),o.map((e=>a().createElement(s.default.Option,{key:e,value:e},e.toLocaleUpperCase()))))};function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},no.apply(this,arguments)}var ao=({printManager:e,placeholder:t,value:r,...o})=>{const[i,l]=(0,n.useState)(r);return(0,n.useEffect)((()=>{e&&e.setDpi(i)}),[e,i]),(0,n.useEffect)((()=>{l(r)}),[r]),a().createElement(s.default,no({placeholder:t,value:i,onChange:l},o),e?.getDpis().map((e=>a().createElement(s.default.Option,{key:e,value:e},`${e} DPI`))))};function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}var io=({printManager:e,placeholder:t,value:r,...o})=>{const i=P()(),[l,c]=(0,n.useState)(0);return(0,n.useEffect)((()=>{e&&l&&e.setScale(l)}),[e,l]),(0,n.useEffect)((()=>{const t=()=>{const t=e.getScale();t&&c(t)},r=i?.getInteractions().getArray().find((e=>e.get("name")===ja.MapFishPrintV3Manager.TRANSFORM_INTERACTION_NAME));if(e&&r&&r)return r.on("scaling",t),()=>{r.un("scaling",t)}}),[e,i]),(0,n.useEffect)((()=>{r&&c(r)}),[r]),a().createElement(s.default,oo({placeholder:t,value:l,onChange:c},o),e?.getScales().map((e=>a().createElement(s.default.Option,{key:e,value:e},`1 : ${e.toLocaleString()}`))))},lo=r(51708);function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}r.n(lo)().getLegendGraphicUrl=e=>{if(e.get("legendUrl"))return e.get("legendUrl");if(e.getSource()instanceof he()||e.getSource()instanceof fe()){const t=e.get("customPrintLegendParams"),r=e.getSource(),{LAYERS:n,VERSION:a,FORMAT:o}=r.getParams();let i=r instanceof fe()?r.getUrl():r.getUrls()[0];i.startsWith("/geoserver/ows")&&(i=`http://shogun-geoserver:8080${i}`);const l={LAYER:n.split(",")[0],VERSION:a||"1.3.0",SERVICE:"WMS",REQUEST:"GetLegendGraphic",FORMAT:o||"image/png",...t},s=Object.keys(l).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(l[e])}`)).join("&");return i.startsWith("/geoserver/SHOGUN")?(i=`http://shogun-geoserver:8080${i}/service?`,`${i}${s}`):i.endsWith("?")?`${i}${s}`:`${i}?${s}`}return""};var co=({active:e,customPrintScales:t=[],layerBlackList:r=[],outputFormats:o=["pdf","png"],...i})=>{const[l]=Ae.c.useForm(),{t:s,i18n:c}=(0,E.useTranslation)(),u=(0,C.useMap)(),d=A(),m=c.language,g=we(),f=N((e=>e.print.customMapParams)),y=N((e=>e.print.customParams)),[h,b]=(0,n.useState)(null),[w,v]=(0,n.useState)(!1),[S,T]=(0,n.useState)(null),L=(0,n.useCallback)((e=>{if(!u)return;const t=e.get("name");return t&&!r.includes(t)&&e.getVisible()&&!(e instanceof p())&&k().layerInResolutionRange(e,u)}),[u,r]),P=(0,n.useCallback)((e=>{if(Ue()(u))return!1;const t=e.get("name"),n=!r.includes(t),a=!e.get("hideLegendInPrint"),o=e.getVisible()&&k().layerInResolutionRange(e,u),i=!(e instanceof p());if(n&&a&&o&&i){const t=u?.getView().getResolution();return t&&e.set("customPrintLegendParams",{SCALE:k().getScaleForResolution(t,"m")}),!0}return!1}),[u,r]),F=(0,n.useCallback)((e=>u?k().getAllLayers(u).filter((t=>{const r=t.get("name");return r&&!r.includes("react-geo")&&t.getVisible()&&!(t instanceof p())&&t!==e})):[]),[u]),O=(0,n.useCallback)((e=>{const t=e.getExtentLayer();if(!t)return"";const r=F(t);let n=[];return r.filter((e=>e.getSource&&e.getSource()?.getAttributions&&e.getSource()?.getAttributions())).forEach((e=>{const t=Va.LayerUtil.getLayerAttributionsText(e,",",!0);n.includes(t)||n.push(t)})),n.join(", ").trim()}),[F]),D=(0,n.useCallback)((async()=>{if(Ue()(u))return;let e={url:ce().print?.url||"/print",map:u,customPrintScales:u?.getView()?.getResolutions()?.map((e=>{const t=u?.getView()?.getProjection()?.getUnits();if(void 0!==e){const r=k().getScaleForResolution(e,t);if(void 0!==r)return k().roundScale(r)}})).filter((e=>void 0!==e))?.reverse(),timeout:6e4,layerFilter:L,headers:{...(0,Ee.getBearerTokenHeader)(g?.getKeycloak())},transformOpts:{rotate:!1},serializers:[new(Ua()),new(Ba()),new(za()),new Ya,new Ja],legendFilter:P};t.length>0&&(e={...e,customPrintScales:t.reverse()});const r=new ja.MapFishPrintV3Manager(e);try{await r.init();const e=r.getPrintApps();e&&m&&e.includes(m)&&await r.setPrintApp(m),r.setOutputFormat(r.getOutputFormats()[0]),r.setDpi(r.getDpis()[0]),r.setLayout(r.getLayouts()[0]?.name),b(r)}catch(e){T((()=>s("PrintForm.managerErrorMessage"))),ze().error("Could not initialize print manager: ",e)}}),[u,L,g,P,t,m,s]);(0,n.useEffect)((()=>{h&&d((0,Wa.iE)({attributions:O(h)}))}),[d,O,h]),(0,n.useEffect)((()=>{e?h||(l.resetFields(),D()):(h?.shutdownManager(),b(null))}),[h,e,D,l]),(0,n.useEffect)((()=>{h&&(y&&h.setCustomParams(y),f&&h.setCustomMapParams(f))}),[h,y,f]);return a().createElement("div",{className:"print","aria-label":"print-form"},S&&a().createElement(le.c,{className:"print-alert",message:S,type:"error",closable:!0,showIcon:!0,onClose:()=>{T(null)}}),h?.isInitiated()&&a().createElement(a().Fragment,null,a().createElement(Ae.c,so({form:l,className:"print-form",labelAlign:"left",labelCol:{flex:"90px"}},i),a().createElement(Ae.c.Item,{"aria-label":"print-title",name:"title",label:s("PrintForm.title"),initialValue:s("PrintForm.initialTitle")},a().createElement(Qa,{"aria-label":"print-title-input",maxLength:50,placeholder:s("PrintForm.titlePlaceholder")})),a().createElement(Ae.c.Item,{"aria-label":"print-comment",name:"comment",label:s("PrintForm.comment")},a().createElement(Qa,{"aria-label":"print-comment-input",maxLength:200,placeholder:s("PrintForm.commentPlaceholder")})),a().createElement(Ae.c.Item,{"aria-label":"print-layout",name:"layout",label:s("PrintForm.layout"),initialValue:h?.getLayouts()[0]?.name},a().createElement(eo,{"aria-label":"print-layout-input",printManager:h,onValueChange:()=>{l.setFieldValue("dpi",h?.getDpis()[0])}})),a().createElement(Ae.c.Item,{"aria-label":"print-scale",name:"scale",label:s("PrintForm.scale"),initialValue:h?.getClosestScaleToFitMap()},a().createElement(io,{"aria-label":"print-scale-input",printManager:h})),a().createElement(Ae.c.Item,{"aria-label":"print-dpi",name:"dpi",label:s("PrintForm.dpi"),initialValue:h.getDpis()[0]},a().createElement(ao,{"aria-label":"print-dpi-input",printManager:h,placeholder:s("PrintForm.resolutionPlaceholder")})),a().createElement(Ae.c.Item,{"aria-label":"print-format",name:"format",label:s("PrintForm.format"),initialValue:"pdf"},a().createElement(ro,{"aria-label":"print-format-input",printManager:h,outputFormats:o,placeholder:s("PrintForm.outputFormatPlaceholder")}))),a().createElement($e.c,{"aria-label":"create-print",className:"print-button tool-menu-button",disabled:!h?.isInitiated(),icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.Uxe}),loading:w,onClick:async()=>{try{if(T(null),v(!0),!h)return;const e=await h.print(!1);if(!e)throw new Error("No download URL available, the job has failed.");window.open(e)}catch(e){T(s("PrintForm.printJobErrorMsg")||null),ze().error(e)}finally{v(!1)}}},s("PrintForm.downloadBtnText"))))},uo=r(72348),mo=r.n(uo),po=r(39136),go={};go.styleTagTransform=$(),go.setAttributes=_(),go.insert=R().bind(null,"head"),go.domAPI=x(),go.insertStyleElement=V();I()(po.c,go),po.c&&po.c.locals&&po.c.locals;var fo=r(81424),yo=r(9536),ho=r(12816),Eo=r(70091),bo={};bo.styleTagTransform=$(),bo.setAttributes=_(),bo.insert=R().bind(null,"head"),bo.domAPI=x(),bo.insertStyleElement=V();I()(Eo.c,bo),Eo.c&&Eo.c.locals&&Eo.c.locals;var wo=r(84612),vo={};vo.styleTagTransform=$(),vo.setAttributes=_(),vo.insert=R().bind(null,"head"),vo.domAPI=x(),vo.insertStyleElement=V();I()(wo.c,vo),wo.c&&wo.c.locals&&wo.c.locals;var So=({keyName:e,onChange:t})=>{const{t:r}=(0,E.useTranslation)();return a().createElement(a().Fragment,null,a().createElement(Ae.c.Item,{name:["fields",e,"name"],rules:[{required:!0,message:r("AttributionRow.missingKey")},({getFieldsValue:e})=>({validator(t,n){const a=e(!0);return Object.entries(a.fields).filter((([e,t])=>t.name===n)).length>1?Promise.reject(new Error(r("AttributionRow.keyInUse"))):Promise.resolve()}})]},a().createElement(l.c,{placeholder:r("AttributionRow.keyPlaceholder"),onChange:t})),a().createElement(Ae.c.Item,{name:["fields",e,"value"],rules:[{required:!0,message:r("AttributionRow.missingValue")}]},a().createElement(l.c,{placeholder:r("AttributionRow.valuePlaceholder"),onChange:t})))};function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(this,arguments)}var ko=({onCustomClose:e,onClose:t,...r})=>{const[o,i]=(0,n.useState)(),[l,s]=(0,n.useState)(!0),[c,u]=(0,n.useState)({}),[d]=Ae.c.useForm(),m=(0,C.useMap)(),{t:p}=(0,E.useTranslation)();(0,n.useEffect)((()=>{const e=o?.getProperties();u({...e});const t={};e&&Object.entries(e).forEach((([e,r])=>{t[e]={name:e,value:r}})),d.setFieldValue("fields",{}),d.setFieldsValue({fields:t})}),[o,d]);const g=m?.getInteractions().getArray().filter((e=>!0===e.get("active")&&"react-geo-select-interaction"===e.get("name")))[0];g&&g.on("select",(()=>{i(g.getFeatures().getArray()[0])}));const f=async()=>{try{await d.validateFields(),s(!0)}catch(e){s(!1)}};return a().createElement(a().Fragment,null,a().createElement(Ct.c,To({title:p("Attribution.title"),className:"attribution-drawer",placement:"right",mask:!1,maskClosable:!1,onClose:()=>{e&&e(!1)}},r),a().createElement(a().Fragment,null,!o&&a().createElement(a().Fragment,null,p("Attribution.select"))),a().createElement(ho.c,null,a().createElement(Ae.c,{name:"dynamic_form_nest_item",onFinish:e=>{o&&(Object.keys(c).length>0?Object.entries(e.fields).forEach((([e,t])=>{o.set(t.name,t.value)})):o.set("",""))},style:{maxWidth:600},autoComplete:"off",form:d},(()=>{const e=c;return e.geometry&&delete e.geometry,Object.entries(e).map((([e,t])=>a().createElement("div",{key:e,className:"attribute-row"},a().createElement(So,{keyName:e,key:e,onChange:f}),a().createElement(fo.c,{onClick:()=>(e=>{const t={...c};delete t[e],o?.unset(e),u(t)})(e)}))))})(),a().createElement(Ae.c.Item,null,o?a().createElement($e.c,{type:"dashed",onClick:()=>{const e={...c};e[""]="",u(e)},block:!0,icon:a().createElement(yo.c,null)},p("Attribution.add")):a().createElement(a().Fragment,null)),a().createElement(Ae.c.Item,null,a().createElement($e.c,{type:"primary",htmlType:"submit",disabled:!l},p("Attribution.submit")))))))},Lo=r(8596),Co=r(10084);function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}const{confirm:Fo}=i.default,Ao="deleteallbutton";var Oo=({className:e,digitizeLayer:t,...r})=>{const[a,o]=(0,n.useState)(null),i=(0,L.useMap)(),{t:l}=(0,E.useTranslation)();if((0,n.useEffect)((()=>{i&&o(t?[t]:[Co.DigitizeUtil.getDigitizeLayer(i)])}),[i,t]),!a)return null;const s=e?`${Ao} ${e}`:Ao;return n.createElement(L.SimpleButton,Po({onClick:()=>{Fo({title:l("DeleteAllButton.deleteAll"),content:l("DeleteAllButton.confirmMessage"),icon:n.createElement(Lo.c,null),onOk(){a[0].getSource()?.clear()}})},className:s},r))};const No=()=>{const e=A(),{t:t}=(0,E.useTranslation)();return a().createElement($e.c,{type:"link",onClick:()=>{e((0,na.O0)(!0))},icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.grh})},t("StylingDrawer.pickColor"))};var Do=({showDrawPoint:e,showDrawLine:t,showDrawPolygon:r,showDrawCircle:o,showDrawRectangle:i,showDrawAnnotation:l,showModifyFeatures:s,showUploadFeatures:c,showDeleteFeatures:u})=>{const[d,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(),{t:f}=(0,E.useTranslation)(),y=(0,C.useMap)(),h=e=>{const t=new FileReader;t.onload=()=>{try{const e=(new(Ut())).readFeatures(t.result);if(y){const t=y.getView().getProjection().getCode();e.forEach((e=>{e.getGeometry()?.transform("EPSG:4326",t)}));const r=Jt.DigitizeUtil.getDigitizeLayer(y).getSource();r?.addFeatures(e)}Ca.cp.success(f("Draw.uploadSuccess"))}catch(e){Ca.cp.error(f("Draw.uploadError"))}},t.readAsText(e)};if(!y)return a().createElement(a().Fragment,null);return a().createElement(a().Fragment,null,a().createElement(Ht(),{selectedName:p,onChange:e=>{e&&g(e.name)}},e?a().createElement(zt(),{name:"draw-point",drawType:"Point",type:"link",pressed:!1},a().createElement(Ye.FontAwesomeIcon,{icon:qe.ExK}),a().createElement("span",{className:"draw-point"},f("Draw.point"))):a().createElement(a().Fragment,null),t?a().createElement(zt(),{name:"draw-line",drawType:"LineString",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.oZ7}),a().createElement("span",{className:"draw-line"},f("Draw.line"))):a().createElement(a().Fragment,null),r?a().createElement(zt(),{name:"draw-polygon",drawType:"Polygon",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.o7b}),a().createElement("span",{className:"draw-polygon"},f("Draw.polygon"))):a().createElement(a().Fragment,null),o?a().createElement(zt(),{name:"draw-circle",drawType:"Circle",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.ExK}),a().createElement("span",{className:"draw-circle"},f("Draw.circle"))):a().createElement(a().Fragment,null),i?a().createElement(zt(),{name:"draw-rectangle",drawType:"Rectangle",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.mWp}),a().createElement("span",{className:"draw-rectangle"},f("Draw.rectangle"))):a().createElement(a().Fragment,null),l?a().createElement(zt(),{name:"draw-text",drawType:"Text",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.OIS}),a().createElement("span",{className:"draw-text"},f("Draw.text"))):a().createElement(a().Fragment,null),s?a().createElement(Wt(),{name:"draw-modify",type:"link",onToggle:e=>{!1===d&&!0===e&&m(!0),!0===d&&!1===e&&"draw-modify"===p&&m(!1)}},a().createElement(Ye.FontAwesomeIcon,{icon:qe.Mdv}),a().createElement("span",{className:"draw-modify"},f("Draw.modify"))):a().createElement(a().Fragment,null),c?a().createElement(mo(),{name:"draw-upload",onChange:e=>{const t=e.target.files;(e=>{const t=e.target.files;let r=!1;return t&&1===t.length&&("application/geo+json"===t[0].type||"application/geojson"===t[0].type||t[0].name.includes(".geojson")||t[0].name.includes(".json"))&&(r=!0),r})(e)?h(t[0]):Ca.cp.error(f("Draw.uploadError"))},type:"link","aria-label":"draw-upload"},a().createElement(Gt(),{type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.a_l}),a().createElement("span",{className:"draw-upload"},f("Draw.upload")))):a().createElement(a().Fragment,null),c?a().createElement(Gt(),{name:"draw-export",onClick:()=>{const e=[];if(y){const t=y.getView().getProjection().getCode(),r=Jt.DigitizeUtil.getDigitizeLayer(y),n=r.getSource()?.getFeatures();if(n&&n.length>0){n.forEach((r=>{const n=r.clone();n.getGeometry()?.transform(t,"EPSG:4326"),e.push(n)}));const r=(new(Ut())).writeFeatures(e),a=new Blob([r],{type:"application/geo+json"}),o=window.URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.setAttribute("download","exportedFeatures.geojson"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.Uxe}),a().createElement("span",{className:"draw-export"},f("Draw.export"))):a().createElement(a().Fragment,null),u?a().createElement(Bt(),{name:"draw-delete",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.YzU}),a().createElement("span",{className:"draw-delete"},f("Draw.delete"))):a().createElement(a().Fragment,null),u?a().createElement(Oo,{name:"draw-delete-all",type:"link"},a().createElement(Ye.FontAwesomeIcon,{icon:qe._8k}),a().createElement("span",{className:"draw-delete-all"},f("DeleteAllButton.deleteAll"))):a().createElement(a().Fragment,null),a().createElement(No,null)),a().createElement(ko,{open:d,onCustomClose:()=>m(!1)}))},Mo=r(30940),Io=r.n(Mo),jo=r(36876),xo=r(59880),Uo=r.n(xo),Ro=r(51072),Bo=r.n(Ro);var _o=e=>{const t=P()(),r=(0,n.useCallback)((async()=>{if(!t)return;if(k().getLayerByName(t,e.layerName))return;const r=new(Bo()),n=new(nn())({color:"rgba(255, 255, 255, 0.15)"}),a=new(on())({color:"rgba(209, 70, 47, 1)",width:2}),o=new(sn())({fill:n,stroke:a,image:new(tn())({radius:5,fill:n,stroke:a})}),i=new(Uo())({source:r,style:o});i.set("name",e.layerName),t.addLayer(i)}),[t,e.layerName]),a=(0,n.useCallback)((()=>{if(!t)return;const r=k().getLayerByName(t,e.layerName);r&&t.removeLayer(r)}),[t,e.layerName]);(0,n.useEffect)((()=>(r(),()=>a())),[a,r])},zo=r(32796),Vo=r(46224),Wo=r.n(Vo),$o=r(4852),Go=r.n($o),Ko=r(82356),Ho={};Ho.styleTagTransform=$(),Ho.setAttributes=_(),Ho.insert=R().bind(null,"head"),Ho.domAPI=x(),Ho.insertStyleElement=V();I()(Ko.c,Ho),Ko.c&&Ko.c.locals&&Ko.c.locals;function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(this,arguments)}var Yo=({exportFilter:e,features:t,layer:r,selectedFeature:n,...o})=>{const{t:i}=(0,E.useTranslation)(),l=A(),s=(0,C.useMap)(),c=N((e=>e.featureInfo.activeCopyTools)),u=N((e=>e.editFeature.userEditMode)),m=u.includes("CREATE")||u.includes("DELETE")||u.includes("UPDATE"),p=r?.get("editable");return a().createElement("div",{className:"pagination-toolbar"},a().createElement(zo.c,qo({simple:!0,total:t.length,size:"small",pageSize:1},o)),a().createElement("div",{className:"copy-buttons"},m&&a().createElement(Rn.c,{key:"edit",title:i(p?"PaginationToolbar.editFeature":"PaginationToolbar.editDisabled")},a().createElement($e.c,{type:"primary",size:"small",onClick:()=>{if(!r||!s)return;const e=(new(Ut())).writeFeature(n);try{const t=JSON.parse(e),a=Jt.DigitizeUtil.getDigitizeLayer(s);if(!a)return;const o=a.getSource();if(!o)return;if(o.clear(),o.addFeature(n),(0,Ce.isEmpty)(o.getExtent()))return;s.getView().fit(o.getExtent(),{padding:[150,150,150,150]}),l((0,Ve.EJ)((0,d.getUid)(r))),l((0,Ve.sr)(t)),l((0,Lt.WC)())}catch(e){ze().error("Could not parse GeoJSON: ",e)}},icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.cpv}),disabled:!p})),c?.includes(fa.Ap.COPY_AS_GEOJSON)&&a().createElement(Rn.c,{title:i("PaginationToolbar.copyAsGeoJson")},a().createElement($e.c,{type:"primary",size:"small",onClick:()=>{if(!n)return;const t=n.clone();if(e){const r=Object.entries(t.getProperties()),n=r.filter((([t,r])=>e(t,r)));for(const[e,n]of r)n instanceof Go()||t.unset(e);t.setProperties(Object.fromEntries(n))}Fa()((new(Ut())).writeFeature(t))},icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.YHv})})),c?.includes(fa.Ap.COPY_AS_OBJECT)&&a().createElement(Rn.c,{title:i("PaginationToolbar.copyAsObject")},a().createElement($e.c,{type:"primary",size:"small",onClick:()=>{if(!n)return;let t=Object.entries(Wo()(n.getProperties())).filter((([,e])=>!(e instanceof Go())));e&&(t=t.filter((([t,r])=>e(t,r)))),Fa()(JSON.stringify(Object.fromEntries(t)))},icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.MRu})}))))},Jo=r(60831),Zo={};Zo.styleTagTransform=$(),Zo.setAttributes=_(),Zo.insert=R().bind(null,"head"),Zo.domAPI=x(),Zo.insertStyleElement=V();I()(Jo.c,Zo),Jo.c&&Jo.c.locals&&Jo.c.locals;function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}var Xo=({features:e,layerName:t,layer:r,tabConfig:o,...i})=>{const[l,s]=(0,n.useState)(1),[c,u]=(0,n.useState)(),[d,m]=(0,n.useState)("0"),p=P()(),g=`selection-layer-${t}`;_o({layerName:g}),(0,n.useEffect)((()=>{if(!p)return;const t=k().getLayerByName(p,g);t&&(t.getSource()?.clear(),s(1),e.length>0&&(m("0"),u(e[0])))}),[e,p,g]),(0,n.useEffect)((()=>{if(!c||!p)return;const e=k().getLayerByName(p,g);e&&(e.getSource()?.clear(),e.getSource()?.addFeature(c))}),[c,p,g]);if(!o||!c)return a().createElement(a().Fragment,null);const f=o.filter((e=>!Ue()(e))).map(((e,t)=>({label:e.title,key:`${t}`,forceRender:!0,children:a().createElement(at,{name:e.title,feature:c,formConfig:e.children})})));return a().createElement("div",{className:"feature-info-tabs"},a().createElement(Yo,{current:l,exportFilter:e=>{let t=!1;for(const r of o)if(r.children)for(const n of r.children)if(n.propertyName===e){t=!0;break}return t},features:e,layer:r,onChange:t=>{t<1||(s(t),u(e[t-1]))},selectedFeature:c}),a().createElement(tr.c,Qo({items:f,activeKey:d,defaultActiveKey:"0",onTabClick:e=>{m(e)}},i)))},ei=r(57988),ti=r.n(ei),ri=r(99302),ni={};ni.styleTagTransform=$(),ni.setAttributes=_(),ni.insert=R().bind(null,"head"),ni.domAPI=x(),ni.insertStyleElement=V();I()(ri.c,ni),ri.c&&ri.c.locals&&ri.c.locals;function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(this,arguments)}var oi=({features:e,layerName:t,...r})=>{const[o,i]=(0,n.useState)(),[l,s]=(0,n.useState)(),[c,u]=(0,n.useState)([]),d=P()(),{t:m}=(0,E.useTranslation)(),p=`selection-layer-${t}`;_o({layerName:p}),(0,n.useEffect)((()=>{if(!d)return;const t=k().getLayerByName(d,p);t&&(t.getSource()?.clear(),i(1),e.length>0&&s(e[0]))}),[e,d,p]),(0,n.useEffect)((()=>{if(!l||!d)return;const e=k().getLayerByName(d,p);if(!e)return;const t=Object.entries(l.getProperties()).filter((([,e])=>e instanceof Go())).map((([e])=>e));u(t),e.getSource()?.clear(),e.getSource()?.addFeature(l)}),[l,d,p]);const g=t=>{i(t),s(e[t-1])};if(!l)return a().createElement(a().Fragment,null);const f=l.getKeys().filter((e=>!c.includes(e.toLocaleLowerCase())));return a().createElement(ti(),ai({className:"property-grid",feature:l,attributeFilter:f,size:"small",sticky:!0,title:()=>a().createElement(Yo,{features:e,selectedFeature:l,current:o,onChange:g}),columns:[{title:m("FeaturePropertyGrid.key"),dataIndex:"attributeName",key:"attributeName",width:"50%",ellipsis:!0,defaultSortOrder:"ascend",sorter:(e,t)=>e.key.localeCompare(t.key)},{title:m("FeaturePropertyGrid.value"),dataIndex:"attributeValue",key:"attributeValue",width:"50%",ellipsis:!0}],scroll:{scrollToFirstRowOnChange:!0,y:"calc(100% - 90px)"}},r))},ii=r(76350),li={};li.styleTagTransform=$(),li.setAttributes=_(),li.insert=R().bind(null,"head"),li.domAPI=x(),li.insertStyleElement=V();I()(ii.c,li),ii.c&&ii.c.locals&&ii.c.locals;function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(this,arguments)}var ci=({...e})=>{const{t:t}=(0,E.useTranslation)(),r=(0,C.useMap)(),o=we(),i=ee(),l=A(),[s,c]=(0,n.useState)([]),[u,d]=(0,n.useState)(void 0),m=N((e=>e.featureInfo.enabled)),p=e=>!!e.get("hoverable")&&(e instanceof f()&&e.getSource()instanceof fe()||e instanceof h()&&e.getSource()instanceof he()),g=(0,n.useCallback)((()=>{if(!r)return;const e=k().getAllLayers(r,p);c(e.filter((e=>e.getVisible())))}),[r]);if((0,n.useEffect)((()=>{if(!r)return;g();const e=k().getAllLayers(r,p);return e.forEach((e=>e.on("change:visible",g))),()=>{e.forEach((e=>e.un("change:visible",g)))}}),[r,g]),!r)return a().createElement(a().Fragment,null);const y=e=>{d(e)},b=e=>r.getAllLayers().findIndex((t=>{if((0,pe.isWmsLayer)(t)){const r=t.getSource(),n=w(r?.getParams().LAYERS);return w(e)===n}return!1})),w=e=>e.split(":").length>1?e.split(":")[1]:e.split(":")[0];if(!m)return a().createElement(a().Fragment,null);return a().createElement("div",{className:"feature-info-panel"},a().createElement(Io(),si({featureCount:10,map:r,queryLayers:s,resultRenderer:e=>{const n=e.features,o=e.loading;if(0===Object.keys(n).length)return a().createElement("span",{className:"usage-hint"},t("FeatureInfo.usageHint"));const l=[];return Object.keys(n).forEach((e=>{let t=!1;const o=r.getAllLayers(),s=b(e),c=o[s];i.forEach((r=>{if((n=r.integration)&&"feature-info"===n.placement&&(Array.isArray(r.integration.layers)&&r.integration.layers.includes(e)||!r.integration.layers)){const{key:n,wrappedComponent:o}=r;l.push({label:e,index:s,key:e,children:a().createElement(o,{key:n})}),t=!0}var n})),t||l.push({label:c?.get("name")||e,index:s,key:e,children:a().createElement("div",{key:e},c?.get("featureInfoFormConfig")?a().createElement(Xo,{tabConfig:c?.get("featureInfoFormConfig"),features:n[e],layerName:e,layer:c}):a().createElement(oi,{features:n[e],layerName:e}))})})),l.sort(((e,t)=>t.index-e.index)),a().createElement(Vn.c,{spinning:o},a().createElement(tr.c,{destroyInactiveTabPane:!0,items:l,activeKey:u,defaultActiveKey:l[0].key,onTabClick:y}))},fetchOpts:e=>({headers:{...e.get("useBearerToken")?{...(0,Ee.getBearerTokenHeader)(o?.getKeycloak())}:void 0}}),onSuccess:e=>{const t=e.features,r={};Object.entries(t).forEach((e=>{const t=e[0],n=e[1];r[t]=(new(Ut())).writeFeatures(n)}));const n=Object.keys(t).map((e=>({layerName:e,index:b(e)}))).sort(((e,t)=>t.index-e.index));n.length>0&&d(n[0].layerName),l((0,jo.uC)(r))}},e)))},ui=r(29504),di=r.n(ui),mi=r(71604),pi=r.n(mi),gi=r(67192),fi=r.n(gi),yi=r(66368),hi=r.n(yi),Ei=r(89736),bi={};bi.styleTagTransform=$(),bi.setAttributes=_(),bi.insert=R().bind(null,"head"),bi.domAPI=x(),bi.insertStyleElement=V();I()(Ei.c,bi),Ei.c&&Ei.c.locals&&Ei.c.locals;function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wi.apply(this,arguments)}var vi=({layer:e,...t})=>{const[r,o]=(0,n.useState)(e.getSource()?.getParams().TIME),[i,l]=(0,n.useState)(),[s,c]=(0,n.useState)(),[u,d]=(0,n.useState)(),{t:m}=(0,E.useTranslation)();(0,n.useEffect)((()=>{const t=e.get("dimension");if(!t)return;let r;if(t.values&&(r=t.values.split(",")),!r||0===r.length)return;l(r[0]),c(r[r.length-1]),o(r[r.length-1]);const n={};if(r.forEach(((e,t)=>{n[e]=Le()(e).format("YYYY-MM-DD")})),d(n),"current"===r.default){let e=[NaN,""];Object.values(n).forEach((t=>{let r=Le()().diff(Le()(t));r<e[0]&&(e=[r,t])})),o(e[1])}}),[e]);return a().createElement("div",{className:"wms-time-slider"},a().createElement(Fr.c,null,a().createElement(Ye.FontAwesomeIcon,{icon:qe.KAA}),m("WmsTimeSlider.title")),u?a().createElement(hi(),wi({min:i,max:s,marks:u,value:r,onChange:t=>{o(t),e.getSource()?.updateParams({TIME:t})},step:null},t)):a().createElement("span",null,m("WmsTimeSlider.default")))},Si=r(28100),Ti=r.n(Si);function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(this,arguments)}var Li=({layer:e,visibleLegendsIds:t,setVisibleLegendsIds:r,...i})=>{const[l,s]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),m=A(),g=we(),f=(0,C.useMap)(),{t:y}=(0,E.useTranslation)(),h=e.get("downloadConfig")??null,b=N((e=>e.editFeature.userEditMode)),w=async()=>{if(f){u(!0);try{let t=await Ti().getExtentForLayer(e,{headers:e.get("useBearerToken")?{...(0,Ee.getBearerTokenHeader)(g?.getKeycloak())}:{}});t=(0,_r.transformExtent)(t,"EPSG:4326",f.getView().getProjection()),f.getView().fit(t)}catch(e){ze().error(e),o.c.error({message:y("LayerTreeContextMenu.extentError")})}finally{u(!1)}}},v=e=>{const t=[e];for(const r of e.getLayers().getArray())r instanceof p()&&t.push(...v(r));return t},S=e=>{const t=(e=>f?v(f.getLayerGroup()).filter((t=>t.getLayers().getArray().includes(e))):[])(e);t.forEach((t=>t.getLayers().remove(e)))},T=()=>{if(!f)return;S(e);const t=k().getLayerByName(f,y("AddLayerModal.externalWmsFolder")),r=k().getLayerByName(f,y("UploadDataModal.uploadedDataFolder"));t&&0===t.getLayers().getLength()&&S(t),r&&0===r.getLayers().getLength()&&S(r)},L=async t=>{if(!e)return;const r={method:"GET",headers:{...e.get("useBearerToken")?{...(0,Ee.getBearerTokenHeader)(g?.getKeycloak())}:void 0}},n=await fetch(t,r),a=await n.blob(),o=document.createElement("a");o.href=URL.createObjectURL(a),o.setAttribute("download",e.get("name")),o.click()};let P=[];if((0,pe.isWmsLayer)(e)&&P.push({label:a().createElement(Vn.c,{spinning:c},y("LayerTreeContextMenu.layerZoomToExtent")),key:"zoomToExtent"}),(0,pe.isWmsLayer)(e)&&e.getVisible()){const r=t.includes((0,d.getUid)(e));P.push({label:y(r?"LayerTreeContextMenu.hideLegend":"LayerTreeContextMenu.showLegend"),key:"toggleLegend"})}if((e.get("isExternalLayer")||e.get("isUploadedLayer"))&&P.push({label:y("LayerTreeContextMenu.removeLayer"),key:"removeExternal"}),h){const e=h.map((e=>({label:y("LayerTreeContextMenu.downloadLayer",{formatName:e.formatName??"XML"}),key:`downloadLayer|${encodeURI(e.downloadUrl)}`})));P.push(...e)}return e.get("editable")&&(b.includes("CREATE")||b.includes("UPDATE")||b.includes("DELETE"))&&P.push({label:y("LayerTreeContextMenu.editLayer"),key:"editLayer"}),P.push({label:y("LayerTreeContextMenu.layerDetails"),key:"layerDetails"}),a().createElement("div",{"aria-label":"layer-context"},a().createElement(Yr.c,ki({menu:{items:P,onClick:n=>{if(n?.key.startsWith("downloadLayer")){const e=n.key.split("|")[1];L(decodeURI(e))}switch(n?.key){case"zoomToExtent":w();break;case"removeExternal":T();break;case"toggleLegend":const n=(0,d.getUid)(e),a=[...t];a.includes(n)?a.splice(a.indexOf(n),1):a.push(n),r(a);break;case"editLayer":m((0,Ve.sr)(null)),m((0,Ve.EJ)((0,d.getUid)(e))),m((0,Lt.WC)());break;case"layerDetails":m((0,zn.EV)((0,d.getUid)(e))),m((0,zn.WC)())}s(!1)}},placement:"bottomLeft",onOpenChange:s,open:l,trigger:["click"]},i),a().createElement(Ye.FontAwesomeIcon,{icon:qe.G40})))},Ci=r(98328),Pi={};Pi.styleTagTransform=$(),Pi.setAttributes=_(),Pi.insert=R().bind(null,"head"),Pi.domAPI=x(),Pi.insertStyleElement=V();I()(Ci.c,Pi),Ci.c&&Ci.c.locals&&Ci.c.locals;var Fi=r(64720),Ai={};Ai.styleTagTransform=$(),Ai.setAttributes=_(),Ai.insert=R().bind(null,"head"),Ai.domAPI=x(),Ai.insertStyleElement=V();I()(Fi.c,Ai),Fi.c&&Fi.c.locals&&Fi.c.locals;var Oi=()=>a().createElement("div",{className:"layer-node-title-loading-animation"},a().createElement("span",{className:"dot-one"},"."),a().createElement("span",{className:"dot-two"},"."),a().createElement("span",{className:"dot-three"},"."));function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}var Di=({...e})=>{const t=(0,C.useMap)(),r=we(),{t:o}=(0,E.useTranslation)(),[i,l]=(0,n.useState)([]),[s,c]=(0,n.useState)({}),u=t?.getAllLayers().map((e=>(0,d.getUid)(e))),m=(0,n.useCallback)((()=>{if(!t)return;k().getAllLayers(t).forEach((e=>{if(e instanceof _n()){const t=e.getSource();t instanceof he()&&(t.hasListener("tileloadstart")||t.on("tileloadstart",y),t.hasListener("tileloadend")||t.hasListener("tileloaderror")||t.on(["tileloadend","tileloaderror"],b)),t instanceof fe()&&(t.hasListener("imageloadstart")||t.on("imageloadstart",y),t.hasListener("imageloadend")||t.hasListener("imageloaderror")||t.on(["imageloadend","imageloaderror"],b))}}))}),[t]),g=(0,n.useCallback)((()=>{const e=t?.getAllLayers().map((e=>(0,d.getUid)(e)));e?.length!==u?.length&&m()}),[t,u,m]);(0,n.useEffect)((()=>{if(t)return m(),t.getLayers().on("change",g),()=>{k().getAllLayers(t).forEach((e=>{if(e instanceof _n()){const t=e.getSource();t.hasListener("tileloadstart")&&t.un("tileloadstart",y),t.hasListener("tileloadend")&&t.un("tileloadend",b),t.hasListener("tileloaderror")&&t.un("tileloaderror",b)}})),t.getLayers().un("change",g)}}),[t,m,g]);const y=e=>{c((t=>{const r=parseInt((0,d.getUid)(e.target),10),n={...t};return n[r]&&n[r].loaded>=n[r].loading?(n[r].loading=1,n[r].loaded=0,n[r].percent=0,n):(n[r]||(n[r]={loading:0,loaded:0,percent:0}),n[r].loading=Number.isInteger(n[r].loading)?n[r].loading+1:1,n)}))},b=e=>{c((t=>{const r=parseInt((0,d.getUid)(e.target),10),n={...t};n[r]||(n[r]={loading:0,loaded:0,percent:0}),n[r].loaded=Number.isInteger(n[r].loaded)?n[r].loaded+1:1;const a=Math.round(n[r].loaded/n[r].loading*100);return a>n[r].percent&&(n[r].percent=a),n}))};return t?a().createElement(di(),Ni({"aria-label":"layertree",className:"layertree",map:t,nodeTitleRenderer:e=>{if(!t)return;const n=t.getView(),c=n.getProjection().getUnits()||"m",u=n.getResolution(),m=u?k().getScaleForResolution(u,c):void 0,g=e instanceof _n()&&(0,d.getUid)(e.getSource())?s[(0,d.getUid)(e.getSource())]?.percent:100;return e instanceof p()?a().createElement("div",{"aria-label":"layer-group"},e.get("name")):a().createElement(a().Fragment,null,a().createElement("div",{className:"tree-node-header","aria-label":"tree-node-header"},a().createElement("span",{"aria-label":"layer-name"},e.get("name"),g<100&&a().createElement(Oi,null)),(e instanceof h()||e instanceof f())&&a().createElement("div",{"aria-label":"layer-context-menu"},a().createElement(Li,{layer:e,visibleLegendsIds:i,setVisibleLegendsIds:l}))),e.get("visible")&&a().createElement("div",{className:"layer-transparency","aria-label":"transparency-slider"},a().createElement(fi(),{tooltip:{formatter:e=>`${o("LayerTree.transparency")}: ${e}%`},layer:e})),e.get("visible")&&"WMSTIME"===e.get("type")&&a().createElement("div",{className:"layer-time-slider"},a().createElement(vi,{layer:e})),e.get("visible")&&i.includes((0,d.getUid)(e))&&a().createElement(pi(),{layer:e,errorMsg:o("LayerTree.noLegendAvailable"),extraParams:{scale:m,LEGEND_OPTIONS:"fontAntiAliasing:true;forceLabels:on",TRANSPARENT:!0},headers:e.get("useBearerToken")?{...(0,Ee.getBearerTokenHeader)(r?.getKeycloak())}:{}}))},filterFunction:e=>e.getLayers?!e.get("hideInLayerTree"):!(e.getSource&&e.getSource()?.forEachFeature),draggable:!0},e)):a().createElement(a().Fragment,null)},Mi=r(93802),Ii=r.n(Mi),ji=r(58348),xi={};xi.styleTagTransform=$(),xi.setAttributes=_(),xi.insert=R().bind(null,"head"),xi.domAPI=x(),xi.insertStyleElement=V();I()(ji.c,xi),ji.c&&ji.c.locals&&ji.c.locals;var Ui=({showMeasureDistance:e,showMeasureArea:t})=>{const{t:r}=(0,E.useTranslation)(),n=(0,C.useMap)();return n?a().createElement(Ht(),null,e?a().createElement(Ii(),{geodesic:!0,name:"line",map:n,measureType:"line",type:"link",continueLineMsg:r("Measure.clicktodrawline")},a().createElement(Ye.FontAwesomeIcon,{icon:qe.S_$}),a().createElement("span",{className:"measure-text"},r("Measure.line"))):a().createElement(a().Fragment,null),t?a().createElement(Ii(),{geodesic:!0,name:"poly",map:n,measureType:"polygon",type:"link",continuePolygonMsg:r("Measure.clicktodrawarea")},a().createElement(Ye.FontAwesomeIcon,{icon:qe.o7b}),a().createElement("span",{className:"measure-text"},r("Measure.area"))):a().createElement(a().Fragment,null)):a().createElement(a().Fragment,null)},Ri=r(27873),Bi={};Bi.styleTagTransform=$(),Bi.setAttributes=_(),Bi.insert=R().bind(null,"head"),Bi.domAPI=x(),Bi.insertStyleElement=V();I()(Ri.c,Bi),Ri.c&&Ri.c.locals&&Ri.c.locals;function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}const{Panel:zi}=ma.default;var Vi=({...e})=>{const{t:t}=(0,E.useTranslation)(),r=(0,C.useMap)(),o=ee(),i=A(),l=N((e=>e.toolMenu.availableTools)),s=N((e=>e.toolMenu.activeKeys)),c=we(),u=c?.getKeycloak(),[d,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=window.matchMedia("only screen and (max-width: 450px) and (orientation: portrait),only screen and (max-width: 750px) and (orientation: landscape), only screen and (max-width: 580px)"),t=new RegExp("/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/");(e.matches||t.test(window.navigator.userAgent))&&m(!0)}),[]),(0,n.useEffect)((()=>{p.length<1&&(l.includes("default")?g(["measure_tools","draw_tools","feature_info","print","tree","permalink","language_selector"]):g(l))}),[p,l]),(0,n.useEffect)((()=>{const e=["print","measure_tools","draw_tools","feature_info"];if(e.filter((e=>s.includes(e))).length>1){const t=s.slice(0,s.length-1).reverse().find((t=>e.includes(t)));t&&i((0,ya.OE)(s.filter((e=>e!==t))))}i((0,fa.uU)(s.includes("feature_info")))}),[s,i]);const f=e=>{switch(e){case"measure_tools":return{icon:qe.eTt,title:t("ToolMenu.measure"),wrappedComponent:a().createElement(Ui,{showMeasureDistance:l.includes("default")||l.includes("measure_tools_distance"),showMeasureArea:l.includes("default")||l.includes("measure_tools_area")})};case"draw_tools":return{icon:qe.o7b,title:t("ToolMenu.draw"),wrappedComponent:a().createElement(Do,{showDrawPoint:l.includes("default")||l.includes("draw_tools_point"),showDrawLine:l.includes("default")||l.includes("draw_tools_line"),showDrawPolygon:l.includes("default")||l.includes("draw_tools_polygon"),showDrawCircle:l.includes("default")||l.includes("draw_tools_circle"),showDrawRectangle:l.includes("default")||l.includes("draw_tools_rectangle"),showDrawAnnotation:l.includes("default")||l.includes("draw_tools_annotation"),showModifyFeatures:l.includes("default")||l.includes("draw_tools_modify"),showUploadFeatures:l.includes("default")||l.includes("draw_tools_upload"),showDownloadFeatures:l.includes("default")||l.includes("draw_tools_download"),showDeleteFeatures:l.includes("default")||l.includes("draw_tools_delete"),showStyleFeatures:l.includes("default")||l.includes("draw_tools_style")})};case"feature_info":return{icon:qe.Ux2,title:t("ToolMenu.featureInfo"),wrappedComponent:a().createElement(ci,null)};case"print":return{icon:qe.SqF,title:t("ToolMenu.print"),wrappedComponent:r?a().createElement(co,{active:s.includes("print"),layerBlackList:["react-geo_measure","hoverVectorLayer"]}):a().createElement(a().Fragment,null)};case"tree":return{icon:qe.aGl,title:t("ToolMenu.layertree"),wrappedComponent:a().createElement("div",{className:"tree-wrapper"},a().createElement(Di,null),a().createElement($e.c,{className:"add-wms-button tool-menu-button",icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.qsE}),onClick:()=>i((0,D.WC)())},t("ToolMenu.addWms")),u&&ce().geoserver?.upload?.authorizedRoles?.some((e=>u.hasResourceRole(e,u.clientId)))&&a().createElement($e.c,{className:"upload-data-button tool-menu-button",icon:a().createElement(Ye.FontAwesomeIcon,{icon:qe.a_l}),onClick:()=>i((0,ha.WC)())},t("ToolMenu.uploadData")))};case"permalink":return{icon:qe.aof,title:t("Permalink.title"),wrappedComponent:a().createElement(Ia,null)};case"language_selector":return{icon:qe.iKZ,title:t("ToolMenu.languageSelect"),wrappedComponent:a().createElement(Sa,null)}}};return a().createElement("div",{"aria-label":"tool-menu",className:"tool-menu "+(d?"collapsed":"")},a().createElement(ma.default,_i({expandIconPosition:"end",activeKey:s,destroyInactivePanel:!0,onChange:e=>{m(!1),i((0,ya.OE)(ga()(e)))}},e),(()=>{const e=[];return p.forEach((t=>{const r=f(t);if(!r)return;const{icon:n,title:o,wrappedComponent:i}=r,l=a().createElement(zi,{className:t,header:a().createElement(a().Fragment,null,n?a().createElement(Ye.FontAwesomeIcon,{icon:n}):void 0,a().createElement("span",null,o)),key:t},i);e.push(l)})),o&&o.forEach((r=>{if((n=r.integration)&&"tool-menu"===n.placement){const{key:n,wrappedComponent:o,integration:{placement:i,label:l="Plugin",insertionIndex:s,icon:c,...u}}=r;e.splice(s||0,0,a().createElement(zi,_i({header:a().createElement(a().Fragment,null,c?a().createElement(Ye.FontAwesomeIcon,{icon:c}):void 0,a().createElement("span",null,t(l))),key:n},u),a().createElement(o,null)))}var n})),e})()),a().createElement(Rn.c,{placement:"right",title:t(d?"ToolMenu.expand":"ToolMenu.collapse")},a().createElement($e.c,{className:"collapse-btn","aria-label":"collapse-button",icon:d?a().createElement(Ye.FontAwesomeIcon,{icon:qe.wj6}):a().createElement(Ye.FontAwesomeIcon,{icon:qe.WIU}),onClick:()=>{i((0,ya.OE)([])),m(!d)}})))},Wi=r(22992),$i=r(20524),Gi=r.n($i),Ki=r(72667),Hi={};Hi.styleTagTransform=$(),Hi.setAttributes=_(),Hi.insert=R().bind(null,"head"),Hi.domAPI=x(),Hi.insertStyleElement=V();I()(Ki.c,Hi),Ki.c&&Ki.c.locals&&Ki.c.locals;function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}const{Dragger:Yi}=We.default;var Ji=({...e})=>{const[t,r]=(0,n.useState)(""),[o,l]=(0,n.useState)(""),[s,c]=(0,n.useState)(!1),u=N((e=>e.uploadDataModal.visible)),d=N((e=>e.user)),m=A(),g=(0,C.useMap)(),f=we(),{t:y}=(0,E.useTranslation)(),h=e=>({0:null,1:"org.locationtech.jts.geom.Point",3:"org.locationtech.jts.geom.LineString",5:"org.locationtech.jts.geom.Polygon",8:"org.locationtech.jts.geom.MultiPoint",11:"org.locationtech.jts.geom.Point",13:"org.locationtech.jts.geom.LineString",15:"org.locationtech.jts.geom.Polygon",18:"org.locationtech.jts.geom.MultiPoint",21:"org.locationtech.jts.geom.Point",23:"org.locationtech.jts.geom.LineString",25:"org.locationtech.jts.geom.Polygon",28:"org.locationtech.jts.geom.MultiPoint",31:null}[e]),b=e=>{switch(e){case"C":return"java.lang.String";case"D":return"java.util.Date";case"N":return"java.lang.Long";case"F":return"java.lang.Double";case"L":return"java.lang.Boolean";default:return null}};return a().createElement(i.default,qi({className:"upload-data-modal",title:y("UploadDataModal.title"),open:u,onCancel:()=>{r(""),l(""),m((0,ha.WS)())},width:600,footer:!1},e),o&&a().createElement(le.c,{message:o,closable:!0,type:"success"}),t&&a().createElement(le.c,{message:t,closable:!0,type:"error"}),a().createElement(Vn.c,{spinning:s},a().createElement(Yi,{customRequest:async e=>{const{onError:t,onSuccess:r,file:n}=e,a=n.name.split("."),o=n.type,i=ce().geoserver?.base||"/geoserver",l=ce().geoserver?.upload?.workspace||"SHOGUN",s=`${a[0]}_${Date.now()}`.toUpperCase(),c={file:n,baseUrl:i,workspace:l,storeName:s,layerName:s};try{"image/tiff"===o&&await(async e=>{const{baseUrl:t,workspace:r,storeName:n,layerName:a,file:o}=e,i=`${t}/rest/workspaces/${r}/coveragestores/${n}/file.geotiff?configure=none`;if(!(await fetch(i,{method:"PUT",headers:{...(0,Ee.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"image/tiff"},body:o})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}));const l=`${t}/rest/workspaces/${r}/coveragestores/${n}/coverages`;if(!(await fetch(l,{method:"POST",headers:{...(0,Ee.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"application/json"},body:JSON.stringify({coverage:{enabled:!0,name:a,nativeName:a,title:a,keywords:{string:["User upload",`Uploaded by ${d.providerDetails?.username}`]}}})})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}))})(c),"application/zip"===o&&await(async e=>{const{baseUrl:t,workspace:r,storeName:n,layerName:a,file:o}=e,i=await Wi.ER.load(o);let l="",s={attribute:[]};if(1!==Object.entries(i).length)throw new Error(y("UploadDataModal.error.zipContent"));Object.entries(i).forEach((([e,t])=>{l=e;const r=t.parse("dbf",{properties:!1});s.attribute=r.fields.map((e=>({name:e.name,minOccurs:0,maxOccurs:1,nillable:!0,binding:b(e.type),length:e.length})));const n=t.parse("shx");s.attribute.push({name:"the_geom",minOccurs:0,maxOccurs:1,nillable:!0,binding:h(n.header.type)})}));const c=`${t}/rest/workspaces/${r}/datastores/${n}/file.shp?configure=none`;if(!(await fetch(c,{method:"PUT",headers:{...(0,Ee.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"application/zip"},body:o})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}));const u=`${t}/rest/workspaces/${r}/datastores/${n}/featuretypes`;if(!(await fetch(u,{method:"POST",headers:{...(0,Ee.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"application/json"},body:JSON.stringify({featureType:{enabled:!0,name:a,nativeName:l,title:a,attributes:s,keywords:{string:["User upload",`Uploaded by ${d.providerDetails?.username}`]}}})})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}))})(c),r&&r({baseUrl:i,workspace:l,layerName:s})}catch(e){t&&t({name:"UploadError",message:e instanceof Error?e.message:y("UploadDataModal.error.general",{fileName:n.name})})}},accept:"image/tiff,application/zip",maxCount:1,showUploadList:!1,beforeUpload:e=>{const t=ce().geoserver?.upload?.limit||2e8,n=e.type,a=e.size;if(r(""),l(""),a>t)return r(y("UploadDataModal.error.maxSize",{maxSize:t/1e6})),!1;const o=["application/zip","image/tiff"];return!!o.includes(n)||(r(y("UploadDataModal.error.supportedFormats",{supportedFormats:o.join(", ")})),!1)},onChange:async e=>{const t=e.file;if("uploading"===t.status&&c(!0),"done"===t.status){if(!f||!t.response)return;const e={name:t.response.layerName,type:"TILEWMS",clientConfig:{hoverable:!0},sourceConfig:{url:`${t.response.baseUrl}/ows?`,layerNames:`${t.response.workspace}:${t.response.layerName}`,useBearerToken:!0}},r=new(Gi())({client:f}).parseTileLayer(e);r.set("layerConfig",e),r.set("isUploadedLayer",!0),r.set("groupName",y("UploadDataModal.uploadedDataFolder")),(e=>{if(!g)return;const t=y("UploadDataModal.uploadedDataFolder");let r=k().getLayerByName(g,t);if(!r){r=new(p())({layers:[],properties:{name:t}});const e=g.getLayerGroup().getLayers();e.insertAt(e?.getLength()||0,r)}r.getLayers().getArray().includes(e)||r.getLayers().push(e)})(r),l(y("UploadDataModal.success",{fileName:t.name,layerName:t.response.layerName})),c(!1)}else"error"===t.status&&(c(!1),ze().error(t.error),t.error&&t.error.message?r(t.error.message):r(y("UploadDataModal.error.general",{fileName:t.name})))}},a().createElement("p",{className:"ant-upload-drag-icon"},a().createElement(Ye.FontAwesomeIcon,{icon:qe.a_l})),a().createElement("p",{className:"ant-upload-text"},y("UploadDataModal.description")),a().createElement("p",{className:"ant-upload-hint"},y("UploadDataModal.hint")))))};var Zi=async()=>{const e=(0,C.useMap)(),t=we(),r=function(){const{search:e}=window.location;return a().useMemo((()=>new URLSearchParams(e)),[e])}(),{t:n}=(0,E.useTranslation)(),o=r.get("layers");if(!e)return;const i=Na().applyLink(e,";",(e=>e.get("name")),(e=>e instanceof h()||e instanceof f()));if(!i)return;const l=t=>{const r=new(p())({layers:[]});r.set("name",t);const n=e.getLayerGroup().getLayers();return n.insertAt(n?.getLength()||0,r),r};try{const r=JSON.parse(i);if(!t)throw new Error("Client is not available");const a=new(Gi())({client:t});for(let t=0;t<r.length;t++){const i=r[t];if(!jt()(i?.layerConfig)){const t=i.layerConfig,r=await a.parseLayer(t);if(!r)continue;if(i.isExternalLayer&&r.set("isExternalLayer",i.isExternalLayer),i.isUploadedLayer&&r.set("isUploadedLayer",i.isUploadedLayer),r.set("groupName",i.groupName),r.set("layerConfig",i.layerConfig),r.setVisible(!!o?.split(";").some((e=>e===t.name))),!r.get("isExternalLayer")&&!r.get("isUploadedLayer"))continue;let s;r.get("groupName")?(s=k().getLayerByName(e,r.get("groupName")),s||(s=l(r.get("groupName")))):(s=k().getLayersByProperty(e,"isExternalLayerGroup",!0)?.[0],s||(s=l(n("AddLayerModal.externalWmsFolder")),s.set("isExternalLayerGroup",!0))),k().getLayerByName(e,r.get("name"))||s.getLayers().push(r)}}}catch(e){ze().error(e)}},Qi=r(7644),Xi={};Xi.styleTagTransform=$(),Xi.setAttributes=_(),Xi.insert=R().bind(null,"head"),Xi.domAPI=x(),Xi.insertStyleElement=V();I()(Qi.c,Xi),Qi.c&&Qi.c.locals&&Qi.c.locals;function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}const tl=({...e})=>(Zi(),(0,n.useEffect)((()=>{const e=document.querySelectorAll(".loadmask")[0];e&&e.classList.add("loadmask-hidden")}),[]),a().createElement("div",el({className:"App"},e),a().createElement(xn,null),a().createElement(re,null),a().createElement(Vi,null),a().createElement(Br,null),a().createElement(ie,null),a().createElement(q,null),a().createElement(Ji,null),a().createElement(Pr,null),a().createElement(ea,null),a().createElement(da,null)));var rl=tl},57824:function(e,t,r){"use strict";r.r(t);var n=r(12922),a=r.n(n),o=r(7060),i=r(82572),l=r(10744),s=r(36224),c=r(95192),u=r(30547),d=r(608),m=r.n(d),p=r(43924),g=r.n(p),f=r(89204),y=r(66648),h=r(69136),E=r(62024),b=r.n(E),w=r(62424),v=r.n(w),S=r(83444),T=r.n(S),k=r(32640),L=r(85144),C=r.n(L),P=r(92856),F=r.n(P),A=r(67676),O=r.n(A),N=r(58144),D=r(66572),M=r(15856),I=r.n(M),j=r(36864),x=r.n(j),U=r(30012),R=r.n(U),B=r(20524),_=r.n(B),z=r(70271),V=r.n(z),W=r(74820),$=r(86837),G=r(98140),K=r(99664);const H=(0,K.is)({name:"appInfo",initialState:{authorities:[],buildTime:"",commitHash:"",userId:-1,version:""},reducers:{setAppInfo(e,t){return t.payload}}}),{setAppInfo:q}=H.actions;var Y=H.reducer;const J=(0,K.is)({name:"description",initialState:"",reducers:{setDescription:(e,t)=>t.payload}}),{setDescription:Z}=J.actions;var Q=J.reducer,X=r(69516),ee=r(73560);const te={contact:"https://www.terrestris.de/de/kontakt/",imprint:"https://www.terrestris.de/de/impressum/",privacy:"https://www.terrestris.de/de/datenschutzerklaerung/"},re=(0,K.is)({name:"legal",initialState:te,reducers:{setLegal:(e,t)=>({contact:t.payload.contact||te.contact,imprint:t.payload.imprint||te.imprint,privacy:t.payload.privacy||te.privacy})}}),{setLegal:ne}=re.actions;var ae=re.reducer;const oe=(0,K.is)({name:"logoPath",initialState:"./shogun_logo.png",reducers:{setLogoPath:(e,t)=>t.payload}}),{setLogoPath:ie}=oe.actions;var le=oe.reducer;const se=(0,K.is)({name:"searchEngines",initialState:["nominatim"],reducers:{setSearchEngines:(e,t)=>t.payload}}),{setSearchEngines:ce}=se.actions;var ue=se.reducer,de=r(18928),me=r(20508),pe=r(64076),ge=r(80964),fe=r(94860),ye=r(36876),he=r(36308);const Ee=(0,K.is)({name:"title",initialState:"SHOGun Client",reducers:{setTitle:(e,t)=>t.payload}}),{setTitle:be}=Ee.actions;var we=Ee.reducer,ve=r(97632),Se=r(58e3);const Te=(0,K.is)({name:"user",initialState:{},reducers:{setUser(e,t){return t.payload}}}),{setUser:ke}=Te.actions;var Le=Te.reducer;const Ce=e=>(0,de.TL)({addLayerModal:me.cp,appInfo:Y,description:Q,editFeature:X.cp,editFeatureDrawerOpen:pe.cp,featureInfo:ee.cp,layerDetailsModal:ge.cp,legal:ae,logoPath:le,print:fe.cp,selectedFeatures:ye.cp,title:we,toolMenu:ve.cp,uploadDataModal:Se.cp,searchEngines:ue,user:Le,stylingDrawerVisibility:he.cp,...e}),Pe=(0,K.eS)({reducer:Ce()});var Fe=r(14596),Ae=r.n(Fe),Oe=r(86520),Ne=r.n(Oe),De=r(36176),Me=r.n(De),Ie=r(65120),je=r.n(Ie),xe=r(66808),Ue=r.n(xe),Re=r(61936),Be=r.n(Re),_e=r(17176),ze={};ze.styleTagTransform=Be(),ze.setAttributes=je(),ze.insert=Me().bind(null,"head"),ze.domAPI=Ne(),ze.insertStyleElement=Ue();Ae()(_e.c,ze),_e.c&&_e.c.locals&&_e.c.locals;const Ve=a().lazy((()=>Promise.all([r.e(352),r.e(312),r.e(392)]).then(r.bind(r,19588))));var We=function(e){return e.APP_ID_NOT_SET="APP_ID_NOT_SET",e.APP_CONFIG_NOT_FOUND="APP_CONFIG_NOT_FOUND",e.APP_UNAUTHORIZED="APP_UNAUTHORIZED",e}(We||{});const $e=new(V())({url:m().shogunBase||"/"}),Ge=new(_())({client:$e}),Ke=e=>{switch(e){case"en":default:return u.c;case"de":return c.c}},He=async e=>{const t=await Ge.parseMapView(e,{constrainOnlyCenter:!0});let r;const n=e.clientConfig?.mapView.projection,a=e.clientConfig?.mapView;if(n&&a?.extent&&4===a.extent.length){const e=(0,k.fromLonLat)([a.extent[0],a.extent[1]],n),t=(0,k.fromLonLat)([a.extent[2],a.extent[3]],n);r=[e[0],e[1],t[0],t[1]]}r&&t.set("extent",r),t.setConstrainResolution(!0);const o=await Ge.parseLayerTree(e,n);return new(T())({view:t,layers:o,controls:(0,h.defaults)({zoom:!1})})},qe=()=>{const e=new(v())({source:new(C())});e.set("name","OpenStreetMap");const t=new(v())({opacity:.5,visible:!0,source:new(F())({url:"https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi",projection:"EPSG:3857",params:{LAYERS:"MERRA2_2m_Air_Temperature_Assimilated_Monthly"}})});t.setProperties({name:"2-meter Air Temperature, Assimilated (Monthly, MERRA2)",hoverable:!0});const r=new(b())({layers:[t]});r.set("name","NASA Earth Observations");const n=new(b())({layers:[e]});n.set("name","Background");const a=(0,k.fromLonLat)([0,40],"EPSG:3857");return new(T())({view:new(O())({center:a,zoom:0}),layers:[n,r],controls:(0,h.defaults)({zoom:!1})})},Ye=async(e,t,n)=>{await r.I("default"),await new Promise(((e,r)=>{const n=document.createElement("script");n.src=t,n.type="text/javascript",n.async=!0,n.onload=()=>{n.parentElement?.removeChild(n),e()},n.onerror=e=>{n.parentElement?.removeChild(n),r(e)},document.head.appendChild(n)}));const a=window[e];await a.init(r.S.default);const o=[];for(const e of n){const t=(await a.get(e))();o.push(t)}return o},Je=(e,t)=>"string"==typeof e?t===e:e instanceof RegExp&&e.test(t);(async()=>{try{o.ek.config({paths:{vs:"./vs"}});const e=await(async()=>{const e=m().keycloak?.enabled,t=m().keycloak?.onLoadAction,r=m().keycloak?.host,n=m().keycloak?.realm,a=m().keycloak?.clientId;if(!e)return;if(!r)throw new Error("Neither config key keycloak.host nor environment KEYCLOAK_HOST is set");if(!n)throw new Error("Neither config key keycloak.realm nor environment KEYCLOAK_REALM is set");if(!a)throw new Error("Neither config key keycloak.clientId nor environment KEYCLOAK_CLIENT_ID is set");const o=new y.c({url:`${r}`,realm:n,clientId:a});return o.onTokenExpired=async()=>{try{await o.updateToken(0)}catch(e){I().error("Error while refreshing the access token: ",e)}},await o.init({onLoad:t,checkLoginIframe:!1}),o})();e&&$e.setKeycloak(e);const t=parseInt(x().getQueryParam(window.location.href,"applicationId"),10);if(t||I().info("No application ID given, can't load any configuration."),!t&&!m().enableFallbackConfig)throw new Error(We.APP_ID_NOT_SET);let r;if(t&&(r=await(async e=>{try{I().info(`Loading application with ID ${e}`);const t=await $e.application().findOne(e);return I().info(`Successfully loaded application with ID ${e}`),t}catch(t){if(t.message.indexOf("401")>-1)throw new Error(We.APP_UNAUTHORIZED);I().error(`Error while loading application with ID ${e}: ${t}`)}})(t)),!r&&!m().enableFallbackConfig)throw new Error(We.APP_CONFIG_NOT_FOUND);const n=r?.clientConfig?.defaultLanguage;n||G.c.use(f.c),await G.c.init(G.i),n&&G.c.changeLanguage(n);const s=(e=>{const t={"--primaryColor":"#59666C","--secondaryColor":"#70B3BE","--complementaryColor":"#FFFFFF"};return e?(e.primaryColor&&(t["--primaryColor"]=e.primaryColor),e.secondaryColor&&(t["--secondaryColor"]=e.secondaryColor),e.secondaryColor&&(t["--complementaryColor"]=e.complementaryColor),t):t})(r?.clientConfig?.theme);i.cp.config({theme:{primaryColor:g()(s["--primaryColor"]).isLight()?g()(s["--primaryColor"]).darken(.5).hexa():s["--primaryColor"]}}),Object.keys(s).forEach((e=>{document.body.style.setProperty(e,s[e])})),Pe.subscribe((()=>{document.title=Pe.getState().title})),(async e=>{if(e){if(e.name&&Pe.dispatch(be(e.name)),e.clientConfig?.description&&Pe.dispatch(Z(e.clientConfig?.description)),e.clientConfig?.legal&&Pe.dispatch(ne(e.clientConfig.legal)),e?.clientConfig?.theme?.logoPath&&Pe.dispatch(ie(e.clientConfig.theme.logoPath)),Pe.dispatch(ce(["nominatim"])),e.toolConfig&&e.toolConfig.length>0){const t=[];e.toolConfig.map((e=>{e.config.visible&&"search"!==e.name&&t.push(e.name),"search"===e.name&&e.config.engines.length>0&&Pe.dispatch(ce(e.config.engines)),"feature_info"===e.name&&Array.isArray(e.config.activeCopyTools)&&Pe.dispatch((0,ee.wB)(e.config.activeCopyTools))})),Pe.dispatch((0,ve.W_)(t))}}else I().info("No application configuration provided, the default store will be loaded")})(r);const c=await(async()=>{try{I().info("Loading application info");const e=await $e.info().getAppInfo();return I().info("Successfully loaded application info"),e}catch(e){I().error("Error while loading application info: ",e)}})();(async e=>{e&&Pe.dispatch(q(e))})(c);(async e=>{e&&Pe.dispatch(ke(e))})(await(async e=>{if(e)try{I().info(`Loading user with ID ${e}`);const t=await $e.user().findOne(e);return I().info(`Successfully loaded user with ID ${e}`),t}catch(t){I().error(`Error while loading user with ID ${e}: `,t)}else I().info("No user ID given, can't load it's details.")})(c?.userId));const u=$e?.getKeycloak()?.tokenParsed?.realm_access?.roles;let d=["NONE"];u&&m().featureEditRoles&&(d=((e,t)=>{const{authorizedRolesForCreate:r,authorizedRolesForUpdate:n,authorizedRolesForDelete:a,authorizedRolesForEditingGeometries:o}=t,i=[];for(const t of e)r?.some((e=>Je(e,t)))&&i.push("CREATE"),n?.some((e=>Je(e,t)))&&i.push("UPDATE"),a?.some((e=>Je(e,t)))&&i.push("DELETE"),o?.some((e=>Je(e,t)))&&i.push("EDIT_GEOMETRY");return i})(u,m().featureEditRoles)),Pe.dispatch((0,X.iC)(d));const p=await(async e=>e?await He(e):(I().info("No application configuration provided, the default map will be loaded"),qe()))(r),h=await(async e=>{if(!m().plugins||0===m().plugins.length)return I().info("No plugins found"),[];I().info("Loading plugins");const t=[];for(const r of m().plugins){const n=r.name,o=r.resourcePath,i=r.exposedPaths;if(!n)return I().error("Required plugin configuration 'name' is not set"),t;if(!o)return I().error("Required plugin configuration 'resourcePath' is not set"),t;if(!i)return I().error("Required plugin configuration 'exposedPaths' is not set"),t;let l;I().info(`Loading plugin ${n} (with exposed paths ${i.join(" and ")}) from ${o}`);try{l=await Ye(n,o,i),I().info(`Successfully loaded plugin ${n}`)}catch(e){return I().error(`Could not load plugin ${n}:`,e),t}l.forEach((r=>{const n=r.default,o=n.component;if(n.wrappedComponent=()=>a().createElement(o,{map:e,client:$e}),n.i18n&&Object.entries(n.i18n).forEach((e=>{const t=e[0],r=e[1].translation;G.c.addResourceBundle(t,"translation",r,!0,!0)})),n.reducers){const e=Ce(n.reducers);Pe.replaceReducer(e)}t.push(n)}))}return t})(p);r||l.c.error({message:G.c.t("Index.applicationLoadErrorMessage"),description:G.c.t("Index.applicationLoadErrorDescription",{applicationId:t}),duration:0}),(0,N.render)(a().createElement(a().StrictMode,null,a().createElement(a().Suspense,{fallback:a().createElement("span",null)},a().createElement($.ei,{client:$e},a().createElement(W.y$,{plugins:h},a().createElement(i.cp,{locale:Ke(G.c.language)},a().createElement(D.Provider,{store:Pe},a().createElement(R().Provider,{value:p},a().createElement(Ve,null)))))))),document.getElementById("app"))}catch(e){const t=document.querySelectorAll(".loadmask")[0];t&&t.classList.add("loadmask-hidden"),G.c.isInitialized||(G.c.use(f.c),await G.c.init(G.i));let r="warning",n=G.c.t("Index.errorDescription");if(e?.message===We.APP_ID_NOT_SET&&(n=G.c.t("Index.errorDescriptionAppIdNotSet")),e?.message===We.APP_UNAUTHORIZED&&(n=G.c.t("Index.permissionDeniedUnauthorized"),r="error"),e?.message===We.APP_CONFIG_NOT_FOUND){const e=x().getQueryParam(window.location.href,"applicationId");n=G.c.t("Index.errorDescriptionAppConfigNotFound",{applicationId:e})}(0,N.render)(a().createElement(a().StrictMode,null,a().createElement(s.c,{className:"error-boundary",message:G.c.t("Index.errorMessage"),description:n,type:r,showIcon:!0})),document.getElementById("app"))}})()},74820:function(e,t,r){"use strict";r.d(t,{y$:function(){return i}});var n=r(12922),a=r.n(n);const o=a().createContext([]),i=({plugins:e,children:t})=>a().createElement(o.Provider,{value:e},t);t.cp=o},86837:function(e,t,r){"use strict";r.d(t,{ei:function(){return i}});var n=r(12922),a=r.n(n);const o=a().createContext(null),i=({client:e,children:t})=>a().createElement(o.Provider,{value:e},t);t.cp=o},98140:function(e,t,r){"use strict";r.d(t,{c:function(){return i},i:function(){return o}});var n=r(63924),a=r(48200);const o={resources:{de:{translation:{ApplicationInfo:{title:"Über",clientVersionTitle:"Client Version",backendVersionTitle:"Backend Version"},AddLayerModal:{addSelectedLayers:"Auswahl hinzufügen",addAllLayers:"Alle hinzufügen",inputPlaceholder:"WMS GetCapabilities URL angeben…",externalWmsFolder:"Externe Themen",title:"WMS hinzufügen",columnTitle:"Name",errorMessage:"Fehler",errorDescription:"Das Capabilities Dokument konnte nicht geladen werden, bitte prüfen Sie die URL",invalidUrlErrorMsg:"Ungültige URL. Bitte geben Sie eine gültige URL wie z.B. https://ows.terrestris.de/osm/service ein.",version:"Version",requestWmsGetCapabilitiesInstruction:"Bitte geben Sie eine gültige WMS GetCapabilities Adresse ein und bestätigen Sie die Eingabe mit 'Enter ↲' oder über den Button rechts vom Eingabefeld."},BasicMapComponent:{processedLayersFolder:"Prozessierte Layer"},CookieBanner:{info:"Wir verwenden technisch notwendige Erstanbieter-Cookies, um Ihnen die bestmögliche Nutzung unserer Website zu ermöglichen. Wenn Sie diese Website weiterhin nutzen, gehen wir davon aus, dass Sie damit zufrieden sind.",button:"Akzeptieren"},Permalink:{title:"Teilen",whatsAppTooltip:"Link via WhatsApp teilen",mailTooltip:"Link via Mail teilen",copyTooltip:"Link in die Zwischenablage kopieren",copiedToClipboard:"Link wurde in Zwischenablage kopiert",copyToClipboardFailed:"Link konnte nicht kopiert werden"},Measure:{title:"Messen",line:"Entfernung",area:"Fläche",clicktodrawline:"Zum Zeichnen einer Linie klicken",clicktodrawarea:"Zum Zeichnen einer Fläche klicken"},Draw:{point:"Punkt",line:"Linie",polygon:"Polygon",circle:"Kreis",rectangle:"Rechteck",text:"Anmerkung",modify:"Bearbeitung",upload:"Hochladen",uploadSuccess:"Die Datei wurde erfolgreich importiert",uploadError:"Der Import ist fehlgeschlagen. Bitte beachten Sie, dass nur .geojson-Dateien unterstützt werden.",delete:"Löschen",export:"Exportieren"},DeleteAllButton:{deleteAll:"Alles Löschen",confirmMessage:"Bitte bestätigen Sie, dass Sie alle Zeichnungen löschen möchten."},StylingDrawer:{pickColor:"Farbschema bearbeiten",title:"Farbschema bearbeiten"},FeatureInfo:{usageHint:"Klicken Sie in die Karte, um Detailinformationen zu erhalten."},FileUpload:{upload:"Dateien hochladen"},ImageUpload:{upload:"Bilder hochladen"},LayerTree:{transparency:"Transparenz",noLegendAvailable:"Keine Legende verfügbar"},LayerTreeContextMenu:{layerZoomToExtent:"Auf Layerausdehnung zoomen",extentError:"Konnte nicht auf die Layerausdehnung zoomen",removeLayer:"Layer entfernen",showLegend:"Legende anzeigen",hideLegend:"Legende ausblenden",downloadLayer:"Layer exportieren ({{formatName}})",editLayer:"Layer bearbeiten",layerDetails:"Eigenschaften"},LayerDetailsModal:{title:"Eigenschaften des Layers {{layerName}}",internalConfigurationButtonTooltip:"Interne Konfiguration anzeigen",internalConfigurationButtonTooltipPressed:"Interne Konfiguration verbergen"},LayerDetails:{noDataPlaceholder:"-",layerNameLabel:"Name",layerTitleLabel:"Titel",serviceAbstractLabel:"Service Beschreibung",abstractLabel:"Beschreibung",accessConstraintsLabel:"Nutzungseinschränkungen",capabilitiesUrlLabel:"GetCapabilities URL",contactLabel:"Kontakt",minScaleLabel:"Min. Maßstab",maxScaleLabel:"Max. Maßstab",bboxLabel:"Bounding Box",errorMessage:"Fehler beim Laden der Layer Capabilities"},LayerConfiguration:{errorMessage:"Fehler beim Laden der internen Konfiguration"},ToolMenu:{expand:"Menu ausklappen",collapse:"Menu einklappen",measure:"Messen",draw:"Zeichnen",featureInfo:"Karteninhalte abfragen",addWms:"WMS hinzufügen",uploadData:"Daten hochladen",print:"Export",layertree:"Karten",languageSelect:"Sprachauswahl"},PrintForm:{title:"Kartentitel",initialTitle:"Druckausgabe",titlePlaceholder:"Bitte geben Sie einen Titel ein",comment:"Bemerkung",commentPlaceholder:"Bitte geben Sie einen Kommentar ein",layout:"Vorlage",dpi:"Auflösung",format:"Format",scale:"Maßstab",downloadBtnText:"Ausdruck erzeugen",printJobErrorMsg:"Der Kartenausdruck konnte nicht erzeugt werden",initErrorMsg:"Der Kartendruck Generator konnte nicht initialisiert werden.",outputFormatPlaceholder:"Bitte wählen Sie ein Ausgabeformat aus",resolutionPlaceholder:"Bitte wählen Sie eine Ausgabequalität aus",managerErrorMessage:"Fehler bei der Initialisierung der Export-Engine"},Footer:{refSystem:"Bezugssystem",scale:"Maßstab",mousePosition:"Mausposition",imprint:"Impressum",contact:"Kontakt",privacypolicy:"Datenschutz"},Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden.",errorDescriptionAppIdNotSet:"Keine Applikations-ID angegeben. Bitte geben Sie die ID als Abfrageparameter an, z.B. ?applicationId=1909",errorDescriptionAppConfigNotFound:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden.",permissionDeniedUnauthorized:"Dies ist keine öffentliche Applikation. Anmeldung erforderlich."},Nominatim:{placeholder:"Ortsname, Straßenname, Stadtteilname, POI usw."},UserMenu:{settingsMenuTitle:"Profil bearbeiten",infoMenuTitle:"Über",logoutMenuTitle:"Ausloggen",loginMenuTitle:"Anmelden"},WmsTimeSlider:{title:"Zeitlicher Bezug",default:"Keine Daten gefunden"},UploadDataModal:{title:"Daten hochladen",uploadedDataFolder:"Hochgeladene Daten",description:"Klicken Sie oder ziehen Sie die Datei zum Hochladen in diesen Bereich",hint:"Unterstützte Dateiformate sind Shapefile (gebündelt als *.zip) und GeoTIFF",success:"Datei {{fileName}} wurde erfolgreich geladen und der Layer {{layerName}} erstellt",error:{general:"Fehler beim Hochladen der Datei {{fileName}}",maxSize:"Der Upload überschreitet das Limit von {{maxSize}} MB",supportedFormats:"Der Dateityp ist nicht unterstützt ({{supportedFormats}})",zipContent:"Mehrere Geodatensätze innerhalb eines Archivs sind nicht unterstützt"}},MultiSearch:{searchInViewBox:"Im aktuellen Kartenausschnitt suchen",searchData:"Layerdaten durchsuchen",searchNominatim:"Ortssuche (Nominatim)",nominatimTitle:"Ortssuche",searchPlaceholder:"Orts- und Datensuche…"},EditFeatureDrawer:{featureEditor:"Objekteditor",noLayerFoundError:"Kein passender Layer gefunden - das Editieren ist nicht möglich.",isFeatureLockedErrorMsg:"Das ausgewählte Objekt wird bereits in einer anderen Sitzung bearbeitet.",closeDrawerWarnTitle:"Wollen Sie wirklich fortfahren?",closeDrawerWarnContent:"Dadurch werden alle nicht gespeicherten Änderungen an dem Objekt verworfen."},EditFeatureSwitch:{usageHint:"Objekt zum Editieren auf der Karte auswählen oder…",limitedUsageHint:"Zum Editieren bitte eine Objekt auf der Karte auswählen",createFeature:"Neues Objekt erstellen"},EditFeatureFullForm:{saveErrorMsg:"Das Objekt konnte nicht gespeichert werden",deleteErrorMsg:"Das Objekt konnte nicht gelöscht werden"},EditFeatureGeometryToolbar:{draw:"Neue Geometrie zeichnen",edit:"Geometrie editieren",delete:"Geometrie löschen",undo:"Rückgängig",redo:"Wiederherstellen"},Attribution:{title:"Attribute",add:"Attribut hinzufügen",select:"Wählen Sie zunächst eine Geometrie aus.",submit:"Speichern"},AttributionRow:{missingKey:"Fehlender Name",missingValue:"Fehlender Wert",keyPlaceholder:"Name",valuePlaceholder:"Wert",keyInUse:"Dieser Name existiert bereits!"},ResetButton:{title:"Zurücksetzen"},SaveButton:{title:"Speichern"},DeleteButton:{title:"Objekt löschen",confirm:"Das Objekt wird vollständig gelöscht. Fortfahren?"},EditFeatureButton:{title:"Objekt bearbeiten"},FeaturePropertyGrid:{key:"Name",value:"Wert"},PaginationToolbar:{copyAsGeoJson:"Als GeoJSON kopieren (inkl. Geometrie)",copyAsObject:"Als Objekt kopieren (nur angezeigte Werte)",editDisabled:"Layer ist nicht editierbar",editFeature:"Feature editieren"},JsonModal:{buttonTitle:"Öffne {{propertyName}}"},ReferenceTable:{modalTitle:"Details zu {{referenceValue}}",defaultModalTitle:"Details",defaultRowPlaceholder:"Klicken Sie auf den Button, um die Details anzuzeigen"},EditReferenceTable:{modalTitle:"Details zu {{referenceValue}}",confirmDeleteTitle:"Das referenzierte Objekt wird vollständig gelöscht. Fortfahren?"}}},en:{translation:{ApplicationInfo:{title:"About",clientVersionTitle:"Client version",backendVersionTitle:"Backend version"},AddLayerModal:{addSelectedLayers:"Add selected",addAllLayers:"Add all",inputPlaceholder:"Enter a WMS GetCapabilities URL…",externalWmsFolder:"External layers",title:"Add WMS",columnTitle:"Name",errorMessage:"Error",errorDescription:"Could not load the provided Capabilities document, please check the validity of the URL",invalidUrlErrorMsg:"Invalid URL specified. Please provide an URL like https://ows.terrestris.de/osm/service",version:"Version",requestWmsGetCapabilitiesInstruction:"Please provide a valid GetCapabilities URL and submit your input by pressing the 'Enter ↲' key or by clicking on the button right of the field."},BasicMapComponent:{processedLayersFolder:"Processed layers"},CookieBanner:{info:"We use technically necessary first-party cookies to ensure that we give you the best experience on our website. If you continue to use this site we will assume that you are happy with it.",button:"Accept"},Permalink:{title:"Share",whatsAppTooltip:"Share link via WhatsApp",mailTooltip:"Share link via Mail",copyTooltip:"Copy link to Clipboard",copiedToClipboard:"Copied to clipboard",copyToClipboardFailed:"Could not copy link to clipboard"},Measure:{title:"Measure",line:"Distance",area:"Area",clicktodrawline:"Click to draw line",clicktodrawarea:"Click to draw area"},Draw:{point:"Point",line:"Line",polygon:"Polygon",circle:"Circle",rectangle:"Rectangle",text:"Annotation",modify:"Edit",upload:"Upload",uploadSuccess:"The file was uploaded successfully",uploadError:"The import failed, please note that only .geojson files are supported",delete:"Delete",export:"Export"},DeleteAllButton:{deleteAll:"Delete all",confirmMessage:"Please confirm, that you wish to delete all drawings."},StylingDrawer:{pickColor:"Modify color scheme",title:"Modify color scheme"},FeatureInfo:{usageHint:"Click on the map to get details about the clicked coordinate."},FileUpload:{upload:"Upload files"},ImageUpload:{upload:"Upload images"},LayerTree:{transparency:"Transparency",noLegendAvailable:"No legend available"},LayerTreeContextMenu:{layerZoomToExtent:"Zoom to layer extent",extentError:"Could not zoom to layer extent",removeLayer:"Remove layer",showLegend:"Show legend",hideLegend:"Hide legend",downloadLayer:"Export layer as {{formatName}}",editLayer:"Edit layer",layerDetails:"Properties"},LayerDetailsModal:{title:"Properties of layer {{layerName}}",internalConfigurationButtonTooltip:"Show internal configuration",internalConfigurationButtonTooltipPressed:"Hide internal configuration"},LayerDetails:{noDataPlaceholder:"-",layerNameLabel:"Name",layerTitleLabel:"Title",serviceAbstractLabel:"Service abstract",abstractLabel:"Abstract",accessConstraintsLabel:"Access constraints",capabilitiesUrlLabel:"GetCapabilities URL",contactLabel:"Contact",minScaleLabel:"Min. scale",maxScaleLabel:"Max. scale",bboxLabel:"Bounding box",errorMessage:"Error while loading the layer capabilities"},LayerConfiguration:{errorMessage:"Error while loading the internal configuration"},ToolMenu:{expand:"Expand",collapse:"Collapse",measure:"Measure",draw:"Draw",featureInfo:"Query map features",addWms:"Add WMS",uploadData:"Upload data",print:"Export",layertree:"Maps",languageSelect:"Language selector"},PrintForm:{title:"Title",initialTitle:"Title",titlePlaceholder:"Please input a title…",comment:"Comment",commentPlaceholder:"Please enter a comment…",layout:"Layout",dpi:"Resolution",format:"Format",scale:"Scale",downloadBtnText:"Create print",printJobErrorMsg:"Could not generate PDF output",initErrorMsg:"PDF Generator could not be initialized",outputFormatPlaceholder:"Please select an output format",resolutionPlaceholder:"Please select an output quality",managerErrorMessage:"Error while initializing the export engine"},Footer:{refSystem:"Reference system",scale:"Scale",mousePosition:"Mouse position",imprint:"Imprint",contact:"Contact",privacypolicy:"Privacy"},Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occurred while loading the application.",errorDescriptionAppIdNotSet:"No application ID given. Please provide the ID as query parameter, e.g. ?applicationId=1909",errorDescriptionAppConfigNotFound:"The application with ID {{applicationId}} could not be loaded correctly.",permissionDeniedUnauthorized:"This application is not public. Authentication required."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},UserMenu:{settingsMenuTitle:"Edit profile",infoMenuTitle:"About",logoutMenuTitle:"Logout",loginMenuTitle:"Login"},WmsTimeSlider:{title:"Time reference",default:"No data found"},UploadDataModal:{title:"Upload data",uploadedDataFolder:"Uploaded data",description:"Click or drag file to this area to upload",hint:"Supported file formats are Shapefile (bundled as *.zip) and GeoTIFF",success:"Successfully uploaded file {{fileName}} and created layer {{layerName}}",error:{general:"Error while uploading file {{fileName}}",maxSize:"The file exceeds the upload limit of {{maxSize}} MB",supportedFormats:"The given file type does not match the supported ones ({{supportedFormats}})",zipContent:"Multiple geodatasets within one archive are not supported"}},MultiSearch:{searchInViewBox:"Search in current extent",searchData:"Search layer data",searchNominatim:"Search nominatim",nominatimTitle:"Nominatim",searchPlaceholder:"Address and data search…"},EditFeatureDrawer:{featureEditor:"Feature editor",noLayerFoundError:"No layer found - the editing is not possible.",isFeatureLockedErrorMsg:"The selected feature is already being edited in another session.",closeDrawerWarnTitle:"Do you really want to quit?",closeDrawerWarnContent:"This will discard any unsaved changes to the feature."},EditFeatureSwitch:{usageHint:"Select an existing feature for editing on the map or…",limitedUsageHint:"To edit please select an object on the map",createFeature:"Create new feature"},EditFeatureFullForm:{saveErrorMsg:"Error while saving the feature",deleteErrorMsg:"Error while deleting the feature"},EditFeatureGeometryToolbar:{draw:"Draw new geometry",edit:"Edit geometry",delete:"Delete geometry",undo:"Undo",redo:"Redo"},Attribution:{title:"Properties",add:"Add Property",select:"Please select a geometry first.",submit:"Apply"},AttributionRow:{missingKey:"Missing Key",missingValue:"Missing Value",keyPlaceholder:"Key",valuePlaceholder:"Value",keyInUse:"Key already exists!"},ResetButton:{title:"Reset"},SaveButton:{title:"Save"},DeleteButton:{title:"Delete feature",confirm:"The feature will be deleted completely. Proceed?"},EditFeatureButton:{title:"Edit feature"},FeaturePropertyGrid:{key:"Name",value:"Value"},PaginationToolbar:{copyAsGeoJson:"Copy as GeoJSON (incl. geometry)",copyAsObject:"Copy as object (displayed values only)",editDisabled:"This layer is not editable",editFeature:"Edit feature"},JsonModal:{buttonTitle:"Show {{propertyName}}"},ReferenceTable:{modalTitle:"Details for {{referenceValue}}",defaultModalTitle:"Details",defaultRowPlaceholder:"Click the button to show the details"},EditReferenceTable:{modalTitle:"Details for {{referenceValue}}",confirmDeleteTitle:"The referenced feature will be deleted completely. Proceed?"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},returnNull:!1};n.cp.use(a.initReactI18next),n.cp.options=o;var i=n.cp},22072:function(e,t,r){Promise.all([r.e(352),r.e(312),r.e(124)]).then(r.bind(r,57824))},20508:function(e,t,r){"use strict";r.d(t,{WC:function(){return a},WS:function(){return o}});const n=(0,r(99664).is)({name:"addLayerModal",initialState:{visible:!1},reducers:{show(e){e.visible=!0},hide(e){e.visible=!1},toggle(e){e.visible=!e.visible}}}),{show:a,hide:o,toggle:i}=n.actions;t.cp=n.reducer},69516:function(e,t,r){"use strict";r.d(t,{EJ:function(){return a},_A:function(){return s},a_:function(){return i},iC:function(){return l},sr:function(){return o}});const n=(0,r(99664).is)({name:"editFeature",initialState:{layerId:null,feature:null,userEditMode:["NONE"],formDirty:!1},reducers:{setLayerId(e,t){e.layerId=t.payload},setFeature(e,t){e.feature=t.payload},reset(e){e.layerId=null,e.feature=null},setUserEditMode(e,t){e.userEditMode=t.payload},setFormDirty(e,t){e.formDirty=t.payload}}}),{setLayerId:a,setFeature:o,reset:i,setUserEditMode:l,setFormDirty:s}=n.actions;t.cp=n.reducer},64076:function(e,t,r){"use strict";r.d(t,{WC:function(){return a},WS:function(){return o}});const n=(0,r(99664).is)({name:"editFeatureDrawerOpen",initialState:!1,reducers:{show(){return!0},hide(){return!1},toggle(e){return!e}}}),{show:a,hide:o,toggle:i}=n.actions;t.cp=n.reducer},73560:function(e,t,r){"use strict";r.d(t,{Ap:function(){return a},uU:function(){return l},wB:function(){return s}});var n=r(99664);let a=function(e){return e.COPY_AS_GEOJSON="COPY_AS_GEOJSON",e.COPY_AS_OBJECT="COPY_AS_OBJECT",e}({});const o={enabled:!1,activeCopyTools:[a.COPY_AS_GEOJSON,a.COPY_AS_OBJECT]},i=(0,n.is)({name:"featureInfo",initialState:o,reducers:{setFeatureInfoConfig(e,t){t.payload},setFeatureInfoEnabled(e,t){e.enabled=t.payload},setFeatureInfoActiveCopyTools(e,t){e.activeCopyTools=t.payload}}}),{setFeatureInfoEnabled:l,setFeatureInfoActiveCopyTools:s}=i.actions;t.cp=i.reducer},80964:function(e,t,r){"use strict";r.d(t,{EV:function(){return a},WC:function(){return o},WS:function(){return i}});const n=(0,r(99664).is)({name:"layerDetailsModal",initialState:{visible:!1},reducers:{setLayer(e,t){e.layerId=t.payload},show(e){e.visible=!0},hide(e){e.visible=!1},toggle(e){e.visible=!e.visible}}}),{setLayer:a,show:o,hide:i,toggle:l}=n.actions;t.cp=n.reducer},94860:function(e,t,r){"use strict";r.d(t,{iE:function(){return l}});const n=(0,r(99664).is)({name:"print",initialState:{customMapParams:{},customParams:{printLegend:!1}},reducers:{setCustomMapParams:(e,t)=>{e.customMapParams=t.payload},setCustomParams:(e,t)=>{e.customParams=t.payload},addCustomMapParam:(e,t)=>{e.customMapParams={...e.customMapParams,...t.payload}},addCustomParam:(e,t)=>{e.customParams={...e.customParams,...t.payload}}}}),{setCustomMapParams:a,setCustomParams:o,addCustomMapParam:i,addCustomParam:l}=n.actions;t.cp=n.reducer},36876:function(e,t,r){"use strict";r.d(t,{uC:function(){return a}});const n=(0,r(99664).is)({name:"selectedFeatures",initialState:{},reducers:{setSelectedFeatures(e,t){return t.payload}}}),{setSelectedFeatures:a}=n.actions;t.cp=n.reducer},36308:function(e,t,r){"use strict";r.d(t,{O0:function(){return a}});const n=(0,r(99664).is)({name:"stylingDrawerVisibility",initialState:!1,reducers:{setStylingDrawerVisibility:(e,t)=>t.payload}}),{setStylingDrawerVisibility:a}=n.actions;t.cp=n.reducer},97632:function(e,t,r){"use strict";r.d(t,{OE:function(){return a},W_:function(){return o}});const n=(0,r(99664).is)({name:"toolMenu",initialState:{activeKeys:[],availableTools:["default"]},reducers:{setActiveKeys(e,t){e.activeKeys=[...t.payload]},setAvailableTools(e,t){e.availableTools=[...t.payload]}}}),{setActiveKeys:a,setAvailableTools:o}=n.actions;t.cp=n.reducer},58e3:function(e,t,r){"use strict";r.d(t,{WC:function(){return a},WS:function(){return o}});const n=(0,r(99664).is)({name:"uploadDataModal",initialState:{visible:!1},reducers:{show(e){e.visible=!0},hide(e){e.visible=!1},toggle(e){e.visible=!e.visible}}}),{show:a,hide:o,toggle:i}=n.actions;t.cp=n.reducer},7644:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},41396:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},33006:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},95940:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},79136:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},41052:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},88408:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},40164:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},83564:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},76844:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},93140:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},41836:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},49732:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},20852:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},22716:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},304:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},94392:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},32664:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},98248:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},92860:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},52268:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},91036:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},22456:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},70188:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},84612:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},70091:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},39136:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},63296:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},60831:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},99302:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},82356:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},76350:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},64720:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},98328:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},58348:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},27873:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},72667:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},81576:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},89736:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},17176:function(e,t,r){"use strict";var n=r(25648),a=r.n(n),o=r(2312),i=r.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i}}]);
//# sourceMappingURL=common.898ad97c4b783e875db3.js.map