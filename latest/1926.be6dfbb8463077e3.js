(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["1926"],{40778:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(22122),o=r(9948),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},a=r(64632),s=o.forwardRef(function(e,t){return o.createElement(a.Z,(0,n.Z)({},e,{ref:t,icon:i}))})},94047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(22122),o=r(9948),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},a=r(64632),s=o.forwardRef(function(e,t){return o.createElement(a.Z,(0,n.Z)({},e,{ref:t,icon:i}))})},62013:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(22122),o=r(9948),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},a=r(64632),s=o.forwardRef(function(e,t){return o.createElement(a.Z,(0,n.Z)({},e,{ref:t,icon:i}))})},59713:function(e,t,r){var n=r(13696);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},95318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},81109:function(e,t,r){var n=r(59713);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},8868:function(e,t,r){var n=r(50008).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},13696:function(e,t,r){var n=r(50008).default,o=r(8868);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},50008:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},45374:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(18447),t)},74826:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){return function t(){for(var r=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(r,[].concat(o,n))}}}function u(e){return({}).toString.call(e).includes("Object")}function c(e){return"function"==typeof e}r.d(t,{_m:function(){return L}});var p,d,f=l(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),h=function(e,t){return u(t)||f("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&f("changeField"),t},m=function(e){c(e)||f("selectorType")},g=function(e){c(e)||u(e)||f("handlerType"),u(e)&&Object.values(e).some(function(e){return!c(e)})&&f("handlersType")},y=function(e){e||f("initialIsRequired"),u(e)||f("initialType"),Object.keys(e).length||f("initialContent")};function v(e,t){return c(t)?t(e.current):t}function b(e,t){return e.current=s(s({},e.current),t),t}function w(e,t,r){return c(t)?t(e.current):Object.keys(r).forEach(function(r){var n;return null==(n=t[r])?void 0:n.call(t,e.current[r])}),r}var x={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},k=(p=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length>=p.length?p.apply(this,n):function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply(t,[].concat(n,o))}})(x),S=function(e){return(e||k("configIsRequired"),({}).toString.call(e).includes("Object")||k("configType"),e.urls)?(console.warn(x.deprecation),{paths:{vs:e.urls.monacoBase}}):e},$=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},E={type:"cancelation",msg:"operation is manually canceled"},P=function(e){var t=!1,r=new Promise(function(r,n){e.then(function(e){return t?n(E):r(e)}),e.catch(n)});return r.cancel=function(){return t=!0},r},O=function(e){if(Array.isArray(e))return e}(d=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(e),g(t);var r={current:e},n=l(w)(r,t),o=l(b)(r),i=l(h)(e),a=l(v)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return m(e),e(r.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(n,o,i,a)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(d,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=O[0],j=O[1];function C(e){return document.body.appendChild(e)}function T(e){var t,r,n=_(function(e){return{config:e.config,reject:e.reject}}),o=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return o.onload=function(){return e()},o.onerror=n.reject,o}function M(){var e=_(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){z(t),e.resolve(t)},function(t){e.reject(t)})}function z(e){_().monaco||j({monaco:e})}var N=new Promise(function(e,t){return j({resolve:e,reject:t})}),L={config:function(e){var t=S(e),r=t.monaco,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["monaco"]);j(function(e){return{config:function e(t,r){return Object.keys(r).forEach(function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))}),o(o({},t),r)}(e.config,n),monaco:r}})},init:function(){var e=_(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(j({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),P(N);if(window.monaco&&window.monaco.editor)return z(window.monaco),e.resolve(window.monaco),P(N);$(C,T)(M)}return P(N)},__getMonacoInstance:function(){return _(function(e){return e.monaco})}},I=r(9948),A=r.n(I),R={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},D={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},F=function({children:e}){return A().createElement("div",{style:D},e)},U=(0,I.memo)(function({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:i,wrapperProps:a}){return A().createElement("section",{style:{...R.wrapper,width:e,height:t},...a},!r&&A().createElement(F,null,n),A().createElement("div",{ref:o,style:{...R.fullWidth,...!r&&R.hide},className:i}))}),q=function(e){(0,I.useEffect)(e,[])},H=function(e,t,r=!0){let n=(0,I.useRef)(!0);(0,I.useEffect)(n.current||!r?()=>{n.current=!1}:e,t)};function V(){}function Z(e,t,r,n){var o,i,a,s,l,u;return o=e,i=n,o.editor.getModel(G(o,i))||(a=e,s=t,l=r,u=n,a.editor.createModel(s,l,u?G(a,u):void 0))}function G(e,t){return e.Uri.parse(t)}(0,I.memo)(function({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:p={},height:d="100%",width:f="100%",className:h,wrapperProps:m={},beforeMount:g=V,onMount:y=V}){let[v,b]=(0,I.useState)(!1),[w,x]=(0,I.useState)(!0),k=(0,I.useRef)(null),S=(0,I.useRef)(null),$=(0,I.useRef)(null),E=(0,I.useRef)(y),P=(0,I.useRef)(g),O=(0,I.useRef)(!1);q(()=>{let e=L.init();return e.then(e=>(S.current=e)&&x(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return k.current?(t=k.current?.getModel(),void(s||t?.original?.dispose(),l||t?.modified?.dispose(),k.current?.dispose())):e.cancel()}}),H(()=>{if(k.current&&S.current){let t=k.current.getOriginalEditor(),o=Z(S.current,e||"",n||r||"text",i||"");o!==t.getModel()&&t.setModel(o)}},[i],v),H(()=>{if(k.current&&S.current){let e=k.current.getModifiedEditor(),n=Z(S.current,t||"",o||r||"text",a||"");n!==e.getModel()&&e.setModel(n)}},[a],v),H(()=>{let e=k.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],v),H(()=>{k.current?.getModel()?.original.setValue(e||"")},[e],v),H(()=>{let{original:e,modified:t}=k.current.getModel();S.current.editor.setModelLanguage(e,n||r||"text"),S.current.editor.setModelLanguage(t,o||r||"text")},[r,n,o],v),H(()=>{S.current?.editor.setTheme(u)},[u],v),H(()=>{k.current?.updateOptions(p)},[p],v);let _=(0,I.useCallback)(()=>{if(!S.current)return;P.current(S.current);let s=Z(S.current,e||"",n||r||"text",i||""),l=Z(S.current,t||"",o||r||"text",a||"");k.current?.setModel({original:s,modified:l})},[r,t,o,e,n,i,a]),j=(0,I.useCallback)(()=>{!O.current&&$.current&&(k.current=S.current.editor.createDiffEditor($.current,{automaticLayout:!0,...p}),_(),S.current?.editor.setTheme(u),b(!0),O.current=!0)},[p,u,_]);return(0,I.useEffect)(()=>{v&&E.current(k.current,S.current)},[v]),(0,I.useEffect)(()=>{w||v||j()},[w,v,j]),A().createElement(U,{width:f,height:d,isEditorReady:v,loading:c,_ref:$,className:h,wrapperProps:m})});var K=function(e){let t=(0,I.useRef)();return(0,I.useEffect)(()=>{t.current=e},[e]),t.current},W=new Map;(0,I.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:i,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:p=!0,keepCurrentModel:d=!1,width:f="100%",height:h="100%",className:m,wrapperProps:g={},beforeMount:y=V,onMount:v=V,onChange:b,onValidate:w=V}){let[x,k]=(0,I.useState)(!1),[S,$]=(0,I.useState)(!0),E=(0,I.useRef)(null),P=(0,I.useRef)(null),O=(0,I.useRef)(null),_=(0,I.useRef)(v),j=(0,I.useRef)(y),C=(0,I.useRef)(),T=(0,I.useRef)(n),M=K(i),z=(0,I.useRef)(!1),N=(0,I.useRef)(!1);q(()=>{let e=L.init();return e.then(e=>(E.current=e)&&$(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>P.current?void(C.current?.dispose(),d?p&&W.set(i,P.current.saveViewState()):P.current.getModel()?.dispose(),P.current.dispose()):e.cancel()}),H(()=>{let a=Z(E.current,e||n||"",t||o||"",i||r||"");a!==P.current?.getModel()&&(p&&W.set(M,P.current?.saveViewState()),P.current?.setModel(a),p&&P.current?.restoreViewState(W.get(i)))},[i],x),H(()=>{P.current?.updateOptions(u)},[u],x),H(()=>{P.current&&void 0!==n&&(P.current.getOption(E.current.editor.EditorOption.readOnly)?P.current.setValue(n):n!==P.current.getValue()&&(N.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),P.current.pushUndoStop(),N.current=!1))},[n],x),H(()=>{let e=P.current?.getModel();e&&o&&E.current?.editor.setModelLanguage(e,o)},[o],x),H(()=>{void 0!==s&&P.current?.revealLine(s)},[s],x),H(()=>{E.current?.editor.setTheme(a)},[a],x);let R=(0,I.useCallback)(()=>{if(!(!O.current||!E.current)&&!z.current){j.current(E.current);let l=i||r,d=Z(E.current,n||e||"",t||o||"",l||"");P.current=E.current?.editor.create(O.current,{model:d,automaticLayout:!0,...u},c),p&&P.current.restoreViewState(W.get(l)),E.current.editor.setTheme(a),void 0!==s&&P.current.revealLine(s),k(!0),z.current=!0}},[e,t,r,n,o,i,u,c,p,a,s]);return(0,I.useEffect)(()=>{x&&_.current(P.current,E.current)},[x]),(0,I.useEffect)(()=>{S||x||R()},[S,x,R]),T.current=n,(0,I.useEffect)(()=>{x&&b&&(C.current?.dispose(),C.current=P.current?.onDidChangeModelContent(e=>{N.current||b(P.current.getValue(),e)}))},[x,b]),(0,I.useEffect)(()=>{if(x){let e=E.current.editor.onDidChangeMarkers(e=>{let t=P.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=E.current.editor.getModelMarkers({resource:t});w?.(e)}});return()=>{e?.dispose()}}return()=>{}},[x,w]),A().createElement(U,{width:f,height:h,isEditorReady:x,loading:l,_ref:O,className:m,wrapperProps:g})})},40307:function(e,t,r){"use strict";r.d(t,{xC:function(){return en},oM:function(){return el},nB:function(){return eg}});var n,o=r(76438);function i(e){return({dispatch:t,getState:r})=>n=>o=>"function"==typeof o?o(t,r,e):n(o)}var a=i(),s=Symbol.for("immer-nothing"),l=Symbol.for("immer-draftable"),u=Symbol.for("immer-state");function c(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var p=Object.getPrototypeOf;function d(e){return!!e&&!!e[u]}function f(e){return!!e&&(m(e)||Array.isArray(e)||!!e[l]||!!e.constructor?.[l]||w(e)||x(e))}var h=Object.prototype.constructor.toString();function m(e){if(!e||"object"!=typeof e)return!1;let t=p(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===h}function g(e,t){0===y(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function y(e){let t=e[u];return t?t.type_:Array.isArray(e)?1:w(e)?2:3*!!x(e)}function v(e,t){return 2===y(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b(e,t,r){let n=y(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function w(e){return e instanceof Map}function x(e){return e instanceof Set}function k(e){return e.copy_||e.base_}function S(e,t){if(w(e))return new Map(e);if(x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=m(e);if(!0!==t&&("class_only"!==t||r)){let t=p(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[u];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(p(e),t)}}function $(e,t=!1){return P(e)||d(e)||!f(e)||(y(e)>1&&(e.set=e.add=e.clear=e.delete=E),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>$(t,!0))),e}function E(){c(2)}function P(e){return Object.isFrozen(e)}var O={};function _(e){let t=O[e];return t||c(0,e),t}function j(e,t){t&&(_("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C(e){T(e),e.drafts_.forEach(z),e.drafts_=null}function T(e){e===n&&(n=e.parent_)}function M(e){return n={drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function z(e){let t=e[u];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function N(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[u].modified_&&(C(t),c(4)),f(e)&&(e=L(t,e),t.parent_||A(t,e)),t.patches_&&_("Patches").generateReplacementPatches_(r[u].base_,e,t.patches_,t.inversePatches_)):e=L(t,r,[]),C(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==s?e:void 0}function L(e,t,r){if(P(t))return t;let n=t[u];if(!n)return g(t,(o,i)=>I(e,n,t,o,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return A(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let t=n.copy_,o=t,i=!1;3===n.type_&&(o=new Set(t),t.clear(),i=!0),g(o,(o,a)=>I(e,n,t,o,a,r,i)),A(e,t,!1),r&&e.patches_&&_("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function I(e,t,r,n,o,i,a){if(d(o)){let a=L(e,o,i&&t&&3!==t.type_&&!v(t.assigned_,n)?i.concat(n):void 0);if(b(r,n,a),!d(a))return;e.canAutoFreeze_=!1}else a&&r.add(o);if(f(o)&&!P(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;L(e,o),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&Object.prototype.propertyIsEnumerable.call(r,n)&&A(e,o)}}function A(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$(t,r)}var R={get(e,t){if(t===u)return e;let r=k(e);if(!v(r,t)){var n=e,o=r,i=t;let a=U(o,i);return a?"value"in a?a.value:a.get?.call(n.draft_):void 0}let a=r[t];return e.finalized_||!f(a)?a:a===F(e.base_,t)?(H(e),e.copy_[t]=V(a,e)):a},has:(e,t)=>t in k(e),ownKeys:e=>Reflect.ownKeys(k(e)),set(e,t,r){let n=U(k(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=F(k(e),t),o=n?.[u];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||v(e.base_,t)))return!0;H(e),q(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==F(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,H(e),q(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=k(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){c(11)},getPrototypeOf:e=>p(e.base_),setPrototypeOf(){c(12)}},D={};function F(e,t){let r=e[u];return(r?k(r):e)[t]}function U(e,t){if(!(t in e))return;let r=p(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=p(r)}}function q(e){!e.modified_&&(e.modified_=!0,e.parent_&&q(e.parent_))}function H(e){e.copy_||(e.copy_=S(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function V(e,t){let r=w(e)?_("MapSet").proxyMap_(e,t):x(e)?_("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),o={type_:+!!r,scope_:t?t.scope_:n,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=o,a=R;r&&(i=[o],a=D);let{revoke:s,proxy:l}=Proxy.revocable(i,a);return o.draft_=l,o.revoke_=s,l}(e,t);return(t?t.scope_:n).drafts_.push(r),r}g(R,(e,t)=>{D[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),D.deleteProperty=function(e,t){return D.set.call(this,e,t,void 0)},D.set=function(e,t,r){return R.set.call(this,e[0],t,r,e[0])};var Z=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...o){return n.produce(e,e=>t.call(this,e,...o))}}if("function"!=typeof t&&c(6),void 0!==r&&"function"!=typeof r&&c(7),f(e)){let o=M(this),i=V(e,void 0),a=!0;try{n=t(i),a=!1}finally{a?C(o):T(o)}return j(o,r),N(n,o)}if(e&&"object"==typeof e)c(1,e);else{if(void 0===(n=t(e))&&(n=e),n===s&&(n=void 0),this.autoFreeze_&&$(n,!0),r){let t=[],o=[];_("Patches").generateReplacementPatches_(e,n,t,o),r(t,o)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){var t;f(e)||c(8),d(e)&&(d(t=e)||c(10,t),e=function e(t){let r;if(!f(t)||P(t))return t;let n=t[u];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=S(t,n.scope_.immer_.useStrictShallowCopy_)}else r=S(t,!0);return g(r,(t,n)=>{b(r,t,e(n))}),n&&(n.finalized_=!1),r}(t));let r=M(this),n=V(e,void 0);return n[u].isManual_=!0,T(r),n}finishDraft(e,t){let r=e&&e[u];r&&r.isManual_||c(9);let{scope_:n}=r;return j(n,t),N(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=_("Patches").applyPatches_;return d(e)?n(e,t):this.produce(e,e=>n(e,t))}},G=Z.produce;Z.produceWithPatches.bind(Z),Z.setAutoFreeze.bind(Z),Z.setUseStrictShallowCopy.bind(Z),Z.applyPatches.bind(Z),Z.createDraft.bind(Z),Z.finishDraft.bind(Z);var K="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?o.qC:o.qC.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var W=e=>e&&"function"==typeof e.match;function B(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(ey(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>(0,o.LG)(t)&&t.type===e,r}var J=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Y(e){return f(e)?G(e,()=>{}):e}function X(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Q=()=>function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:o=!0}=e??{},s=new J;return t&&("boolean"==typeof t?s.push(a):s.push(i(t.extraArgument))),s},ee=e=>t=>{setTimeout(t,e)},et=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),o=!0,i=!1,a=!1,s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ee(10):"callback"===e.type?e.queueNotification:ee(e.timeout),u=()=>{a=!1,i&&(i=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>o&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return(i=!(o=!e?.meta?.RTK_autoBatch))&&!a&&(a=!0,l(u)),n.dispatch(e)}finally{o=!0}}})},er=e=>function(t){let{autoBatch:r=!0}=t??{},n=new J(e);return r&&n.push(et("object"==typeof r?r:void 0)),n};function en(e){let t,r,n=Q(),{reducer:i,middleware:a,devTools:s=!0,duplicateMiddlewareCheck:l=!0,preloadedState:u,enhancers:c}=e||{};if("function"==typeof i)t=i;else if((0,o.PO)(i))t=(0,o.UY)(i);else throw Error(ey(1));r="function"==typeof a?a(n):n();let p=o.qC;s&&(p=K({trace:!1,..."object"==typeof s&&s}));let d=er((0,o.md)(...r)),f=p(..."function"==typeof c?c(d):d());return(0,o.MT)(t,u,f)}function eo(e){let t,r={},n=[],o={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(ey(28));if(n in r)throw Error(ey(29));return r[n]=t,o},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),o),addDefaultCase:e=>(t=e,o)};return e(o),[r,n,t]}var ei=(e,t)=>W(e)?e.match(t):e(t),ea=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},es=Symbol.for("rtk-slice-createasyncthunk"),el=function({creators:e}={}){let t=e?.asyncThunk?.[es];return function(e){let r,{name:n,reducerPath:o=n}=e;if(!n)throw Error(ey(11));let i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={},l={},u={},c=[],p={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(ey(12));if(r in l)throw Error(ey(13));return l[r]=t,p},addMatcher:(e,t)=>(c.push({matcher:e,reducer:t}),p),exposeAction:(e,t)=>(u[e]=t,p),exposeCaseReducer:(e,t)=>(s[e]=t,p)};function h(){let[t={},r=[],n]="function"==typeof e.extraReducers?eo(e.extraReducers):[e.extraReducers],o={...t,...l};return function(e,t){let r,[n,o,i]=eo(t);if("function"==typeof e)r=()=>Y(e());else{let t=Y(e);r=()=>t}function a(e=r(),t){let s=[n[t.type],...o.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[i]),s.reduce((e,r)=>{if(r)if(d(e)){let n=r(e,t);return void 0===n?e:n}else{if(f(e))return G(e,e=>r(e,t));let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return a.getInitialState=r,a}(e.initialState,e=>{for(let t in o)e.addCase(t,o[t]);for(let t of c)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(r=>{let o=i[r],a={reducerName:r,type:`${n}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===o._reducerDefinitionType?function({type:e,reducerName:t},r,n,o){if(!o)throw Error(ey(18));let{payloadCreator:i,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=r,p=o(e,i,c);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),s&&n.addCase(p.pending,s),l&&n.addCase(p.rejected,l),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:a||eu,pending:s||eu,rejected:l||eu,settled:u||eu})}(a,o,p,t):function({type:e,reducerName:t,createNotation:r},n,o){let i,a;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(ey(17));i=n.reducer,a=n.prepare}else i=n;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?B(e,a):B(e))}(a,o,p)});let m=e=>e,g=new Map,y=new WeakMap;function v(e,t){return r||(r=h()),r(e,t)}function b(){return r||(r=h()),r.getInitialState()}function w(t,r=!1){function n(e){let o=e[t];return void 0===o&&r&&(o=X(y,n,b)),o}function o(t=m){let n=X(g,r,()=>new WeakMap);return X(n,t,()=>{let n={};for(let[o,i]of Object.entries(e.selectors??{}))n[o]=function(e,t,r,n){function o(i,...a){let s=t(i);return void 0===s&&n&&(s=r()),e(s,...a)}return o.unwrapped=e,o}(i,t,()=>X(y,t,b),r);return n})}return{reducerPath:t,getSelectors:o,get selectors(){return o(n)},selectSlice:n}}let x={name:n,reducer:v,actions:u,caseReducers:s,getInitialState:b,...w(o),injectInto(e,{reducerPath:t,...r}={}){let n=t??o;return e.inject({reducerPath:n,reducer:v},r),{...x,...w(n,!0)}}};return x}}();function eu(){}var{assign:ec}=Object,ep="listenerMiddleware",ed=ec(B(`${ep}/add`),{withTypes:()=>ed}),ef=ec(B(`${ep}/remove`),{withTypes:()=>ef}),eh=e=>({middleware:e,applied:new Map}),em=e=>t=>t?.meta?.instanceId===e,eg=()=>{let e=ea(),t=new Map,r=Object.assign(B("dynamicMiddleware/add",(...t)=>({payload:t,meta:{instanceId:e}})),{withTypes:()=>r}),n=Object.assign(function(...e){e.forEach(e=>{X(t,e,eh)})},{withTypes:()=>n}),i=e=>{let r=Array.from(t.values()).map(t=>X(t.applied,e,t.middleware));return(0,o.qC)(...r)},a=function(...e){return t=>e.every(e=>ei(e,t))}(r,em(e));return{middleware:e=>t=>r=>a(r)?(n(...r.payload),e.dispatch):i(e)(t)(r),addMiddleware:n,withMiddleware:r,instanceId:e}};function ey(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original")},92485:function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,l,"next",e)}function l(e){n(a,o,i,s,l,"throw",e)}s(void 0)})}}r.d(t,{_:function(){return o}})},91439:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}r.d(t,{_:function(){return n}})},2757:function(e,t,r){"use strict";var n=r(41106),o=r.n(n),i=r(12038);class a{static getContentFromMetaTagByName(e){let t,r=o()('meta[name="<%= metaTagName %>"]'),n=document.querySelector(r({metaTagName:e}));if(n)t=n.getAttribute("content")||"";else{let r=o()("Failed to find tag <meta name=<%= metaTagName %> />. Is it  present in the page DOM?");i.Z.warn(r({metaTagName:e})),t=""}return t}static getCsrfValue(){return a.getContentFromMetaTagByName("_csrf")}static getCsrfValueFromCookie(){return document.cookie.replace(/(?:(?:^|.*;\s*)XSRF-TOKEN\s*=\s*([^;]*).*$)|^.*$/,"$1")||""}static getCsrfHeaderName(){return a.getContentFromMetaTagByName("_csrf_header")}static getCsrfParameterName(){return a.getContentFromMetaTagByName("_csrf_parameter_name")}static getHeader(){let e=new Headers,t=a.getCsrfValue(),r=a.getCsrfHeaderName();return""!==t&&""!==r&&e.append(r,t),e}static getHeaderObject(){let e={},t=a.getCsrfValue(),r=a.getCsrfHeaderName();return""!==t&&""!==r&&(e[r]=t),e}}t.Z=a},29964:function(e,t,r){"use strict";r.d(t,{V8:function(){return n.Z}}),r(2757),r(12038),r(18721),r(1469),r(13218),r(68630),r(47037),r(55440);var n=r(92212)},27275:function(e,t,r){"use strict";r.d(t,{DP:function(){return d},Nv:function(){return h}});var n=r(96486),o=r.n(n),i=r(41609),a=r.n(i),s=r(47037),l=r.n(s),u=r(94517),c=r(44126),p=r.n(c);let d=[{crsCode:"EPSG:25832",definition:"+proj=utm +zone=32 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"},{crsCode:"EPSG:31466",definition:"+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7 +units=m +no_defs"},{crsCode:"EPSG:31467",definition:"+proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7 +units=m +no_defs"}],f=[{alias:"urn:ogc:def:crs:EPSG::3857",mappedCode:"EPSG:3857"},{alias:"urn:ogc:def:crs:EPSG::25832",mappedCode:"EPSG:25832"},{alias:"urn:ogc:def:crs:EPSG::31466",mappedCode:"EPSG:31466"},{alias:"urn:ogc:def:crs:EPSG::31467",mappedCode:"EPSG:31467"}];class h{static initProj4Definitions(e,t=!0){let r=[];if(t&&(r=d),!o()(e)||e){let t=Array.isArray(e)?e:[e];t?.forEach(e=>{r?.findIndex(t=>t.crsCode===e?.crsCode)===-1&&r.push(e)})}r?.length>0&&(r.forEach(e=>p().defs(e.crsCode,e.definition)),(0,u.register)(p()))}static initProj4DefinitionMappings(e,t=!0){let r=[];if(t&&(r=f),!a()(e)){let t=Array.isArray(e)?e:[e];t?.forEach(e=>{r?.findIndex(t=>t.alias===e?.alias)===-1&&r.push(e)})}r?.map(e=>{let t=p().defs(e.mappedCode);p().defs(e.alias,t)})}static toDms(e){let t=Math.floor(e),r=Math.floor((e-t)*60),n=(e-t-r/60)*3600;return`${t}\xb0 ${h.zerofill(r)}' ${h.zerofill(n.toFixed(2))}''`}static toDmm(e){let t=Math.floor(e);return`${t}\xb0 ${h.zerofill(((e-t)*60).toFixed(4))}'`}static zerofill(e){let t=l()(e)?parseFloat(e):e;return t<10?`0${t}`:`${t}`}}},33071:function(e,t,r){"use strict";var n=r(9948);t.Z=r.n(n)().createContext(null)},48916:function(e,t,r){"use strict";let n,o,i,a;r.d(t,{Z:function(){return ik}});var s,l,u,c=r(14293),p=r.n(c),d=r(45578),f=r.n(d),h=r(48472),m=r.n(h),g=r(26239),y=r.n(g),v=r(76279),b=r.n(v),w=r(39715),x=r.n(w),k=r(18628),S=r(14170),$=r.n(S),E=r(53282),P=r.n(E),O=r(75640),_=r.n(O),j=r(84097),C=r.n(j),T=r(37194),M=r.n(T),z=r(71281),N=r.n(z),L=r(56174),I=r.n(L),A=r(81947),R=r.n(A),D=r(3752),F=r.n(D),U=r(74485),q=r.n(U),H=r(21730),V=r.n(H),Z=r(36472),G=r.n(Z),K=r(9026),W=r.n(K),B=r(80982),J=r.n(B),Y=r(52056),X=r.n(Y),Q=r(99657),ee=r(62481),et=r(67549),er=r.n(et),en=r(24194),eo=r.n(en),ei=r(93349),ea=r.n(ei),es=r(56871),el=r.n(es),eu=r(66752),ec=r.n(eu),ep=r(43977),ed=r.n(ep),ef=r(51262),eh=r.n(ef),em=r(53190),eg=r.n(em),ey=r(77922),ev=r.n(ey),eb=r(71192),ew=r.n(eb),ex={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};let ek=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function eS(e){e=e.slice();let t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=function(e,t){let r={};for(let t in e)"ref"!==t&&(r[t]=e[t]);return ek.forEach(e=>{e in t&&(r[e]=t[e])}),r}(e[r],t[e[r].ref]));return e}class e${constructor(e,t,r,n){this.message=(e?`${e}: `:"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function eE(e,...t){for(let r of t)for(let t in r)e[t]=r[t];return e}class eP extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class eO{constructor(e,t=[]){for(let[r,n]of(this.parent=e,this.bindings={},t))this.bindings[r]=n}concat(e){return new eO(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}let e_={kind:"null"},ej={kind:"number"},eC={kind:"string"},eT={kind:"boolean"},eM={kind:"color"},ez={kind:"projectionDefinition"},eN={kind:"object"},eL={kind:"value"},eI={kind:"collator"},eA={kind:"formatted"},eR={kind:"padding"},eD={kind:"resolvedImage"},eF={kind:"variableAnchorOffsetCollection"};function eU(e,t){return{kind:"array",itemType:e,N:t}}function eq(e){if("array"!==e.kind)return e.kind;{let t=eq(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}}let eH=[e_,ej,eC,eT,eM,ez,eA,eN,eU(eL),eR,eD,eF];function eV(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!eV(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else if(e.kind===t.kind)return null;else if("value"===e.kind){for(let e of eH)if(!eV(e,t))return null}return`Expected ${eq(e)} but found ${eq(t)} instead.`}function eZ(e,t){return t.some(t=>t.kind===e.kind)}function eG(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function eK(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}let eW=4/29,eB=6/29,eJ=6/29*3*(6/29),eY=6/29*(6/29)*(6/29),eX=Math.PI/180,eQ=180/Math.PI;function e0(e){return(e%=360)<0&&(e+=360),e}function e1([e,t,r,n]){let o,i;e=e2(e);let a=e5((.2225045*e+.7168786*(t=e2(t))+.0606169*(r=e2(r)))/1);e===t&&t===r?o=i=a:(o=e5((.4360747*e+.3850649*t+.1430804*r)/.96422),i=e5((.0139322*e+.0971045*t+.7141733*r)/.82521));let s=116*a-16;return[s<0?0:s,500*(o-a),200*(a-i),n]}function e2(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function e5(e){return e>eY?Math.pow(e,1/3):e/eJ+eW}function e3([e,t,r,n]){let o=(e+16)/116,i=isNaN(t)?o:o+t/500,a=isNaN(r)?o:o-r/200;return o=+e6(o),[e4(3.1338561*(i=.96422*e6(i))-1.6168667*o-.4906146*(a=.82521*e6(a))),e4(-.9787684*i+1.9161415*o+.033454*a),e4(.0719453*i-.2289914*o+1.4052427*a),n]}function e4(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function e6(e){return e>eB?e*e*e:eJ*(e-eW)}function e8(e){return parseInt(e.padEnd(2,e),16)/255}function e9(e,t){return e7(t?e/100:e,0,1)}function e7(e,t,r){return Math.min(Math.max(t,e),r)}function te(e){return!e.some(Number.isNaN)}let tt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function tr(e,t,r){return e.map((e,n)=>e+r*(t[n]-e))}class tn{constructor(e,t,r,n=1,o=!0){this.r=e,this.g=t,this.b=r,this.a=n,!o&&(this.r*=n,this.g*=n,this.b*=n,n||this.overwriteGetter("rgb",[e,t,r,n]))}static parse(e){if(e instanceof tn)return e;if("string"!=typeof e)return;let t=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];let t=tt[e];if(t){let[e,r,n]=t;return[e/255,r/255,n/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){let t=e.length<6?1:2,r=1;return[e8(e.slice(r,r+=t)),e8(e.slice(r,r+=t)),e8(e.slice(r,r+=t)),e8(e.slice(r,r+t)||"ff")]}if(e.startsWith("rgb")){let t=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(t){let[e,r,n,o,i,a,s,l,u,c,p,d]=t,f=[o||" ",s||" ",c].join("");if("  "===f||"  /"===f||",,"===f||",,,"===f){let e=[n,a,u].join(""),t="%%%"===e?100:255*(""===e);if(t){let e=[e7(r/t,0,1),e7(i/t,0,1),e7(l/t,0,1),p?e9(+p,d):1];if(te(e))return e}}return}}let r=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(r){let[e,t,n,o,i,a,s,l,u]=r,c=[n||" ",i||" ",s].join("");if("  "===c||"  /"===c||",,"===c||",,,"===c){let e=[+t,e7(+o,0,100),e7(+a,0,100),l?e9(+l,u):1];if(te(e))return function([e,t,r,n]){function o(n){let o=(n+e/30)%12,i=t*Math.min(r,1-r);return r-i*Math.max(-1,Math.min(o-3,9-o,1))}return e=e0(e),t/=100,r/=100,[o(0),o(8),o(4),n]}(e)}}}(e);if(t)return new tn(...t,!1)}get rgb(){let{r:e,g:t,b:r,a:n}=this,o=n||1/0;return this.overwriteGetter("rgb",[e/o,t/o,r/o,n])}get hcl(){return this.overwriteGetter("hcl",function(e){let[t,r,n,o]=e1(e),i=Math.sqrt(r*r+n*n);return[Math.round(1e4*i)?e0(Math.atan2(n,r)*eQ):NaN,i,t,o]}(this.rgb))}get lab(){return this.overwriteGetter("lab",e1(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){let[e,t,r,n]=this.rgb;return`rgba(${[e,t,r].map(e=>Math.round(255*e)).join(",")},${n})`}static interpolate(e,t,r,n="rgb"){switch(n){case"rgb":{let[n,o,i,a]=tr(e.rgb,t.rgb,r);return new tn(n,o,i,a,!1)}case"hcl":{let n,o,[i,a,s,l]=e.hcl,[u,c,p,d]=t.hcl;if(isNaN(i)||isNaN(u))isNaN(i)?isNaN(u)?n=NaN:(n=u,(1===s||0===s)&&(o=c)):(n=i,(1===p||0===p)&&(o=a));else{let e=u-i;u>i&&e>180?e-=360:u<i&&i-u>180&&(e+=360),n=i+r*e}let[f,h,m,g]=function([e,t,r,n]){return e3([r,Math.cos(e=isNaN(e)?0:e*eX)*t,Math.sin(e)*t,n])}([n,null!=o?o:a+r*(c-a),s+r*(p-s),l+r*(d-l)]);return new tn(f,h,m,g,!1)}case"lab":{let[n,o,i,a]=e3(tr(e.lab,t.lab,r));return new tn(n,o,i,a,!1)}}}}tn.black=new tn(0,0,0,1),tn.white=new tn(1,1,1,1),tn.transparent=new tn(0,0,0,0),tn.red=new tn(1,0,0,1);class to{constructor(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}let ti=["bottom","center","top"];class ta{constructor(e,t,r,n,o,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=o,this.verticalAlign=i}}class ts{constructor(e){this.sections=e}static fromString(e){return new ts([new ta(e,null,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof ts?e:ts.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}}class tl{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tl)return e;if("number"==typeof e)return new tl([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1)&&!(e.length>4)){for(let t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new tl(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){return new tl(tr(e.values,t.values,r))}}class tu{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}let tc=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class tp{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof tp)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){let r=e[t],n=e[t+1];if("string"!=typeof r||!tc.has(r)||!Array.isArray(n)||2!==n.length||"number"!=typeof n[0]||"number"!=typeof n[1])return}return new tp(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,r){let n=e.values,o=t.values;if(n.length!==o.length)throw new tu(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);let i=[];for(let e=0;e<n.length;e+=2){if(n[e]!==o[e])throw new tu(`Cannot interpolate values containing mismatched anchors. from[${e}]: ${n[e]}, to[${e}]: ${o[e]}`);i.push(n[e]);let[t,a]=n[e+1],[s,l]=o[e+1];i.push([t+r*(s-t),a+r*(l-a)])}return new tp(i)}}class td{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new td({name:e,available:!1}):null}}class tf{constructor(e,t,r){this.from=e,this.to=t,this.transition=r}static interpolate(e,t,r){return new tf(e,t,r)}static parse(e){return e instanceof tf?e:Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]?new tf(e[0],e[1],e[2]):"object"==typeof e&&"string"==typeof e.from&&"string"==typeof e.to&&"number"==typeof e.transition?new tf(e.from,e.to,e.transition):"string"==typeof e?new tf(e,e,1):void 0}}function th(e,t,r,n){if(!("number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255)){let o="number"==typeof n?[e,t,r,n]:[e,t,r];return`Invalid rgba value [${o.join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}return void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`}function tm(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof tf||e instanceof tn||e instanceof to||e instanceof ts||e instanceof tl||e instanceof tp||e instanceof td)return!0;if(Array.isArray(e)){for(let t of e)if(!tm(t))return!1;return!0}if("object"!=typeof e)return!1;for(let t in e)if(!tm(e[t]))return!1;return!0}function tg(e){if(null===e)return e_;if("string"==typeof e)return eC;if("boolean"==typeof e)return eT;{let t;if("number"==typeof e)return ej;if(e instanceof tn)return eM;if(e instanceof tf)return ez;if(e instanceof to)return eI;if(e instanceof ts)return eA;if(e instanceof tl)return eR;if(e instanceof tp)return eF;if(e instanceof td)return eD;if(!Array.isArray(e))return eN;let r=e.length;for(let r of e){let e=tg(r);if(t){if(t===e)continue;t=eL;break}t=e}return eU(t||eL,r)}}function ty(e){let t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof tn||e instanceof tf||e instanceof ts||e instanceof tl||e instanceof tp||e instanceof td?e.toString():JSON.stringify(e)}class tv{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!tm(e[1]))return t.error("invalid value");let r=e[1],n=tg(r),o=t.expectedType;return"array"===n.kind&&0===n.N&&o&&"array"===o.kind&&("number"!=typeof o.N||0===o.N)&&(n=o),new tv(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}let tb={string:eC,number:ej,boolean:eT,object:eN};class tw{constructor(e,t){this.type=e,this.args=t}static parse(e,t){let r;if(e.length<2)return t.error("Expected at least one argument.");let n=1,o=e[0];if("array"===o){let o,i;if(e.length>2){let r=e[1];if("string"!=typeof r||!(r in tb)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=tb[r],n++}else o=eL;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);i=e[2],n++}r=eU(o,i)}else{if(!tb[o])throw Error(`Types doesn't contain name = ${o}`);r=tb[o]}let i=[];for(;n<e.length;n++){let r=t.parse(e[n],n,eL);if(!r)return null;i.push(r)}return new tw(r,i)}evaluate(e){for(let t=0;t<this.args.length;t++){let r=this.args[t].evaluate(e);if(!eV(this.type,tg(r)))return r;if(t===this.args.length-1)throw new tu(`Expected value to be of type ${eq(this.type)}, but found ${eq(tg(r))} instead.`)}throw Error()}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}let tx={"to-boolean":eT,"to-color":eM,"to-number":ej,"to-string":eC};class tk{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=e[0];if(!tx[r])throw Error(`Can't parse ${r} as it is not part of the known types`);if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");let n=tx[r],o=[];for(let r=1;r<e.length;r++){let n=t.parse(e[r],r,eL);if(!n)return null;o.push(n)}return new tk(n,o)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,r;for(let n of this.args){if(t=n.evaluate(e),r=null,t instanceof tn)return t;if("string"==typeof t){let r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:th(t[0],t[1],t[2],t[3])))return new tn(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new tu(r||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"padding":{let t;for(let r of this.args){t=r.evaluate(e);let n=tl.parse(t);if(n)return n}throw new tu(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(let r of this.args){t=r.evaluate(e);let n=tp.parse(t);if(n)return n}throw new tu(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(let r of this.args){if(null===(t=r.evaluate(e)))return 0;let n=Number(t);if(!isNaN(n))return n}throw new tu(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return ts.fromString(ty(this.args[0].evaluate(e)));case"resolvedImage":return td.fromString(ty(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return ty(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}let tS=["Unknown","Point","LineString","Polygon"];class t${constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?tS[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=tn.parse(e)),t}}class tE{constructor(e,t,r=[],n,o=new eO,i=[]){this.registry=e,this.path=r,this.key=r.map(e=>`[${e}]`).join(""),this.scope=o,this.errors=i,this.expectedType=n,this._isConstant=t}parse(e,t,r,n,o={}){return t?this.concat(t,r,n)._parse(e,o):this._parse(e,o)}_parse(e,t){function r(e,t,r){return"assert"===r?new tw(t,[e]):"coerce"===r?new tk(t,[e]):e}if((null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)&&(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');let n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;let o=this.registry[n];if(o){let n=o.parse(e,this);if(!n)return null;if(this.expectedType){let e=this.expectedType,o=n.type;if(("string"===e.kind||"number"===e.kind||"boolean"===e.kind||"object"===e.kind||"array"===e.kind)&&"value"===o.kind)n=r(n,e,t.typeAnnotation||"assert");else if("projectionDefinition"===e.kind&&("string"===o.kind||"array"===o.kind))n=r(n,e,t.typeAnnotation||"coerce");else if(("color"===e.kind||"formatted"===e.kind||"resolvedImage"===e.kind)&&("value"===o.kind||"string"===o.kind))n=r(n,e,t.typeAnnotation||"coerce");else if("padding"===e.kind&&("value"===o.kind||"number"===o.kind||"array"===o.kind))n=r(n,e,t.typeAnnotation||"coerce");else if("variableAnchorOffsetCollection"===e.kind&&("value"===o.kind||"array"===o.kind))n=r(n,e,t.typeAnnotation||"coerce");else if(this.checkSubtype(e,o))return null}if(!(n instanceof tv)&&"resolvedImage"!==n.type.kind&&this._isConstant(n)){let e=new t$;try{n=new tv(n.type,n.evaluate(e))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){let n="number"==typeof e?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new tE(this.registry,this._isConstant,n,t||null,o,this.errors)}error(e,...t){let r=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new eP(r,e))}checkSubtype(e,t){let r=eV(e,t);return r&&this.error(r),r}}class tP{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(let t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);let r=[];for(let n=1;n<e.length-1;n+=2){let o=e[n];if("string"!=typeof o)return t.error(`Expected string, but found ${typeof o} instead.`,n);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);let i=t.parse(e[n+1],n+1);if(!i)return null;r.push([o,i])}let n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new tP(r,n):null}outputDefined(){return this.result.outputDefined()}}class tO{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");let r=e[1];return t.scope.has(r)?new tO(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class t_{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,ej),n=t.parse(e[2],2,eU(t.expectedType||eL));return r&&n?new t_(n.type.itemType,r,n):null}evaluate(e){let t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new tu(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new tu(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new tu(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class tj{constructor(e,t){this.type=eT,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eL),n=t.parse(e[2],2,eL);return r&&n?eZ(r.type,[eT,eC,ej,e_,eL])?new tj(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${eq(r.type)} instead`):null}evaluate(e){let t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!eG(t,["boolean","string","number","null"]))throw new tu(`Expected first argument to be of type boolean, string, number or null, but found ${eq(tg(t))} instead.`);if(!eG(r,["string","array"]))throw new tu(`Expected second argument to be of type array or string, but found ${eq(tg(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class tC{constructor(e,t,r){this.type=ej,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eL),n=t.parse(e[2],2,eL);if(!r||!n)return null;if(!eZ(r.type,[eT,eC,ej,e_,eL]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${eq(r.type)} instead`);if(4!==e.length)return new tC(r,n);{let o=t.parse(e[3],3,ej);return o?new tC(r,n,o):null}}evaluate(e){let t,r=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!eG(r,["boolean","string","number","null"]))throw new tu(`Expected first argument to be of type boolean, string, number or null, but found ${eq(tg(r))} instead.`);if(this.fromIndex&&(t=this.fromIndex.evaluate(e)),eG(n,["string"])){let e=n.indexOf(r,t);return -1===e?-1:[...n.slice(0,e)].length}if(eG(n,["array"]))return n.indexOf(r,t);throw new tu(`Expected second argument to be of type array or string, but found ${eq(tg(n))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class tT{constructor(e,t,r,n,o,i){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=o,this.otherwise=i}static parse(e,t){let r,n;if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);let o={},i=[];for(let a=2;a<e.length-1;a+=2){let s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);let u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(let e of s){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");else if(r){if(u.checkSubtype(r,tg(e)))return null}else r=tg(e);if(void 0!==o[String(e)])return u.error("Branch labels must be unique.");o[String(e)]=i.length}let c=t.parse(l,a,n);if(!c)return null;n=n||c.type,i.push(c)}let a=t.parse(e[1],1,eL);if(!a)return null;let s=t.parse(e[e.length-1],e.length-1,n);return!s||"value"!==a.type.kind&&t.concat(1).checkSubtype(r,a.type)?null:new tT(r,n,a,o,i,s)}evaluate(e){let t=this.input.evaluate(e);return(tg(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class tM{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){let r;if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);let n=[];for(let o=1;o<e.length-1;o+=2){let i=t.parse(e[o],o,eT);if(!i)return null;let a=t.parse(e[o+1],o+1,r);if(!a)return null;n.push([i,a]),r=r||a.type}let o=t.parse(e[e.length-1],e.length-1,r);if(!o)return null;if(!r)throw Error("Can't infer output type");return new tM(r,n,o)}evaluate(e){for(let[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(let[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class tz{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);let r=t.parse(e[1],1,eL),n=t.parse(e[2],2,ej);if(!r||!n)return null;if(!eZ(r.type,[eU(eL),eC,eL]))return t.error(`Expected first argument to be of type array or string, but found ${eq(r.type)} instead`);if(4!==e.length)return new tz(r.type,r,n);{let o=t.parse(e[3],3,ej);return o?new tz(r.type,r,n,o):null}}evaluate(e){let t,r=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(this.endIndex&&(t=this.endIndex.evaluate(e)),eG(r,["string"]))return[...r].slice(n,t).join("");if(eG(r,["array"]))return r.slice(n,t);throw new tu(`Expected first argument to be of type array or string, but found ${eq(tg(r))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function tN(e,t){let r,n,o=e.length-1,i=0,a=o,s=0;for(;i<=a;)if(r=e[s=Math.floor((i+a)/2)],n=e[s+1],r<=t){if(s===o||t<n)return s;i=s+1}else if(r>t)a=s-1;else throw new tu("Input is not a number.");return 0}class tL{constructor(e,t,r){for(let[n,o]of(this.type=e,this.input=t,this.labels=[],this.outputs=[],r))this.labels.push(n),this.outputs.push(o)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");let r=t.parse(e[1],1,ej);if(!r)return null;let n=[],o=null;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(let r=1;r<e.length;r+=2){let i=1===r?-1/0:e[r],a=e[r+1],s=r,l=r+1;if("number"!=typeof i)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=i)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);let u=t.parse(a,l,o);if(!u)return null;o=o||u.type,n.push([i,u])}return new tL(o,r,n)}evaluate(e){let t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);let n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);let o=t.length;return n>=t[o-1]?r[o-1].evaluate(e):r[tN(t,n)].evaluate(e)}eachChild(e){for(let t of(e(this.input),this.outputs))e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}var tI=(s=function(){if(u)return l;function e(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}return u=1,l=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var o=this.sampleCurveX(r)-e;if(Math.abs(o)<t)return r;var i=this.sampleCurveDerivativeX(r);if(1e-6>Math.abs(i))break;r-=o/i}var a=0,s=1;for(n=0,r=e;n<20&&!(Math.abs((o=this.sampleCurveX(r))-e)<t);n++)e>o?a=r:s=r,r=(s-a)*.5+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},l}())&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;class tA{constructor(e,t,r,n,o){for(let[i,a]of(this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[],o))this.labels.push(i),this.outputs.push(a)}static interpolationFactor(e,t,r,n){let o=0;if("exponential"===e.name)o=tR(t,e.base,r,n);else if("linear"===e.name)o=tR(t,1,r,n);else if("cubic-bezier"===e.name){let i=e.controlPoints;o=new tI(i[0],i[1],i[2],i[3]).solve(tR(t,1,r,n))}return o}static parse(e,t){let[r,n,o,...i]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){let e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error(`Unknown interpolation type ${String(n[0])}`,1,0);let e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(o=t.parse(o,2,ej)))return null;let a=[],s=null;"interpolate-hcl"===r||"interpolate-lab"===r?s=eM:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<i.length;e+=2){let r=i[e],n=i[e+1],o=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(a.length&&a[a.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',o);let u=t.parse(n,l,s);if(!u)return null;s=s||u.type,a.push([r,u])}return eK(s,ej)||eK(s,ez)||eK(s,eM)||eK(s,eR)||eK(s,eF)||eK(s,eU(ej))?new tA(s,r,n,o,a):t.error(`Type ${eq(s)} is not interpolatable.`)}evaluate(e){let t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);let n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);let o=t.length;if(n>=t[o-1])return r[o-1].evaluate(e);let i=tN(t,n),a=t[i],s=t[i+1],l=tA.interpolationFactor(this.interpolation,n,a,s),u=r[i].evaluate(e),c=r[i+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return u+l*(c-u);case"color":return tn.interpolate(u,c,l);case"padding":return tl.interpolate(u,c,l);case"variableAnchorOffsetCollection":return tp.interpolate(u,c,l);case"array":return tr(u,c,l);case"projectionDefinition":return tf.interpolate(u,c,l)}case"interpolate-hcl":return tn.interpolate(u,c,l,"hcl");case"interpolate-lab":return tn.interpolate(u,c,l,"lab")}}eachChild(e){for(let t of(e(this.input),this.outputs))e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function tR(e,t,r,n){let o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}tn.interpolate,tl.interpolate,tp.interpolate;class tD{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);let o=[];for(let n of e.slice(1)){let e=t.parse(n,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,o.push(e)}if(!r)throw Error("No output type");return n&&o.some(e=>eV(n,e.type))?new tD(eL,o):new tD(r,o)}evaluate(e){let t,r=null,n=0;for(let o of this.args)if(n++,(r=o.evaluate(e))&&r instanceof td&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null!==r)break;return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function tF(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function tU(e,t,r,n){return 0===n.compare(t,r)}function tq(e,t,r){let n="=="!==e&&"!="!==e;return class o{constructor(e,t,r){this.type=eT,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");let r=e[0],i=t.parse(e[1],1,eL);if(!i)return null;if(!tF(r,i.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${eq(i.type)}'.`);let a=t.parse(e[2],2,eL);if(!a)return null;if(!tF(r,a.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${eq(a.type)}'.`);if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${eq(i.type)}' and '${eq(a.type)}'.`);n&&("value"===i.type.kind&&"value"!==a.type.kind?i=new tw(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new tw(i.type,[a])));let s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,eI)))return null}return new o(i,a,s)}evaluate(o){let i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){let t=tg(i),r=tg(a);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new tu(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){let e=tg(i),r=tg(a);if("string"!==e.kind||"string"!==r.kind)return t(o,i,a)}return this.collator?r(o,i,a,this.collator.evaluate(o)):t(o,i,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}let tH=tq("==",function(e,t,r){return t===r},tU),tV=tq("!=",function(e,t,r){return t!==r},function(e,t,r,n){return!tU(e,t,r,n)}),tZ=tq("<",function(e,t,r){return t<r},function(e,t,r,n){return 0>n.compare(t,r)}),tG=tq(">",function(e,t,r){return t>r},function(e,t,r,n){return n.compare(t,r)>0}),tK=tq("<=",function(e,t,r){return t<=r},function(e,t,r,n){return 0>=n.compare(t,r)}),tW=tq(">=",function(e,t,r){return t>=r},function(e,t,r,n){return n.compare(t,r)>=0});class tB{constructor(e,t,r){this.type=eI,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");let r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");let n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,eT);if(!n)return null;let o=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,eT);if(!o)return null;let i=null;return!r.locale||(i=t.parse(r.locale,1,eC))?new tB(n,o,i):null}evaluate(e){return new to(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class tJ{constructor(e,t,r,n,o){this.type=eC,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");let r=t.parse(e[1],1,ej);if(!r)return null;let n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let o=null;if(n.locale&&!(o=t.parse(n.locale,1,eC)))return null;let i=null;if(n.currency&&!(i=t.parse(n.currency,1,eC)))return null;let a=null;if(n["min-fraction-digits"]&&!(a=t.parse(n["min-fraction-digits"],1,ej)))return null;let s=null;return!n["max-fraction-digits"]||(s=t.parse(n["max-fraction-digits"],1,ej))?new tJ(r,o,i,a,s):null}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class tY{constructor(e){this.type=eA,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");let n=[],o=!1;for(let r=1;r<=e.length-1;++r){let i=e[r];if(o&&"object"==typeof i&&!Array.isArray(i)){o=!1;let e=null;if(i["font-scale"]&&!(e=t.parse(i["font-scale"],1,ej)))return null;let r=null;if(i["text-font"]&&!(r=t.parse(i["text-font"],1,eU(eC))))return null;let a=null;if(i["text-color"]&&!(a=t.parse(i["text-color"],1,eM)))return null;let s=null;if(i["vertical-align"]){if("string"==typeof i["vertical-align"]&&!ti.includes(i["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${i["vertical-align"]}' instead.`);if(!(s=t.parse(i["vertical-align"],1,eC)))return null}let l=n[n.length-1];l.scale=e,l.font=r,l.textColor=a,l.verticalAlign=s}else{let i=t.parse(e[r],1,eL);if(!i)return null;let a=i.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,n.push({content:i,scale:null,font:null,textColor:null,verticalAlign:null})}}return new tY(n)}evaluate(e){return new ts(this.sections.map(t=>{let r=t.content.evaluate(e);return tg(r)===eD?new ta("",r,null,null,null,t.verticalAlign?t.verticalAlign.evaluate(e):null):new ta(ty(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null,t.verticalAlign?t.verticalAlign.evaluate(e):null)}))}eachChild(e){for(let t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class tX{constructor(e){this.type=eD,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");let r=t.parse(e[1],1,eC);return r?new tX(r):t.error("No image name provided.")}evaluate(e){let t=this.input.evaluate(e),r=td.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}}class tQ{constructor(e){this.type=ej,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);let r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${eq(r.type)} instead.`):new tQ(r):null}evaluate(e){let t=this.input.evaluate(e);if("string"==typeof t)return[...t].length;if(Array.isArray(t))return t.length;throw new tu(`Expected value to be of type string or array, but found ${eq(tg(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}function t0(e,t){let r=Math.pow(2,t.z),n=(e[0]/8192+t.x)/r;return[360*n-180,360/Math.PI*Math.atan(Math.exp((180-360*((e[1]/8192+t.y)/r))*Math.PI/180))-90]}function t1(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function t2(e,t){return!(e[0]<=t[0])&&!(e[2]>=t[2])&&!(e[1]<=t[1])&&!(e[3]>=t[3])}function t5(e,t,r,n){var o,i;let a=[t[0]-e[0],t[1]-e[1]];return 0!=(o=[n[0]-r[0],n[1]-r[1]],o[0]*(i=a)[1]-o[1]*i[0])&&!!(t6(e,t,r,n)&&t6(r,n,e,t))}function t3(e,t,r=!1){let n=!1;for(let a of t)for(let t=0;t<a.length-1;t++){var o,i;if(function(e,t,r){let n=e[0]-t[0],o=e[1]-t[1],i=e[0]-r[0],a=e[1]-r[1];return n*a-i*o==0&&n*i<=0&&o*a<=0}(e,a[t],a[t+1]))return r;o=a[t],i=a[t+1],o[1]>e[1]!=i[1]>e[1]&&e[0]<(i[0]-o[0])*(e[1]-o[1])/(i[1]-o[1])+o[0]&&(n=!n)}return n}function t4(e,t){for(let r of e)if(!t3(r,t))return!1;for(let r=0;r<e.length-1;++r)if(function(e,t,r){for(let n of r)for(let r=0;r<n.length-1;++r)if(t5(e,t,n[r],n[r+1]))return!0;return!1}(e[r],e[r+1],t))return!1;return!0}function t6(e,t,r,n){let o=e[0]-r[0],i=e[1]-r[1],a=t[0]-r[0],s=t[1]-r[1],l=n[0]-r[0],u=n[1]-r[1],c=o*u-l*i,p=a*u-l*s;return!!(c>0)&&!!(p<0)||!!(c<0)&&!!(p>0)}function t8(e,t,r){let n=[];for(let o=0;o<e.length;o++){let i=[];for(let n=0;n<e[o].length;n++){let a=function(e,t){let r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,o=Math.pow(2,t.z);return[Math.round(r*o*8192),Math.round(n*o*8192)]}(e[o][n],r);t1(t,a),i.push(a)}n.push(i)}return n}function t9(e,t,r){let n=[];for(let o=0;o<e.length;o++){let i=t8(e[o],t,r);n.push(i)}return n}function t7(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){let t=.5*n,o=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===o&&(o=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=o}t1(t,e)}function re(e,t,r,n){let o=8192*Math.pow(2,n.z),i=[8192*n.x,8192*n.y],a=[];for(let n of e)for(let e of n){let n=[e.x+i[0],e.y+i[1]];t7(n,t,r,o),a.push(n)}return a}function rt(e,t,r,n){let o=8192*Math.pow(2,n.z),i=[8192*n.x,8192*n.y],a=[];for(let r of e){let e=[];for(let n of r){let r=[n.x+i[0],n.y+i[1]];t1(t,r),e.push(r)}a.push(e)}if(t[2]-t[0]<=o/2){for(let e of(t[0]=t[1]=1/0,t[2]=t[3]=-1/0,a))for(let n of e)t7(n,t,r,o)}return a}class rr{constructor(e,t){this.type=eT,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(tm(e[1])){let t=e[1];if("FeatureCollection"===t.type){let e=[];for(let r of t.features){let{type:t,coordinates:n}=r.geometry;"Polygon"===t&&e.push(n),"MultiPolygon"===t&&e.push(...n)}if(e.length)return new rr(t,{type:"MultiPolygon",coordinates:e})}else if("Feature"===t.type){let e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new rr(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new rr(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){let r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if("Polygon"===t.type){let i=t8(t.coordinates,n,o),a=re(e.geometry(),r,n,o);if(!t2(r,n))return!1;for(let e of a)if(!t3(e,i))return!1}if("MultiPolygon"===t.type){let i=t9(t.coordinates,n,o),a=re(e.geometry(),r,n,o);if(!t2(r,n))return!1;for(let e of a)if(!function(e,t){for(let r of t)if(t3(e,r))return!0;return!1}(e,i))return!1}return!0}(e,this.geometries);else if("LineString"===e.geometryType())return function(e,t){let r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if("Polygon"===t.type){let i=t8(t.coordinates,n,o),a=rt(e.geometry(),r,n,o);if(!t2(r,n))return!1;for(let e of a)if(!t4(e,i))return!1}if("MultiPolygon"===t.type){let i=t9(t.coordinates,n,o),a=rt(e.geometry(),r,n,o);if(!t2(r,n))return!1;for(let e of a)if(!function(e,t){for(let r of t)if(t4(e,r))return!0;return!1}(e,i))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class rn{constructor(e=[],t=(e,t)=>e<t?-1:+(e>t)){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;let e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){let{data:t,compare:r}=this,n=t[e];for(;e>0;){let o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n}_down(e){let{data:t,compare:r}=this,n=this.length>>1,o=t[e];for(;e<n;){let n=(e<<1)+1,i=n+1;if(i<this.length&&0>r(t[i],t[n])&&(n=i),r(t[n],o)>=0)break;t[e]=t[n],e=n}t[e]=o}}let ro=1/298.257223563*(2-1/298.257223563),ri=Math.PI/180;class ra{constructor(e){let t=6378.137*ri*1e3,r=Math.cos(e*ri),n=1/(1-ro*(1-r*r)),o=Math.sqrt(n);this.kx=t*o*r,this.ky=t*o*n*(1-ro)}distance(e,t){let r=this.wrap(e[0]-t[0])*this.kx,n=(e[1]-t[1])*this.ky;return Math.sqrt(r*r+n*n)}pointOnLine(e,t){let r,n,o,i,a=1/0;for(let s=0;s<e.length-1;s++){let l=e[s][0],u=e[s][1],c=this.wrap(e[s+1][0]-l)*this.kx,p=(e[s+1][1]-u)*this.ky,d=0;(0!==c||0!==p)&&((d=(this.wrap(t[0]-l)*this.kx*c+(t[1]-u)*this.ky*p)/(c*c+p*p))>1?(l=e[s+1][0],u=e[s+1][1]):d>0&&(l+=c/this.kx*d,u+=p/this.ky*d));let f=(c=this.wrap(t[0]-l)*this.kx)*c+(p=(t[1]-u)*this.ky)*p;f<a&&(a=f,r=l,n=u,o=s,i=d)}return{point:[r,n],index:o,t:Math.max(0,Math.min(1,i))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function rs(e,t){return t[0]-e[0]}function rl(e){return e[1]-e[0]+1}function ru(e,t){return e[1]>=e[0]&&e[1]<t}function rc(e,t){if(e[0]>e[1])return[null,null];let r=rl(e);if(t){if(2===r)return[e,null];let t=Math.floor(r/2);return[[e[0],e[0]+t],[e[0]+t,e[1]]]}if(1===r)return[e,null];let n=Math.floor(r/2)-1;return[[e[0],e[0]+n],[e[0]+n+1,e[1]]]}function rp(e,t){if(!ru(t,e.length))return[1/0,1/0,-1/0,-1/0];let r=[1/0,1/0,-1/0,-1/0];for(let n=t[0];n<=t[1];++n)t1(r,e[n]);return r}function rd(e){let t=[1/0,1/0,-1/0,-1/0];for(let r of e)for(let e of r)t1(t,e);return t}function rf(e){return e[0]!==-1/0&&e[1]!==-1/0&&e[2]!==1/0&&e[3]!==1/0}function rh(e,t,r){if(!rf(e)||!rf(t))return NaN;let n=0,o=0;return e[2]<t[0]&&(n=t[0]-e[2]),e[0]>t[2]&&(n=e[0]-t[2]),e[1]>t[3]&&(o=e[1]-t[3]),e[3]<t[1]&&(o=t[1]-e[3]),r.distance([0,0],[n,o])}function rm(e,t,r){let n=r.pointOnLine(t,e);return r.distance(e,n.point)}function rg(e,t,r,n,o){return Math.min(Math.min(rm(e,[r,n],o),rm(t,[r,n],o)),Math.min(rm(r,[e,t],o),rm(n,[e,t],o)))}function ry(e,t){for(let r of e)for(let e of r)if(t3(e,t,!0))return!0;return!1}function rv(e,t,r,n,o,i){if(!i)return;let a=rh(rp(n,i),o,r);a<t&&e.push([a,i,[0,0]])}function rb(e,t,r,n,o,i,a){if(!i||!a)return;let s=rh(rp(n,i),rp(o,a),r);s<t&&e.push([s,i,a])}function rw(e,t,r,n,o=1/0){let i=Math.min(n.distance(e[0],r[0][0]),o);if(0===i)return i;let a=new rn([[0,[0,e.length-1],[0,0]]],rs),s=rd(r);for(;a.length>0;){let o=a.pop();if(o[0]>=i)continue;let l=o[1],u=t?50:100;if(rl(l)<=u){if(!ru(l,e.length))return NaN;if(t){let t=function(e,t,r,n){if(!ru(t,e.length))return NaN;for(let n=t[0];n<=t[1];++n)if(t3(e[n],r,!0))return 0;let o=1/0;for(let i=t[0];i<t[1];++i){let t=e[i],a=e[i+1];for(let e of r)for(let r=0,i=e.length,s=i-1;r<i;s=r++){let i=e[s],l=e[r];if(t5(t,a,i,l))return 0;o=Math.min(o,rg(t,a,i,l,n))}}return o}(e,l,r,n);if(isNaN(t)||0===t)return t;i=Math.min(i,t)}else for(let t=l[0];t<=l[1];++t)if(0===(i=Math.min(i,function(e,t,r){if(t3(e,t,!0))return 0;let n=1/0;for(let o of t){let t=o[0],i=o[o.length-1];if(t!==i&&0===(n=Math.min(n,rm(e,[i,t],r))))break;let a=r.pointOnLine(o,e);if(0===(n=Math.min(n,r.distance(e,a.point))))break}return n}(e[t],r,n))))return 0}else{let r=rc(l,t);rv(a,i,n,e,s,r[0]),rv(a,i,n,e,s,r[1])}}return i}function rx(e,t,r,n,o,i=1/0){let a=Math.min(i,o.distance(e[0],r[0]));if(0===a)return a;let s=new rn([[0,[0,e.length-1],[0,r.length-1]]],rs);for(;s.length>0;){let i=s.pop();if(i[0]>=a)continue;let l=i[1],u=i[2],c=t?50:100,p=n?50:100;if(rl(l)<=c&&rl(u)<=p){let i;if(!ru(l,e.length)&&ru(u,r.length))return NaN;if(t&&n)a=Math.min(a,function(e,t,r,n,o){if(!(ru(t,e.length)&&ru(n,r.length)))return 1/0;let i=1/0;for(let a=t[0];a<t[1];++a){let t=e[a],s=e[a+1];for(let e=n[0];e<n[1];++e){let n=r[e],a=r[e+1];if(t5(t,s,n,a))return 0;i=Math.min(i,rg(t,s,n,a,o))}}return i}(e,l,r,u,o));else if(t&&!n){let t=e.slice(l[0],l[1]+1);for(let e=u[0];e<=u[1];++e)if(0===(a=Math.min(a,rm(r[e],t,o))))return a}else if(!t&&n){let t=r.slice(u[0],u[1]+1);for(let r=l[0];r<=l[1];++r)if(0===(a=Math.min(a,rm(e[r],t,o))))return a}else a=Math.min(a,function(e,t,r,n,o){if(!(ru(t,e.length)&&ru(n,r.length)))return NaN;let i=1/0;for(let a=t[0];a<=t[1];++a)for(let t=n[0];t<=n[1];++t)if(0===(i=Math.min(i,o.distance(e[a],r[t]))))return i;return i}(e,l,r,u,o))}else{let i=rc(l,t),c=rc(u,n);rb(s,a,o,e,r,i[0],c[0]),rb(s,a,o,e,r,i[0],c[1]),rb(s,a,o,e,r,i[1],c[0]),rb(s,a,o,e,r,i[1],c[1])}}return a}function rk(e){return"MultiPolygon"===e.type?e.coordinates.map(e=>({type:"Polygon",coordinates:e})):"MultiLineString"===e.type?e.coordinates.map(e=>({type:"LineString",coordinates:e})):"MultiPoint"===e.type?e.coordinates.map(e=>({type:"Point",coordinates:e})):[e]}class rS{constructor(e,t){this.type=ej,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(tm(e[1])){let t=e[1];if("FeatureCollection"===t.type)return new rS(t,t.features.map(e=>rk(e.geometry)).flat());if("Feature"===t.type)return new rS(t,rk(t.geometry));if("type"in t&&"coordinates"in t)return new rS(t,rk(t))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){let r=e.geometry(),n=r.flat().map(t=>t0([t.x,t.y],e.canonical));if(0===r.length)return NaN;let o=new ra(n[0][1]),i=1/0;for(let e of t){switch(e.type){case"Point":i=Math.min(i,rx(n,!1,[e.coordinates],!1,o,i));break;case"LineString":i=Math.min(i,rx(n,!1,e.coordinates,!0,o,i));break;case"Polygon":i=Math.min(i,rw(n,!1,e.coordinates,o,i))}if(0===i)break}return i}(e,this.geometries);else if("LineString"===e.geometryType())return function(e,t){let r=e.geometry(),n=r.flat().map(t=>t0([t.x,t.y],e.canonical));if(0===r.length)return NaN;let o=new ra(n[0][1]),i=1/0;for(let e of t){switch(e.type){case"Point":i=Math.min(i,rx(n,!0,[e.coordinates],!1,o,i));break;case"LineString":i=Math.min(i,rx(n,!0,e.coordinates,!0,o,i));break;case"Polygon":i=Math.min(i,rw(n,!0,e.coordinates,o,i))}if(0===i)break}return i}(e,this.geometries);else if("Polygon"===e.geometryType())return function(e,t){let r=e.geometry();if(0===r.length||0===r[0].length)return NaN;let n=(function(e,t){let r,n;if(e.length<=1)return[e];let o=[];for(let t of e){let e=function(e){let t=0;for(let r=0,n=e.length,o=n-1,i,a;r<n;o=r++)i=e[r],t+=((a=e[o]).x-i.x)*(i.y+a.y);return t}(t);0!==e&&(t.area=Math.abs(e),void 0===n&&(n=e<0),n===e<0?(r&&o.push(r),r=[t]):r.push(t))}return r&&o.push(r),o})(r,0).map(t=>t.map(t=>t.map(t=>t0([t.x,t.y],e.canonical)))),o=new ra(n[0][0][0][1]),i=1/0;for(let e of t)for(let t of n){switch(e.type){case"Point":i=Math.min(i,rw([e.coordinates],!1,t,o,i));break;case"LineString":i=Math.min(i,rw(e.coordinates,!0,t,o,i));break;case"Polygon":i=Math.min(i,function(e,t,r,n=1/0){let o=rd(e),i=rd(t);if(n!==1/0&&rh(o,i,r)>=n)return n;if(t2(o,i)){if(ry(e,t))return 0}else if(ry(t,e))return 0;let a=1/0;for(let n of e)for(let e=0,o=n.length,i=o-1;e<o;i=e++){let o=n[i],s=n[e];for(let e of t)for(let t=0,n=e.length,i=n-1;t<n;i=t++){let n=e[i],l=e[t];if(t5(o,s,n,l))return 0;a=Math.min(a,rg(o,s,n,l,r))}}return a}(t,e.coordinates,o,i))}if(0===i)return i}return i}(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}let r$={"==":tH,"!=":tV,">":tG,"<":tZ,">=":tW,"<=":tK,array:tw,at:t_,boolean:tw,case:tM,coalesce:tD,collator:tB,format:tY,image:tX,in:tj,"index-of":tC,interpolate:tA,"interpolate-hcl":tA,"interpolate-lab":tA,length:tQ,let:tP,literal:tv,match:tT,number:tw,"number-format":tJ,object:tw,slice:tz,step:tL,string:tw,"to-boolean":tk,"to-color":tk,"to-number":tk,"to-string":tk,var:tO,within:rr,distance:rS};class rE{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){let r=e[0],n=rE.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);let o=Array.isArray(n)?n[0]:n.type,i=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=i.filter(([t])=>!Array.isArray(t)||t.length===e.length-1),s=null;for(let[n,i]of a){s=new tE(t.registry,r_,t.path,null,t.scope);let a=[],l=!1;for(let t=1;t<e.length;t++){let r=e[t],o=Array.isArray(n)?n[t-1]:n.type,i=s.parse(r,1+a.length,o);if(!i){l=!0;break}a.push(i)}if(!l){if(Array.isArray(n)&&n.length!==a.length){s.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);continue}for(let e=0;e<a.length;e++){let t=Array.isArray(n)?n[e]:n.type,r=a[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new rE(r,o,i,a)}}if(1===a.length)t.errors.push(...s.errors);else{let r=(a.length?a:i).map(([e])=>{var t;return Array.isArray(t=e)?`(${t.map(eq).join(", ")})`:`(${eq(t.type)}...)`}).join(" | "),n=[];for(let r=1;r<e.length;r++){let o=t.parse(e[r],1+n.length);if(!o)return null;n.push(eq(o.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){for(let r in rE.definitions=t,t)e[r]=rE}}function rP(e,[t,r,n,o]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);let i=o?o.evaluate(e):1,a=th(t,r,n,i);if(a)throw new tu(a);return new tn(t/255,r/255,n/255,i,!1)}function rO(e,t){let r=t[e];return void 0===r?null:r}function r_(e){if(e instanceof tO)return r_(e.boundExpression);if(e instanceof rE&&"error"===e.name)return!1;if(e instanceof tB)return!1;if(e instanceof rr)return!1;if(e instanceof rS)return!1;let t=e instanceof tk||e instanceof tw,r=!0;return e.eachChild(e=>{r=t?r&&r_(e):r&&e instanceof tv}),!!r&&rj(e)&&rT(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function rj(e){if(e instanceof rE){if("get"===e.name&&1===e.args.length)return!1;else if("feature-state"===e.name)return!1;else if("has"===e.name&&1===e.args.length)return!1;else if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;else if(/^filter-/.test(e.name))return!1}if(e instanceof rr||e instanceof rS)return!1;let t=!0;return e.eachChild(e=>{t&&!rj(e)&&(t=!1)}),t}function rC(e){if(e instanceof rE&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!rC(e)&&(t=!1)}),t}function rT(e,t){if(e instanceof rE&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild(e=>{r&&!rT(e,t)&&(r=!1)}),r}function rM(e){return{result:"success",value:e}}function rz(e){return{result:"error",value:e}}function rN(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function rL(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function rI(e){return!!e.expression&&e.expression.interpolated}function rA(e){if(e instanceof Number)return"number";if(e instanceof String)return"string";if(e instanceof Boolean)return"boolean";if(Array.isArray(e))return"array";if(null===e)return"null";else return typeof e}function rR(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}rE.register(r$,{error:[{kind:"error"},[eC],(e,[t])=>{throw new tu(t.evaluate(e))}],typeof:[eC,[eL],(e,[t])=>eq(tg(t.evaluate(e)))],"to-rgba":[eU(ej,4),[eM],(e,[t])=>{let[r,n,o,i]=t.evaluate(e).rgb;return[255*r,255*n,255*o,i]}],rgb:[eM,[ej,ej,ej],rP],rgba:[eM,[ej,ej,ej,ej],rP],has:{type:eT,overloads:[[[eC],(e,[t])=>t.evaluate(e)in e.properties()],[[eC,eN],(e,[t,r])=>t.evaluate(e)in r.evaluate(e)]]},get:{type:eL,overloads:[[[eC],(e,[t])=>rO(t.evaluate(e),e.properties())],[[eC,eN],(e,[t,r])=>rO(t.evaluate(e),r.evaluate(e))]]},"feature-state":[eL,[eC],(e,[t])=>rO(t.evaluate(e),e.featureState||{})],properties:[eN,[],e=>e.properties()],"geometry-type":[eC,[],e=>e.geometryType()],id:[eL,[],e=>e.id()],zoom:[ej,[],e=>e.globals.zoom],"heatmap-density":[ej,[],e=>e.globals.heatmapDensity||0],"line-progress":[ej,[],e=>e.globals.lineProgress||0],accumulated:[eL,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ej,{type:ej},(e,t)=>{let r=0;for(let n of t)r+=n.evaluate(e);return r}],"*":[ej,{type:ej},(e,t)=>{let r=1;for(let n of t)r*=n.evaluate(e);return r}],"-":{type:ej,overloads:[[[ej,ej],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[ej],(e,[t])=>-t.evaluate(e)]]},"/":[ej,[ej,ej],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[ej,[ej,ej],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[ej,[],()=>Math.LN2],pi:[ej,[],()=>Math.PI],e:[ej,[],()=>Math.E],"^":[ej,[ej,ej],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[ej,[ej],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[ej,[ej],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[ej,[ej],(e,[t])=>Math.log(t.evaluate(e))],log2:[ej,[ej],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[ej,[ej],(e,[t])=>Math.sin(t.evaluate(e))],cos:[ej,[ej],(e,[t])=>Math.cos(t.evaluate(e))],tan:[ej,[ej],(e,[t])=>Math.tan(t.evaluate(e))],asin:[ej,[ej],(e,[t])=>Math.asin(t.evaluate(e))],acos:[ej,[ej],(e,[t])=>Math.acos(t.evaluate(e))],atan:[ej,[ej],(e,[t])=>Math.atan(t.evaluate(e))],min:[ej,{type:ej},(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[ej,{type:ej},(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[ej,[ej],(e,[t])=>Math.abs(t.evaluate(e))],round:[ej,[ej],(e,[t])=>{let r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[ej,[ej],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[ej,[ej],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[eT,[eC,eL],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[eT,[eL],(e,[t])=>e.id()===t.value],"filter-type-==":[eT,[eC],(e,[t])=>e.geometryType()===t.value],"filter-<":[eT,[eC,eL],(e,[t,r])=>{let n=e.properties()[t.value],o=r.value;return typeof n==typeof o&&n<o}],"filter-id-<":[eT,[eL],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[eT,[eC,eL],(e,[t,r])=>{let n=e.properties()[t.value],o=r.value;return typeof n==typeof o&&n>o}],"filter-id->":[eT,[eL],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[eT,[eC,eL],(e,[t,r])=>{let n=e.properties()[t.value],o=r.value;return typeof n==typeof o&&n<=o}],"filter-id-<=":[eT,[eL],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[eT,[eC,eL],(e,[t,r])=>{let n=e.properties()[t.value],o=r.value;return typeof n==typeof o&&n>=o}],"filter-id->=":[eT,[eL],(e,[t])=>{let r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[eT,[eL],(e,[t])=>t.value in e.properties()],"filter-has-id":[eT,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[eT,[eU(eC)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[eT,[eU(eL)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[eT,[eC,eU(eL)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[eT,[eC,eU(eL)],(e,[t,r])=>(function(e,t,r,n){for(;r<=n;){let o=r+n>>1;if(t[o]===e)return!0;t[o]>e?n=o-1:r=o+1}return!1})(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:eT,overloads:[[[eT,eT],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[{type:eT},(e,t)=>{for(let r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:eT,overloads:[[[eT,eT],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[{type:eT},(e,t)=>{for(let r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[eT,[eT],(e,[t])=>!t.evaluate(e)],"is-supported-script":[eT,[eC],(e,[t])=>{let r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[eC,[eC],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[eC,[eC],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[eC,{type:eL},(e,t)=>t.map(t=>ty(t.evaluate(e))).join("")],"resolved-locale":[eC,[eI],(e,[t])=>t.evaluate(e).resolvedLocale()]});class rD{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new t$,this._defaultValue=t?function(e){if("color"===e.type&&rR(e.default))return new tn(0,0,0,0);if("color"===e.type)return tn.parse(e.default)||null;if("padding"===e.type)return tl.parse(e.default)||null;if("variableAnchorOffsetCollection"===e.type)return tp.parse(e.default)||null;if("projectionDefinition"===e.type)return tf.parse(e.default)||null;else if(void 0===e.default)return null;else return e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,o,i){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,o,i){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i||null;try{let e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new tu(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function rF(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in r$}function rU(e,t){let r=new tE(r$,r_,[],t?function(e){let t={color:eM,string:eC,number:ej,enum:eC,boolean:eT,formatted:eA,padding:eR,projectionDefinition:ez,resolvedImage:eD,variableAnchorOffsetCollection:eF};return"array"===e.type?eU(t[e.value]||eL,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?rM(new rD(n,t)):rz(r.errors)}class rq{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!rC(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,o,i)}evaluate(e,t,r,n,o,i){return this._styleExpression.evaluate(e,t,r,n,o,i)}}class rH{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!rC(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,o,i)}evaluate(e,t,r,n,o,i){return this._styleExpression.evaluate(e,t,r,n,o,i)}interpolationFactor(e,t,r){return this.interpolationType?tA.interpolationFactor(this.interpolationType,e,t,r):0}}function rV(e,t){let r=rU(e,t);if("error"===r.result)return r;let n=r.value.expression,o=rj(n);if(!o&&!rN(t))return rz([new eP("","data expressions not supported")]);let i=rT(n,["zoom"]);if(!i&&!rL(t))return rz([new eP("","zoom expressions not supported")]);let a=function e(t){let r=null;if(t instanceof tP)r=e(t.result);else if(t instanceof tD){for(let n of t.args)if(r=e(n))break}else(t instanceof tL||t instanceof tA)&&t.input instanceof rE&&"zoom"===t.input.name&&(r=t);return r instanceof eP||t.eachChild(t=>{let n=e(t);n instanceof eP?r=n:!r&&n?r=new eP("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new eP("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(n);if(!a&&!i)return rz([new eP("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof eP)return rz([a]);if(a instanceof tA&&!rI(t))return rz([new eP("",'"interpolate" expressions cannot be used with this property')]);if(!a)return rM(o?new rq("constant",r.value):new rq("source",r.value));let s=a instanceof tA?a.interpolation:void 0;return rM(o?new rH("camera",r.value,a.labels,s):new rH("composite",r.value,a.labels,s))}function rZ(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(let t of e.slice(1))if(!rZ(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}let rG={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function rK(e,t){return e<t?-1:+(e>t)}function rW(e,t,r){switch(e){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,e,t]}}function rB(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:if(t.length>200&&!t.some(e=>typeof e!=typeof t[0]))return["filter-in-large",e,["literal",t.sort(rK)]];return["filter-in-small",e,["literal",t]]}}function rJ(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function rY(e){return["!",e]}function rX(e){return"object"==typeof e?["literal",e]:e}function rQ(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function r0(e,t){var r,n;let o=rX((r=e.default,n=t.default,void 0!==r?r:void 0!==n?n:void 0));return void 0===o&&"resolvedImage"===t.type?"":o}function r1(e,t,r){let n=r3(e,t),o=["get",e.property];if("categorical"===n&&"boolean"==typeof r[0][0]){let n=["case"];for(let e of r)n.push(["==",o,e[0]],e[1]);return n.push(r0(e,t)),n}if("categorical"===n){let n=["match",o];for(let e of r)r5(n,e[0],e[1],!1);return n.push(r0(e,t)),n}if("interval"===n){let t=["step",["number",o]];for(let e of r)r5(t,e[0],e[1],!0);return r2(t),void 0===e.default?t:["case",["==",["typeof",o],"number"],t,rX(e.default)]}if("exponential"===n){let t=void 0!==e.base?e.base:1,n=[rQ(e),1===t?["linear"]:["exponential",t],["number",o]];for(let e of r)r5(n,e[0],e[1],!1);return void 0===e.default?n:["case",["==",["typeof",o],"number"],n,rX(e.default)]}throw Error(`Unknown property function type ${n}`)}function r2(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function r5(e,t,r,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(r))}function r3(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function r4(e){let t=e.key,r=e.value;return r?[new e$(t,r,"constants have been deprecated as of v8")]:[]}function r6(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function r8(e){if(Array.isArray(e))return e.map(r8);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){let t={};for(let r in e)t[r]=r8(e[r]);return t}return r6(e)}function r9(e){let t=e.key,r=e.value,n=e.valueSpec||{},o=e.objectElementValidators||{},i=e.style,a=e.styleSpec,s=e.validateSpec,l=[],u=rA(r);if("object"!==u)return[new e$(t,r,`object expected, ${u} found`)];for(let e in r){let u,c=e.split(".")[0],p=n[c]||n["*"];if(o[c])u=o[c];else if(n[c])u=s;else if(o["*"])u=o["*"];else if(n["*"])u=s;else{l.push(new e$(t,r[e],`unknown property "${e}"`));continue}l=l.concat(u({key:(t?`${t}.`:t)+e,value:r[e],valueSpec:p,style:i,styleSpec:a,object:r,objectKey:e,validateSpec:s},r))}for(let e in n)!o[e]&&n[e].required&&void 0===n[e].default&&void 0===r[e]&&l.push(new e$(t,r,`missing required property "${e}"`));return l}function r7(e){let t=e.value,r=e.valueSpec,n=e.validateSpec,o=e.style,i=e.styleSpec,a=e.key,s=e.arrayElementValidator||n;if("array"!==rA(t))return[new e$(a,t,`array expected, ${rA(t)} found`)];if(r.length&&t.length!==r.length)return[new e$(a,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new e$(a,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let l={type:r.value,values:r.values};i.$version<7&&(l.function=r.function),"object"===rA(r.value)&&(l=r.value);let u=[];for(let r=0;r<t.length;r++)u=u.concat(s({array:t,arrayIndex:r,value:t[r],valueSpec:l,validateSpec:e.validateSpec,style:o,styleSpec:i,key:`${a}[${r}]`}));return u}function ne(e){let t=e.key,r=e.value,n=e.valueSpec,o=rA(r);return("number"===o&&r!=r&&(o="NaN"),"number"!==o)?[new e$(t,r,`number expected, ${o} found`)]:"minimum"in n&&r<n.minimum?[new e$(t,r,`${r} is less than the minimum value ${n.minimum}`)]:"maximum"in n&&r>n.maximum?[new e$(t,r,`${r} is greater than the maximum value ${n.maximum}`)]:[]}function nt(e){let t,r,n,o=e.valueSpec,i=r6(e.value.type),a={},s="categorical"!==i&&void 0===e.value.property,l="array"===rA(e.value.stops)&&"array"===rA(e.value.stops[0])&&"object"===rA(e.value.stops[0][0]),u=r9({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new e$(e.key,e.value,'identity function may not have a "stops" property')];let t=[],r=e.value;return t=t.concat(r7({key:e.key,value:r,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:c})),"array"===rA(r)&&0===r.length&&t.push(new e$(e.key,r,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:o,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&u.push(new e$(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||u.push(new e$(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!rI(e.valueSpec)&&u.push(new e$(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(s||rN(e.valueSpec)?s&&!rL(e.valueSpec)&&u.push(new e$(e.key,e.value,"zoom functions not supported")):u.push(new e$(e.key,e.value,"property functions not supported"))),("categorical"===i||l)&&void 0===e.value.property&&u.push(new e$(e.key,e.value,'"property" property is required')),u;function c(e){let t=[],i=e.value,s=e.key;if("array"!==rA(i))return[new e$(s,i,`array expected, ${rA(i)} found`)];if(2!==i.length)return[new e$(s,i,`array length 2 expected, length ${i.length} found`)];if(l){if("object"!==rA(i[0]))return[new e$(s,i,`object expected, ${rA(i[0])} found`)];if(void 0===i[0].zoom)return[new e$(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new e$(s,i,"object stop key must have value")];if(n&&n>r6(i[0].zoom))return[new e$(s,i[0].zoom,"stop zoom values must appear in ascending order")];r6(i[0].zoom)!==n&&(n=r6(i[0].zoom),r=void 0,a={}),t=t.concat(r9({key:`${s}[0]`,value:i[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:ne,value:p}}))}else t=t.concat(p({key:`${s}[0]`,value:i[0],valueSpec:{},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},i));return rF(r8(i[1]))?t.concat([new e$(`${s}[1]`,i[1],"expressions are not allowed in function stops.")]):t.concat(e.validateSpec({key:`${s}[1]`,value:i[1],valueSpec:o,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function p(e,n){let s=rA(e.value),l=r6(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new e$(e.key,u,`${s} stop domain type must match previous stop domain type ${t}`)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new e$(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){let t=`number expected, ${s} found`;return rN(o)&&void 0===i&&(t+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new e$(e.key,u,t)]}return"categorical"!==i||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&void 0!==r&&l<r?[new e$(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in a)?[new e$(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[]):[new e$(e.key,u,`integer expected, found ${l}`)]}}function nr(e){let t=("property"===e.expressionContext?rV:rU)(r8(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new e$(`${e.key}${t.key}`,e.value,t.message));let r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new e$(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!rC(r))return[new e$(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!rC(r))return[new e$(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!rT(r,["zoom","feature-state"]))return[new e$(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!rj(r))return[new e$(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nn(e){let t=e.key,r=e.value,n=e.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(r6(r))&&o.push(new e$(t,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(r6(r))&&o.push(new e$(t,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),o}function no(e){return rZ(r8(e.value))?nr(eE({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){let r,n=t.value,o=t.key;if("array"!==rA(n))return[new e$(o,n,`array expected, ${rA(n)} found`)];let i=t.styleSpec,a=[];if(n.length<1)return[new e$(o,n,"filter array must have at least 1 element")];switch(a=a.concat(nn({key:`${o}[0]`,value:n[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),r6(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===r6(n[1])&&a.push(new e$(o,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":3!==n.length&&a.push(new e$(o,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&"string"!==(r=rA(n[1]))&&a.push(new e$(`${o}[1]`,n[1],`string expected, ${r} found`));for(let e=2;e<n.length;e++)r=rA(n[e]),"$type"===r6(n[1])?a=a.concat(nn({key:`${o}[${e}]`,value:n[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new e$(`${o}[${e}]`,n[e],`string, number, or boolean expected, ${r} found`));break;case"any":case"all":case"none":for(let r=1;r<n.length;r++)a=a.concat(e({key:`${o}[${r}]`,value:n[r],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":r=rA(n[1]),2!==n.length?a.push(new e$(o,n,`filter array for "${n[0]}" operator must have 2 elements`)):"string"!==r&&a.push(new e$(`${o}[1]`,n[1],`string expected, ${r} found`))}return a}(e)}function ni(e,t){let r,n=e.key,o=e.validateSpec,i=e.style,a=e.styleSpec,s=e.value,l=e.objectKey,u=a[`${t}_${e.layerType}`];if(!u)return[];let c=l.match(/^(.*)-transition$/);if("paint"===t&&c&&u[c[1]]&&u[c[1]].transition)return o({key:n,value:s,valueSpec:a.transition,style:i,styleSpec:a});let p=e.valueSpec||u[l];if(!p)return[new e$(n,s,`unknown property "${l}"`)];if("string"===rA(s)&&rN(p)&&!p.tokens&&(r=/^{([^}]+)}$/.exec(s)))return[new e$(n,s,`"${l}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(r[1])} }\`.`)];let d=[];return"symbol"===e.layerType&&("text-field"===l&&i&&!i.glyphs&&d.push(new e$(n,s,'use of "text-field" requires a style "glyphs" property')),"text-font"===l&&rR(r8(s))&&"identity"===r6(s.type)&&d.push(new e$(n,s,'"text-font" does not support identity functions'))),d.concat(o({key:e.key,value:s,valueSpec:p,style:i,styleSpec:a,expressionContext:"property",propertyType:t,propertyKey:l}))}function na(e){return ni(e,"paint")}function ns(e){return ni(e,"layout")}function nl(e){let t=[],r=e.value,n=e.key,o=e.style,i=e.styleSpec;r.type||r.ref||t.push(new e$(n,r,'either "type" or "ref" is required'));let a=r6(r.type),s=r6(r.ref);if(r.id){let i=r6(r.id);for(let a=0;a<e.arrayIndex;a++){let e=o.layers[a];r6(e.id)===i&&t.push(new e$(n,r.id,`duplicate layer id "${r.id}", previously used at line ${e.id.__line__}`))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in r&&t.push(new e$(n,r[e],`"${e}" is prohibited for ref layers`))}),o.layers.forEach(t=>{r6(t.id)===s&&(e=t)}),e?e.ref?t.push(new e$(n,r.ref,"ref cannot reference another ref layer")):a=r6(e.type):t.push(new e$(n,r.ref,`ref layer "${s}" not found`))}else if("background"!==a)if(r.source){let e=o.sources&&o.sources[r.source],i=e&&r6(e.type);e?"vector"===i&&"raster"===a?t.push(new e$(n,r.source,`layer "${r.id}" requires a raster source`)):"raster-dem"!==i&&"hillshade"===a?t.push(new e$(n,r.source,`layer "${r.id}" requires a raster-dem source`)):"raster"===i&&"raster"!==a?t.push(new e$(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==i||r["source-layer"]?"raster-dem"===i&&"hillshade"!==a?t.push(new e$(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"===a&&r.paint&&r.paint["line-gradient"]&&("geojson"!==i||!e.lineMetrics)&&t.push(new e$(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new e$(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new e$(n,r.source,`source "${r.source}" not found`))}else t.push(new e$(n,r,'missing required property "source"'));return t=t.concat(r9({key:n,value:r,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:`${n}.type`,value:r.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:r,objectKey:"type"}),filter:no,layout:e=>r9({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>ns(eE({layerType:a},e))}}),paint:e=>r9({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>na(eE({layerType:a},e))}})}}))}function nu(e){let t=e.value,r=e.key,n=rA(t);return"string"!==n?[new e$(r,t,`string expected, ${n} found`)]:[]}let nc={promoteId:function({key:e,value:t}){if("string"===rA(t))return nu({key:e,value:t});{let r=[];for(let n in t)r.push(...nu({key:`${e}.${n}`,value:t[n]}));return r}}};function np(e){let t,r=e.value,n=e.key,o=e.styleSpec,i=e.style,a=e.validateSpec;if(!r.type)return[new e$(n,r,'"type" is required')];let s=r6(r.type);switch(s){case"vector":case"raster":return r9({key:n,value:r,valueSpec:o[`source_${s.replace("-","_")}`],style:e.style,styleSpec:o,objectElementValidators:nc,validateSpec:a});case"raster-dem":return function(e){var t;let r=null!=(t=e.sourceName)?t:"",n=e.value,o=e.styleSpec,i=o.source_raster_dem,a=e.style,s=[],l=rA(n);if(void 0===n)return s;if("object"!==l)return s.push(new e$("source_raster_dem",n,`object expected, ${l} found`)),s;let u="custom"===r6(n.encoding),c=["redFactor","greenFactor","blueFactor","baseShift"],p=e.value.encoding?`"${e.value.encoding}"`:"Default";for(let t in n)!u&&c.includes(t)?s.push(new e$(t,n[t],`In "${r}": "${t}" is only valid when "encoding" is set to "custom". ${p} encoding found`)):i[t]?s=s.concat(e.validateSpec({key:t,value:n[t],valueSpec:i[t],validateSpec:e.validateSpec,style:a,styleSpec:o})):s.push(new e$(t,n[t],`unknown property "${t}"`));return s}({sourceName:n,value:r,style:e.style,styleSpec:o,validateSpec:a});case"geojson":if(t=r9({key:n,value:r,valueSpec:o.source_geojson,style:i,styleSpec:o,validateSpec:a,objectElementValidators:nc}),r.cluster)for(let e in r.clusterProperties){let[o,i]=r.clusterProperties[e],s="string"==typeof o?[o,["accumulated"],["get",e]]:o;t.push(...nr({key:`${n}.${e}.map`,value:i,validateSpec:a,expressionContext:"cluster-map"})),t.push(...nr({key:`${n}.${e}.reduce`,value:s,validateSpec:a,expressionContext:"cluster-reduce"}))}return t;case"video":return r9({key:n,value:r,valueSpec:o.source_video,style:i,validateSpec:a,styleSpec:o});case"image":return r9({key:n,value:r,valueSpec:o.source_image,style:i,validateSpec:a,styleSpec:o});case"canvas":return[new e$(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nn({key:`${n}.type`,value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,validateSpec:a,styleSpec:o})}}function nd(e){let t=e.value,r=e.styleSpec,n=r.light,o=e.style,i=[],a=rA(t);if(void 0===t)return i;if("object"!==a)return i.concat([new e$("light",t,`object expected, ${a} found`)]);for(let a in t){let s=a.match(/^(.*)-transition$/);i=s&&n[s[1]]&&n[s[1]].transition?i.concat(e.validateSpec({key:a,value:t[a],valueSpec:r.transition,validateSpec:e.validateSpec,style:o,styleSpec:r})):n[a]?i.concat(e.validateSpec({key:a,value:t[a],valueSpec:n[a],validateSpec:e.validateSpec,style:o,styleSpec:r})):i.concat([new e$(a,t[a],`unknown property "${a}"`)])}return i}function nf(e){let t=e.value,r=e.styleSpec,n=r.sky,o=e.style,i=rA(t);if(void 0===t)return[];if("object"!==i)return[new e$("sky",t,`object expected, ${i} found`)];let a=[];for(let i in t)a=n[i]?a.concat(e.validateSpec({key:i,value:t[i],valueSpec:n[i],style:o,styleSpec:r})):a.concat([new e$(i,t[i],`unknown property "${i}"`)]);return a}function nh(e){let t=e.value,r=e.styleSpec,n=r.terrain,o=e.style,i=[],a=rA(t);if(void 0===t)return i;if("object"!==a)return i.concat([new e$("terrain",t,`object expected, ${a} found`)]);for(let a in t)i=n[a]?i.concat(e.validateSpec({key:a,value:t[a],valueSpec:n[a],validateSpec:e.validateSpec,style:o,styleSpec:r})):i.concat([new e$(a,t[a],`unknown property "${a}"`)]);return i}function nm(e){let t=[],r=e.value,n=e.key;if(!Array.isArray(r))return nu({key:n,value:r});{let o=[],i=[];for(let a in r){r[a].id&&o.includes(r[a].id)&&t.push(new e$(n,r,`all the sprites' ids must be unique, but ${r[a].id} is duplicated`)),o.push(r[a].id),r[a].url&&i.includes(r[a].url)&&t.push(new e$(n,r,`all the sprites' URLs must be unique, but ${r[a].url} is duplicated`)),i.push(r[a].url);let s={id:{type:"string",required:!0},url:{type:"string",required:!0}};t=t.concat(r9({key:`${n}[${a}]`,value:r[a],valueSpec:s,validateSpec:e.validateSpec}))}return t}}let ng={"*":()=>[],array:r7,boolean:function(e){let t=e.value,r=e.key,n=rA(t);return"boolean"!==n?[new e$(r,t,`boolean expected, ${n} found`)]:[]},number:ne,color:function(e){let t=e.key,r=e.value,n=rA(r);return"string"!==n?[new e$(t,r,`color expected, ${n} found`)]:tn.parse(String(r))?[]:[new e$(t,r,`color expected, "${r}" found`)]},constants:r4,enum:nn,filter:no,function:nt,layer:nl,object:r9,source:np,light:nd,sky:nf,terrain:nh,projection:function(e){let t=e.value,r=e.styleSpec,n=r.projection,o=e.style,i=rA(t);if(void 0===t)return[];if("object"!==i)return[new e$("projection",t,`object expected, ${i} found`)];let a=[];for(let i in t)a=n[i]?a.concat(e.validateSpec({key:i,value:t[i],valueSpec:n[i],style:o,styleSpec:r})):a.concat([new e$(i,t[i],`unknown property "${i}"`)]);return a},projectionDefinition:function(e){var t;let r=e.key,n=e.value,o=rA(n=n instanceof String?n.valueOf():n);return"array"!==o||Array.isArray(t=n)&&3===t.length&&"string"==typeof t[0]&&"string"==typeof t[1]&&"number"==typeof t[2]||["interpolate","step","literal"].includes(n[0])?["array","string"].includes(o)?[]:[new e$(r,n,`projection expected, invalid type "${o}" found`)]:[new e$(r,n,`projection expected, invalid array ${JSON.stringify(n)} found`)]},string:nu,formatted:function(e){return 0===nu(e).length?[]:nr(e)},resolvedImage:function(e){return 0===nu(e).length?[]:nr(e)},padding:function(e){let t=e.key,r=e.value;if("array"!==rA(r))return ne({key:t,value:r,valueSpec:{}});{if(r.length<1||r.length>4)return[new e$(t,r,`padding requires 1 to 4 values; ${r.length} values found`)];let n={type:"number"},o=[];for(let i=0;i<r.length;i++)o=o.concat(e.validateSpec({key:`${t}[${i}]`,value:r[i],validateSpec:e.validateSpec,valueSpec:n}));return o}},variableAnchorOffsetCollection:function(e){let t=e.key,r=e.value,n=rA(r),o=e.styleSpec;if("array"!==n||r.length<1||r.length%2!=0)return[new e$(t,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let i=[];for(let n=0;n<r.length;n+=2)i=(i=i.concat(nn({key:`${t}[${n}]`,value:r[n],valueSpec:o.layout_symbol["text-anchor"]}))).concat(r7({key:`${t}[${n+1}]`,value:r[n+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:o}));return i},sprite:nm};function ny(e){let t=e.value,r=e.valueSpec,n=e.styleSpec;return(e.validateSpec=ny,r.expression&&rR(r6(t)))?nt(e):r.expression&&rF(r8(t))?nr(e):r.type&&ng[r.type]?ng[r.type](e):r9(eE({},e,{valueSpec:r.type?n[r.type]:r}))}function nv(e){let t=e.value,r=e.key,n=nu(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new e$(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new e$(r,t,'"glyphs" url must include a "{range}" token'))),n}function nb(e,t=ex){let r=[];return r=r.concat(ny({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:ny,objectElementValidators:{glyphs:nv,"*":()=>[]}})),e.constants&&(r=r.concat(r4({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:ny}))),nx(r)}function nw(e){return function(t){return e({...t,validateSpec:ny})}}function nx(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function nk(e){return function(...t){return nx(e.apply(this,t))}}nb.source=nk(nw(np)),nb.sprite=nk(nw(nm)),nb.glyphs=nk(nw(nv)),nb.light=nk(nw(nd)),nb.sky=nk(nw(nf)),nb.terrain=nk(nw(nh)),nb.layer=nk(nw(nl)),nb.filter=nk(nw(no)),nb.paintProperty=nk(nw(na)),nb.layoutProperty=nk(nw(ns));var nS={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},n$=/(italic|oblique)$/i,nE={};function nP(e,t,r){var n=nE[e];if(!n){Array.isArray(e)||(e=[e]);for(var o,i,a=400,s="normal",l=[],u=0,c=e.length;u<c;++u){var p=e[u].split(" "),d=p[p.length-1].toLowerCase();for(var f in"normal"==d||"italic"==d||"oblique"==d?(s=i?s:d,i=!0,p.pop(),d=p[p.length-1].toLowerCase()):n$.test(d)&&(d=d.replace(n$,""),s=i?s:p[p.length-1].replace(d,""),i=!0),nS){var h=p.length>1?p[p.length-2].toLowerCase():"";if(d==f||d==f.replace("-","")||h+"-"+d==f){a=o?a:nS[f],p.pop(),h&&f.startsWith(h)&&p.pop();break}}o||"number"!=typeof d||(a=d,o=!0);var m=p.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==m.indexOf(" ")&&(m='"'+m+'"'),l.push(m)}n=nE[e]=[s,a,l]}return n[0]+" "+n[1]+" "+t+"px"+(r?"/"+r:"")+" "+n[2]}var nO=r(88406),n_=r(3066),nj=r.n(n_),nC=r(16721),nT=r.n(nC),nM=r(337),nz=r.n(nM),nN=r(79540),nL=r.n(nN),nI=r(87803),nA=r.n(nI),nR=r(95647),nD=r.n(nR),nF=r(99879),nU=r.n(nF),nq=r(51750),nH=r(90226),nV=r(59024),nZ=r.n(nV),nG=r(12397);let nK="https://api.mapbox.com";function nW(e){let t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function nB(e,t){let r=nW(e);if(!r)return decodeURI(new URL(e,location.href).href);let n="styles/";if(0!==r.indexOf(n))throw Error(`unexpected style url: ${e}`);let o=r.slice(n.length);return`${nK}/styles/v1/${o}?&access_token=${t}`}let nJ=["a","b","c","d"];function nY(e,t,r,n){let o=new URL(e,n),i=nW(e);if(!i)return t&&(o.searchParams.has(r)||o.searchParams.set(r,t)),[decodeURI(o.href)];if("mapbox.satellite"===i){let e=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${i}/{z}/{x}/{y}${e}.webp?access_token=${t}`]}return nJ.map(e=>`https://${e}.tiles.mapbox.com/v4/${i}/{z}/{x}/{y}.vector.pbf?access_token=${t}`)}let nX={},nQ={},n0=0;function n1(e){return e.id||(e.id=n0++),e.id}function n2(e){let t=nX[e.id];return t||(t={},nX[n1(e)]=t),t}function n5(e){return e*Math.PI/180}let n3=function(){let e=[];for(let t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function n4(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);let r=document.createElement("canvas");return r.width=e,r.height=t,r}function n6(e,t){let r=0,n=t.length;for(;r<n;++r)if(t[r]<e&&r+1<n){let n=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(n)}return n-1}function n8(e,t){let r=Math.floor(e),n=Math.pow(2,e-r);return t[r]/n}let n9={};function n7(e,t,r={},n){if(t in n9)return n&&(n.request=n9[t][0]),n9[t][1];let o=r.transformRequest&&r.transformRequest(t,e)||t,i=(0,nO.toPromise)(()=>o).then(e=>(e instanceof Request||(e=new Request(e)),e.headers.get("Accept")||e.headers.set("Accept","application/json"),n&&(n.request=e),fetch(e).then(function(e){return delete n9[t],e.ok?e.json():Promise.reject(Error("Error fetching source "+t))}).catch(function(e){return delete n9[t],Promise.reject(Error("Error fetching source "+t))})));return n9[t]=[o,i],i}function oe(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return n7("Style",e=nB(e,t.accessToken),t);try{let t=JSON.parse(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}let ot={};function or(e,t,r={}){let n=[t,JSON.stringify(e)].toString(),o=ot[n];if(!o||r.transformRequest){let i;r.transformRequest&&(i=(e,t)=>{let n=r.transformRequest&&r.transformRequest(t,"Tiles")||t;if(e instanceof nH.Z)e.setLoader((t,r,o)=>{(0,nO.toPromise)(()=>n).then(r=>{fetch(r).then(e=>e.arrayBuffer()).then(r=>{let n=e.getFormat().readFeatures(r,{extent:t,featureProjection:o});e.setFeatures(n)}).catch(t=>e.setState(nZ().ERROR))})});else{let t=e.getImage();(0,nO.toPromise)(()=>n).then(r=>{r instanceof Request?fetch(r).then(e=>e.blob()).then(e=>{let r=URL.createObjectURL(e);t.addEventListener("load",()=>URL.revokeObjectURL(r)),t.addEventListener("error",()=>URL.revokeObjectURL(r)),t.src=r}).catch(t=>e.setState(nZ().ERROR)):t.src=r})}});let a=e.url;if(a&&!e.tiles){let n=nY(a,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(a.startsWith("mapbox://"))o=Promise.resolve({tileJson:Object.assign({},e,{url:void 0,tiles:n}),tileLoadFunction:i});else{let e={};o=n7("Source",n[0],r,e).then(function(t){return t.tiles=t.tiles.map(function(n){return"tms"===t.scheme&&(n=n.replace("{y}","{-y}")),nY(n,r.accessToken,r.accessTokenParam||"access_token",e.request.url)[0]}),Promise.resolve({tileJson:t,tileLoadFunction:i})})}}else o=Promise.resolve({tileJson:Object.assign({},e=Object.assign({},e,{tiles:e.tiles.map(function(n){return"tms"===e.scheme&&(n=n.replace("{y}","{-y}")),nY(n,r.accessToken,r.accessTokenParam||"access_token",t||location.href)[0]})})),tileLoadFunction:i});ot[n]=o}return o}function on(e,t,r,n){let o=[2*r*t.pixelRatio+t.width,2*r*t.pixelRatio+t.height],i=n4(o[0],o[1]),a=i.getContext("2d");a.drawImage(e,t.x,t.y,t.width,t.height,r*t.pixelRatio,r*t.pixelRatio,t.width,t.height);let s=a.getImageData(0,0,o[0],o[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${255*n.r},${255*n.g},${255*n.b},${n.a})`;let l=s.data;for(let e=0,n=s.width;e<n;++e)for(let o=0,i=s.height;o<i;++o)l[(o*n+e)*4+3]>0&&a.arc(e,o,r*t.pixelRatio,0,2*Math.PI);return a.fill(),i}function oo(e,t,r){let n=n4(t.width,t.height),o=n.getContext("2d");o.drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height);let i=o.getImageData(0,0,t.width,t.height),a=i.data;for(let e=0,t=i.width;e<t;++e)for(let n=0,o=i.height;n<o;++n){let o=(n*t+e)*4,i=function(e,t,r){let n=Math.max(0,Math.min(1,(r-.65)/(.85-e)));return n*n*(3-2*n)}(.65,.85,a[o+3]/255);i>0?(a[o+0]=Math.round(255*r.r*i),a[o+1]=Math.round(255*r.g*i),a[o+2]=Math.round(255*r.b*i),a[o+3]=Math.round(255*i)):a[o+3]=0}return o.putImageData(i,0,0),n}let oi=Array(256).join(" ");function oa(e,t){if(t>=.05){let r="",n=e.split("\n"),o=oi.slice(0,Math.round(t/.1));for(let e=0,t=n.length;e<t;++e)e>0&&(r+="\n"),r+=n[e].split("").join(o);return r}return e}function os(){return n||(n=n4(1,1).getContext("2d")),n}function ol(e,t){return os().measureText(e).width+(e.length-1)*t}let ou={};function oc(e,t,r,n){if(-1!==e.indexOf("\n")){let o=e.split("\n"),i=[];for(let e=0,a=o.length;e<a;++e)i.push(oc(o[e],t,r,n));return i.join("\n")}let o=r+","+t+","+e+","+n,i=ou[o];if(!i){let a=e.split(" ");if(a.length>1){let e=os();e.font=t;let o=e.measureText("M").width*r,s="",l=[];for(let e=0,t=a.length;e<t;++e){let t=a[e],r=s+(s?" ":"")+t;ol(r,n)<=o?s=r:(s&&l.push(s),s=t)}s&&l.push(s);for(let e=0,t=l.length;e<t&&t>1;++e){let r=l[e];if(ol(r,n)<.35*o){let o=e>0?ol(l[e-1],n):1/0,i=e<t-1?ol(l[e+1],n):1/0;l.splice(e,1),t-=1,o<i?(l[e-1]+=" "+r,e-=1):l[e]=r+" "+l[e]}}for(let e=0,t=l.length-1;e<t;++e){let r=l[e],i=l[e+1];if(ol(r,n)>.7*o&&ol(i,n)<.6*o){let a=r.split(" "),s=a.pop();ol(s,n)<.2*o&&(l[e]=a.join(" "),l[e+1]=s+" "+i),t-=1}}i=l.join("\n")}else i=e;i=oa(i,n),ou[o]=i}return i}let op=/font-family: ?([^;]*);/,od=/("|')/g,of={},oh={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},om={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},og=function(e,t){let r=rV(e,t);if("error"===r.result)throw Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value},oy={},ov={zoom:0};function ob(e,t,r,n,o,i,a){let s=e.id;i||(i={},console.warn("No functionCache provided to getValue()")),i[s]||(i[s]={});let l=i[s];if(!l[r]){let n=(e[t]||oy)[r],o=ex[`${t}_${e.type}`][r];void 0===n&&(n=o.default);let i=rF(n);if(!i&&rR(n)&&(n=function(e,t){let r=e.stops;if(!r){var n=e,o=t;let r=["get",n.property];if(void 0===n.default)return"string"===o.type?["string",r]:r;{if("enum"===o.type)return["match",r,Object.keys(o.values),r,n.default];let e=["color"===o.type?"to-color":o.type,r,rX(n.default)];return"array"===o.type&&e.splice(1,0,o.value,o.length||null),e}}let i=r&&"object"==typeof r[0][0],a=i||void 0!==e.property;return(r=r.map(e=>!a&&t.tokens&&"string"==typeof e[1]?[e[0],function(e){let t=["concat"],r=/{([^{}]+)}/g,n=0;for(let o=r.exec(e);null!==o;o=r.exec(e)){let i=e.slice(n,r.lastIndex-o[0].length);n=r.lastIndex,i.length>0&&t.push(i),t.push(["get",o[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}(e[1])]:[e[0],rX(e[1])]),i)?function(e,t,r){let n={},o={},i=[];for(let t=0;t<r.length;t++){let a=r[t],s=a[0].zoom;void 0===n[s]&&(n[s]={zoom:s,type:e.type,property:e.property,default:e.default},o[s]=[],i.push(s)),o[s].push([a[0].value,a[1]])}if("exponential"===r3({},t)){let r=[rQ(e),["linear"],["zoom"]];for(let e of i){let i=r1(n[e],t,o[e]);r5(r,e,i,!1)}return r}{let e=["step",["zoom"]];for(let r of i){let i=r1(n[r],t,o[r]);r5(e,r,i,!0)}return r2(e),e}}(e,t,r):i||!a?function(e,t,r,n=["zoom"]){let o,i=r3(e,t),a=!1;if("interval"===i)o=["step",n],a=!0;else if("exponential"===i){let t=void 0!==e.base?e.base:1;o=[rQ(e),1===t?["linear"]:["exponential",t],n]}else throw Error(`Unknown zoom function type "${i}"`);for(let e of r)r5(o,e[0],e[1],a);return r2(o),o}(e,t,r):r1(e,t,r)}(n,o),i=!0),i){let e=og(n,o);l[r]=e.evaluate.bind(e)}else"color"==o.type&&(n=tn.parse(n)),l[r]=function(){return n}}return ov.zoom=n,l[r](ov,o,a)}function ow(e,t,r,n,o){return ob(e,"layout",`${n}-allow-overlap`,t,r,o)?ob(e,"layout",`${n}-ignore-placement`,t,r,o)?"none":"obstacle":"declutter"}function ox(e,t){if(e){if(0===e.a||0===t)return;let r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}let ok=/\{[^{}}]*\}/g;function oS(e,t){return e.replace(ok,function(e){return t[e.slice(1,-1)]||""})}let o$={};var oE=r(23050),oP=r.n(oE),oO=r(47832),o_=r.n(oO),oj=r(96938),oC=r(9022),oT=r.n(oC),oM=r(95021),oz=r.n(oM),oN=r(88692),oL=r(1646),oI=r.n(oL),oA=r(79434),oR=r.n(oA),oD=r(9497),oF=r.n(oD),oU=r(63311),oq=r.n(oU),oH=r(4480),oV=r.n(oH),oZ=r(14837),oG=r(30525),oK=r(42333),oW=r(30173),oB=r.n(oW),oJ=r(50692),oY=r.n(oJ),oX=r(20126),oQ=r.n(oX),o0=r(11687),o1=r.n(o0),o2=r(10798),o5=r.n(o2),o3=r(98309),o4=r.n(o3),o6=r(66572);function o8(e,t){let r,n,o,i,a,s,l,u,c,p,d,f,h,m,g,y,v,b,w,x,k,S,$=e[0],E=$.width,P=$.height,O=$.data,_=new Uint8ClampedArray(O.length),j=2*t.resolution,C=E-1,T=P-1,M=[0,0,0,0],z=2*Math.PI,N=Math.PI/2,L=Math.PI*t.sunEl/180,I=Math.PI*t.sunAz/180,A=Math.cos(L),R=Math.sin(L),D=t.highlightColor,F=t.shadowColor,U=t.accentColor,q=t.encoding;function H(e,t="mapbox"){return"mapbox"===t?(256*e[0]*256+256*e[1]+e[2])*.1-1e4:"terrarium"===t?256*e[0]+e[1]+e[2]/256-32768:void 0}for(n=0;n<=T;++n)for(r=0,a=0===n?0:n-1,s=n===T?T:n+1;r<=C;++r)o=0===r?0:r-1,i=r===C?C:r+1,l=(n*E+o)*4,M[0]=O[l],M[1]=O[l+1],M[2]=O[l+2],M[3]=O[l+3],u=t.vert*H(M,q),l=(n*E+i)*4,M[0]=O[l],M[1]=O[l+1],M[2]=O[l+2],M[3]=O[l+3],p=(t.vert*H(M,q)-u)/j,l=(a*E+r)*4,M[0]=O[l],M[1]=O[l+1],M[2]=O[l+2],M[3]=O[l+3],u=t.vert*H(M,q),l=(s*E+r)*4,M[0]=O[l],M[1]=O[l+1],M[2]=O[l+2],M[3]=O[l+3],h=(h=Math.atan2(d=(t.vert*H(M,q)-u)/j,-p))<0?N-h:h>N?z-h+N:N-h,S=R*Math.cos(f=Math.atan(Math.sqrt(p*p+d*d)))+A*Math.sin(f)*Math.cos(I-h),m=Math.cos(f),g=255*S,w=Math.min(Math.max(2*t.sunEl,0),1),x=1.875-1.75*t.opacity,k=.5!==t.opacity?(Math.pow(x,f)-1)/(Math.pow(x,N)-1)*N:f,v={r:(1-m)*U.r*w*255,g:(1-m)*U.g*w*255,b:(1-m)*U.b*w*255,a:(1-m)*U.a*w*255},y=Math.abs(((h+I)/Math.PI+.5)%2-1),b={r:(D.r*(1-y)+F.r*y)*g,g:(D.g*(1-y)+F.g*y)*g,b:(D.b*(1-y)+F.b*y)*g,a:(D.a*(1-y)+F.a*y)*g},_[l=(n*E+r)*4]=v.r*(1-y)+b.r,_[l+1]=v.g*(1-y)+b.g,_[l+2]=v.b*(1-y)+b.b,_[l+3]=O[l+3]*t.opacity*w*Math.sin(k);return new ImageData(_,E,P)}function o9(e,t){return t.accessToken||(t=Object.assign({},t),new URL(e).searchParams.forEach((e,r)=>{t.accessToken=e,t.accessTokenParam=r})),t}let o7={};function ie(e,t){let r;return e.some(function(e){if(e.id==t)return r=e.source,!0}),r}function it(e,t,r){let n=new(oQ())({tileJSON:t,tileSize:e.tileSize||t.tileSize||512}),o=n.getTileJSON(),i=n.getTileGrid(),a=(0,oK.get)(r.projection||"EPSG:3857"),s=function(e,t){let r=e.bounds;if(r){let e=(0,oK.fromLonLat)([r[0],r[1]],t),n=(0,oK.fromLonLat)([r[2],r[3]],t);return[e[0],e[1],n[0],n[1]]}return(0,oK.get)(t).getExtent()}(o,a),l=a.getExtent(),u=o.minzoom||0,c=o.maxzoom||22,p={attributions:n.getAttributions(),projection:a,tileGrid:new(o4())({origin:l?(0,oj.getTopLeft)(l):i.getOrigin(0),extent:s||i.getExtent(),minZoom:u,resolutions:(function(e,t=512){return e.getExtent()?(0,o6.createXYZ)({extent:e.getExtent(),tileSize:t,maxZoom:22}).getResolutions():n3})(a,t.tileSize).slice(0,c+1),tileSize:i.getTileSize(0)})};return Array.isArray(o.tiles)?p.urls=o.tiles:p.url=o.tiles,p}function ir(e,t,r){return new Promise(function(n,o){or(e,t,r).then(function({tileJson:t,tileLoadFunction:o}){let i=it(e,t,r);i.tileLoadFunction=o,i.format=new(oz()),n(new(o5())(i))}).catch(o)})}function io(e){let t=e?e.getCode():"EPSG:3857";return`{bbox-${t.toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function ii(e,t,r){let n=new(oF());return new Promise(function(n,o){or(e,t,r).then(function({tileJson:t,tileLoadFunction:o}){let i=new(oQ())({interpolate:void 0===r.interpolate||r.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:t});i.tileGrid=it(e,t,r).tileGrid,r.projection&&(i.projection=(0,oK.get)(r.projection));let a=i.getTileUrlFunction();o&&i.setTileLoadFunction(o),i.setTileUrlFunction(function(e,t,r){let n=io(r),o=a(e,t,r);if(-1!=o.indexOf(n)){let t=i.getTileGrid().getTileCoordExtent(e);o=o.replace(n,t.toString())}return o}),i.set("mapbox-source",e),n(i)}).catch(function(e){o(e)})}).then(function(e){n.setSource(e)}).catch(function(){n.setSource(void 0)}),n}function ia(e,t,r){let n=r.projection?new(oT())({dataProjection:r.projection}):new(oT()),o=e.data,i={};if("string"==typeof o){let[i]=nY(o,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(i)){let t=(e,t,r)=>{let n=io(r);return i.replace(n,`${e.join(",")}`)},o=new(o1())({attributions:e.attribution,format:n,loader:(e,n,i,a,s)=>{n7("GeoJSON","function"==typeof t?t(e,n,i):t,r).then(e=>{let t=o.getFormat().readFeatures(e,{featureProjection:i});o.addFeatures(t),a(t)}).catch(t=>{o.removeLoadedExtent(e),s()})},strategy:oZ.bbox});return o.set("mapbox-source",e),o}let a=new(o1())({attributions:e.attribution,format:n,url:i,loader:(e,t,n,o,s)=>{n7("GeoJSON",i,r).then(e=>{let t=a.getFormat().readFeatures(e,{featureProjection:n});a.addFeatures(t),o(t)}).catch(t=>{a.removeLoadedExtent(e),s()})}});return a}i.features=n.readFeatures(o,{featureProjection:(0,oK.getUserProjection)()||"EPSG:3857"});let a=new(o1())(Object.assign({attributions:e.attribution,format:n},i));return a.set("mapbox-source",e),a}function is(e,t,r,n){let o,i,a,s=[],l=null;if(t instanceof oP()){if(!(l=t.getView()).isDef()&&!l.getRotation()&&!l.getResolutions()){let e=n.projection?(0,oK.get)(n.projection):l.getProjection();l=new(o_())(Object.assign(l.getProperties(),{maxResolution:n3["0"]/oG.METERS_PER_UNIT[e.getUnits()],projection:n.projection||l.getProjection()})),t.setView(l)}"center"in e&&!l.getCenter()&&l.setCenter((0,oK.fromLonLat)(e.center,l.getProjection())),"zoom"in e&&void 0===l.getZoom()&&l.setResolution(n3["0"]/oG.METERS_PER_UNIT[l.getProjection().getUnits()]/Math.pow(2,e.zoom)),l.getCenter()&&void 0!==l.getZoom()||l.fit(l.getProjection().getExtent(),{nearest:!0,size:t.getSize()})}t.set("mapbox-style",e),t.set("mapbox-metadata",{styleUrl:r,options:n});let u=e.layers,c=[];for(let l=0,p=u.length;l<p;++l){let p=u[l],d=p.type;if("heatmap"==d){console.debug(`layers[${l}].type "${d}" not supported`);continue}(a=p.source||ie(u,p.ref))&&a==i||(c.length&&(s.push(il(o,c,e,r,t,n)),c=[]),(o=function(e,t,r,n){var o;let i,a=n2(e),s=e.layers,l=r.type,u=r.source||ie(s,r.ref),c=e.sources[u];if("background"==l)i=function(e,t,r){let n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new(oR())({source:new(oY())({}),render(o){let i=function(e,t,r,n){let o,i={id:e.id,type:e.type},a=e.layout||{},s=e.paint||{};i.paint=s;let l=n6(t,r.resolutions||n3),u=ob(i,"paint","background-color",l,o7,n);return void 0!==s["background-opacity"]&&(o=ob(i,"paint","background-opacity",l,o7,n)),"none"==a.visibility?void 0:ox(u,o)}(e,o.viewState.resolution,t,r);return n.style.backgroundColor=i,n}})}(r,n,a);else if("vector"==c.type)i=function(e,t,r){let n=new(oV())({declutter:!0,visible:!1});return ir(e,t,r).then(function(t){t.set("mapbox-source",e),n.setSource(t)}).catch(function(e){n.setSource(void 0)}),n}(c,t,n);else if("raster"==c.type){let e;(i=ii(c,t,n)).setVisible(!r.layout||"none"!==r.layout.visibility),i.on("prerender",(o=i,e=null,function(t){r.paint&&"raster-opacity"in r.paint&&t.frameState.viewState.zoom!==e&&(e=t.frameState.viewState.zoom,delete a[r.id],function(e,t,r,n){let o=ob(e,"paint","raster-opacity",r,o7,n);t.setOpacity(o)}(r,o,e,a))}))}else if("geojson"==c.type)i=new(oq())({declutter:!0,source:ia(c,t,n),visible:!1});else if("raster-dem"==c.type&&"hillshade"==r.type){let e=function(e,t,r){let n=ii(e,t,r);return new(oI())({source:new(oB())({operationType:"image",operation:o8,sources:[n]})})}(c,t,n);i=e,e.getSource().on("beforeoperations",function(e){let t=e.data;t.resolution=(0,oK.getPointResolution)(n.projection||"EPSG:3857",e.resolution,(0,oj.getCenter)(e.extent),"m");let o=n6(e.resolution,n.resolutions||n3);t.encoding=c.encoding,t.vert=5*ob(r,"paint","hillshade-exaggeration",o,o7,a),t.sunAz=ob(r,"paint","hillshade-illumination-direction",o,o7,a),t.sunEl=35,t.opacity=.3,t.highlightColor=ob(r,"paint","hillshade-highlight-color",o,o7,a),t.shadowColor=ob(r,"paint","hillshade-shadow-color",o,o7,a),t.accentColor=ob(r,"paint","hillshade-accent-color",o,o7,a)}),i.setVisible(!r.layout||"none"!==r.layout.visibility)}return i&&i.set("mapbox-source",u),i}(e,r,p,n))instanceof oq()||o instanceof oV()||(c=[]),i=o.get("mapbox-source")),c.push(p.id)}return s.push(il(o,c,e,r,t,n)),Promise.all(s)}function il(e,t,r,n,s,l={}){let u=24,c=0,p=r.layers;for(let e=0,r=p.length;e<r;++e){let r=p[e];-1!==t.indexOf(r.id)&&(u=Math.min("minzoom"in r?r.minzoom:0,u),c=Math.max("maxzoom"in r?r.maxzoom:24,c))}return new Promise(function(p,d){let f=function(){let f=e.getSource();if(!f||"error"===f.getState())return void d(Error("Error accessing data for source "+e.get("mapbox-source")));if("getTileGrid"in f){let t=f.getTileGrid();if(t){let r=t.getMinZoom();(u>0||r>0)&&e.setMaxResolution(Math.min(n8(Math.max(0,u-1e-12),n3),n8(Math.max(0,r-1e-12),t.getResolutions()))),c<24&&e.setMinResolution(n8(c,n3))}}else u>0&&e.setMaxResolution(n8(Math.max(0,u-1e-12),n3));f instanceof o1()||f instanceof o5()?(function(e,t,r="",n={},s){let l,u,c,p,d=!0;return"string"==typeof r||Array.isArray(r)?p=r:(c=r,p=c.source||c.layers,n=c),"string"==typeof n?(l=n,c={}):(l=n.styleUrl,c=n),!1===c.updateSource&&(d=!1),s||(s=c.resolutions),l||"string"!=typeof t||t.trim().startsWith("{")||(l=t),l&&(c=o9(l=l.startsWith("data:")?location.href:nB(l,c.accessToken),c)),new Promise(function(r,n){oe(t,c).then(function(t){let f,h,m;if(8!=t.version)return n(Error("glStyle version 8 required."));if(!(e instanceof oq()||e instanceof oV()))return n(Error("Can only apply to VectorLayer or VectorTileLayer"));let g=e instanceof oV()?"vector":"geojson";if(p?u=Array.isArray(p)?t.layers.find(function(e){return e.id===p[0]}).source:p:p=u=Object.keys(t.sources).find(function(e){return t.sources[e].type===g}),!u)return n(Error(`No ${g} source found in the glStyle.`));function y(){if(!d)return Promise.resolve();if(e instanceof oV())return ir(t.sources[u],l,c).then(function(t){let r=e.getSource();r?t!==r&&(r.setTileUrlFunction(t.getTileUrlFunction()),"function"==typeof r.setUrls&&"function"==typeof t.getUrls&&r.setUrls(t.getUrls()),r.format_||(r.format_=t.format_),r.getAttributions()||r.setAttributions(t.getAttributions()),r.getTileLoadFunction()===o2.defaultLoadFunction&&r.setTileLoadFunction(t.getTileLoadFunction()),(0,oK.equivalent)(r.getProjection(),t.getProjection())&&(r.tileGrid=t.getTileGrid())):e.setSource(t);let n=e.getSource().getTileGrid();!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())&&n.getMinZoom()>0&&e.setMaxResolution(n8(Math.max(0,n.getMinZoom()-1e-12),n.getResolutions()))});let r=t.sources[u],n=e.getSource();n&&n.get("mapbox-source")===r||(n=ia(r,l,c));let o=e.getSource();return o?n!==o&&(o.getAttributions()||o.setAttributions(n.getAttributions()),o.format_||(o.format_=n.getFormat()),o.url_=n.getUrl()):e.setSource(n),Promise.resolve()}function v(){if(m||t.sprite&&!f)m?(e.setStyle(m),y().then(r).catch(n)):n(Error("Something went wrong trying to apply style."));else{if(c.projection&&!s){let e=(0,oK.get)(c.projection).getUnits();"m"!==e&&(s=n3.map(t=>t/oG.METERS_PER_UNIT[e]))}m=function(e,t,r,n=n3,o,s,l,u){var c;let p,d,f,h,m;if("string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw Error("glStyle version 8 required.");if(o$[n1(t)+"."+(0,nG.getUid)(e)]=Array.from(arguments),s){if("undefined"!=typeof Image){let t,r=new Image;(0,nO.toPromise)(()=>s).then(e=>{e instanceof Request?fetch(e).then(e=>e.blob()).then(e=>{r.src=t=URL.createObjectURL(e)}).catch(()=>{}):(r.crossOrigin="anonymous",r.src=e,t&&URL.revokeObjectURL(t))}),r.onload=function(){p=r,d=[r.width,r.height],e.changed(),r.onload=null}}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){let e=self;e.postMessage({action:"loadImage",src:s}),e.addEventListener("message",function(e){"imageLoaded"===e.data.action&&e.data.src===s&&(d=[(p=e.data.image).width,p.height])})}}let g=eS(t.layers),y={},v=[],b={},w={},x=n2(t),k=((m=nQ[(c=t).id])||(m={},nQ[n1(c)]=m),m);for(let e=0,n=g.length;e<n;++e){let n=g[e],o=n.id;if("string"==typeof r&&n.source==r||Array.isArray(r)&&-1!==r.indexOf(o)){let r=n["source-layer"];if(h){if(n.source!==h)throw Error(`Layer "${o}" does not use source "${h}`)}else{h=n.source;let e=t.sources[h];if(!e)throw Error(`Source "${h}" is not defined`);let r=e.type;if("vector"!==r&&"geojson"!==r)throw Error(`Source "${h}" is not of type "vector" or "geojson", but "${r}"`)}let i=y[r];i||(i=[],y[r]=i),i.push({layer:n,index:e}),v.push(o)}}let S=new(nA()),$=new(nz()),E=[],P=function(r,s,c){let h=r.getProperties(),m=y[h.layer];if(!m)return;let g=n.indexOf(s);-1==g&&(g=n6(s,n));let v=oh[r.getGeometry().getType()],P={id:r.getId(),properties:h,type:v},O=e.get("mapbox-featurestate")[r.getId()],_=-1;for(let n=0,y=m.length;n<y;++n){var j;let y=m[n],C=y.layer,T=C.id;if(void 0!==c&&c!==T)continue;let M=C.layout||oy,z=C.paint||oy;if("none"===M.visibility||"minzoom"in C&&g<C.minzoom||"maxzoom"in C&&g>=C.maxzoom)continue;let N=C.filter;if(!N||(j=g,k||console.warn("No filterCache provided to evaluateFilter()"),T in k||(k[T]=function(e){if(null==e)return{filter:()=>!0,needGeometry:!1};rZ(e)||(e=function e(t){if(!t)return!0;let r=t[0];return t.length<=1?"any"!==r:"=="===r?rW(t[1],t[2],"=="):"!="===r?rY(rW(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?rW(t[1],t[2],r):"any"===r?["any"].concat(t.slice(1).map(e)):"all"===r?["all"].concat(t.slice(1).map(e)):"none"===r?["all"].concat(t.slice(1).map(e).map(rY)):"in"===r?rB(t[1],t.slice(2)):"!in"===r?rY(rB(t[1],t.slice(2))):"has"===r?rJ(t[1]):"!has"!==r||rY(rJ(t[1]))}(e));let t=rU(e,rG);if("error"!==t.result)return{filter:(e,r,n)=>t.value.evaluate(e,r,{},n),needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0]||"distance"===t[0])return!0;for(let r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(e)};throw Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "))}(N).filter),ov.zoom=j,k[T](ov,P))){let n,c,m,k,j,T,N,L,I,A,R,D,F,U,q,H=y.index;if(3==v&&("fill"==C.type||"fill-extrusion"==C.type))if(c=ob(C,"paint",C.type+"-opacity",g,P,x,O),C.type+"-pattern"in z){let e=ob(C,"paint",C.type+"-pattern",g,P,x,O);if(e){let t="string"==typeof e?oS(e,h):e.toString();if(p&&o&&o[t]){(!(T=E[++_])||!T.getFill()||T.getStroke()||T.getText())&&(T=new(nD())({fill:new(nz())}),E[_]=T),m=T.getFill(),T.setZIndex(H);let e=t+"."+c,r=w[e];if(!r){let n=o[t],i=n4(n.width,n.height),a=i.getContext("2d");a.globalAlpha=c,a.drawImage(p,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r=a.createPattern(i,"repeat"),w[e]=r}m.setColor(r)}}}else n=ox(ob(C,"paint",C.type+"-color",g,P,x,O),c),C.type+"-outline-color"in z&&(j=ox(ob(C,"paint",C.type+"-outline-color",g,P,x,O),c)),j||(j=n),(n||j)&&((!(T=E[++_])||n&&!T.getFill()||!n&&T.getFill()||j&&!T.getStroke()||!j&&T.getStroke()||T.getText())&&(T=new(nD())({fill:n?new(nz()):void 0,stroke:j?new(nA()):void 0}),E[_]=T),n&&(m=T.getFill()).setColor(n),j&&((k=T.getStroke()).setColor(j),k.setWidth(.5)),T.setZIndex(H));if(1!=v&&"line"==C.type){n="line-pattern"in z?void 0:ox(ob(C,"paint","line-color",g,P,x,O),ob(C,"paint","line-opacity",g,P,x,O));let e=ob(C,"paint","line-width",g,P,x,O);n&&e>0&&((!(T=E[++_])||!T.getStroke()||T.getFill()||T.getText())&&(T=new(nD())({stroke:new(nA())}),E[_]=T),(k=T.getStroke()).setLineCap(ob(C,"layout","line-cap",g,P,x,O)),k.setLineJoin(ob(C,"layout","line-join",g,P,x,O)),k.setMiterLimit(ob(C,"layout","line-miter-limit",g,P,x,O)),k.setColor(n),k.setWidth(e),k.setLineDash(z["line-dasharray"]?ob(C,"paint","line-dasharray",g,P,x,O).map(function(t){return t*e}):null),T.setZIndex(H))}let V=!1,Z=null,G=0;if((1==v||2==v)&&"icon-image"in M){let t=ob(C,"layout","icon-image",g,P,x,O);if(t){let n;N="string"==typeof t?oS(t,h):t.toString();let l=u?u(e,N):void 0;if(p&&o&&o[N]||l){let e=ob(C,"layout","icon-rotation-alignment",g,P,x,O);if(2==v){let t=r.getGeometry();if(t.getFlatMidpoint||t.getFlatMidpoints){let r=t.getExtent();if(Math.sqrt(Math.max(Math.pow((r[2]-r[0])/s,2),Math.pow((r[3]-r[1])/s,2)))>150){let r="MultiLineString"===t.getType()?t.getFlatMidpoints():t.getFlatMidpoint();if(a||(i=[NaN,NaN],a=new(nj())("Point",i,[],2,{},void 0)),n=a,i[0]=r[0],i[1]=r[1],"line"===ob(C,"layout","symbol-placement",g,P,x,O)&&"map"===e){let e=t.getStride(),n=t.getFlatCoordinates();for(let t=0,o=n.length-e;t<o;t+=e){let o=n[t],i=n[t+1],a=n[t+e],s=n[t+e+1],l=Math.min(o,a),u=Math.max(o,a),c=r[0];if(.001>Math.abs((s-i)*(c-o)-(a-o)*(r[1]-i))&&c<=u&&c>=l){G=Math.atan2(i-s,a-o);break}}}}}}if(2!==v||n){let t=ob(C,"layout","icon-size",g,P,x,O),r=void 0!==z["icon-color"]?ob(C,"paint","icon-color",g,P,x,O):null;if(!r||0!==r.a){let n=ob(C,"paint","icon-halo-color",g,P,x,O),i=ob(C,"paint","icon-halo-width",g,P,x,O),a=`${N}.${t}.${i}.${n}`;if(null!==r&&(a+=`.${r}`),!(L=b[a])){let s,u=ow(C,g,P,"icon",x);"icon-offset"in M&&(s=ob(C,"layout","icon-offset",g,P,x,O).slice(0),s[0]*=t,s[1]*=-t);let c=r?[255*r.r,255*r.g,255*r.b,r.a]:void 0;if(l){let r={color:c,rotateWithView:"map"===e,displacement:s,declutterMode:u,scale:t};"string"==typeof l?r.src=l:(r.img=l,r.imgSize=[l.width,l.height]),L=new(nL())(r)}else{let a,l,h,m=o[N];i?m.sdf?(a=on(oo(p,m,r||[0,0,0,1]),{x:0,y:0,width:m.width,height:m.height,pixelRatio:m.pixelRatio},i,n),c=void 0):a=on(p,m,i,n):(m.sdf?(f||(f=oo(p,{x:0,y:0,width:d[0],height:d[1]},{r:1,g:1,b:1,a:1})),a=f):a=p,l=[m.width,m.height],h=[m.x,m.y]),L=new(nL())({color:c,img:a,imgSize:d,size:l,offset:h,rotateWithView:"map"===e,scale:t/m.pixelRatio,displacement:s,declutterMode:u})}b[a]=L}}L&&((!(T=E[++_])||!T.getImage()||T.getFill()||T.getStroke())&&(T=new(nD()),E[_]=T),T.setGeometry(n),L.setRotation(G+n5(ob(C,"layout","icon-rotate",g,P,x,O))),L.setOpacity(ob(C,"paint","icon-opacity",g,P,x,O)),L.setAnchor(om[ob(C,"layout","icon-anchor",g,P,x,O)]),T.setImage(L),Z=T.getText(),T.setText(void 0),T.setZIndex(H),V=!0,I=!1)}else I=!0}}}if(1==v&&"circle"===C.type){(!(T=E[++_])||!T.getImage()||T.getFill()||T.getStroke())&&(T=new(nD()),E[_]=T);let e="circle-radius"in z?ob(C,"paint","circle-radius",g,P,x,O):5,t=ox(ob(C,"paint","circle-stroke-color",g,P,x,O),ob(C,"paint","circle-stroke-opacity",g,P,x,O)),r=ob(C,"paint","circle-translate",g,P,x,O),n=ox(ob(C,"paint","circle-color",g,P,x,O),ob(C,"paint","circle-opacity",g,P,x,O)),o=ob(C,"paint","circle-stroke-width",g,P,x,O),i=e+"."+t+"."+n+"."+o+"."+r[0]+"."+r[1];(L=b[i])||(L=new(nT())({radius:e,displacement:[r[0],-r[1]],stroke:t&&o>0?new(nA())({width:o,color:t}):void 0,fill:n?new(nz())({color:n}):void 0,declutterMode:"none"}),b[i]=L),T.setImage(L),Z=T.getText(),T.setText(void 0),T.setGeometry(void 0),T.setZIndex(H),V=!0}if("text-field"in M){F=Math.round(ob(C,"layout","text-size",g,P,x,O));let e=ob(C,"layout","text-font",g,P,x,O);D=ob(C,"layout","text-line-height",g,P,x,O),(R=nP(l?l(e,t.metadata?t.metadata["ol:webfonts"]:void 0):e,F,D)).includes("sans-serif")||(R+=",sans-serif"),U=ob(C,"layout","text-letter-spacing",g,P,x,O),q=ob(C,"layout","text-max-width",g,P,x,O);let r=ob(C,"layout","text-field",g,P,x,O);A="object"==typeof r&&r.sections?1===r.sections.length?r.toString():r.sections.reduce((t,r,n)=>{let o=r.fontStack?r.fontStack.split(","):e,i=nP(l?l(o):o,F*(r.scale||1),D),a=r.text;if("\n"===a)return t.push("\n",""),t;if(2==v)return t.push(oa(a,U),i),t;a=oc(a,i,q,U).split("\n");for(let e=0,r=a.length;e<r;++e)e>0&&t.push("\n",""),t.push(a[e],i);return t},[]):oS(r,h).trim(),c=ob(C,"paint","text-opacity",g,P,x,O)}if(A&&c&&!I){let e;V||((!(T=E[++_])||!T.getText()||T.getFill()||T.getStroke())&&(T=new(nD()),E[_]=T),T.setImage(void 0),T.setGeometry(void 0));let t=ow(C,g,P,"text",x);T.getText()||T.setText(Z),(!(Z=T.getText())||"getDeclutterMode"in Z&&Z.getDeclutterMode()!==t)&&(Z=new(nU())({padding:[2,2,2,2],declutterMode:t}),T.setText(Z));let r=ob(C,"layout","text-transform",g,P,x,O);"uppercase"==r?A=Array.isArray(A)?A.map((e,t)=>t%2?e:e.toUpperCase()):A.toUpperCase():"lowercase"==r&&(A=Array.isArray(A)?A.map((e,t)=>t%2?e:e.toLowerCase()):A.toLowerCase());let n=Array.isArray(A)?A:2==v?oa(A,U):oc(A,R,q,U);if(Z.setText(n),Z.setFont(R),Z.setRotation(n5(ob(C,"layout","text-rotate",g,P,x,O))),"function"==typeof Z.setKeepUpright){let e=ob(C,"layout","text-keep-upright",g,P,x,O);Z.setKeepUpright(e)}let o=ob(C,"layout","text-anchor",g,P,x,O),i=V||1==v?"point":ob(C,"layout","symbol-placement",g,P,x,O);if("line-center"===i?(Z.setPlacement("line"),e="center"):Z.setPlacement(i),"line"===i&&"function"==typeof Z.setRepeat){let e=ob(C,"layout","symbol-spacing",g,P,x,O);Z.setRepeat(2*e)}Z.setOverflow("point"===i);let a=ob(C,"paint","text-halo-width",g,P,x,O),s=ob(C,"layout","text-offset",g,P,x,O),l=ob(C,"paint","text-translate",g,P,x,O),u=0,p=0;if("point"==i){e="center",-1!==o.indexOf("left")?(e="left",p=a):-1!==o.indexOf("right")&&(e="right",p=-a);let t=ob(C,"layout","text-rotation-alignment",g,P,x,O);Z.setRotateWithView("map"==t)}else Z.setMaxAngle(n5(ob(C,"layout","text-max-angle",g,P,x,O))*A.length/n.length),Z.setRotateWithView(!1);Z.setTextAlign(e);let d="middle";0==o.indexOf("bottom")?(d="bottom",u=-a-.5*(D-1)*F):0==o.indexOf("top")&&(d="top",u=a+.5*(D-1)*F),Z.setTextBaseline(d);let f=ob(C,"layout","text-justify",g,P,x,O);Z.setJustify("auto"===f?void 0:f),Z.setOffsetX(s[0]*F+p+l[0]),Z.setOffsetY(s[1]*F+u+l[1]),$.setColor(ox(ob(C,"paint","text-color",g,P,x,O),c)),Z.setFill($);let h=ox(ob(C,"paint","text-halo-color",g,P,x,O),c);if(h&&a>0){S.setColor(h),a*=2;let e=.5*F;S.setWidth(a<=e?a:e),Z.setStroke(S)}else Z.setStroke(void 0);let m=ob(C,"layout","text-padding",g,P,x,O),y=Z.getPadding();m!==y[0]&&(y[0]=m,y[1]=m,y[2]=m,y[3]=m),T.setZIndex(H)}}}if(_>-1)return E.length=_+1,E};return e.setStyle(P),e.set("mapbox-source",h),e.set("mapbox-layers",v),e.set("mapbox-featurestate",e.get("mapbox-featurestate")||{}),P}(e,t,p,s,f,h,(e,t=c.webfonts)=>(function(e,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){let r=e.toString();if(r in of)return of[r];let n=[];for(let t=0,r=e.length;t<r;++t){e[t]=e[t].replace("Arial Unicode MS","Arial");let r=nP(e[t],1);(0,nq.registerFont)(r);let o=r.split(" ");n.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}for(let e=0,r=n.length;e<r;++e){let r=n[e],i=r[0];if(!function(e){if(!o){o={};let e=document.styleSheets;for(let t=0,r=e.length;t<r;++t){let r=e[t];try{let e=r.rules||r.cssRules;if(e)for(let t=0,r=e.length;t<r;++t){let r=e[t];5==r.type&&(o[r.cssText.match(op)[1].replace(od,"")]=!0)}}catch{}}}return e in o}(i)&&100!==nq.checkedFonts.get(`${r[2]}
${r[1]} 
${i}`)){let e=t.replace("{font-family}",i.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",i.replace(/ /g,"+")).replace("{fontweight}",r[1]).replace("{-fontstyle}",r[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",r[2]);if(!document.querySelector('link[href="'+e+'"]')){let t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}}}return of[r]=e,e})(e,t),c.getImage),e.getStyle()?y().then(r).catch(n):n(Error(`Nothing to show for source [${u}]`))}}if(t.sprite){let e=new URL(function(e,t,r){let n=nW(e);if(!n)return decodeURI(new URL(e,r).href);let o="sprites/";if(0!==n.indexOf(o))throw Error(`unexpected sprites url: ${e}`);let i=n.slice(o.length);return`${nK}/styles/v1/${i}/sprite?access_token=${t}`}(t.sprite,c.accessToken,l||location.href)),r=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",o=e.origin+e.pathname+r+".json"+e.search;new Promise(function(t,r){n7("Sprite",o,c).then(t).catch(function(n){n7("Sprite",o=e.origin+e.pathname+".json"+e.search,c).then(t).catch(r)})}).then(function(t){if(void 0===t&&n(Error("No sprites found.")),f=t,h=e.origin+e.pathname+r+".png"+e.search,c.transformRequest){let e=c.transformRequest(h,"SpriteImage")||h;(e instanceof Request||e instanceof Promise)&&(h=e)}v()}).catch(function(e){n(Error(`Sprites cannot be loaded: ${o}: ${e.message}`))})}else v()}).catch(n)})})(e,r,t,Object.assign({styleUrl:n},l)).then(function(){function t(){let t=s.get("mapbox-style");if(!t)return;let r=eS(t.layers),n=e.get("mapbox-layers"),o=r.filter(function(e){return n.includes(e.id)}).some(function(e){return!e.layout||!e.layout.visibility||"visible"===e.layout.visibility});e.get("visible")!==o&&e.setVisible(o)}e.on("change",t),t(),p()}).catch(d):p()};e.set("mapbox-layers",t);let h=s.getLayers();-1===h.getArray().indexOf(e)&&h.push(e),e.getSource()?f():e.once("change:source",f)})}var iu=r(52988),ic=r.n(iu),ip=r(55297),id=r.n(ip);ic(),oV();var ih=r(12038),im=r(92212),ig=r(50971),iy=r(54388),iv=r(27275);let ib=`
  id
  clientConfig
  name
  sourceConfig
  type
`,iw=`query($ids: [Int]) {
  allLayersByIds(ids: $ids) {
    ${ib}
  }
}`;var ix=r(78459),ik=class{constructor(e){this.client=e?.client}async parseMapView(e,t){let r,n,o=[...e.clientConfig?.mapView?.crsDefinitions||[],...iv.DP];iv.Nv.initProj4Definitions(f()(o,"crsCode"),!1);let i=e.clientConfig?.mapView,a=i?.projection||"EPSG:3857",s=i?.zoom||0,l=i?.resolutions;if(i?.center&&2===i.center.length&&(r=(0,ee.fromLonLat)([i.center[0],i.center[1]],a)),i?.extent&&4===i.extent.length){let e=(0,ee.fromLonLat)([i.extent[0],i.extent[1]],a),t=(0,ee.fromLonLat)([i.extent[2],i.extent[3]],a);n=[e[0],e[1],t[0],t[1]]}return new(ew())({projection:a,center:r,zoom:s,extent:n,resolutions:l,...t})}async parseLayerTree(e,t,r=!1){let n=await this.fetchLayers(e);if(n)return this.parseLayerTreeNodes(e,n,t,r)}async parseLayerTreeNodes(e,t,r,n=!1){let o=e.layerTree;if(o)try{if(this.mergeApplicationLayerConfigs(t,e),o.children){let e=await this.parseNodes(o.children,t,r,n);return new(V())({layers:e.reverse()})}}catch(e){ih.Z.warn("Could not parse the layer tree: ",e)}return new(V())}async parseMapInteractions(e){let t=e.clientConfig?.mapInteractions;if(!t)return(0,k.defaults)();let r={DragRotate:_(),DragRotateAndZoom:C(),DblClickDragZoom:x(),DoubleClickZoom:$(),DragPan:P(),PinchRotate:F(),PinchZoom:q(),KeyboardPan:N(),KeyboardZoom:I(),MouseWheelZoom:R(),DragZoom:M()};return t.map(e=>{let t=r[e];if(t)return new t;ih.Z.warn(`Interaction '${e}' not supported.`)}).filter(e=>void 0!==e)}async fetchLayers(e){let t=e.layerTree;if(!t)return;let r=this.getLayerIds(t.children);if(!this.client)return void ih.Z.warn("Cannot fetch the layers in layertree because no SHOGunClient has been provided.");if(0===r.length)return[];try{let{allLayersByIds:e}=await this.client.graphql().sendQuery({query:iw,variables:{ids:r}});return e}catch(e){return ih.Z.warn("Could not parse the layer tree: ",e),[]}}getLayerIds(e,t){let r=t??[];for(let t of e)t.children?.length>0?this.getLayerIds(t.children,r):t.layerId&&r.push(t.layerId);return r}async parseNodes(e,t,r,n=!1){let o=[];for(let i of e)if(i.children?.length>0)o.push(await this.parseFolder(i,t,r,n));else{let e=t.find(e=>e.id===i.layerId);if(e){let t;try{t=await this.parseLayer(e,r)}catch(e){ih.Z.warn("Could not parse layer: ",e)}if(!t)continue;t.setVisible(i.checked),i.title&&t.set("name",i.title),n&&t.set("clientConfig",e.clientConfig),o.push(t)}}return o}async parseFolder(e,t,r,n=!1){let o=await this.parseNodes(e.children,t,r,n),i=new(V())({layers:o.reverse()});return i.set("name",e.title),i}async parseLayer(e,t){return"WMS"===e.type?this.parseImageLayer(e):"TILEWMS"===e.type?this.parseTileLayer(e,t):"WMTS"===e.type?await this.parseWMTSLayer(e,t):"WFS"===e.type?this.parseWFSLayer(e,t):"WMSTIME"===e.type?await this.parseWMSTimeLayer(e):"XYZ"===e.type?this.parseXYZLayer(e,t):"MVT"===e.type?this.parseMvtLayer(e,t):"MAPBOXSTYLE"===e.type?await this.parseMapboxStyleLayer(e,t):void ih.Z.error(`Unsupported layer type ${e.type} given. Currently only WMS, TILEWMS, WMTS, WFS, WMSTIME, XYZ and MAPBOXSTYLE are supported.`)}parseImageLayer(e){let{attribution:t,url:r,layerNames:n,useBearerToken:o,requestParams:i={TRANSPARENT:!0}}=e.sourceConfig||{},{minResolution:a,maxResolution:s,crossOrigin:l,opacity:u}=e.clientConfig||{},c={url:r,attributions:t,params:{LAYERS:n,...i},crossOrigin:l};o&&(c.imageLoadFunction=(e,t)=>this.bearerTokenLoadFunction(e,t,!0));let p=new(er())(c),d=new(G())({source:p,minResolution:a,maxResolution:s,opacity:u});return this.setLayerProperties(d,e),d}parseTileLayer(e,t="EPSG:3857"){let r,{attribution:n,url:o,layerNames:i,useBearerToken:a,tileSize:s=256,tileOrigin:l,resolutions:u,requestParams:c={TRANSPARENT:!0}}=e.sourceConfig||{},{minResolution:p,maxResolution:d,crossOrigin:f,opacity:h}=e.clientConfig||{};s&&u&&l&&(r=new(eh())({resolutions:u,tileSize:[s,s],origin:l}));let m={url:o,tileGrid:r,attributions:n,projection:t,params:{LAYERS:i,...c},crossOrigin:f};a&&(m.tileLoadFunction=(e,t)=>this.bearerTokenLoadFunction(e,t,!0));let g=new(eo())(m),y=new(W())({source:g,minResolution:p,maxResolution:d,opacity:h});return this.setLayerProperties(y,e),y}async parseWMTSLayer(e,t="EPSG:3857"){let r,{attribution:n,url:o,layerNames:i,matrixSet:a,wmtsDimensions:s}=e.sourceConfig||{},{minResolution:l,maxResolution:u,crossOrigin:c,opacity:p}=e.clientConfig||{},d=new(b()),f=im.V.createValidGetCapabilitiesRequest(o,"WMTS");try{let e=await fetch(f),t=await e.text();r=d.read(t)}catch(e){ih.Z.error(`WMTS layer '${i}' could not be created, error while reading the WMTS GetCapabilities: ${e}`);return}let h={layer:i,projection:t};a&&(h={matrixSet:a,...h});let m=(0,eu.optionsFromCapabilities)(r,h);if(!m)throw Error("Could not get the options from the capabilities");let g=m.tileGrid;if(!g||!(g instanceof eg()))throw Error("Cannot build WMTS source without a valid tileGrid instance");let y=g.getResolutions(),v=g.getMinZoom(),w=Array(length),x=Array(length),k=Array(length);for(let e=v;e<y?.length;++e)w[e]=g.getFullTileRange(e)?.getSize(),x[e]=g.getOrigin(e),k[e]=g.getTileSize(e);if(s)for(let[e,t]of Object.entries(s)){if(!m?.dimensions?.[e])throw Error(`Layer has wmtsDimension ${e} configured but the capabilities of the layer only offer dimensions ${Object.keys(m?.dimensions).join(", ")}.`);m.dimensions[e]=t}let S=new(ec())({...m,...{tileGrid:new(eg())({resolutions:g.getResolutions(),matrixIds:g.getMatrixIds(),extent:g.getExtent(),sizes:w,origins:x,tileSizes:k}),attributions:n,crossOrigin:c}});S.set("matrixSizes",w);let $="";r.Contents?.Layer?.forEach(e=>{e.Identifier===i&&e.Style?.forEach(e=>{e.LegendURL&&($=e.LegendURL[0].href)})}),S.set("legendUrl",$);let E=new(W())({source:S,minResolution:l,maxResolution:u,opacity:p});return this.setLayerProperties(E,e),E}parseWFSLayer(e,t="EPSG:3857"){let{attribution:r,url:n,layerNames:o,useBearerToken:i}=e.sourceConfig||{},{minResolution:a,maxResolution:s,opacity:l}=e.clientConfig||{},u=new(ea())({format:new(m()),attributions:r,strategy:Q.bbox,loader:(e,r,a,s,l)=>{this.bearerTokenLoadFunctionVector({source:u,url:n,layerNames:o,extent:e,resolution:r,projection:t,success:s,failure:l},i)}}),c=new(J())({source:u,minResolution:a,maxResolution:s,opacity:l});return this.setLayerProperties(c,e),c}async parseWMSTimeLayer(e,t="EPSG:3857"){let r,n,o,i=this.parseTileLayer(e,t),a=e.sourceConfig.url,s=e.sourceConfig.requestParams?.VERSION||"1.3.0",l=im.V.createValidGetCapabilitiesRequest(a,"WMS",s),u=await ig.Z.getWmsCapabilities(l,{headers:e.sourceConfig.useBearerToken?{...(0,ix.a)(this.client?.getKeycloak())}:{}}),c=u.Capability?.Layer?.Layer?.find(t=>[e.sourceConfig.layerNames,e.sourceConfig.layerNames.split(":")[1]].filter(e=>null!==e).includes(t.Name)),p=c?.Dimension;if(!p||!(r=Array.isArray(p)?p.find(e=>"time"===e.name):"time"===p.name?p:null))return i;if("1.3.0"===s)n=r["#text"],o=r.default;else{let e,t=c?.Extent;if(!(e=Array.isArray(t)?t?.find(e=>"time"===e.name):t?.name==="time"?t:null))return i;n=e["#text"],o=e.default}return i.set("dimension",{name:r.name,values:n}),o&&i.getSource()?.updateParams({TIME:o}),i}parseXYZLayer(e,t="EPSG:3857"){let{attribution:r,tileSize:n=256,url:o,useBearerToken:i}=e.sourceConfig||{},{minResolution:a,maxResolution:s,crossOrigin:l,opacity:u}=e.clientConfig||{},c={attributions:r,crossOrigin:l,projection:t,tileSize:n,url:o};i&&(c.tileLoadFunction=(e,t)=>this.bearerTokenLoadFunction(e,t,!0));let p=new(ed())(c),d=new(W())({source:p,minResolution:a,maxResolution:s,opacity:u});return this.setLayerProperties(d,e),d}parseMvtLayer(e,t="EPSG:3857"){let{url:r,useBearerToken:n}=e.sourceConfig||{},o=new(el())({format:new(y()),url:r,projection:t});p()(n)||o.setTileLoadFunction((e,t)=>this.bearerTokenLoadFunction(e,t,!0));let i=new(X())({source:o});return this.setLayerProperties(i,e),i}async parseMapboxStyleLayer(e,t){let{url:r,useBearerToken:n,resolutions:o}=e.sourceConfig||{},{minResolution:i,maxResolution:a,opacity:s}=e.clientConfig||{},l=new(V())({minResolution:i,maxResolution:a,opacity:s});try{await function(e,t,r={}){let n,o;if(o="string"==typeof e||e instanceof HTMLElement?new(oP())({target:e}):e,"string"==typeof t){let e=t.startsWith("data:")?location.href:nB(t,r.accessToken);r=o9(e,r),n=new Promise(function(n,i){oe(t,r).then(function(t){is(t,o,e,r).then(function(){n(o)}).catch(i)}).catch(function(e){i(Error(`Could not load ${t}: ${e.message}`))})})}else n=new Promise(function(e,n){is(t,o,!r.styleUrl||r.styleUrl.startsWith("data:")?location.href:nB(r.styleUrl,r.accessToken),r).then(function(){e(o)}).catch(n)});return n}(l,r,{projection:t instanceof ee.Projection?t.getCode():t,resolutions:o,transformRequest:e=>new Request(e,{headers:n?{...(0,ix.a)(this.client?.getKeycloak())}:{}})})}catch(e){ih.Z.error(`Could apply mapbox style to OlLayerGroup: ${e}`)}return this.setLayerProperties(l,e),l}getMapScales(e,t="m"){return e.map(e=>iy.C.roundScale(iy.C.getScaleForResolution(e,t))).reverse()}mergeApplicationLayerConfigs(e,t){t.layerConfig?.forEach(t=>{let r=e.find(e=>e.id===t.layerId);r&&(r.clientConfig={...r.clientConfig,...t.clientConfig},r.sourceConfig={...r.sourceConfig,...t.sourceConfig})})}setLayerProperties(e,t){e.set("shogunId",t.id),e.set("name",t.name),e.set("type",t.type),e.set("searchable",t.clientConfig?.searchable),e.set("propertyConfig",t.clientConfig?.propertyConfig),e.set("downloadConfig",t.clientConfig?.downloadConfig),e.set("searchConfig",t.clientConfig?.searchConfig),e.set("legendUrl",t.sourceConfig?.legendUrl),e.set("hoverable",t.clientConfig?.hoverable),e.set("useBearerToken",t.sourceConfig?.useBearerToken),e.set("editable",t.clientConfig?.editable),e.set("editFormConfig",t.clientConfig?.editFormConfig),e.set("featureInfoFormConfig",t.clientConfig?.featureInfoFormConfig)}async bearerTokenLoadFunctionVector(e,t=!1){try{let r=im.V.objectToRequestString({SERVICE:"WFS",VERSION:"2.0.0",REQUEST:"GetFeature",TYPENAMES:e.layerNames,OUTPUTFORMAT:"application/json",SRSNAME:e.projection,BBOX:`${e.extent.join(",")},${e.projection}`}),n=`${e.url}${e.url.endsWith("?")?"":"?"}${r}`,o=await fetch(n,{headers:t?{...(0,ix.a)(this.client?.getKeycloak())}:{}});if(!o.ok)throw Error("No successful response");let i=e.source.getFormat()?.readFeatures(await o.json());i&&e.source.addFeatures(i),e.success&&e.success(i)}catch(t){e.source.removeLoadedExtent(e.extent),e.failure&&e.failure(),ih.Z.error("Error loading WFS: ",t)}}async bearerTokenLoadFunction(e,t,r=!1){try{let n=await fetch(t,{headers:r?{...(0,ix.a)(this.client?.getKeycloak())}:{}}),o=e.getImage();if(!n.ok)throw Error(`No successful response: ${n.status}`);let i=await n.blob();if(!/image\/*/.test(i.type))throw Error(`Unexpected format ${i.type} returned`);o.src=URL.createObjectURL(i),o.onload=()=>{URL.revokeObjectURL(t)}}catch(t){ih.Z.error("Error while loading an image tile: ",t),e.setState(ev().ERROR)}}}},78459:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});let n=e=>{let t=e?.token;return t?{Authorization:`Bearer ${t}`}:{}}},58548:function(e,t,r){"use strict";r.d(t,{y:function(){return o}});var n=r(2757);let o=()=>{let e=n.Z.getCsrfValueFromCookie();return(e||(e=n.Z.getCsrfValue()),e)?{"X-XSRF-TOKEN":e}:{}}},71337:function(e,t,r){"use strict";r.d(t,{b:function(){return k}});var n=r(78459),o=r(29964);class i{constructor(e){this.basePath=e.basePath,this.keycloak=e.keycloak}getPageUrl(e){let t={};if(Number.isFinite(e?.page)&&(t.page=e?.page),Number.isFinite(e?.size)&&(t.size=e?.size),e?.sort){let r=[...e.sort.properties,e.sort.order].filter(e=>e);r.length>0&&(t.sort=`${r.join(",")}`)}return 0===Object.keys(t).length?this.basePath:`${this.basePath}?${o.V8.objectToRequestString(t)}`}}var a=class extends i{constructor(e={basePath:"/info"}){super(e)}async getAppInfo(e){try{let t=await fetch(`${this.basePath}/app`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...e});if(!t.ok)throw Error(`HTTP error status: ${t.status}`);return await t.json()}catch(e){throw Error(`Error while requesting the application info: ${e}`)}}},s=r(58548),l=class extends i{constructor(e){super(e)}async getUserInstancePermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/instance/user`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the user instance permissions: ${e}`)}}async getGroupInstancePermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/instance/group`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the group instance permissions: ${e}`)}}async getRoleInstancePermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/instance/role`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the role instance permissions: ${e}`)}}async getUserClassPermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/class/user`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the user class permissions: ${e}`)}}async getGroupClassPermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/class/group`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the group class permissions: ${e}`)}}async getRoleClassPermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/class/role`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the role class permissions: ${e}`)}}async getUserInstancePermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/instance/user/${t}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);return await o.json()}catch(e){throw Error(`Error while requesting the user instance permission: ${e}`)}}async getGroupInstancePermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/instance/group/${t}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);return await o.json()}catch(e){throw Error(`Error while requesting the group instance permission: ${e}`)}}async getRoleInstancePermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/instance/role/${t}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);return await o.json()}catch(e){throw Error(`Error while requesting the role instance permission: ${e}`)}}async getUserClassPermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/class/user/${t}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);return await o.json()}catch(e){throw Error(`Error while requesting the user class permission: ${e}`)}}async getGroupClassPermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/class/group/${t}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);return await o.json()}catch(e){throw Error(`Error while requesting the group class permission: ${e}`)}}async getRoleClassPermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/class/role/${t}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);return await o.json()}catch(e){throw Error(`Error while requesting the role class permission: ${e}`)}}async setUserInstancePermission(e,t,r,o){try{let i=await fetch(`${this.basePath}/${e}/permissions/instance/user/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify({permission:r}),...o});if(!i.ok)throw Error(`HTTP error status: ${i.status}`)}catch(e){throw Error(`Error while adding the user instance permission: ${e}`)}}async setGroupInstancePermission(e,t,r,o){try{let i=await fetch(`${this.basePath}/${e}/permissions/instance/group/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify({permission:r}),...o});if(!i.ok)throw Error(`HTTP error status: ${i.status}`)}catch(e){throw Error(`Error while adding the group instance permission: ${e}`)}}async setRoleInstancePermission(e,t,r,o){try{let i=await fetch(`${this.basePath}/${e}/permissions/instance/role/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify({permission:r}),...o});if(!i.ok)throw Error(`HTTP error status: ${i.status}`)}catch(e){throw Error(`Error while adding the role instance permission: ${e}`)}}async setUserClassPermission(e,t,r,o){try{let i=await fetch(`${this.basePath}/${e}/permissions/class/user/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify({permission:r}),...o});if(!i.ok)throw Error(`HTTP error status: ${i.status}`)}catch(e){throw Error(`Error while adding the user class permission: ${e}`)}}async setGroupClassPermission(e,t,r,o){try{let i=await fetch(`${this.basePath}/${e}/permissions/class/group/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify({permission:r}),...o});if(!i.ok)throw Error(`HTTP error status: ${i.status}`)}catch(e){throw Error(`Error while adding the group class permission: ${e}`)}}async setRoleClassPermission(e,t,r,o){try{let i=await fetch(`${this.basePath}/${e}/permissions/class/role/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify({permission:r}),...o});if(!i.ok)throw Error(`HTTP error status: ${i.status}`)}catch(e){throw Error(`Error while adding the role class permission: ${e}`)}}async deleteUserInstancePermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/instance/user/${t}`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`)}catch(e){throw Error(`Error while removing the user instance permission: ${e}`)}}async deleteGroupInstancePermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/instance/group/${t}`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`)}catch(e){throw Error(`Error while removing the group instance permission: ${e}`)}}async deleteRoleInstancePermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/instance/role/${t}`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`)}catch(e){throw Error(`Error while removing the role instance permission: ${e}`)}}async deleteUserClassPermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/class/user/${t}`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`)}catch(e){throw Error(`Error while removing the user class permission: ${e}`)}}async deleteGroupClassPermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/class/group/${t}`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`)}catch(e){throw Error(`Error while removing the group class permission: ${e}`)}}async deleteRoleClassPermission(e,t,r){try{let o=await fetch(`${this.basePath}/${e}/permissions/class/role/${t}`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...r});if(!o.ok)throw Error(`HTTP error status: ${o.status}`)}catch(e){throw Error(`Error while removing the role class permission: ${e}`)}}async deleteUserInstancePermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/instance/user`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while removing all user instance permissions: ${e}`)}}async deleteGroupInstancePermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/instance/group`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while removing all group instance permissions: ${e}`)}}async deleteRoleInstancePermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/instance/role`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while removing all role instance permissions: ${e}`)}}async deleteUserClassPermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/class/user`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while removing all user class permissions: ${e}`)}}async deleteGroupClassPermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/class/group`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while removing all group class permissions: ${e}`)}}async deleteRoleClassPermissions(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/class/role`,{method:"DELETE",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while removing all role class permissions: ${e}`)}}async isPublic(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/public`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});return(await r.json()).public}catch(e){throw Error(`Error while checking if an entity is public: ${e}`)}}async setPublic(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/public`,{method:"POST",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while setting an entity as public: ${e}`)}}async revokePublic(e,t){try{let r=await fetch(`${this.basePath}/${e}/permissions/public`,{method:"DELETE",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while setting an entity as not public: ${e}`)}}},u=class extends l{constructor(e){super(e)}async findAllNoPaging(e){let t={page:0,size:10},r=[];try{for(;;){let o=await fetch(this.getPageUrl(t),{method:"GET",headers:{...(0,n.a)(this.keycloak)},...e});if(!o.ok)throw Error(`HTTP error status: ${o.status}`);let i=await o.json();if(r=r.concat(i.content),t.page<i.totalPages)t.page+=1;else break}return r}catch(e){throw Error(`Error while requesting all entities: ${e}`)}}async findAll(e,t){try{let r=await fetch(this.getPageUrl(e),{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting all entities: ${e}`)}}async findOne(e,t){try{let r=await fetch(`${this.basePath}/${e}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting a single entity: ${e}`)}}async add(e,t){try{let r=await fetch(this.basePath,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify(e),...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while creating an entity: ${e}`)}}async update(e,t){try{let r=await fetch(`${this.basePath}/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify(e),...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while updating an entity: ${e}`)}}async updatePartial(e,t){try{let r=await fetch(`${this.basePath}/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify(e),...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while updating an entity partially: ${e}`)}}async delete(e,t){try{let r=await fetch(`${this.basePath}/${e}`,{method:"DELETE",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while deleting an entity: ${e}`)}}getBasePath(){return this.basePath}},c=class extends u{constructor(e={basePath:"/applications"}){super(e)}async findOneByName(e,t){try{let r=await fetch(`${this.basePath}/findByName/${e}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting a single entity: ${e}`)}}},p=class extends i{constructor(e={basePath:"/sso"}){super(e)}async logout(e){try{let t=await fetch(`${this.basePath}/logout`,{method:"POST",credentials:"same-origin",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...e});if(!t.ok)throw Error(`HTTP error status: ${t.status}`);t.url?window.location.href=t.url:window.location.reload()}catch(e){throw Error(`Error while logging out: ${e}`)}}},d=class extends i{constructor(e={basePath:"/cache"}){super(e)}async evictCache(e){try{let t=await fetch(`${this.basePath}/evict`,{method:"POST",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},...e});if(!t.ok)throw Error(`HTTP error status: ${t.status}`)}catch(e){throw Error(`Error while clearing the cache: ${e}`)}}},f=class extends l{constructor(e){super(e)}async findAll(e,t){try{let r=await fetch(this.getPageUrl(e),{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting all entities: ${e}`)}}async findOne(e,t){try{let r=await fetch(`${this.basePath}/${e}`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.blob()}catch(e){throw Error(`Error while requesting a single entity: ${e}`)}}async upload(e,t=!1,r){try{let o=new FormData;o.append("file",e);let i=await fetch(`${this.basePath}/${t?"uploadToFileSystem":"upload"}`,{method:"POST",headers:{...(0,s.y)(),...(0,n.a)(this.keycloak)},body:o,...r});if(!i.ok)throw Error(`HTTP error status: ${i.status}`);return await i.json()}catch(e){throw Error(`Error while creating an entity: ${e}`)}}async delete(e,t){try{let r=await fetch(`${this.basePath}/${e}`,{method:"DELETE",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`)}catch(e){throw Error(`Error while deleting an entity: ${e}`)}}getBasePath(){return this.basePath}},h=class extends f{constructor(e={basePath:"/files"}){super(e)}},m=class extends i{constructor(e={basePath:"/graphql"}){super(e)}async sendQuery(e,t){try{let r=await fetch(this.basePath,{method:"POST",headers:{"Content-Type":"application/json",...(0,s.y)(),...(0,n.a)(this.keycloak)},body:JSON.stringify(e),...t});if(!r?.ok)throw Error(`HTTP error status: ${r?.status}`);let{data:o,errors:i}=await r.json();if(i?.length>0)throw Error(`GraphQL error: ${JSON.stringify(i,null,"	")}`);return o}catch(e){throw Error(`Error while requesting GraphQL: ${e}`)}}},g=class extends u{constructor(e={basePath:"/groups"}){super(e)}async createAllFromProvider(e){try{let t=await fetch(`${this.basePath}/createAllFromProvider`,{method:"POST",headers:{...(0,n.a)(this.keycloak)},...e});if(!t.ok)throw Error(`HTTP error status: ${t.status}`)}catch(e){throw Error(`Error while creating the groups from the group provider: ${e}`)}}},y=class extends f{constructor(e={basePath:"/imagefiles"}){super(e)}async findOneThumbnail(e,t){try{let r=await fetch(`${this.basePath}/${e}/thumbnail`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.blob()}catch(e){throw Error(`Error while requesting a single entity: ${e}`)}}},v=class extends u{constructor(e={basePath:"/layers"}){super(e)}},b=class extends i{constructor(e={basePath:"/"}){super(e)}async getApiDocs(e="v2",t){try{let r=await fetch(`${this.basePath}${e}/api-docs`,{method:"GET",headers:{...(0,n.a)(this.keycloak)},...t});if(!r.ok)throw Error(`HTTP error status: ${r.status}`);return await r.json()}catch(e){throw Error(`Error while requesting the swagger docs: ${e}`)}}},w=class extends u{constructor(e={basePath:"/roles"}){super(e)}async createAllFromProvider(e){try{let t=await fetch(`${this.basePath}/createAllFromProvider`,{method:"POST",headers:{...(0,n.a)(this.keycloak)},...e});if(!t.ok)throw Error(`HTTP error status: ${t.status}`)}catch(e){throw Error(`Error while creating the roles from the role provider: ${e}`)}}},x=class extends u{constructor(e={basePath:"/users"}){super(e)}async createAllFromProvider(e){try{let t=await fetch(`${this.basePath}/createAllFromProvider`,{method:"POST",headers:{...(0,n.a)(this.keycloak)},...e});if(!t.ok)throw Error(`HTTP error status: ${t.status}`)}catch(e){throw Error(`Error while creating the users from the user provider: ${e}`)}}};class k{constructor(e={url:"/"}){this.basePath=e.url,this.keycloak=e.keycloak}cache(){return this.cacheService||(this.cacheService=new d({basePath:`${this.basePath}cache`,keycloak:this.keycloak})),this.cacheService}info(){return this.appInfoService||(this.appInfoService=new a({basePath:`${this.basePath}info`,keycloak:this.keycloak})),this.appInfoService}application(){return this.applicationService||(this.applicationService=new c({basePath:`${this.basePath}applications`,keycloak:this.keycloak})),this.applicationService}layer(){return this.layerService||(this.layerService=new v({basePath:`${this.basePath}layers`,keycloak:this.keycloak})),this.layerService}group(){return this.groupService||(this.groupService=new g({basePath:`${this.basePath}groups`,keycloak:this.keycloak})),this.groupService}user(){return this.userService||(this.userService=new x({basePath:`${this.basePath}users`,keycloak:this.keycloak})),this.userService}role(){return this.roleService||(this.roleService=new w({basePath:`${this.basePath}roles`,keycloak:this.keycloak})),this.roleService}file(){return this.fileService||(this.fileService=new h({basePath:`${this.basePath}files`,keycloak:this.keycloak})),this.fileService}imagefile(){return this.imageFileService||(this.imageFileService=new y({basePath:`${this.basePath}imagefiles`,keycloak:this.keycloak})),this.imageFileService}auth(){return this.authService||(this.authService=new p({basePath:`${this.basePath}sso`,keycloak:this.keycloak})),this.authService}graphql(){return this.graphqlService||(this.graphqlService=new m({basePath:`${this.basePath}graphql`,keycloak:this.keycloak})),this.graphqlService}openapi(){return this.openapiService||(this.openapiService=new b({basePath:`${this.basePath}`,keycloak:this.keycloak})),this.openapiService}getBasePath(){return this.basePath}setBasePath(e){this.basePath=e}getKeycloak(){return this.keycloak}setKeycloak(e){this.keycloak=e}}},98065:function(e,t,r){"use strict";function n(e){return["small","middle","large"].includes(e)}function o(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}r.d(t,{T:function(){return o},n:function(){return n}})},33357:function(e,t,r){"use strict";r.d(t,{Z:function(){return I}});var n=r(9948),o=r(40778),i=r(69515),a=r(69485),s=r(94047),l=r(62013),u=r(94184),c=r.n(u),p=r(54490),d=r(64217),f=r(42550),h=r(96159),m=r(53124),g=r(35712),y=r(14747),v=r(83559);let b=(e,t,r,n,o)=>({background:e,border:`${(0,g.unit)(n.lineWidth)} ${n.lineType} ${t}`,[`${o}-icon`]:{color:r}}),w=e=>{let{componentCls:t,motionDurationSlow:r,marginXS:n,marginSM:o,fontSize:i,fontSizeLG:a,lineHeight:s,borderRadiusLG:l,motionEaseInOutCirc:u,withDescriptionIconSize:c,colorText:p,colorTextHeading:d,withDescriptionPadding:f,defaultPadding:h}=e;return{[t]:Object.assign(Object.assign({},(0,y.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:h,wordWrap:"break-word",borderRadius:l,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:n,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:s},"&-message":{color:d},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${u}, opacity ${r} ${u},
        padding-top ${r} ${u}, padding-bottom ${r} ${u},
        margin-bottom ${r} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:f,[`${t}-icon`]:{marginInlineEnd:o,fontSize:c,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:n,color:d,fontSize:a},[`${t}-description`]:{display:"block",color:p}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},x=e=>{let{componentCls:t,colorSuccess:r,colorSuccessBorder:n,colorSuccessBg:o,colorWarning:i,colorWarningBorder:a,colorWarningBg:s,colorError:l,colorErrorBorder:u,colorErrorBg:c,colorInfo:p,colorInfoBorder:d,colorInfoBg:f}=e;return{[t]:{"&-success":b(o,n,r,e,t),"&-info":b(f,d,p,e,t),"&-warning":b(s,a,i,e,t),"&-error":Object.assign(Object.assign({},b(c,u,l,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},k=e=>{let{componentCls:t,iconCls:r,motionDurationMid:n,marginXS:o,fontSizeIcon:i,colorIcon:a,colorIconHover:s}=e;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:i,lineHeight:(0,g.unit)(i),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:a,transition:`color ${n}`,"&:hover":{color:s}}},"&-close-text":{color:a,transition:`color ${n}`,"&:hover":{color:s}}}}};var S=(0,v.I$)("Alert",e=>[w(e),x(e),k(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`})),$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};let E={success:o.Z,info:l.Z,error:i.Z,warning:s.Z},P=e=>{let{icon:t,prefixCls:r,type:o}=e,i=E[o]||null;return t?(0,h.wm)(t,n.createElement("span",{className:`${r}-icon`},t),()=>({className:c()(`${r}-icon`,t.props.className)})):n.createElement(i,{className:`${r}-icon`})},O=e=>{let{isClosable:t,prefixCls:r,closeIcon:o,handleClose:i,ariaProps:s}=e,l=!0===o||void 0===o?n.createElement(a.Z,null):o;return t?n.createElement("button",Object.assign({type:"button",onClick:i,className:`${r}-close-icon`,tabIndex:0},s),l):null},_=n.forwardRef((e,t)=>{let{description:r,prefixCls:o,message:i,banner:a,className:s,rootClassName:l,style:u,onMouseEnter:h,onMouseLeave:g,onClick:y,afterClose:v,showIcon:b,closable:w,closeText:x,closeIcon:k,action:E,id:_}=e,j=$(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[C,T]=n.useState(!1),M=n.useRef(null);n.useImperativeHandle(t,()=>({nativeElement:M.current}));let{getPrefixCls:z,direction:N,closable:L,closeIcon:I,className:A,style:R}=(0,m.dj)("alert"),D=z("alert",o),[F,U,q]=S(D),H=t=>{var r;T(!0),null==(r=e.onClose)||r.call(e,t)},V=n.useMemo(()=>void 0!==e.type?e.type:a?"warning":"info",[e.type,a]),Z=n.useMemo(()=>"object"==typeof w&&!!w.closeIcon||!!x||("boolean"==typeof w?w:!1!==k&&null!=k||!!L),[x,k,w,L]),G=!!a&&void 0===b||b,K=c()(D,`${D}-${V}`,{[`${D}-with-description`]:!!r,[`${D}-no-icon`]:!G,[`${D}-banner`]:!!a,[`${D}-rtl`]:"rtl"===N},A,s,l,q,U),W=(0,d.Z)(j,{aria:!0,data:!0}),B=n.useMemo(()=>"object"==typeof w&&w.closeIcon?w.closeIcon:x||(void 0!==k?k:"object"==typeof L&&L.closeIcon?L.closeIcon:I),[k,w,x,I]),J=n.useMemo(()=>{let e=null!=w?w:L;if("object"==typeof e){let{closeIcon:t}=e;return $(e,["closeIcon"])}return{}},[w,L]);return F(n.createElement(p.default,{visible:!C,motionName:`${D}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:v},(t,o)=>{let{className:a,style:s}=t;return n.createElement("div",Object.assign({id:_,ref:(0,f.sQ)(M,o),"data-show":!C,className:c()(K,a),style:Object.assign(Object.assign(Object.assign({},R),u),s),onMouseEnter:h,onMouseLeave:g,onClick:y,role:"alert"},W),G?n.createElement(P,{description:r,icon:e.icon,prefixCls:D,type:V}):null,n.createElement("div",{className:`${D}-content`},i?n.createElement("div",{className:`${D}-message`},i):null,r?n.createElement("div",{className:`${D}-description`},r):null),E?n.createElement("div",{className:`${D}-action`},E):null,n.createElement(O,{isClosable:Z,prefixCls:D,closeIcon:B,handleClose:H,ariaProps:J}))}))});var j=r(6610),C=r(5991),T=r(77608),M=r(51814),z=r(46070),N=r(10379);let L=function(e){function t(){var e,r,n;return(0,j.Z)(this,t),r=t,n=arguments,r=(0,T.Z)(r),(e=(0,z.Z)(this,(0,M.Z)()?Reflect.construct(r,n||[],(0,T.Z)(this).constructor):r.apply(this,n))).state={error:void 0,info:{componentStack:""}},e}return(0,N.Z)(t,e),(0,C.Z)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){let{message:e,description:t,id:r,children:o}=this.props,{error:i,info:a}=this.state,s=(null==a?void 0:a.componentStack)||null,l=void 0===e?(i||"").toString():e;return i?n.createElement(_,{id:r,type:"error",message:l,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},void 0===t?s:t)}):o}}])}(n.Component);_.ErrorBoundary=L;var I=_},66968:function(e,t,r){"use strict";r.d(t,{J:function(){return o}});var n=r(9948);let o=r.n(n)().createContext({})},95263:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(9948),o=r.n(n),i=r(94184),a=r.n(i),s=r(98423),l=r(98065),u=r(53124),c=r(83559),p=r(40326);let d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],h=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],m=(e,t)=>{let r=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${r}`]:r&&d.includes(r)}},g=(e,t)=>{let r={};return h.forEach(n=>{r[`${e}-align-${n}`]=t.align===n}),r[`${e}-align-stretch`]=!t.align&&!!t.vertical,r},y=(e,t)=>{let r={};return f.forEach(n=>{r[`${e}-justify-${n}`]=t.justify===n}),r},v=e=>{let{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},b=e=>{let{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},w=e=>{let{componentCls:t}=e,r={};return d.forEach(e=>{r[`${t}-wrap-${e}`]={flexWrap:e}}),r},x=e=>{let{componentCls:t}=e,r={};return h.forEach(e=>{r[`${t}-align-${e}`]={alignItems:e}}),r},k=e=>{let{componentCls:t}=e,r={};return f.forEach(e=>{r[`${t}-justify-${e}`]={justifyContent:e}}),r};var S=(0,c.I$)("Flex",e=>{let{paddingXS:t,padding:r,paddingLG:n}=e,o=(0,p.mergeToken)(e,{flexGapSM:t,flexGap:r,flexGapLG:n});return[v(o),b(o),w(o),x(o),k(o)]},()=>({}),{resetStyle:!1}),$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},E=o().forwardRef((e,t)=>{let{prefixCls:r,rootClassName:n,className:i,style:c,flex:p,gap:d,children:f,vertical:h=!1,component:v="div"}=e,b=$(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:w,direction:x,getPrefixCls:k}=o().useContext(u.E_),E=k("flex",r),[P,O,_]=S(E),j=null!=h?h:null==w?void 0:w.vertical,C=a()(i,n,null==w?void 0:w.className,E,O,_,a()(Object.assign(Object.assign(Object.assign({},m(E,e)),g(E,e)),y(E,e))),{[`${E}-rtl`]:"rtl"===x,[`${E}-gap-${d}`]:(0,l.n)(d),[`${E}-vertical`]:j}),T=Object.assign(Object.assign({},null==w?void 0:w.style),c);return p&&(T.flex=p),d&&!(0,l.n)(d)&&(T.gap=d),P(o().createElement(v,Object.assign({ref:t,className:C,style:T},(0,s.Z)(b,["justify","wrap","align"])),f))})},79718:function(e,t,r){"use strict";r.d(t,{ZP:function(){return eo}});var n=r(9948),o=r.n(n),i=r(66968),a=r(53124),s=r(47890),l=r(35303),u=r(40778),c=r(69515),p=r(69485),d=r(94047),f=r(62013),h=r(45540),m=r(94184),g=r.n(m),y=r(26560),v=r(35792),b=r(35712),w=r(87263),x=r(14747),k=r(40326),S=r(83559),$=e=>{let{componentCls:t,notificationMarginEdge:r,animationMaxHeight:n}=e,o=`${t}-notice`,i=new b.Keyframes("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),a=new b.Keyframes("antNotificationTopFadeIn",{"0%":{top:-n,opacity:0},"100%":{top:0,opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[o]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:new b.Keyframes("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(n).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}})}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:i}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:r,_skip_check_:!0},[o]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:new b.Keyframes("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}})}}}}};let E=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],P={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},O=(e,t)=>{let{componentCls:r}=e;return{[`${r}-${t}`]:{[`&${r}-stack > ${r}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[P[t]]:{value:0,_skip_check_:!0}}}}},_=e=>{let t={};for(let r=1;r<e.notificationStackLayer;r++)t[`&:nth-last-child(${r+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},j=e=>{let t={};for(let r=1;r<e.notificationStackLayer;r++)t[`&:nth-last-child(${r+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var C=e=>{let{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},_(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},j(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},E.map(t=>O(e,t)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{}))};let T=e=>{let{iconCls:t,componentCls:r,boxShadow:n,fontSizeLG:o,notificationMarginBottom:i,borderRadiusLG:a,colorSuccess:s,colorInfo:l,colorWarning:u,colorError:c,colorTextHeading:p,notificationBg:d,notificationPadding:f,notificationMarginEdge:h,notificationProgressBg:m,notificationProgressHeight:g,fontSize:y,lineHeight:v,width:w,notificationIconSize:k,colorText:S}=e,$=`${r}-notice`;return{position:"relative",marginBottom:i,marginInlineStart:"auto",background:d,borderRadius:a,boxShadow:n,[$]:{padding:f,width:w,maxWidth:`calc(100vw - ${(0,b.unit)(e.calc(h).mul(2).equal())})`,overflow:"hidden",lineHeight:v,wordWrap:"break-word"},[`${$}-message`]:{marginBottom:e.marginXS,color:p,fontSize:o,lineHeight:e.lineHeightLG},[`${$}-description`]:{fontSize:y,color:S},[`${$}-closable ${$}-message`]:{paddingInlineEnd:e.paddingLG},[`${$}-with-icon ${$}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(k).equal(),fontSize:o},[`${$}-with-icon ${$}-description`]:{marginInlineStart:e.calc(e.marginSM).add(k).equal(),fontSize:y},[`${$}-icon`]:{position:"absolute",fontSize:k,lineHeight:1,[`&-success${t}`]:{color:s},[`&-info${t}`]:{color:l},[`&-warning${t}`]:{color:u},[`&-error${t}`]:{color:c}},[`${$}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,x.Qy)(e)),[`${$}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${(0,b.unit)(a)} * 2)`,left:{_skip_check_:!0,value:a},right:{_skip_check_:!0,value:a},bottom:0,blockSize:g,border:0,"&, &::-webkit-progress-bar":{borderRadius:a,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:m},"&::-webkit-progress-value":{borderRadius:a,background:m}},[`${$}-actions`]:{float:"right",marginTop:e.marginSM}}},M=e=>{let{componentCls:t,notificationMarginBottom:r,notificationMarginEdge:n,motionDurationMid:o,motionEaseInOut:i}=e,a=`${t}-notice`,s=new b.Keyframes("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:r},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,x.Wf)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:n,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:i,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:i,animationFillMode:"both",animationDuration:o,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:s,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${a}-actions`]:{float:"left"}}})},{[t]:{[`${a}-wrapper`]:Object.assign({},T(e))}}]},z=e=>({zIndexPopup:e.zIndexPopupBase+w.u6+50,width:384}),N=e=>{let t=e.paddingMD,r=e.paddingLG;return(0,k.mergeToken)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:r,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,b.unit)(e.paddingMD)} ${(0,b.unit)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var L=(0,S.I$)("Notification",e=>{let t=N(e);return[M(t),$(t),C(t)]},z),I=(0,S.bk)(["Notification","PurePanel"],e=>{let t=`${e.componentCls}-notice`,r=N(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},T(r)),{width:r.width,maxWidth:`calc(100vw - ${(0,b.unit)(e.calc(r.notificationMarginEdge).mul(2).equal())})`,margin:0})}},z),A=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function R(e,t){return null===t||!1===t?null:t||n.createElement(p.Z,{className:`${e}-close-icon`})}f.Z,u.Z,c.Z,d.Z,h.Z;let D={success:u.Z,info:f.Z,error:c.Z,warning:d.Z},F=e=>{let{prefixCls:t,icon:r,type:o,message:i,description:a,actions:s,role:l="alert"}=e,u=null;return r?u=n.createElement("span",{className:`${t}-icon`},r):o&&(u=n.createElement(D[o]||null,{className:g()(`${t}-icon`,`${t}-icon-${o}`)})),n.createElement("div",{className:g()({[`${t}-with-icon`]:u}),role:l},u,n.createElement("div",{className:`${t}-message`},i),n.createElement("div",{className:`${t}-description`},a),s&&n.createElement("div",{className:`${t}-actions`},s))};var U=r(27288),q=r(11458),H=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};let V=e=>{let{children:t,prefixCls:r}=e,n=(0,v.Z)(r),[i,a,s]=L(r,n);return i(o().createElement(y.JB,{classNames:{list:g()(a,s,n)}},t))},Z=(e,t)=>{let{prefixCls:r,key:n}=t;return o().createElement(V,{prefixCls:r,key:n},e)},G=o().forwardRef((e,t)=>{let{top:r,bottom:i,prefixCls:s,getContainer:l,maxCount:u,rtl:c,onAllRemoved:p,stack:d,duration:f,pauseOnHover:h=!0,showProgress:m}=e,{getPrefixCls:v,getPopupContainer:b,notification:w,direction:x}=(0,n.useContext)(a.E_),[,k]=(0,q.ZP)(),S=s||v("notification"),[$,E]=(0,y.lm)({prefixCls:S,style:e=>(function(e,t,r){let n;switch(e){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":n={left:0,top:"auto",bottom:r};break;default:n={right:0,top:"auto",bottom:r}}return n})(e,null!=r?r:24,null!=i?i:24),className:()=>g()({[`${S}-rtl`]:null!=c?c:"rtl"===x}),motion:()=>({motionName:`${S}-fade`}),closable:!0,closeIcon:R(S),duration:null!=f?f:4.5,getContainer:()=>(null==l?void 0:l())||(null==b?void 0:b())||document.body,maxCount:u,pauseOnHover:h,showProgress:m,onAllRemoved:p,renderNotifications:Z,stack:!1!==d&&{threshold:"object"==typeof d?null==d?void 0:d.threshold:void 0,offset:8,gap:k.margin}});return o().useImperativeHandle(t,()=>Object.assign(Object.assign({},$),{prefixCls:S,notification:w})),E});function K(e){let t=o().useRef(null);return(0,U.ln)("Notification"),[o().useMemo(()=>{let r=r=>{var n;if(!t.current)return;let{open:i,prefixCls:a,notification:s}=t.current,l=`${a}-notice`,{message:u,description:c,icon:p,type:d,btn:f,actions:h,className:m,style:y,role:v="alert",closeIcon:b,closable:w}=r,x=H(r,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),k=R(l,void 0!==b?b:void 0!==(null==e?void 0:e.closeIcon)?e.closeIcon:null==s?void 0:s.closeIcon);return i(Object.assign(Object.assign({placement:null!=(n=null==e?void 0:e.placement)?n:"topRight"},x),{content:o().createElement(F,{prefixCls:l,icon:p,type:d,message:u,description:c,actions:null!=h?h:f,role:v}),className:g()(d&&`${l}-${d}`,m,null==s?void 0:s.className),style:Object.assign(Object.assign({},null==s?void 0:s.style),y),closeIcon:k,closable:null!=w?w:!!k}))},n={open:r,destroy:e=>{var r,n;void 0!==e?null==(r=t.current)||r.close(e):null==(n=t.current)||n.destroy()}};return["success","info","warning","error"].forEach(e=>{n[e]=t=>r(Object.assign(Object.assign({},t),{type:e}))}),n},[]),o().createElement(G,Object.assign({key:"notification-holder"},e,{ref:t}))]}let W=null,B=e=>e(),J=[],Y={};function X(){let{getContainer:e,rtl:t,maxCount:r,top:n,bottom:o,showProgress:i,pauseOnHover:a}=Y,s=(null==e?void 0:e())||document.body;return{getContainer:()=>s,rtl:t,maxCount:r,top:n,bottom:o,showProgress:i,pauseOnHover:a}}let Q=o().forwardRef((e,t)=>{let{notificationConfig:r,sync:s}=e,{getPrefixCls:l}=(0,n.useContext)(a.E_),u=Y.prefixCls||l("notification"),c=(0,n.useContext)(i.J),[p,d]=K(Object.assign(Object.assign(Object.assign({},r),{prefixCls:u}),c.notification));return o().useEffect(s,[]),o().useImperativeHandle(t,()=>{let e=Object.assign({},p);return Object.keys(e).forEach(t=>{e[t]=function(){return s(),p[t].apply(p,arguments)}}),{instance:e,sync:s}}),d}),ee=o().forwardRef((e,t)=>{let[r,n]=o().useState(X),i=()=>{n(X)};o().useEffect(i,[]);let a=(0,s.w6)(),l=a.getRootPrefixCls(),u=a.getIconPrefixCls(),c=a.getTheme(),p=o().createElement(Q,{ref:t,sync:i,notificationConfig:r});return o().createElement(s.ZP,{prefixCls:l,iconPrefixCls:u,theme:c},a.holderRender?a.holderRender(p):p)});function et(){if(!W){let e=document.createDocumentFragment(),t={fragment:e};W=t,B(()=>{(0,l.x)()(o().createElement(ee,{ref:e=>{let{instance:r,sync:n}=e||{};Promise.resolve().then(()=>{!t.instance&&r&&(t.instance=r,t.sync=n,et())})}}),e)});return}W.instance&&(J.forEach(e=>{switch(e.type){case"open":B(()=>{W.instance.open(Object.assign(Object.assign({},Y),e.config))});break;case"destroy":B(()=>{null==W||W.instance.destroy(e.key)})}}),J=[])}function er(e){(0,s.w6)(),J.push({type:"open",config:e}),et()}let en={open:er,destroy:e=>{J.push({type:"destroy",key:e}),et()},config:function(e){Y=Object.assign(Object.assign({},Y),e),B(()=>{var e;null==(e=null==W?void 0:W.sync)||e.call(W)})},useNotification:function(e){return K(e)},_InternalPanelDoNotUseOrYouWillBeFired:e=>{let{prefixCls:t,className:r,icon:o,type:i,message:s,description:l,btn:u,actions:c,closable:p=!0,closeIcon:d,className:f}=e,h=A(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:m}=n.useContext(a.E_),b=t||m("notification"),w=`${b}-notice`,x=(0,v.Z)(b),[k,S,$]=L(b,x);return k(n.createElement("div",{className:g()(`${w}-pure-panel`,S,r,$,x)},n.createElement(I,{prefixCls:b}),n.createElement(y.qX,Object.assign({},h,{prefixCls:b,eventKey:"pure",duration:null,closable:p,className:g()({notificationClassName:f}),closeIcon:R(b,d),content:n.createElement(F,{prefixCls:w,icon:o,type:i,message:s,description:l,actions:null!=c?c:u})}))))}};["success","info","warning","error"].forEach(e=>{en[e]=t=>er(Object.assign(Object.assign({},t),{type:e}))});var eo=en},72674:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=n(r(63797)).default},56912:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=n(r(50745)).default},37235:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=n(r(91908)).default},81332:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=n(r(39178)).default},63797:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(4980)),i=n(r(7231));t.default={lang:Object.assign({placeholder:"Vybrat datum",rangePlaceholder:["Od","Do"]},o.default),timePickerLocale:Object.assign({},i.default)}},50745:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(81209)),i=n(r(3029));t.default={lang:Object.assign({placeholder:"Datum ausw\xe4hlen",rangePlaceholder:["Startdatum","Enddatum"],shortWeekDays:["So","Mo","Di","Mi","Do","Fr","Sa"],shortMonths:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},o.default),timePickerLocale:Object.assign({},i.default)}},91908:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(22363)),i=n(r(20911));t.default={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},o.default),timePickerLocale:Object.assign({},i.default)}},39178:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(5491)),i=n(r(96395));t.default={lang:Object.assign({placeholder:"Wybierz datę",rangePlaceholder:["Data początkowa","Data końcowa"],yearFormat:"YYYY",monthFormat:"MMMM",monthBeforeYear:!0,shortWeekDays:["Niedz","Pon","Wt","Śr","Czw","Pt","Sob"],shortMonths:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"]},o.default),timePickerLocale:Object.assign({},i.default)}},93022:function(e,t,r){"use strict";var n=r(95318).default;t.default=void 0;var o=n(r(39358)),i=n(r(72674)),a=n(r(63797)),s=n(r(7231));let l="${label} nen\xed platn\xfd ${type}";t.default={locale:"cs",Pagination:o.default,DatePicker:a.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"Pros\xedm vyber"},Table:{filterTitle:"Filtr",filterConfirm:"Potvrdit",filterReset:"Obnovit",filterEmptyText:"Ž\xe1dn\xe9 filtry",filterCheckAll:"Vybrat všechny položky",filterSearchPlaceholder:"Vyhledat ve filtrech",emptyText:"Ž\xe1dn\xe1 data",selectAll:"Vybrat všechny ř\xe1dky na současn\xe9 str\xe1nce",selectInvert:"Invertovat v\xfdběr na současn\xe9 str\xe1nce",selectNone:"Odznačit vše",selectionAll:"Vybrat všechny ř\xe1dky",sortTitle:"Řadit",expand:"Rozbalit ř\xe1dek",collapse:"Zabalit ř\xe1dek",triggerDesc:"Klikni pro sestupn\xe9 řazen\xed",triggerAsc:"Klikni pro vzestupn\xe9 řazen\xed",cancelSort:"Klikni pro zrušen\xed řazen\xed"},Modal:{okText:"OK",cancelText:"Zrušit",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Zrušit"},Transfer:{titles:["",""],searchPlaceholder:"Vyhled\xe1v\xe1n\xed",itemUnit:"položka",itemsUnit:"položek",remove:"Odstranit",selectCurrent:"Vybrat aktu\xe1ln\xed stranu",removeCurrent:"Smazat aktu\xe1ln\xed stranu",selectAll:"Označit vše",removeAll:"Odznačit vše",selectInvert:"Opačn\xfd v\xfdběr"},Upload:{uploading:"Nahr\xe1v\xe1n\xed...",removeFile:"Odstranit soubor",uploadError:"Chyba při nahr\xe1v\xe1n\xed",previewFile:"Zobrazit soubor",downloadFile:"St\xe1hnout soubor"},Empty:{description:"Ž\xe1dn\xe1 data"},Icon:{icon:"ikona"},Text:{edit:"Upravit",copy:"Kop\xedrovat",copied:"Zkop\xedrovan\xe9",expand:"Zvětšit"},Form:{optional:"(nepovinn\xe9)",defaultValidateMessages:{default:"Validačn\xed chyba pole pro ${label}",required:"Pros\xedm vložte ${label}",enum:"${label} mus\xed b\xfdt jeden z [${enum}]",whitespace:"${label} nemůže b\xfdt pr\xe1zdn\xfd znak",date:{format:"${label} form\xe1t datumu je neplatn\xfd",parse:"${label} nen\xed možn\xe9 konvertovat na datum",invalid:"${label} je neplatn\xe9 datum"},types:{string:l,method:l,array:l,object:l,number:l,date:l,boolean:l,integer:l,float:l,regexp:l,email:l,url:l,hex:l},string:{len:"${label} mus\xed b\xfdt ${len} znaků",min:"${label} mus\xed b\xfdt alespoň ${min} znaků",max:"${label} mus\xed b\xfdt do ${max} znaků",range:"${label} mus\xed b\xfdt mezi ${min}-${max} znaky"},number:{len:"${label} mus\xed b\xfdt stejn\xfd jako ${len}",min:"${label} mus\xed b\xfdt minim\xe1lně ${min}",max:"${label} mus\xed b\xfdt maxim\xe1lně ${max}",range:"${label} mus\xed b\xfdt mezi ${min}-${max}"},array:{len:"Mus\xed b\xfdt ${len} ${label}",min:"Alespoň ${min} ${label}",max:"Nejv\xedc ${max} ${label}",range:"Počet ${label} mus\xed b\xfdt mezi ${min}-${max}"},pattern:{mismatch:"${label} neodpov\xedd\xe1 vzoru ${pattern}"}}},Image:{preview:"N\xe1hled"}}},17699:function(e,t,r){"use strict";var n=r(95318).default;t.default=void 0;var o=n(r(34131)),i=n(r(56912)),a=n(r(50745)),s=n(r(3029));let l="${label} ist nicht g\xfcltig. ${type} erwartet";t.default={locale:"de",Pagination:o.default,DatePicker:a.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"Bitte ausw\xe4hlen"},Table:{filterTitle:"Filter-Men\xfc",filterConfirm:"OK",filterReset:"Zur\xfccksetzen",filterEmptyText:"Keine Filter",filterSearchPlaceholder:"Suche in Filtern",filterCheckAll:"Alle ausw\xe4hlen",selectAll:"Selektiere Alle",selectInvert:"Selektion Invertieren",selectionAll:"W\xe4hlen Sie alle Daten aus",sortTitle:"Sortieren",emptyText:"Keine Daten",expand:"Zeile erweitern",collapse:"Zeile reduzieren",triggerDesc:"Klicken zur absteigenden Sortierung",triggerAsc:"Klicken zur aufsteigenden Sortierung",cancelSort:"Klicken zum Abbrechen der Sortierung"},Tour:{Next:"Weiter",Previous:"Zur\xfcck",Finish:"Fertig"},Modal:{okText:"OK",cancelText:"Abbrechen",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Abbrechen"},Transfer:{titles:["",""],searchPlaceholder:"Suchen",itemUnit:"Eintrag",itemsUnit:"Eintr\xe4ge",remove:"Entfernen",selectCurrent:"Alle auf aktueller Seite ausw\xe4hlen",removeCurrent:"Auswahl auf aktueller Seite aufheben",selectAll:"Alle ausw\xe4hlen",deselectAll:"Alle abw\xe4hlen",removeAll:"Auswahl aufheben",selectInvert:"Auswahl umkehren"},Upload:{uploading:"Hochladen...",removeFile:"Datei entfernen",uploadError:"Fehler beim Hochladen",previewFile:"Dateivorschau",downloadFile:"Download-Datei"},Empty:{description:"Keine Daten"},Text:{edit:"Bearbeiten",copy:"Kopieren",copied:"Kopiert",expand:"Erweitern"},Form:{defaultValidateMessages:{default:"Feld-Validierungsfehler: ${label}",required:"Bitte geben Sie ${label} an",enum:"${label} muss eines der folgenden sein [${enum}]",whitespace:"${label} darf kein Leerzeichen sein",date:{format:"${label} ist ein ung\xfcltiges Datumsformat",parse:"${label} kann nicht in ein Datum umgewandelt werden",invalid:"${label} ist ein ung\xfcltiges Datum"},types:{string:l,method:l,array:l,object:l,number:l,date:l,boolean:l,integer:l,float:l,regexp:l,email:l,url:l,hex:l},string:{len:"${label} muss genau ${len} Zeichen lang sein",min:"${label} muss mindestens ${min} Zeichen lang sein",max:"${label} darf h\xf6chstens ${max} Zeichen lang sein",range:"${label} muss zwischen ${min} und ${max} Zeichen lang sein"},number:{len:"${label} muss gleich ${len} sein",min:"${label} muss mindestens ${min} sein",max:"${label} darf maximal ${max} sein",range:"${label} muss zwischen ${min} und ${max} liegen"},array:{len:"Es m\xfcssen ${len} ${label} sein",min:"Es m\xfcssen mindestens ${min} ${label} sein",max:"Es d\xfcrfen maximal ${max} ${label} sein",range:"Die Anzahl an ${label} muss zwischen ${min} und ${max} liegen"},pattern:{mismatch:"${label} entspricht nicht dem ${pattern} Muster"}}},Image:{preview:"Vorschau"},QRCode:{expired:"QR-Code abgelaufen",refresh:"Aktualisieren"}}},67502:function(e,t,r){"use strict";var n=r(95318).default;t.default=void 0;var o=n(r(32315)),i=n(r(37235)),a=n(r(91908)),s=n(r(20911));let l="${label} is not a valid ${type}";t.default={locale:"en-gb",Pagination:o.default,DatePicker:a.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:l,method:l,array:l,object:l,number:l,date:l,boolean:l,integer:l,float:l,regexp:l,email:l,url:l,hex:l},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}}},54306:function(e,t,r){"use strict";var n=r(95318).default;t.default=void 0;var o=n(r(85554)),i=n(r(81332)),a=n(r(39178)),s=n(r(96395));let l="${label} nie posiada poprawnej wartości dla typu ${type}";t.default={locale:"pl",Pagination:o.default,DatePicker:a.default,TimePicker:s.default,Calendar:i.default,global:{placeholder:"Wybierz"},Table:{filterTitle:"Menu filtra",filterConfirm:"OK",filterReset:"Usuń filtry",filterEmptyText:"Brak filtr\xf3w",filterCheckAll:"Wybierz wszystkie elementy",filterSearchPlaceholder:"Szukaj w filtrach",emptyText:"Brak danych",selectAll:"Zaznacz bieżącą stronę",selectInvert:"Odwr\xf3ć zaznaczenie",selectNone:"Wyczyść",selectionAll:"Wybierz wszystkie",sortTitle:"Sortowanie",expand:"Rozwiń wiersz",collapse:"Zwiń wiersz",triggerDesc:"Sortuj malejąco",triggerAsc:"Sortuj rosnąco",cancelSort:"Usuń sortowanie"},Tour:{Next:"Dalej",Previous:"Wr\xf3ć",Finish:"Zakończ"},Modal:{okText:"OK",cancelText:"Anuluj",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Anuluj"},Transfer:{titles:["",""],searchPlaceholder:"Szukaj",itemUnit:"obiekt",itemsUnit:"obiekty",remove:"Usuń",selectCurrent:"Wybierz aktualną stronę",removeCurrent:"Usuń aktualną stronę",selectAll:"Wybierz wszystkie",removeAll:"Usuń wszystkie",selectInvert:"Odwr\xf3ć wyb\xf3r"},Upload:{uploading:"Wysyłanie...",removeFile:"Usuń plik",uploadError:"Błąd wysyłania",previewFile:"Podejrzyj plik",downloadFile:"Pobieranie pliku"},Empty:{description:"Brak danych"},Icon:{icon:"Ikona"},Text:{edit:"Edytuj",copy:"Kopiuj",copied:"Skopiowany",expand:"Rozwiń"},Form:{optional:"(opcjonalne)",defaultValidateMessages:{default:"Błąd walidacji dla pola ${label}",required:"Pole ${label} jest wymagane",enum:"Pole ${label} musi posiadać wartość z listy: [${enum}]",whitespace:"Pole ${label} nie może być puste",date:{format:"${label} posiada zły format daty",parse:"${label} nie może zostać zinterpretowane jako data",invalid:"${label} jest niepoprawną datą"},types:{string:l,method:l,array:l,object:l,number:l,date:l,boolean:l,integer:l,float:l,regexp:l,email:l,url:l,hex:l},string:{len:"${label} musi posiadać ${len} znak\xf3w",min:"${label} musi posiadać co namniej ${min} znak\xf3w",max:"${label} musi posiadać maksymalnie ${max} znak\xf3w",range:"${label} musi posiadać między ${min} a ${max} znak\xf3w"},number:{len:"${label} musi mieć wartość o długości ${len}",min:"${label} musi mieć wartość większą lub r\xf3wną ${min}",max:"${label} musi mieć wartość mniejszą lub r\xf3wną ${max}",range:"${label} musi mieć wartość pomiędzy ${min} a ${max}"},array:{len:"${label} musi posiadać ${len} element\xf3w",min:"${label} musi posiadać co najmniej ${min} element\xf3w",max:"${label} musi posiadać maksymalnie ${max} element\xf3w",range:"${label} musi posiadać między ${min} a ${max} element\xf3w"},pattern:{mismatch:"${label} nie posiada wartości zgodnej ze wzorem ${pattern}"}}},Image:{preview:"Podgląd"}}},7231:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={placeholder:"Vybrat čas"}},3029:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={placeholder:"Zeit ausw\xe4hlen",rangePlaceholder:["Startzeit","Endzeit"]}},20911:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={placeholder:"Select time"}},96395:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={placeholder:"Wybierz godzinę"}},67217:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(8874);let o=Object.create(null);for(let e in n.Z)Object.hasOwn(n.Z,e)&&(o[n.Z[e]]=e);let i={to:{},get:{}};function a(e,t,r){return Math.min(Math.max(t,e),r)}function s(e){let t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}i.get=function(e){let t,r;switch(e.slice(0,3).toLowerCase()){case"hsl":t=i.get.hsl(e),r="hsl";break;case"hwb":t=i.get.hwb(e),r="hwb";break;default:t=i.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},i.get.rgb=function(e){let t,r,o;if(!e)return null;let i=[0,0,0,1];if(t=e.match(/^#([a-f\d]{6})([a-f\d]{2})?$/i)){for(r=0,o=t[2],t=t[1];r<3;r++){let e=2*r;i[r]=Number.parseInt(t.slice(e,e+2),16)}o&&(i[3]=Number.parseInt(o,16)/255)}else if(t=e.match(/^#([a-f\d]{3,4})$/i)){for(r=0,o=(t=t[1])[3];r<3;r++)i[r]=Number.parseInt(t[r]+t[r],16);o&&(i[3]=Number.parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)i[r]=Number.parseInt(t[r+1],10);t[4]&&(i[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}else if(t=e.match(/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)i[r]=Math.round(2.55*Number.parseFloat(t[r+1]));t[4]&&(i[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}else if(!(t=e.match(/^(\w+)$/)))return null;else return"transparent"===t[1]?[0,0,0,0]:Object.hasOwn(n.Z,t[1])?((i=n.Z[t[1]])[3]=1,i):null;for(r=0;r<3;r++)i[r]=a(i[r],0,255);return i[3]=a(i[3],0,1),i},i.get.hsl=function(e){if(!e)return null;let t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){let e=Number.parseFloat(t[4]),r=(Number.parseFloat(t[1])%360+360)%360,n=a(Number.parseFloat(t[2]),0,100);return[r,n,a(Number.parseFloat(t[3]),0,100),a(Number.isNaN(e)?1:e,0,1)]}return null},i.get.hwb=function(e){if(!e)return null;let t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){let e=Number.parseFloat(t[4]),r=(Number.parseFloat(t[1])%360+360)%360,n=a(Number.parseFloat(t[2]),0,100);return[r,n,a(Number.parseFloat(t[3]),0,100),a(Number.isNaN(e)?1:e,0,1)]}return null},i.to.hex=function(...e){return"#"+s(e[0])+s(e[1])+s(e[2])+(e[3]<1?s(Math.round(255*e[3])):"")},i.to.rgb=function(...e){return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},i.to.rgb.percent=function(...e){let t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},i.to.hsl=function(...e){return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},i.to.hwb=function(...e){let t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},i.to.keyword=function(...e){return o[e.slice(0,3)]};let l={};for(let e of Object.keys(n.Z))l[n.Z[e]]=e;let u={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},c=(6/29)**3;for(let e of Object.keys(u)){if(!("channels"in u[e]))throw Error("missing channels property: "+e);if(!("labels"in u[e]))throw Error("missing channel labels property: "+e);if(u[e].labels.length!==u[e].channels)throw Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=u[e];delete u[e].channels,delete u[e].labels,Object.defineProperty(u[e],"channels",{value:t}),Object.defineProperty(u[e],"labels",{value:r})}u.rgb.hsl=function(e){let t,r=e[0]/255,n=e[1]/255,o=e[2]/255,i=Math.min(r,n,o),a=Math.max(r,n,o),s=a-i;switch(a){case i:t=0;break;case r:t=(n-o)/s;break;case n:t=2+(o-r)/s;break;case o:t=4+(r-n)/s}(t=Math.min(60*t,360))<0&&(t+=360);let l=(i+a)/2;return[t,100*(a===i?0:l<=.5?s/(a+i):s/(2-a-i)),100*l]},u.rgb.hsv=function(e){let t,r,n,o,i,a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),p=function(e){return(u-e)/6/c+.5};if(0===c)o=0,i=0;else{switch(i=c/u,t=p(a),r=p(s),n=p(l),u){case a:o=n-r;break;case s:o=1/3+t-n;break;case l:o=2/3+r-t}o<0?o+=1:o>1&&(o-=1)}return[360*o,100*i,100*u]},u.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2];return[u.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,n))*100,100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},u.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,o=Math.min(1-t,1-r,1-n);return[100*((1-t-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*o]},u.rgb.keyword=function(e){let t,r=l[e];if(r)return r;let o=Number.POSITIVE_INFINITY;for(let r of Object.keys(n.Z)){let i=n.Z[r],a=(e[0]-i[0])**2+(e[1]-i[1])**2+(e[2]-i[2])**2;a<o&&(o=a,t=r)}return t},u.keyword.rgb=function(e){return n.Z[e]},u.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124564*(t=t>.04045?((t+.055)/1.055)**2.4:t/12.92)+.3575761*(r=r>.04045?((r+.055)/1.055)**2.4:r/12.92)+.1804375*(n=n>.04045?((n+.055)/1.055)**2.4:n/12.92)),100*(.2126729*t+.7151522*r+.072175*n),100*(.0193339*t+.119192*r+.9503041*n)]},u.rgb.lab=function(e){let t=u.rgb.xyz(e),r=t[0],n=t[1],o=t[2];return r/=95.047,n/=100,o/=108.883,r=r>c?r**(1/3):7.787*r+16/116,[116*(n=n>c?n**(1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(o=o>c?o**(1/3):7.787*o+16/116))]},u.hsl.rgb=function(e){let t,r,n=e[0]/360,o=e[1]/100,i=e[2]/100;if(0===o)return[r=255*i,r,r];let a=i<.5?i*(1+o):i+o-i*o,s=2*i-a,l=[0,0,0];for(let e=0;e<3;e++)(t=n+-(1/3*(e-1)))<0&&t++,t>1&&t--,r=6*t<1?s+(a-s)*6*t:2*t<1?a:3*t<2?s+(a-s)*(2/3-t)*6:s,l[e]=255*r;return l},u.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,o=r,i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,o*=i<=1?i:2-i;let a=(n+r)/2;return[t,100*(0===n?2*o/(i+o):2*r/(n+r)),100*a]},u.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*n*(1-r),s=255*n*(1-r*i),l=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,l,a];case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}},u.hsv.hsl=function(e){let t,r,n=e[0],o=e[1]/100,i=e[2]/100,a=Math.max(i,.01);r=(2-o)*i;let s=(2-o)*a;return[n,100*(t=(t=o*a/(s<=1?s:2-s))||0),100*(r/=2)]},u.hwb.rgb=function(e){let t,r,n,o,i=e[0]/360,a=e[1]/100,s=e[2]/100,l=a+s;l>1&&(a/=l,s/=l);let u=Math.floor(6*i),c=1-s;t=6*i-u,(1&u)!=0&&(t=1-t);let p=a+t*(c-a);switch(u){default:case 6:case 0:r=c,n=p,o=a;break;case 1:r=p,n=c,o=a;break;case 2:r=a,n=c,o=p;break;case 3:r=a,n=p,o=c;break;case 4:r=p,n=a,o=c;break;case 5:r=c,n=a,o=p}return[255*r,255*n,255*o]},u.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},u.xyz.rgb=function(e){let t,r,n,o=e[0]/100,i=e[1]/100,a=e[2]/100;return t=(t=3.2404542*o+-1.5371385*i+-.4985314*a)>.0031308?1.055*t**(1/2.4)-.055:12.92*t,r=(r=-.969266*o+1.8760108*i+.041556*a)>.0031308?1.055*r**(1/2.4)-.055:12.92*r,n=(n=.0556434*o+-.2040259*i+1.0572252*a)>.0031308?1.055*n**(1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},u.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];return t/=95.047,r/=100,n/=108.883,t=t>c?t**(1/3):7.787*t+16/116,[116*(r=r>c?r**(1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>c?n**(1/3):7.787*n+16/116))]},u.lab.xyz=function(e){let t,r,n,o=e[0],i=e[1],a=e[2];t=i/500+(r=(o+16)/116),n=r-a/200;let s=r**3,l=t**3,u=n**3;return r=(s>c?s:(r-16/116)/7.787)*100,[t=(l>c?l:(t-16/116)/7.787)*95.047,r,n=(u>c?u:(n-16/116)/7.787)*108.883]},u.lab.lch=function(e){let t,r=e[0],n=e[1],o=e[2];return(t=360*Math.atan2(o,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+o*o),t]},u.lch.lab=function(e){let t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},u.rgb.ansi16=function(e,t=null){let[r,n,o]=e,i=null===t?u.rgb.hsv(e)[2]:t;if(0===(i=Math.round(i/50)))return 30;let a=30+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===i&&(a+=60),a},u.hsv.ansi16=function(e){return u.rgb.ansi16(u.hsv.rgb(e),e[2])},u.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t>>4==r>>4&&r>>4==n>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},u.ansi16.rgb=function(e){let t=(e=e[0])%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];let r=(Math.trunc(e>50)+1)*.5;return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},u.ansi256.rgb=function(e){let t;if((e=e[0])>=232){let t=(e-232)*10+8;return[t,t,t]}return[Math.floor((e-=16)/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},u.rgb.hex=function(e){let t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".slice(t.length)+t},u.hex.rgb=function(e){let t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=[...r].map(e=>e+e).join(""));let n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},u.rgb.hcg=function(e){let t,r=e[0]/255,n=e[1]/255,o=e[2]/255,i=Math.max(Math.max(r,n),o),a=Math.min(Math.min(r,n),o),s=i-a;return[360*((s<=0?0:i===r?(n-o)/s%6:i===n?2+(o-r)/s:4+(r-n)/s)/6%1),100*s,100*(s<1?a/(1-s):0)]},u.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),o=0;return n<1&&(o=(r-.5*n)/(1-n)),[e[0],100*n,100*o]},u.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},u.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];let o=[0,0,0],i=t%1*6,a=i%1,s=1-a,l=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return l=(1-r)*n,[(r*o[0]+l)*255,(r*o[1]+l)*255,(r*o[2]+l)*255]},u.hcg.hsv=function(e){let t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},u.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},u.hcg.hwb=function(e){let t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],(r-t)*100,(1-r)*100]},u.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,n=r-t,o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},u.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},u.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},u.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},u.gray.hsl=function(e){return[0,0,e[0]]},u.gray.hsv=u.gray.hsl,u.gray.hwb=function(e){return[0,100,e[0]]},u.gray.cmyk=function(e){return[0,0,0,e[0]]},u.gray.lab=function(e){return[e[0],0,0]},u.gray.hex=function(e){let t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(r.length)+r},u.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};let p={};for(let e of Object.keys(u)){p[e]={},Object.defineProperty(p[e],"channels",{value:u[e].channels}),Object.defineProperty(p[e],"labels",{value:u[e].labels});let t=function(e){let t=function(e){let t=function(){let e={},t=Object.keys(u);for(let{length:r}=t,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length>0;){let e=r.pop(),n=Object.keys(u[e]);for(let{length:o}=n,i=0;i<o;i++){let o=n[i],a=t[o];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,r.unshift(o))}}return t}(e),r={},n=Object.keys(t);for(let{length:e}=n,o=0;o<e;o++){let e=n[o];null!==t[e].parent&&(r[e]=function(e,t){let r=[t[e].parent,e],n=u[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)r.unshift(t[o].parent),n=function(e,t){return function(r){return t(e(r))}}(u[t[o].parent][o],n),o=t[o].parent;return n.conversion=r,n}(e,t))}return r}(e);for(let r of Object.keys(t)){let n=t[r];p[e][r]=function(e){let t=function(...t){let r=t[0];if(null==r)return r;r.length>1&&(t=r);let n=e(t);if("object"==typeof n)for(let{length:e}=n,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),p[e][r].raw=function(e){let t=function(...t){let r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}}let d=["keyword","gray","hex"],f={};for(let e of Object.keys(p))f[[...p[e].labels].sort().join("")]=e;let h={};function m(e,t){let r,n;if(!(this instanceof m))return new m(e,t);if(t&&t in d&&(t=null),t&&!(t in p))throw Error("Unknown model: "+t);if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof m)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){let t=i.get(e);if(null===t)throw Error("Unable to parse color from string: "+e);this.model=t.model,n=p[this.model].channels,this.color=t.value.slice(0,n),this.valpha="number"==typeof t.value[n]?t.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=p[this.model].channels;let r=Array.prototype.slice.call(e,0,n);this.color=v(r,n),this.valpha="number"==typeof e[n]?e[n]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;let t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);let n=t.sort().join("");if(!(n in f))throw Error("Unable to parse color from object: "+JSON.stringify(e));this.model=f[n];let{labels:o}=p[this.model],i=[];for(r=0;r<o.length;r++)i.push(e[o[r]]);this.color=v(i)}if(h[this.model])for(r=0,n=p[this.model].channels;r<n;r++){let e=h[this.model][r];e&&(this.color[r]=e(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}for(let e of(m.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in i.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:[...t.color,this.valpha];return i.to[t.model](...r)},percentString(e){let t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:[...t.color,this.valpha];return i.to.rgb.percent(...r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){let e={},{channels:t}=p[this.model],{labels:r}=p[this.model];for(let n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){let e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){let e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){var t;return e=Math.max(e||0,0),new m([...this.color.map((t=e,function(e){return Number(e.toFixed(t))})),this.valpha],this.model)},alpha(e){return void 0!==e?new m([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:g("rgb",0,y(255)),green:g("rgb",1,y(255)),blue:g("rgb",2,y(255)),hue:g(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:g("hsl",1,y(100)),lightness:g("hsl",2,y(100)),saturationv:g("hsv",1,y(100)),value:g("hsv",2,y(100)),chroma:g("hcg",1,y(100)),gray:g("hcg",2,y(100)),white:g("hwb",1,y(100)),wblack:g("hwb",2,y(100)),cyan:g("cmyk",0,y(100)),magenta:g("cmyk",1,y(100)),yellow:g("cmyk",2,y(100)),black:g("cmyk",3,y(100)),x:g("xyz",0,y(95.047)),y:g("xyz",1,y(100)),z:g("xyz",2,y(108.833)),l:g("lab",0,y(100)),a:g("lab",1),b:g("lab",2),keyword(e){return void 0!==e?new m(e):p[this.model].keyword(this.color)},hex(e){return void 0!==e?new m(e):i.to.hex(...this.rgb().round().color)},hexa(e){if(void 0!==e)return new m(e);let t=this.rgb().round().color,r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),i.to.hex(...t)+r},rgbNumber(){let e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){let e=this.rgb().color,t=[];for(let[r,n]of e.entries()){let e=n/255;t[r]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){let t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level(e){let t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){let e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){let t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){let t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){let t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){let t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){let t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){let t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){let e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return m.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){let t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix(e,t){if(!e||!e.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);let r=e.rgb(),n=this.rgb(),o=void 0===t?.5:t,i=2*o-1,a=r.alpha()-n.alpha(),s=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,l=1-s;return m.rgb(s*r.red()+l*n.red(),s*r.green()+l*n.green(),s*r.blue()+l*n.blue(),r.alpha()*o+n.alpha()*(1-o))}},Object.keys(p))){if(d.includes(e))continue;let{channels:t}=p[e];m.prototype[e]=function(...t){var r;return this.model===e?new m(this):t.length>0?new m(t,e):new m([...Array.isArray(r=p[this.model][e].raw(this.color))?r:[r],this.valpha],e)},m[e]=function(...r){let n=r[0];return"number"==typeof n&&(n=v(r,t)),new m(n,e)}}function g(e,t,r){for(let n of e=Array.isArray(e)?e:[e])(h[n]||=[])[t]=r;return e=e[0],function(n){let o;return void 0!==n?(r&&(n=r(n)),(o=this[e]()).color[t]=n):(o=this[e]().color[t],r&&(o=r(o))),o}}function y(e){return function(t){return Math.max(0,Math.min(e,t))}}function v(e,t){for(let r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}var b=m},26071:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});let{slice:n,forEach:o}=[],i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,a=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},n=encodeURIComponent(t),o=`${e}=${n}`;if(r.maxAge>0){let e=r.maxAge-0;if(Number.isNaN(e))throw Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(e)}`}if(r.domain){if(!i.test(r.domain))throw TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!i.test(r.path))throw TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return o},s={create(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*r*1e3)),n&&(o.domain=n),document.cookie=a(e,encodeURIComponent(t),o)},read(e){let t=`${e}=`,r=document.cookie.split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},remove(e){this.create(e,"",-1)}};var l={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return s.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:o,cookieOptions:i}=t;r&&"undefined"!=typeof document&&s.create(r,e,n,o,i)}},u={name:"querystring",lookup(e){let t,{lookupQuerystring:r}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));let n=e.substring(1).split("&");for(let e=0;e<n.length;e++){let o=n[e].indexOf("=");o>0&&n[e].substring(0,o)===r&&(t=n[e].substring(o+1))}}return t}};let c=null,p=()=>{if(null!==c)return c;try{if(!(c="undefined"!=typeof window&&null!==window.localStorage))return!1;let e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){c=!1}return c};var d={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&p())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&p()&&window.localStorage.setItem(r,e)}};let f=null,h=()=>{if(null!==f)return f;try{if(!(f="undefined"!=typeof window&&null!==window.sessionStorage))return!1;let e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){f=!1}return f};var m={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&h())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&h()&&window.sessionStorage.setItem(r,e)}},g={name:"navigator",lookup(e){let t=[];if("undefined"!=typeof navigator){let{languages:e,userLanguage:r,language:n}=navigator;if(e)for(let r=0;r<e.length;r++)t.push(e[r]);r&&t.push(r),n&&t.push(n)}return t.length>0?t:void 0}},y={name:"htmlTag",lookup(e){let t,{htmlTag:r}=e,n=r||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},v={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;let r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(Array.isArray(r))return r["number"==typeof t?t:0]?.replace("/","")}},b={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e,r="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r["number"==typeof t?t+1:1]}};let w=!1;try{document.cookie,w=!0}catch(e){}let x=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];w||x.splice(1,1);let k=()=>({order:x,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class S{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return o.call(n.call(arguments,1),t=>{if(t)for(let r in t)void 0===e[r]&&(e[r]=t[r])}),e}(t,this.options||{},k()),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(l),this.addDetector(u),this.addDetector(d),this.addDetector(m),this.addDetector(g),this.addDetector(y),this.addDetector(v),this.addDetector(b)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return(e.forEach(e=>{if(this.detectors[e]){let r=this.detectors[e].lookup(this.options);r&&"string"==typeof r&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(e=>null!=e&&!("string"==typeof e&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(e)))).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes)?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}S.type="languageDetector"},78001:function(e,t,r){"use strict";r.d(t,{ZP:function(){return J},t:function(){return Y}});let n=e=>"string"==typeof e,o=()=>{let e,t,r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r},i=e=>null==e?"":""+e,a=(e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})},s=/###/g,l=e=>e&&e.indexOf("###")>-1?e.replace(s,"."):e,u=e=>!e||n(e),c=(e,t,r)=>{let o=n(t)?t.split("."):t,i=0;for(;i<o.length-1;){if(u(e))return{};let t=l(o[i]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return u(e)?{}:{obj:e,k:l(o[i])}},p=(e,t,r)=>{let{obj:n,k:o}=c(e,t,Object);if(void 0!==n||1===t.length){n[o]=r;return}let i=t[t.length-1],a=t.slice(0,t.length-1),s=c(e,a,Object);for(;void 0===s.obj&&a.length;)i=`${a[a.length-1]}.${i}`,s=c(e,a=a.slice(0,a.length-1),Object),s?.obj&&void 0!==s.obj[`${s.k}.${i}`]&&(s.obj=void 0);s.obj[`${s.k}.${i}`]=r},d=(e,t,r,n)=>{let{obj:o,k:i}=c(e,t,Object);o[i]=o[i]||[],o[i].push(r)},f=(e,t)=>{let{obj:r,k:n}=c(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},h=(e,t,r)=>{let n=f(e,r);return void 0!==n?n:f(t,r)},m=(e,t,r)=>{for(let o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?n(e[o])||e[o]instanceof String||n(t[o])||t[o]instanceof String?r&&(e[o]=t[o]):m(e[o],t[o],r):e[o]=t[o]);return e},g=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let v=e=>n(e)?e.replace(/[&<>"'\/]/g,e=>y[e]):e,b=[" ",",","?","!",";"],w=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),x=(e,t,r)=>{t=t||"",r=r||"";let n=b.filter(e=>0>t.indexOf(e)&&0>r.indexOf(e));if(0===n.length)return!0;let o=w.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),i=!o.test(e);if(!i){let t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i},k=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}let n=t.split(r),o=e;for(let e=0;e<n.length;){let t;if(!o||"object"!=typeof o)return;let i="";for(let a=e;a<n.length;++a)if(a!==e&&(i+=r),i+=n[a],void 0!==(t=o[i])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<n.length-1)continue;e+=a-e+1;break}o=t}return o},S=e=>e?.replace("_","-"),$={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||$,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(n(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new E(this.logger,{...{prefix:`${this.prefix}:${e}:`},...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new E(this.logger,e)}}var P=new E;class O{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,o]=t;for(let t=0;t<o;t++)n.apply(n,[e,...r])})}}class _ extends O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],r&&(Array.isArray(r)?o.push(...r):n(r)&&a?o.push(...r.split(a)):o.push(r)));let l=f(this.data,o);return(!l&&!t&&!r&&e.indexOf(".")>-1&&(e=o[0],t=o[1],r=o.slice(2).join(".")),!l&&s&&n(r))?k(this.data?.[e]?.[t],r,a):l}addResource(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,a=[e,t];r&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),p(this.data,a,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let o in r)(n(r[o])||Array.isArray(r[o]))&&this.addResource(e,t,o,r[o],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let s=f(this.data,a)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?m(s,r,o):s={...s,...r},p(this.data,a,s),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var j={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach(e=>{t=this.processors[e]?.process(t,r,n,o)??t}),t}};let C={},T=e=>!n(e)&&"boolean"!=typeof e&&"number"!=typeof e;class M extends O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),a(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=P.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let r=this.resolve(e,t);return r?.res!==void 0}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!x(e,r,o);if(a&&!s){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:n(i)?[i]:i};let a=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(o)}return{key:e,namespaces:n(i)?[i]:i}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),l=s[s.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u?.toLowerCase()==="cimode"){if(c){let e=t.nsSeparator||this.options.nsSeparator;return o?{res:`${l}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${a}`}return o?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}let p=this.resolve(e,t),d=p?.res,f=p?.usedKey||a,h=p?.exactUsedKey||a,m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==t.count&&!n(t.count),v=M.hasDefaultValue(t),b=y?this.pluralResolver.getSuffix(u,t.count,t):"",w=t.ordinal&&y?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",x=y&&!t.ordinal&&0===t.count,k=x&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${b}`]||t[`defaultValue${w}`]||t.defaultValue,S=d;g&&!d&&v&&(S=k);let $=T(S),E=Object.prototype.toString.apply(S);if(g&&S&&$&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(E)&&!(n(m)&&Array.isArray(S))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,S,{...t,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(p.res=e,p.usedParams=this.getUsedParamsDetails(t),p):e}if(i){let e=Array.isArray(S),r=e?[]:{},n=e?h:f;for(let e in S)if(Object.prototype.hasOwnProperty.call(S,e)){let o=`${n}${i}${e}`;v&&!d?r[e]=this.translate(o,{...t,defaultValue:T(k)?k[e]:void 0,...{joinArrays:!1,ns:s}}):r[e]=this.translate(o,{...t,joinArrays:!1,ns:s}),r[e]===o&&(r[e]=S[e])}d=r}}else if(g&&n(m)&&Array.isArray(d))(d=d.join(m))&&(d=this.extendTranslation(d,e,t,r));else{let n=!1,o=!1;!this.isValidLookup(d)&&v&&(n=!0,d=k),this.isValidLookup(d)||(o=!0,d=a);let s=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:d,c=v&&k!==d&&this.options.updateMissing;if(o||n||c){if(this.logger.log(c?"updateKey":"missingKey",u,l,a,c?k:d),i){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let n=(e,r,n)=>{let o=v&&n!==d?n:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,r,o,c,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,r,o,c,t),this.emit("missingKey",e,l,r,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach(e=>{let r=this.pluralResolver.getSuffixes(e,t);x&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>r.indexOf(`${this.options.pluralSeparator}zero`)&&r.push(`${this.options.pluralSeparator}zero`),r.forEach(r=>{n([e],a+r,t[`defaultValue${r}`]||k)})}):n(e,a,k))}d=this.extendTranslation(d,e,t,p,r),o&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(o||n)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,n?d:void 0))}return o?(p.res=d,p.usedParams=this.getUsedParamsDetails(t),p):d}extendTranslation(e,t,r,o,i){var a=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){let s;r.interpolation&&this.interpolator.init({...r,...{interpolation:{...this.options.interpolation,...r.interpolation}}});let l=n(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let u=r.replace&&!n(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,r.lng||this.language||o.usedLng,r),l){let t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return i?.[0]!==n[0]||r.context?a.translate(...n,t):(a.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null)},r)),r.interpolation&&this.interpolator.reset()}let s=r.postProcess||this.options.postProcess,l=n(s)?[s]:s;return null!=e&&l?.length&&!1!==r.applyPostProcessor&&(e=j.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,o,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let l=this.extractFromKey(e,s),u=l.key;r=u;let c=l.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let p=void 0!==s.count&&!n(s.count),d=p&&!s.ordinal&&0===s.count,f=void 0!==s.context&&(n(s.context)||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!C[`${h[0]}-${e}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(C[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(r=>{let n;if(this.isValidLookup(t))return;i=r;let a=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(a,u,r,e,s);else{let e;p&&(e=this.pluralResolver.getSuffix(r,s.count,s));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(a.push(u+e),s.ordinal&&0===e.indexOf(n)&&a.push(u+e.replace(n,this.options.pluralSeparator)),d&&a.push(u+t)),f){let r=`${u}${this.options.contextSeparator}${s.context}`;a.push(r),p&&(a.push(r+e),s.ordinal&&0===e.indexOf(n)&&a.push(r+e.replace(n,this.options.pluralSeparator)),d&&a.push(r+t))}}for(;n=a.pop();)this.isValidLookup(t)||(o=n,t=this.getResource(r,e,n,s))}))})}),{res:t,usedKey:r,exactUsedKey:o,usedLng:i,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!n(e.replace),r=t?e.replace:e;if(t&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!t)for(let e of(r={...r},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete r[e];return r}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}class z{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=P.create("languageUtils")}getScriptPartFromCode(e){if(!(e=S(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=S(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(n(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)?t:this.options.lowerCaseLng?e.toLowerCase():e}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let r=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>{if(e===r||!(0>e.indexOf("-")&&0>r.indexOf("-"))&&(e.indexOf("-")>0&&0>r.indexOf("-")&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),n(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],i=e=>{e&&(this.isSupportedCode(e)?o.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return n(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):n(e)&&i(this.formatLanguageCode(e)),r.forEach(e=>{0>o.indexOf(e)&&i(this.formatLanguageCode(e))}),o}}let N={zero:0,one:1,two:2,few:3,many:4,other:5},L={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class I{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=P.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=S("dev"===e?"en":e),o=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];try{t=new Intl.PluralRules(n,{type:o})}catch(o){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),L;if(!e.match(/-|_/))return L;let n=this.languageUtils.getLanguagePartFromCode(e);t=this.getRule(n,r)}return this.pluralRulesCache[i]=t,t}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return(r||(r=this.getRule("dev",t)),r)?r.resolvedOptions().pluralCategories.sort((e,t)=>N[e]-N[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}let A=function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=h(e,t,r);return!a&&i&&n(r)&&void 0===(a=k(e,r,o))&&(a=k(t,r,o)),a},R=e=>e.replace(/\$/g,"$$$$");class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=P.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:o,prefixEscaped:i,suffix:a,suffixEscaped:s,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:p,nestingPrefixEscaped:d,nestingSuffix:f,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:v,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=o?g(o):i||"{{",this.suffix=a?g(a):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?g(p):d||g("$t("),this.nestingSuffix=f?g(f):h||g(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e?.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,o){let a,s,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(0>e.indexOf(this.formatSeparator)){let n=A(t,u,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,r,{...o,...t,interpolationkey:e}):n}let n=e.split(this.formatSeparator),i=n.shift().trim(),a=n.join(this.formatSeparator).trim();return this.format(A(t,u,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...o,...t,interpolationkey:i})};this.resetRegExp();let p=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>R(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?R(this.escape(e)):R(e)}].forEach(t=>{for(l=0;a=t.regex.exec(e);){let r=a[1].trim();if(void 0===(s=c(r)))if("function"==typeof p){let t=p(e,a,o);s=n(t)?t:""}else if(o&&Object.prototype.hasOwnProperty.call(o,r))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),s="";else n(s)||this.useRawValueToEscape||(s=i(s));let u=t.safeValue(s);if(e=e.replace(a[0],u),d?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++l>=this.maxReplaces)break}}),e}nest(e,t){let r,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(e,t)=>{let r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;let n=e.split(RegExp(`${r}[ ]*{`)),o=`{${n[1]}`;e=n[0];let i=(o=this.interpolate(o,a)).match(/'/g),s=o.match(/"/g);((i?.length??0)%2!=0||s)&&s.length%2==0||(o=o.replace(/'/g,'"'));try{a=JSON.parse(o),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${o}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let u=[];(a=(a={...s}).replace&&!n(a.replace)?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){let e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),u=e,c=!0}if((o=t(l.call(this,r[1].trim(),a),a))&&r[0]===e&&!n(o))return o;n(o)||(o=i(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),c&&(o=u.reduce((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}let F=e=>{let t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let o=n[1].substring(0,n[1].length-1);"currency"===t&&0>o.indexOf(":")?r.currency||(r.currency=o.trim()):"relativetime"===t&&0>o.indexOf(":")?r.range||(r.range=o.trim()):o.split(";").forEach(e=>{if(e){let[t,...n]=e.split(":"),o=n.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();r[i]||(r[i]=o),"false"===o&&(r[i]=!1),"true"===o&&(r[i]=!0),isNaN(o)||(r[i]=parseInt(o,10))}})}return{formatName:t,formatOptions:r}},U=e=>{let t={};return(r,n,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});let a=n+JSON.stringify(i),s=t[a];return s||(s=e(S(n),o),t[a]=s),s(r)}};class q{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=P.create("formatter"),this.options=e,this.formats={number:U((e,t)=>{let r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)}),currency:U((e,t)=>{let r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)}),datetime:U((e,t)=>{let r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)}),relativetime:U((e,t)=>{let r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")}),list:U((e,t)=>{let r=new Intl.ListFormat(e,{...t});return e=>r.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=U(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&0>o[0].indexOf(")")&&o.find(e=>e.indexOf(")")>-1)){let e=o.findIndex(e=>e.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce((e,t)=>{let{formatName:o,formatOptions:i}=F(t);if(this.formats[o]){let t=e;try{let a=n?.formatParams?.[n.interpolationkey]||{},s=a.locale||a.lng||n.locale||n.lng||r;t=this.formats[o](e,s,{...i,...n,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e},e)}}let H=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class V extends O{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=P.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){let o={},i={},a={},s={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,n=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===s[t]&&(s[t]=!0)))}),n||(a[e]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,r){let n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),!t&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let a={};this.queue.forEach(r=>{d(r.loaded,[o],i),H(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{a[e]||(a[e]={});let t=r.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:i});this.readingCalls++;let a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(a&&s&&n<this.maxRetries)return void setTimeout(()=>{this.read.call(this,e,t,r,n+1,2*o,i)},o);i(a,s)},s=this.backend[r].bind(this.backend);if(2===s.length){try{let r=s(e,t);r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}return}return s(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();n(e)&&(e=this.languageUtils.toResolveHierarchy(e)),n(t)&&(t=[t]);let i=this.queueLoad(e,t,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,(r,i)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,i),this.loaded(e,r,i)})}saveMissing(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t))return void this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=r&&""!==r){if(this.backend?.create){let s={...i,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;(o=5===l.length?l(e,t,r,n,s):l(e,t,r,n))&&"function"==typeof o.then?o.then(e=>a(null,e)).catch(a):a(null,o)}catch(e){a(e)}else l(e,t,r,n,a,s)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}let Z=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),n(e[1])&&(t.defaultValue=e[1]),n(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),G=e=>(n(e.ns)&&(e.ns=[e.ns]),n(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),n(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),K=()=>{},W=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class B extends O{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=G(e),this.services={},this.logger=P,this.modules={external:[]},W(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),null==t.defaultNS&&t.ns&&(n(t.ns)?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let i=Z();this.options={...i,...this.options,...G(t)},this.options.interpolation={...i.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?P.init(a(this.modules.logger),this.options):P.init(null,this.options),t=this.modules.formatter?this.modules.formatter:q;let r=new z(this.options);this.store=new _(this.options.resources,this.options);let n=this.services;n.logger=P,n.resourceStore=this.store,n.languageUtils=r,n.pluralResolver=new I(r,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(n.formatter=a(t),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new D(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new V(a(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)}),this.modules.languageDetector&&(n.languageDetector=a(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=a(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new M(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=K),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let s=o(),l=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),r(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,r=t,o=n(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};o?t(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){let n=o();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=K),this.services.backendConnector.reload(e,t,e=>{n.resolve(),r(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&j.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;let i=o();this.emit("languageChanging",e);let a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(e,n)=>{n?(a(n),this.translator.changeLanguage(n),this.isLanguageChangingTo=void 0,this.emit("languageChanged",n),this.logger.log("languageChanged",n)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),t&&t(e,function(){return r.t(...arguments)})},l=t=>{e||t||!this.services.languageDetector||(t=[]);let r=n(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||a(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector?.cacheUserLanguage?.(r)),this.loadResources(r,e=>{s(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),i}getFixedT(e,t,r){var o=this;let i=function(e,t){let n,a;if("object"!=typeof t){for(var s=arguments.length,l=Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];n=o.options.overloadTranslationOptionHandler([e,t].concat(l))}else n={...t};n.lng=n.lng||i.lng,n.lngs=n.lngs||i.lngs,n.ns=n.ns||i.ns,""!==n.keyPrefix&&(n.keyPrefix=n.keyPrefix||r||i.keyPrefix);let c=o.options.keySeparator||".";return a=n.keyPrefix&&Array.isArray(e)?e.map(e=>`${n.keyPrefix}${c}${e}`):n.keyPrefix?`${n.keyPrefix}${c}${e}`:e,o.t(a,n)};return n(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;let i=(e,t)=>{let r=this.services.backendConnector.state[`${e}|${t}`];return -1===r||0===r||2===r};if(t.precheck){let e=t.precheck(this,i);if(void 0!==e)return e}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!n||i(o,e)))}loadNamespaces(e,t){let r=o();return this.options.ns?(n(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=o();n(e)&&(e=[e]);let i=this.options.preload||[],a=e.filter(e=>0>i.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return a.length?(this.options.preload=i.concat(a),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services?.languageUtils||new z(Z())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new B(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,r=e.forkResourceStore;r&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},o=new B(n);return(void 0!==e.debug||void 0!==e.prefix)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(e=>{o[e]=this[e]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new _(Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce((r,n)=>(r[n]={...e[t][n]},r),{})),{}),n),o.services.resourceStore=o.store),o.translator=new M(o.services,n),o.translator.on("*",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit(e,...r)}),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let J=B.createInstance();J.createInstance=B.createInstance,J.createInstance,J.dir,J.init,J.loadResources,J.reloadResources,J.use,J.changeLanguage,J.getFixedT;let Y=J.t;J.exists,J.setDefaultNamespace,J.hasLoadedNamespace,J.loadNamespaces,J.loadLanguages},25086:function(e,t){"use strict";async function r(e){let t=new TextEncoder().encode(e);if("undefined"==typeof crypto||void 0===crypto.subtle)throw Error("Web Crypto API is not available.");return await crypto.subtle.digest("SHA-256",t)}function n(e){let t,[r,n]=e.split(".");if("string"!=typeof n)throw Error("Unable to decode token, payload not found.");try{t=function(e){let t=e.replaceAll("-","+").replaceAll("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("Input is not of the correct length.")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(n)}catch(e){throw Error("Unable to decode token, payload is not a valid Base64URL value.",{cause:e})}try{return JSON.parse(t)}catch(e){throw Error("Unable to decode token, payload is not a valid JSON value.",{cause:e})}}function o(e){return"object"==typeof e&&null!==e}t.Z=function e(t){if(!(this instanceof e))throw Error("The 'Keycloak' constructor must be invoked with 'new'.");if("string"!=typeof t&&!o(t))throw Error("The 'Keycloak' constructor must be provided with a configuration object, or a URL to a JSON configuration file.");if(o(t)){for(let e of"oidcProvider"in t?["clientId"]:["url","realm","clientId"])if(!t[e])throw Error(`The configuration object is missing the required '${e}' property.`)}var i,a,s=this,l=[],u={enable:!0,callbackList:[],interval:5};s.didInitialize=!1;var c=!0,p=j(console.info),d=j(console.warn);async function f(e,t){if("S256"!==e)throw TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${e}'.`);return btoa(String.fromCodePoint(...new Uint8Array(await r(t)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function h(){return void 0===s.authServerUrl?void 0:"/"==s.authServerUrl.charAt(s.authServerUrl.length-1)?s.authServerUrl+"realms/"+encodeURIComponent(s.realm):s.authServerUrl+"/realms/"+encodeURIComponent(s.realm)}function m(e,t){var r=e.code,n=e.error,o=e.prompt,i=new Date().getTime();if(e.kc_action_status&&s.onActionUpdate&&s.onActionUpdate(e.kc_action_status,e.kc_action),n){if("none"!=o)if(e.error_description&&"authentication_expired"===e.error_description)s.login(e.loginOptions);else{var a={error:n,error_description:e.error_description};s.onAuthError&&s.onAuthError(a),t&&t.setError(a)}else t&&t.setSuccess();return}if("standard"!=s.flow&&(e.access_token||e.id_token)&&f(e.access_token,null,e.id_token,!0),"implicit"!=s.flow&&r){var l="code="+r+"&grant_type=authorization_code",u=s.endpoints.token(),d=new XMLHttpRequest;d.open("POST",u,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l+="&client_id="+encodeURIComponent(s.clientId)+"&redirect_uri="+e.redirectUri,e.pkceCodeVerifier&&(l+="&code_verifier="+e.pkceCodeVerifier),d.withCredentials=!0,d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status){var e=JSON.parse(d.responseText);f(e.access_token,e.refresh_token,e.id_token,"standard"===s.flow),S()}else s.onAuthError&&s.onAuthError(),t&&t.setError()},d.send(l)}function f(r,n,o,a){y(r,n,o,i=(i+new Date().getTime())/2),c&&s.idTokenParsed&&s.idTokenParsed.nonce!=e.storedNonce?(p("[KEYCLOAK] Invalid nonce, clearing token"),s.clearToken(),t&&t.setError()):a&&(s.onAuthSuccess&&s.onAuthSuccess(),t&&t.setSuccess())}}function g(e){return 0==e.status&&e.responseText&&e.responseURL.startsWith("file:")}function y(e,t,r,o){if(s.tokenTimeoutHandle&&(clearTimeout(s.tokenTimeoutHandle),s.tokenTimeoutHandle=null),t?(s.refreshToken=t,s.refreshTokenParsed=n(t)):(delete s.refreshToken,delete s.refreshTokenParsed),r?(s.idToken=r,s.idTokenParsed=n(r)):(delete s.idToken,delete s.idTokenParsed),e){if(s.token=e,s.tokenParsed=n(e),s.sessionId=s.tokenParsed.sid,s.authenticated=!0,s.subject=s.tokenParsed.sub,s.realmAccess=s.tokenParsed.realm_access,s.resourceAccess=s.tokenParsed.resource_access,o&&(s.timeSkew=Math.floor(o/1e3)-s.tokenParsed.iat),null!=s.timeSkew&&(p("[KEYCLOAK] Estimated time difference between browser and server is "+s.timeSkew+" seconds"),s.onTokenExpired)){var i=(s.tokenParsed.exp-new Date().getTime()/1e3+s.timeSkew)*1e3;p("[KEYCLOAK] Token expires in "+Math.round(i/1e3)+" s"),i<=0?s.onTokenExpired():s.tokenTimeoutHandle=setTimeout(s.onTokenExpired,i)}}else delete s.token,delete s.tokenParsed,delete s.subject,delete s.realmAccess,delete s.resourceAccess,s.authenticated=!1}function v(){if("undefined"==typeof crypto||void 0===crypto.randomUUID)throw Error("Web Crypto API is not available.");return crypto.randomUUID()}function b(e){var t=function(e){switch(s.flow){case"standard":t=["code","state","session_state","kc_action_status","kc_action","iss"];break;case"implicit":t=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","kc_action","iss"];break;case"hybrid":t=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","kc_action","iss"]}t.push("error"),t.push("error_description"),t.push("error_uri");var t,r,n,o=e.indexOf("?"),i=e.indexOf("#");if("query"===s.responseMode&&-1!==o?(r=e.substring(0,o),""!==(n=w(e.substring(o+1,-1!==i?i:e.length),t)).paramsString&&(r+="?"+n.paramsString),-1!==i&&(r+=e.substring(i))):"fragment"===s.responseMode&&-1!==i&&(r=e.substring(0,i),""!==(n=w(e.substring(i+1),t)).paramsString&&(r+="#"+n.paramsString)),n&&n.oauthParams){if("standard"===s.flow||"hybrid"===s.flow){if((n.oauthParams.code||n.oauthParams.error)&&n.oauthParams.state)return n.oauthParams.newUrl=r,n.oauthParams}else if("implicit"===s.flow&&(n.oauthParams.access_token||n.oauthParams.error)&&n.oauthParams.state)return n.oauthParams.newUrl=r,n.oauthParams}}(e);if(t){var r=a.get(t.state);return r&&(t.valid=!0,t.redirectUri=r.redirectUri,t.storedNonce=r.nonce,t.prompt=r.prompt,t.pkceCodeVerifier=r.pkceCodeVerifier,t.loginOptions=r.loginOptions),t}}function w(e,t){for(var r=e.split("&"),n={paramsString:"",oauthParams:{}},o=0;o<r.length;o++){var i=r[o].indexOf("="),a=r[o].slice(0,i);-1!==t.indexOf(a)?n.oauthParams[a]=r[o].slice(i+1):(""!==n.paramsString&&(n.paramsString+="&"),n.paramsString+=r[o])}return n}function x(){var e={setSuccess:function(t){e.resolve(t)},setError:function(t){e.reject(t)}};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}function k(){var e=x();if(!u.enable||u.iframe)return e.setSuccess(),e.promise;var t=document.createElement("iframe");u.iframe=t,t.onload=function(){var t=s.endpoints.authorize();"/"===t.charAt(0)?u.iframeOrigin=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):u.iframeOrigin=t.substring(0,t.indexOf("/",8)),e.setSuccess()};var r=s.endpoints.checkSessionIframe();return t.setAttribute("src",r),t.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),t.setAttribute("title","keycloak-session-iframe"),t.style.display="none",document.body.appendChild(t),window.addEventListener("message",function(e){if(e.origin===u.iframeOrigin&&u.iframe.contentWindow===e.source&&("unchanged"==e.data||"changed"==e.data||"error"==e.data)){"unchanged"!=e.data&&s.clearToken();for(var t=u.callbackList.splice(0,u.callbackList.length),r=t.length-1;r>=0;--r){var n=t[r];"error"==e.data?n.setError():n.setSuccess("unchanged"==e.data)}}},!1),e.promise}function S(){u.enable&&s.token&&setTimeout(function(){$().then(function(e){e&&S()})},1e3*u.interval)}function $(){var e=x();if(u.iframe&&u.iframeOrigin){var t=s.clientId+" "+(s.sessionId?s.sessionId:"");u.callbackList.push(e);var r=u.iframeOrigin;1==u.callbackList.length&&u.iframe.contentWindow.postMessage(t,r)}else e.setSuccess();return e.promise}function E(e){if(!e||"default"==e)return{login:async function(e){return window.location.assign(await s.createLoginUrl(e)),x().promise},logout:async function(e){if("GET"===(e?.logoutMethod??s.logoutMethod))return void window.location.replace(s.createLogoutUrl(e));let t=document.createElement("form");for(let[r,n]of(t.setAttribute("method","POST"),t.setAttribute("action",s.createLogoutUrl(e)),t.style.display="none",Object.entries({id_token_hint:s.idToken,client_id:s.clientId,post_logout_redirect_uri:i.redirectUri(e,!1)}))){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",r),e.setAttribute("value",n),t.appendChild(e)}document.body.appendChild(t),t.submit()},register:async function(e){return window.location.assign(await s.createRegisterUrl(e)),x().promise},accountManagement:function(){var e=s.createAccountUrl();if(void 0!==e)window.location.href=e;else throw"Not supported by the OIDC server";return x().promise},redirectUri:function(e,t){return e&&e.redirectUri?e.redirectUri:s.redirectUri?s.redirectUri:location.href}};if("cordova"==e){u.enable=!1;var t=function(e,t,r){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(e,t,r):window.open(e,t,r)},r=function(e){var t=e&&e.cordovaOptions?Object.keys(e.cordovaOptions).reduce(function(t,r){return t[r]=e.cordovaOptions[r],t},{}):{};return t.location="no",e&&"none"==e.prompt&&(t.hidden="yes"),Object.keys(t).reduce(function(e,r){return e.push(r+"="+t[r]),e},[]).join(",")},n=function(){return s.redirectUri||"http://localhost"};return{login:async function(e){var o=x(),i=r(e),a=t(await s.createLoginUrl(e),"_blank",i),l=!1,u=!1,c=function(){u=!0,a.close()};return a.addEventListener("loadstart",function(e){0==e.url.indexOf(n())&&(m(b(e.url),o),c(),l=!0)}),a.addEventListener("loaderror",function(e){l||(0==e.url.indexOf(n())?(m(b(e.url),o),c(),l=!0):(o.setError(),c()))}),a.addEventListener("exit",function(e){u||o.setError({reason:"closed_by_user"})}),o.promise},logout:function(e){var r,o=x(),i=t(s.createLogoutUrl(e),"_blank","location=no,hidden=yes,clearcache=yes");return i.addEventListener("loadstart",function(e){0==e.url.indexOf(n())&&i.close()}),i.addEventListener("loaderror",function(e){0==e.url.indexOf(n())||(r=!0),i.close()}),i.addEventListener("exit",function(e){r?o.setError():(s.clearToken(),o.setSuccess())}),o.promise},register:async function(e){var o=x(),i=t(await s.createRegisterUrl(),"_blank",r(e));return i.addEventListener("loadstart",function(e){0==e.url.indexOf(n())&&(i.close(),m(b(e.url),o))}),o.promise},accountManagement:function(){var e=s.createAccountUrl();if(void 0!==e){var r=t(e,"_blank","location=no");r.addEventListener("loadstart",function(e){0==e.url.indexOf(n())&&r.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(e){return n()}}}if("cordova-native"==e)return u.enable=!1,{login:async function(e){var t=x(),r=await s.createLoginUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),m(b(e.url),t)}),window.cordova.plugins.browsertab.openUrl(r),t.promise},logout:function(e){var t=x(),r=s.createLogoutUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),s.clearToken(),t.setSuccess()}),window.cordova.plugins.browsertab.openUrl(r),t.promise},register:async function(e){var t=x(),r=await s.createRegisterUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),m(b(e.url),t)}),window.cordova.plugins.browsertab.openUrl(r),t.promise},accountManagement:function(){var e=s.createAccountUrl();if(void 0!==e)window.cordova.plugins.browsertab.openUrl(e);else throw"Not supported by the OIDC server"},redirectUri:function(e){return e&&e.redirectUri?e.redirectUri:s.redirectUri?s.redirectUri:"http://localhost"}};throw"invalid adapter type: "+e}globalThis.isSecureContext||d("[KEYCLOAK] Keycloak JS must be used in a 'secure context' to function properly as it relies on browser APIs that are otherwise not available.\nContinuing to run your application insecurely will lead to unexpected behavior and breakage.\n\nFor more information see: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts"),s.init=function(e={}){if(s.didInitialize)throw Error("A 'Keycloak' instance can only be initialized once.");if(s.didInitialize=!0,s.authenticated=!1,a=function(){try{return new O}catch(e){}return new _}(),i=["default","cordova","cordova-native"].indexOf(e.adapter)>-1?E(e.adapter):"object"==typeof e.adapter?e.adapter:window.Cordova||window.cordova?E("cordova"):E(),void 0!==e.useNonce&&(c=e.useNonce),void 0!==e.checkLoginIframe&&(u.enable=e.checkLoginIframe),e.checkLoginIframeInterval&&(u.interval=e.checkLoginIframeInterval),"login-required"===e.onLoad&&(s.loginRequired=!0),e.responseMode)if("query"===e.responseMode||"fragment"===e.responseMode)s.responseMode=e.responseMode;else throw"Invalid value for responseMode";if(e.flow){switch(e.flow){case"standard":s.responseType="code";break;case"implicit":s.responseType="id_token token";break;case"hybrid":s.responseType="code id_token token";break;default:throw"Invalid value for flow"}s.flow=e.flow}if(null!=e.timeSkew&&(s.timeSkew=e.timeSkew),e.redirectUri&&(s.redirectUri=e.redirectUri),e.silentCheckSsoRedirectUri&&(s.silentCheckSsoRedirectUri=e.silentCheckSsoRedirectUri),"boolean"==typeof e.silentCheckSsoFallback?s.silentCheckSsoFallback=e.silentCheckSsoFallback:s.silentCheckSsoFallback=!0,void 0!==e.pkceMethod){if("S256"!==e.pkceMethod&&!1!==e.pkceMethod)throw TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${e.pkceMethod}.`);s.pkceMethod=e.pkceMethod}else s.pkceMethod="S256";"boolean"==typeof e.enableLogging?s.enableLogging=e.enableLogging:s.enableLogging=!1,"POST"===e.logoutMethod?s.logoutMethod="POST":s.logoutMethod="GET","string"==typeof e.scope&&(s.scope=e.scope),"string"==typeof e.acrValues&&(s.acrValues=e.acrValues),"number"==typeof e.messageReceiveTimeout&&e.messageReceiveTimeout>0?s.messageReceiveTimeout=e.messageReceiveTimeout:s.messageReceiveTimeout=1e4,s.responseMode||(s.responseMode="fragment"),s.responseType||(s.responseType="code",s.flow="standard");var r=x(),n=x();n.promise.then(function(){s.onReady&&s.onReady(s.authenticated),r.setSuccess(s.authenticated)}).catch(function(e){r.setError(e)});var o=function(){var e=x();function r(e){e?s.endpoints={authorize:function(){return e.authorization_endpoint},token:function(){return e.token_endpoint},logout:function(){if(!e.end_session_endpoint)throw"Not supported by the OIDC server";return e.end_session_endpoint},checkSessionIframe:function(){if(!e.check_session_iframe)throw"Not supported by the OIDC server";return e.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!e.userinfo_endpoint)throw"Not supported by the OIDC server";return e.userinfo_endpoint}}:s.endpoints={authorize:function(){return h()+"/protocol/openid-connect/auth"},token:function(){return h()+"/protocol/openid-connect/token"},logout:function(){return h()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){return h()+"/protocol/openid-connect/login-status-iframe.html"},thirdPartyCookiesIframe:function(){return h()+"/protocol/openid-connect/3p-cookies/step1.html"},register:function(){return h()+"/protocol/openid-connect/registrations"},userinfo:function(){return h()+"/protocol/openid-connect/userinfo"}}}if("string"==typeof t&&(i=t),i){var n=new XMLHttpRequest;n.open("GET",i,!0),n.setRequestHeader("Accept","application/json"),n.onreadystatechange=function(){if(4==n.readyState)if(200==n.status||g(n)){var t=JSON.parse(n.responseText);s.authServerUrl=t["auth-server-url"],s.realm=t.realm,s.clientId=t.resource,r(null),e.setSuccess()}else e.setError()},n.send()}else{s.clientId=t.clientId;var o=t.oidcProvider;if(o)if("string"==typeof o){var i,a="/"==o.charAt(o.length-1)?o+".well-known/openid-configuration":o+"/.well-known/openid-configuration",n=new XMLHttpRequest;n.open("GET",a,!0),n.setRequestHeader("Accept","application/json"),n.onreadystatechange=function(){4==n.readyState&&(200==n.status||g(n)?(r(JSON.parse(n.responseText)),e.setSuccess()):e.setError())},n.send()}else r(o),e.setSuccess();else s.authServerUrl=t.url,s.realm=t.realm,r(null),e.setSuccess()}return e.promise}();function l(){var t=function(t){t||(o.prompt="none"),e.locale&&(o.locale=e.locale),s.login(o).then(function(){n.setSuccess()}).catch(function(e){n.setError(e)})},r=async function(){var e=document.createElement("iframe"),t=await s.createLoginUrl({prompt:"none",redirectUri:s.silentCheckSsoRedirectUri});e.setAttribute("src",t),e.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),e.setAttribute("title","keycloak-silent-check-sso"),e.style.display="none",document.body.appendChild(e);var r=function(t){t.origin===window.location.origin&&e.contentWindow===t.source&&(m(b(t.data),n),document.body.removeChild(e),window.removeEventListener("message",r))};window.addEventListener("message",r)},o={};switch(e.onLoad){case"check-sso":u.enable?k().then(function(){$().then(function(e){e?n.setSuccess():s.silentCheckSsoRedirectUri?r():t(!1)}).catch(function(e){n.setError(e)})}):s.silentCheckSsoRedirectUri?r():t(!1);break;case"login-required":t(!0);break;default:throw"Invalid value for onLoad"}}function p(){var t=b(window.location.href);if(t&&window.history.replaceState(window.history.state,null,t.newUrl),t&&t.valid)return k().then(function(){m(t,n)}).catch(function(e){n.setError(e)});e.token&&e.refreshToken?(y(e.token,e.refreshToken,e.idToken),u.enable?k().then(function(){$().then(function(e){e?(s.onAuthSuccess&&s.onAuthSuccess(),n.setSuccess(),S()):n.setSuccess()}).catch(function(e){n.setError(e)})}):s.updateToken(-1).then(function(){s.onAuthSuccess&&s.onAuthSuccess(),n.setSuccess()}).catch(function(t){s.onAuthError&&s.onAuthError(),e.onLoad?l():n.setError(t)})):e.onLoad?l():n.setSuccess()}return o.then(function(){(function(){var e,t,r,n,o=x();if((u.enable||s.silentCheckSsoRedirectUri)&&"function"==typeof s.endpoints.thirdPartyCookiesIframe){var i=document.createElement("iframe");i.setAttribute("src",s.endpoints.thirdPartyCookiesIframe()),i.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),i.setAttribute("title","keycloak-3p-check-iframe"),i.style.display="none",document.body.appendChild(i);var a=function(e){i.contentWindow===e.source&&("supported"===e.data||"unsupported"===e.data)&&("unsupported"===e.data&&(d("[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\n\n - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\n - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\n\nFor more information see: https://www.keycloak.org/securing-apps/javascript-adapter#_modern_browsers"),u.enable=!1,s.silentCheckSsoFallback&&(s.silentCheckSsoRedirectUri=!1)),document.body.removeChild(i),window.removeEventListener("message",a),o.setSuccess())};window.addEventListener("message",a,!1)}else o.setSuccess();return e=o.promise,t=s.messageReceiveTimeout,r="Timeout when waiting for 3rd party check iframe message.",n=null,Promise.race([e,new Promise(function(e,o){n=setTimeout(function(){o({error:r||"Promise is not settled within timeout of "+t+"ms"})},t)})]).finally(function(){clearTimeout(n)})})().then(p).catch(function(e){r.setError(e)})}),o.catch(function(e){r.setError(e)}),r.promise},s.login=function(e){return i.login(e)},s.createLoginUrl=async function(e){var t,r=v(),n=v(),o=i.redirectUri(e),l={state:r,nonce:n,redirectUri:encodeURIComponent(o),loginOptions:e};e&&e.prompt&&(l.prompt=e.prompt),t=e&&"register"==e.action?s.endpoints.register():s.endpoints.authorize();var u=e&&e.scope||s.scope;u?-1===u.indexOf("openid")&&(u="openid "+u):u="openid";var p=t+"?client_id="+encodeURIComponent(s.clientId)+"&redirect_uri="+encodeURIComponent(o)+"&state="+encodeURIComponent(r)+"&response_mode="+encodeURIComponent(s.responseMode)+"&response_type="+encodeURIComponent(s.responseType)+"&scope="+encodeURIComponent(u);if(c&&(p=p+"&nonce="+encodeURIComponent(n)),e&&e.prompt&&(p+="&prompt="+encodeURIComponent(e.prompt)),e&&"number"==typeof e.maxAge&&(p+="&max_age="+encodeURIComponent(e.maxAge)),e&&e.loginHint&&(p+="&login_hint="+encodeURIComponent(e.loginHint)),e&&e.idpHint&&(p+="&kc_idp_hint="+encodeURIComponent(e.idpHint)),e&&e.action&&"register"!=e.action&&(p+="&kc_action="+encodeURIComponent(e.action)),e&&e.locale&&(p+="&ui_locales="+encodeURIComponent(e.locale)),e&&e.acr&&(p+="&claims="+encodeURIComponent(JSON.stringify({id_token:{acr:e.acr}}))),(e&&e.acrValues||s.acrValues)&&(p+="&acr_values="+encodeURIComponent(e.acrValues||s.acrValues)),s.pkceMethod)try{let e=function(e,t){for(var r=function(e){if("undefined"==typeof crypto||void 0===crypto.getRandomValues)throw Error("Web Crypto API is not available.");return crypto.getRandomValues(new Uint8Array(e))}(96),n=Array(e),o=0;o<e;o++)n[o]=t.charCodeAt(r[o]%t.length);return String.fromCharCode.apply(null,n)}(96,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"),t=await f(s.pkceMethod,e);l.pkceCodeVerifier=e,p+="&code_challenge="+t+"&code_challenge_method="+s.pkceMethod}catch(e){throw Error("Failed to generate PKCE challenge.",{cause:e})}return a.add(l),p},s.logout=function(e){return i.logout(e)},s.createLogoutUrl=function(e){if("POST"===(e?.logoutMethod??s.logoutMethod))return s.endpoints.logout();var t=s.endpoints.logout()+"?client_id="+encodeURIComponent(s.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(i.redirectUri(e,!1));return s.idToken&&(t+="&id_token_hint="+encodeURIComponent(s.idToken)),t},s.register=function(e){return i.register(e)},s.createRegisterUrl=async function(e){return e||(e={}),e.action="register",await s.createLoginUrl(e)},s.createAccountUrl=function(e){var t=h(),r=void 0;return void 0!==t&&(r=t+"/account?referrer="+encodeURIComponent(s.clientId)+"&referrer_uri="+encodeURIComponent(i.redirectUri(e))),r},s.accountManagement=function(){return i.accountManagement()},s.hasRealmRole=function(e){var t=s.realmAccess;return!!t&&t.roles.indexOf(e)>=0},s.hasResourceRole=function(e,t){if(!s.resourceAccess)return!1;var r=s.resourceAccess[t||s.clientId];return!!r&&r.roles.indexOf(e)>=0},s.loadUserProfile=function(){var e=h()+"/account",t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+s.token);var r=x();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(s.profile=JSON.parse(t.responseText),r.setSuccess(s.profile)):r.setError())},t.send(),r.promise},s.loadUserInfo=function(){var e=s.endpoints.userinfo(),t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+s.token);var r=x();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(s.userInfo=JSON.parse(t.responseText),r.setSuccess(s.userInfo)):r.setError())},t.send(),r.promise},s.isTokenExpired=function(e){if(!s.tokenParsed||!s.refreshToken&&"implicit"!=s.flow)throw"Not authenticated";if(null==s.timeSkew)return p("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var t=s.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+s.timeSkew;if(e){if(isNaN(e))throw"Invalid minValidity";t-=e}return t<0},s.updateToken=function(e){var t=x();if(!s.refreshToken)return t.setError(),t.promise;e=e||5;var r=function(){var r=!1;if(-1==e?(r=!0,p("[KEYCLOAK] Refreshing token: forced refresh")):(!s.tokenParsed||s.isTokenExpired(e))&&(r=!0,p("[KEYCLOAK] Refreshing token: token expired")),r){var n="grant_type=refresh_token&refresh_token="+s.refreshToken,o=s.endpoints.token();if(l.push(t),1==l.length){var i=new XMLHttpRequest;i.open("POST",o,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.withCredentials=!0,n+="&client_id="+encodeURIComponent(s.clientId);var a=new Date().getTime();i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){p("[KEYCLOAK] Token refreshed"),a=(a+new Date().getTime())/2;var e=JSON.parse(i.responseText);y(e.access_token,e.refresh_token,e.id_token,a),s.onAuthRefreshSuccess&&s.onAuthRefreshSuccess();for(var t=l.pop();null!=t;t=l.pop())t.setSuccess(!0)}else{d("[KEYCLOAK] Failed to refresh token"),400==i.status&&s.clearToken(),s.onAuthRefreshError&&s.onAuthRefreshError();for(var t=l.pop();null!=t;t=l.pop())t.setError("Failed to refresh token: An unexpected HTTP error occurred while attempting to refresh the token.")}},i.send(n)}}else t.setSuccess(!1)};return u.enable?$().then(function(){r()}).catch(function(e){t.setError(e)}):r(),t.promise},s.clearToken=function(){s.token&&(y(null,null,null),s.onAuthLogout&&s.onAuthLogout(),s.loginRequired&&s.login())};let P="kc-callback-";var O=function(){if(!(this instanceof O))return new O;function e(){let e=Date.now();for(let[r,n]of t()){let t=function(e){let t;try{t=JSON.parse(e)}catch(e){return null}return o(t)&&"expires"in t&&"number"==typeof t.expires?t.expires:null}(n);(null===t||t<e)&&localStorage.removeItem(r)}}function t(){return Object.entries(localStorage).filter(([e])=>e.startsWith(P))}localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test"),this.get=function(t){if(t){var r=P+t,n=localStorage.getItem(r);return n&&(localStorage.removeItem(r),n=JSON.parse(n)),e(),n}},this.add=function(r){e();let n=P+r.state,o=JSON.stringify({...r,expires:Date.now()+36e5});try{localStorage.setItem(n,o)}catch(e){for(let[e]of t())localStorage.removeItem(e);localStorage.setItem(n,o)}}},_=function(){if(!(this instanceof _))return new _;this.get=function(n){if(n){var o=t(P+n);if(r(P+n,"",e(-100)),o)return JSON.parse(o)}},this.add=function(t){r(P+t.state,JSON.stringify(t),e(60))},this.removeItem=function(t){r(t,"",e(-100))};var e=function(e){var t=new Date;return t.setTime(t.getTime()+60*e*1e3),t},t=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},r=function(e,t,r){var n=e+"="+t+"; expires="+r.toUTCString()+"; ";document.cookie=n}};function j(e){return function(){s.enableLogging&&e.apply(console,Array.prototype.slice.call(arguments))}}}},96874:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},78565:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},18674:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},5976:function(e,t,r){var n=r(6557),o=r(45357),i=r(30061);e.exports=function(e,t){return i(o(e,t,n),e+"")}},56560:function(e,t,r){var n=r(75703),o=r(38777),i=r(6557);e.exports=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i},47415:function(e,t,r){var n=r(29932);e.exports=function(e,t){return n(t,function(t){return e[t]})}},21463:function(e,t,r){var n=r(5976),o=r(16612);e.exports=function(e){return n(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var l=r[n];l&&e(t,l,n,a)}return t})}},24626:function(e,t,r){var n=r(77813),o=Object.prototype,i=o.hasOwnProperty;e.exports=function(e,t,r,a){return void 0===e||n(e,o[r])&&!i.call(a,r)?t:e}},89464:function(e,t,r){e.exports=r(18674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})},31994:function(e){var t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+t[e]}},16612:function(e,t,r){var n=r(77813),o=r(98612),i=r(65776),a=r(13218);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return("number"==s?!!(o(r)&&i(t,r.length)):"string"==s&&t in r)&&n(r[t],e)}},45357:function(e,t,r){var n=r(96874),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=r(l),n(e,this,u)}}},79865:function(e){e.exports=/<%-([\s\S]+?)%>/g},76051:function(e){e.exports=/<%([\s\S]+?)%>/g},5712:function(e){e.exports=/<%=([\s\S]+?)%>/g},30061:function(e,t,r){var n=r(56560);e.exports=r(21275)(n)},21275:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},29018:function(e,t,r){var n=r(98363),o=r(21463),i=r(81704);e.exports=o(function(e,t,r,o){n(t,i(t),e,o)})},9591:function(e,t,r){var n=r(96874),o=r(5976),i=r(64647);e.exports=o(function(e,t){try{return n(e,void 0,t)}catch(e){return i(e)?e:Error(e)}})},75703:function(e){e.exports=function(e){return function(){return e}}},7187:function(e,t,r){var n=r(89464),o=r(79833),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,n):e}},18721:function(e,t,r){var n=r(78565),o=r(222);e.exports=function(e,t){return null!=e&&o(e,t,n)}},41609:function(e,t,r){var n=r(280),o=r(64160),i=r(35694),a=r(1469),s=r(98612),l=r(44144),u=r(25726),c=r(36719),p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(p.call(e,r))return!1;return!0}},64647:function(e,t,r){var n=r(44239),o=r(37005),i=r(68630);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},68630:function(e,t,r){var n=r(44239),o=r(85924),i=r(37005),a=Object.prototype,s=Function.prototype.toString,l=a.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==u}},41106:function(e,t,r){var n=r(29018),o=r(9591),i=r(47415),a=r(24626),s=r(31994),l=r(64647),u=r(16612),c=r(3674),p=r(5712),d=r(15835),f=r(79833),h=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/[()=,{}\[\]\/\s]/,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/($^)/,w=/['\n\r\u2028\u2029\\]/g,x=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var k=d.imports._.templateSettings||d;r&&u(e,t,r)&&(t=void 0),e=f(e),t=n({},t,k,a);var S,$,E=n({},t.imports,k.imports,a),P=c(E),O=i(E,P),_=0,j=t.interpolate||b,C="__p += '",T=RegExp((t.escape||b).source+"|"+j.source+"|"+(j===p?v:b).source+"|"+(t.evaluate||b).source+"|$","g"),M=x.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(T,function(t,r,n,o,i,a){return n||(n=o),C+=e.slice(_,a).replace(w,s),r&&(S=!0,C+="' +\n__e("+r+") +\n'"),i&&($=!0,C+="';\n"+i+";\n__p += '"),n&&(C+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),_=a+t.length,t}),C+="';\n";var z=x.call(t,"variable")&&t.variable;if(z){if(y.test(z))throw Error("Invalid `variable` option passed into `_.template`")}else C="with (obj) {\n"+C+"\n}\n";C=($?C.replace(h,""):C).replace(m,"$1").replace(g,"$1;"),C="function("+(z||"obj")+") {\n"+(z?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(S?", __e = _.escape":"")+($?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+C+"return __p\n}";var N=o(function(){return Function(P,M+"return "+C).apply(void 0,O)});if(N.source=C,l(N))throw N;return N}},15835:function(e,t,r){var n=r(7187);e.exports={escape:r(79865),evaluate:r(76051),interpolate:r(5712),variable:"",imports:{_:{escape:n}}}},45578:function(e,t,r){var n=r(67206),o=r(45652);e.exports=function(e,t){return e&&e.length?o(e,n(t,2)):[]}},24969:function(e,t,r){"use strict";var n=r(59900),o=r(86320),i=r(73381),a=r(66575),s=r(49179);class l extends a.Z{constructor(e,t,r){super(),r=r||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(i.default.CHANGE)}release(){this.setState(n.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==n.default.EMPTY){if(this.state!==n.default.ERROR&&this.state>e)throw Error("Tile load sequence violation");this.state=e,this.changed()}}load(){(0,s.abstract)()}getAlpha(e,t){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=t,this.transitionStarts_[e]=r;let n=t-r+1e3/60;return n>=this.transition_?1:(0,o.easeIn)(n/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}t.Z=l},59900:function(e,t,r){"use strict";r.r(t),t.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},90226:function(e,t,r){"use strict";var n=r(24969),o=r(59900);class i extends n.Z{constructor(e,t,r,n,o,i){super(e,t,i),this.extent=null,this.format_=n,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=o,this.url_=r,this.key=r}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==o.default.IDLE&&(this.setState(o.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(o.default.ERROR)}setFeatures(e){this.features_=e,this.setState(o.default.LOADED)}setLoader(e){this.loader_=e}}t.Z=i},86320:function(e,t,r){"use strict";function n(e){return Math.pow(e,3)}function o(e){return 1-n(1-e)}function i(e){return 3*e*e-2*e*e*e}function a(e){return e}function s(e){return e<.5?i(2*e):1-i(2*(e-.5))}r.r(t),r.d(t,{easeIn:function(){return n},easeOut:function(){return o},inAndOut:function(){return i},linear:function(){return a},upAndDown:function(){return s}})},49179:function(e,t,r){"use strict";function n(){throw Error("Unimplemented abstract method.")}r.r(t),r.d(t,{VERSION:function(){return a},abstract:function(){return n},getUid:function(){return i}});let o=0;function i(e){return e.ol_uid||(e.ol_uid=String(++o))}let a="10.4.0"},26560:function(e,t,r){"use strict";r.d(t,{lm:function(){return j},qX:function(){return v},JB:function(){return w}});var n=r(57705),o=r(6420),i=r(56633),a=r(9948),s=r.n(a),l=r(28991),u=r(89759),c=r(22122),p=r(96156),d=r(94184),f=r.n(d),h=r(54490),m=r(90484),g=r(15105),y=r(64217),v=a.forwardRef(function(e,t){var r=e.prefixCls,n=e.style,i=e.className,s=e.duration,l=void 0===s?4.5:s,u=e.showProgress,d=e.pauseOnHover,h=void 0===d||d,v=e.eventKey,b=e.content,w=e.closable,x=e.closeIcon,k=void 0===x?"x":x,S=e.props,$=e.onClick,E=e.onNoticeClose,P=e.times,O=e.hovering,_=a.useState(!1),j=(0,o.Z)(_,2),C=j[0],T=j[1],M=a.useState(0),z=(0,o.Z)(M,2),N=z[0],L=z[1],I=a.useState(0),A=(0,o.Z)(I,2),R=A[0],D=A[1],F=O||C,U=l>0&&u,q=function(){E(v)};a.useEffect(function(){if(!F&&l>0){var e=Date.now()-R,t=setTimeout(function(){q()},1e3*l-R);return function(){h&&clearTimeout(t),D(Date.now()-e)}}},[l,F,P]),a.useEffect(function(){if(!F&&U&&(h||0===R)){var e,t=performance.now();return!function r(){cancelAnimationFrame(e),e=requestAnimationFrame(function(e){var n=Math.min((e+R-t)/(1e3*l),1);L(100*n),n<1&&r()})}(),function(){h&&cancelAnimationFrame(e)}}},[l,R,F,U,P]);var H=a.useMemo(function(){return"object"===(0,m.Z)(w)&&null!==w?w:w?{closeIcon:k}:{}},[w,k]),V=(0,y.Z)(H,!0),Z=100-(!N||N<0?0:N>100?100:N),G="".concat(r,"-notice");return a.createElement("div",(0,c.Z)({},S,{ref:t,className:f()(G,i,(0,p.Z)({},"".concat(G,"-closable"),w)),style:n,onMouseEnter:function(e){var t;T(!0),null==S||null==(t=S.onMouseEnter)||t.call(S,e)},onMouseLeave:function(e){var t;T(!1),null==S||null==(t=S.onMouseLeave)||t.call(S,e)},onClick:$}),a.createElement("div",{className:"".concat(G,"-content")},b),w&&a.createElement("a",(0,c.Z)({tabIndex:0,className:"".concat(G,"-close"),onKeyDown:function(e){("Enter"===e.key||"Enter"===e.code||e.keyCode===g.Z.ENTER)&&q()},"aria-label":"Close"},V,{onClick:function(e){e.preventDefault(),e.stopPropagation(),q()}}),H.closeIcon),U&&a.createElement("progress",{className:"".concat(G,"-progress"),max:"100",value:Z},Z+"%"))}),b=s().createContext({}),w=function(e){var t=e.children,r=e.classNames;return s().createElement(b.Provider,{value:{classNames:r}},t)},x=function(e){var t,r,n,o={offset:8,threshold:3,gap:16};return e&&"object"===(0,m.Z)(e)&&(o.offset=null!=(t=e.offset)?t:8,o.threshold=null!=(r=e.threshold)?r:3,o.gap=null!=(n=e.gap)?n:16),[!!e,o]},k=["className","style","classNames","styles"],S=function(e){var t=e.configList,r=e.placement,u=e.prefixCls,d=e.className,m=e.style,g=e.motion,y=e.onAllNoticeRemoved,w=e.onNoticeClose,S=e.stack,$=(0,a.useContext)(b).classNames,E=(0,a.useRef)({}),P=(0,a.useState)(null),O=(0,o.Z)(P,2),_=O[0],j=O[1],C=(0,a.useState)([]),T=(0,o.Z)(C,2),M=T[0],z=T[1],N=t.map(function(e){return{config:e,key:String(e.key)}}),L=x(S),I=(0,o.Z)(L,2),A=I[0],R=I[1],D=R.offset,F=R.threshold,U=R.gap,q=A&&(M.length>0||N.length<=F),H="function"==typeof g?g(r):g;return(0,a.useEffect)(function(){A&&M.length>1&&z(function(e){return e.filter(function(e){return N.some(function(t){return e===t.key})})})},[M,N,A]),(0,a.useEffect)(function(){var e,t;A&&E.current[null==(e=N[N.length-1])?void 0:e.key]&&j(E.current[null==(t=N[N.length-1])?void 0:t.key])},[N,A]),s().createElement(h.CSSMotionList,(0,c.Z)({key:r,className:f()(u,"".concat(u,"-").concat(r),null==$?void 0:$.list,d,(0,p.Z)((0,p.Z)({},"".concat(u,"-stack"),!!A),"".concat(u,"-stack-expanded"),q)),style:m,keys:N,motionAppear:!0},H,{onAllRemoved:function(){y(r)}}),function(e,t){var o=e.config,a=e.className,p=e.style,d=e.index,h=o.key,m=o.times,g=String(h),y=o.className,b=o.style,x=o.classNames,S=o.styles,P=(0,i.Z)(o,k),O=N.findIndex(function(e){return e.key===g}),j={};if(A){var C=N.length-1-(O>-1?O:d-1),T="top"===r||"bottom"===r?"-50%":"0";if(C>0){j.height=q?null==(L=E.current[g])?void 0:L.offsetHeight:null==_?void 0:_.offsetHeight;for(var L,I,R,F,H=0,V=0;V<C;V++)H+=(null==(F=E.current[N[N.length-1-V].key])?void 0:F.offsetHeight)+U;var Z=(q?H:C*D)*(r.startsWith("top")?1:-1),G=!q&&null!=_&&_.offsetWidth&&null!=(I=E.current[g])&&I.offsetWidth?((null==_?void 0:_.offsetWidth)-2*D*(C<3?C:3))/(null==(R=E.current[g])?void 0:R.offsetWidth):1;j.transform="translate3d(".concat(T,", ").concat(Z,"px, 0) scaleX(").concat(G,")")}else j.transform="translate3d(".concat(T,", 0, 0)")}return s().createElement("div",{ref:t,className:f()("".concat(u,"-notice-wrapper"),a,null==x?void 0:x.wrapper),style:(0,l.Z)((0,l.Z)((0,l.Z)({},p),j),null==S?void 0:S.wrapper),onMouseEnter:function(){return z(function(e){return e.includes(g)?e:[].concat((0,n.Z)(e),[g])})},onMouseLeave:function(){return z(function(e){return e.filter(function(e){return e!==g})})}},s().createElement(v,(0,c.Z)({},P,{ref:function(e){O>-1?E.current[g]=e:delete E.current[g]},prefixCls:u,classNames:x,styles:S,className:f()(y,null==$?void 0:$.notice),style:b,times:m,key:h,eventKey:h,onNoticeClose:w,hovering:A&&M.length>0})))})},$=a.forwardRef(function(e,t){var r=e.prefixCls,i=void 0===r?"rc-notification":r,s=e.container,c=e.motion,p=e.maxCount,d=e.className,f=e.style,h=e.onAllRemoved,m=e.stack,g=e.renderNotifications,y=a.useState([]),v=(0,o.Z)(y,2),b=v[0],w=v[1],x=function(e){var t,r=b.find(function(t){return t.key===e});null==r||null==(t=r.onClose)||t.call(r),w(function(t){return t.filter(function(t){return t.key!==e})})};a.useImperativeHandle(t,function(){return{open:function(e){w(function(t){var r,o=(0,n.Z)(t),i=o.findIndex(function(t){return t.key===e.key}),a=(0,l.Z)({},e);return i>=0?(a.times=((null==(r=t[i])?void 0:r.times)||0)+1,o[i]=a):(a.times=0,o.push(a)),p>0&&o.length>p&&(o=o.slice(-p)),o})},close:function(e){x(e)},destroy:function(){w([])}}});var k=a.useState({}),$=(0,o.Z)(k,2),E=$[0],P=$[1];a.useEffect(function(){var e={};b.forEach(function(t){var r=t.placement,n=void 0===r?"topRight":r;n&&(e[n]=e[n]||[],e[n].push(t))}),Object.keys(E).forEach(function(t){e[t]=e[t]||[]}),P(e)},[b]);var O=function(e){P(function(t){var r=(0,l.Z)({},t);return(r[e]||[]).length||delete r[e],r})},_=a.useRef(!1);if(a.useEffect(function(){Object.keys(E).length>0?_.current=!0:_.current&&(null==h||h(),_.current=!1)},[E]),!s)return null;var j=Object.keys(E);return(0,u.createPortal)(a.createElement(a.Fragment,null,j.map(function(e){var t=E[e],r=a.createElement(S,{key:e,configList:t,placement:e,prefixCls:i,className:null==d?void 0:d(e),style:null==f?void 0:f(e),motion:c,onNoticeClose:x,onAllNoticeRemoved:O,stack:m});return g?g(r,{prefixCls:i,key:e}):r})),s)}),E=r(56790),P=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],O=function(){return document.body},_=0;function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,r=void 0===t?O:t,s=e.motion,l=e.prefixCls,u=e.maxCount,c=e.className,p=e.style,d=e.onAllRemoved,f=e.stack,h=e.renderNotifications,m=(0,i.Z)(e,P),g=a.useState(),y=(0,o.Z)(g,2),v=y[0],b=y[1],w=a.useRef(),x=a.createElement($,{container:v,ref:w,prefixCls:l,motion:s,maxCount:u,className:c,style:p,onAllRemoved:d,stack:f,renderNotifications:h}),k=a.useState([]),S=(0,o.Z)(k,2),j=S[0],C=S[1],T=(0,E.zX)(function(e){var t=function(){for(var e={},t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){t&&Object.keys(t).forEach(function(r){var n=t[r];void 0!==n&&(e[r]=n)})}),e}(m,e);(null===t.key||void 0===t.key)&&(t.key="rc-notification-".concat(_),_+=1),C(function(e){return[].concat((0,n.Z)(e),[{type:"open",config:t}])})}),M=a.useMemo(function(){return{open:T,close:function(e){C(function(t){return[].concat((0,n.Z)(t),[{type:"close",key:e}])})},destroy:function(){C(function(e){return[].concat((0,n.Z)(e),[{type:"destroy"}])})}}},[]);return a.useEffect(function(){b(r())}),a.useEffect(function(){if(w.current&&j.length){var e,t;j.forEach(function(e){switch(e.type){case"open":w.current.open(e.config);break;case"close":w.current.close(e.key);break;case"destroy":w.current.destroy()}}),C(function(r){return e===r&&t||(e=r,t=r.filter(function(e){return!j.includes(e)})),t})}},[j]),[M,x]}},39358:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={items_per_page:"/ strana",jump_to:"Přej\xedt",jump_to_confirm:"potvrdit",page:"",prev_page:"Předchoz\xed strana",next_page:"N\xe1sleduj\xedc\xed strana",prev_5:"Předchoz\xedch 5 stran",next_5:"N\xe1sleduj\xedc\xedch 5 stran",prev_3:"Předchoz\xed 3 strany",next_3:"N\xe1sleduj\xedc\xed 3 strany",page_size:"velikost str\xe1nky"}},34131:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={items_per_page:"/ Seite",jump_to:"Gehe zu",jump_to_confirm:"best\xe4tigen",page:"Seite",prev_page:"Vorherige Seite",next_page:"N\xe4chste Seite",prev_5:"5 Seiten zur\xfcck",next_5:"5 Seiten vor",prev_3:"3 Seiten zur\xfcck",next_3:"3 Seiten vor",page_size:"Page Size"}},32315:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},85554:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={items_per_page:"na stronę",jump_to:"Idź do",jump_to_confirm:"potwierdź",page:"",prev_page:"Poprzednia strona",next_page:"Następna strona",prev_5:"Poprzednie 5 stron",next_5:"Następne 5 stron",prev_3:"Poprzednie 3 strony",next_3:"Następne 3 strony",page_size:"rozmiar strony"}},26114:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonLocale=void 0,t.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}},4980:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(81109)),i=r(26114);t.default=(0,o.default)((0,o.default)({},i.commonLocale),{},{locale:"cs_CZ",today:"Dnes",now:"Nyn\xed",backToToday:"Zpět na dnešek",ok:"OK",clear:"Vymazat",week:"T\xfdden",month:"Měs\xedc",year:"Rok",timeSelect:"Vybrat čas",dateSelect:"Vybrat datum",monthSelect:"Vyberte měs\xedc",yearSelect:"Vyberte rok",decadeSelect:"Vyberte dek\xe1du",dateFormat:"D.M.YYYY",dateTimeFormat:"D.M.YYYY HH:mm:ss",previousMonth:"Předchoz\xed měs\xedc (PageUp)",nextMonth:"N\xe1sleduj\xedc\xed (PageDown)",previousYear:"Předchoz\xed rok (Control + left)",nextYear:"N\xe1sleduj\xedc\xed rok (Control + right)",previousDecade:"Předchoz\xed dek\xe1da",nextDecade:"N\xe1sleduj\xedc\xed dek\xe1da",previousCentury:"Předchoz\xed stolet\xed",nextCentury:"N\xe1sleduj\xedc\xed stolet\xed"})},81209:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(81109)),i=r(26114);t.default=(0,o.default)((0,o.default)({},i.commonLocale),{},{locale:"de_DE",today:"Heute",now:"Jetzt",backToToday:"Zur\xfcck zu Heute",ok:"OK",clear:"Zur\xfccksetzen",week:"Woche",month:"Monat",year:"Jahr",timeSelect:"Zeit w\xe4hlen",dateSelect:"Datum w\xe4hlen",monthSelect:"W\xe4hle einen Monat",yearSelect:"W\xe4hle ein Jahr",decadeSelect:"W\xe4hle ein Jahrzehnt",dateFormat:"D.M.YYYY",dateTimeFormat:"D.M.YYYY HH:mm:ss",previousMonth:"Vorheriger Monat (PageUp)",nextMonth:"N\xe4chster Monat (PageDown)",previousYear:"Vorheriges Jahr (Ctrl + left)",nextYear:"N\xe4chstes Jahr (Ctrl + right)",previousDecade:"Vorheriges Jahrzehnt",nextDecade:"N\xe4chstes Jahrzehnt",previousCentury:"Vorheriges Jahrhundert",nextCentury:"N\xe4chstes Jahrhundert"})},22363:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(81109)),i=r(26114);t.default=(0,o.default)((0,o.default)({},i.commonLocale),{},{locale:"en_GB",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"Select time",dateSelect:"Select date",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"D/M/YYYY",dateTimeFormat:"D/M/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"})},5491:function(e,t,r){"use strict";var n=r(95318).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(81109)),i=r(26114);t.default=(0,o.default)((0,o.default)({},i.commonLocale),{},{locale:"pl_PL",today:"Dzisiaj",now:"Teraz",backToToday:"Ustaw dzisiaj",ok:"OK",clear:"Wyczyść",week:"Tydzień",month:"Miesiąc",year:"Rok",timeSelect:"Ustaw czas",dateSelect:"Ustaw datę",monthSelect:"Wybierz miesiąc",yearSelect:"Wybierz rok",decadeSelect:"Wybierz dekadę",dateFormat:"D/M/YYYY",dateTimeFormat:"D/M/YYYY HH:mm:ss",previousMonth:"Poprzedni miesiąc (PageUp)",nextMonth:"Następny miesiąc (PageDown)",previousYear:"Ostatni rok (Ctrl + left)",nextYear:"Następny rok (Ctrl + right)",previousDecade:"Ostatnia dekada",nextDecade:"Następna dekada",previousCentury:"Ostatni wiek",nextCentury:"Następny wiek"})},20745:function(e,t,r){"use strict";var n=r(89759);t.createRoot=n.createRoot,n.hydrateRoot},75251:function(e,t,r){"use strict";var n=r(9948),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},85893:function(e,t,r){"use strict";e.exports=r(75251)},76438:function(e,t,r){"use strict";function n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}r.d(t,{LG:function(){return d},MT:function(){return l},PO:function(){return s},UY:function(){return u},md:function(){return p},qC:function(){return c}});var o="function"==typeof Symbol&&Symbol.observable||"@@observable",i=()=>Math.random().toString(36).substring(7).split("").join("."),a={INIT:`@@redux/INIT${i()}`,REPLACE:`@@redux/REPLACE${i()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i()}`};function s(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function l(e,t,r){if("function"!=typeof e)throw Error(n(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(n(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(n(1));return r(l)(e,t)}let i=e,u=t,c=new Map,p=c,d=0,f=!1;function h(){p===c&&(p=new Map,c.forEach((e,t)=>{p.set(t,e)}))}function m(){if(f)throw Error(n(3));return u}function g(e){if("function"!=typeof e)throw Error(n(4));if(f)throw Error(n(5));let t=!0;h();let r=d++;return p.set(r,e),function(){if(t){if(f)throw Error(n(6));t=!1,h(),p.delete(r),c=null}}}function y(e){if(!s(e))throw Error(n(7));if(void 0===e.type)throw Error(n(8));if("string"!=typeof e.type)throw Error(n(17));if(f)throw Error(n(9));try{f=!0,u=i(u,e)}finally{f=!1}return(c=p).forEach(e=>{e()}),e}return y({type:a.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw Error(n(10));i=e,y({type:a.REPLACE})},[o]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(n(11));function t(){e.next&&e.next(m())}return t(),{unsubscribe:g(t)}},[o](){return this}}}}}function u(e){let t,r=Object.keys(e),o={};for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof e[n]&&(o[n]=e[n])}let i=Object.keys(o);try{Object.keys(o).forEach(e=>{let t=o[e];if(void 0===t(void 0,{type:a.INIT}))throw Error(n(12));if(void 0===t(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw Error(n(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let a=!1,s={};for(let t=0;t<i.length;t++){let l=i[t],u=o[l],c=e[l],p=u(c,r);if(void 0===p)throw r&&r.type,Error(n(14));s[l]=p,a=a||p!==c}return(a=a||i.length!==Object.keys(e).length)?s:e}}function c(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function p(...e){return t=>(r,o)=>{let i=t(r,o),a=()=>{throw Error(n(15))},s={getState:i.getState,dispatch:(e,...t)=>a(e,...t)};return a=c(...e.map(e=>e(s)))(i.dispatch),{...i,dispatch:a}}}function d(e){return s(e)&&"type"in e&&"string"==typeof e.type}},65353:function(e,t,r){"use strict";function n(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var u=[s,l];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}r.d(t,{Jh:function(){return n},XA:function(){return o}})},18447:function(e,t,r){"use strict";var n=r(46305);Object.prototype.hasOwnProperty.call(n,"__proto__")&&!Object.prototype.hasOwnProperty.call(t,"__proto__")&&Object.defineProperty(t,"__proto__",{enumerable:!0,value:n.__proto__}),Object.keys(n).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(t,e)||(t[e]=n[e])})}}]);
//# sourceMappingURL=1926.be6dfbb8463077e3.js.map