{"version":3,"file":"8869.f3977e354907ce8d.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/Collection.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/CollectionEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/DoubleClickZoom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/DragPan.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/DragRotate.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/events/Key.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/KeyboardPan.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/KeyboardZoom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/MouseWheelZoom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/PinchRotate.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/PinchZoom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/Kinetic.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/interaction/defaults.js"],"sourcesContent":["/**\n * @module ol/Collection\n */\nimport CollectionEventType from './CollectionEventType.js';\nimport BaseObject from './Object.js';\nimport Event from './events/Event.js';\n\n/**\n * @enum {string}\n * @private\n */\nconst Property = {\n  LENGTH: 'length',\n};\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n * type.\n * @template T\n */\nexport class CollectionEvent extends Event {\n  /**\n   * @param {import(\"./CollectionEventType.js\").default} type Type.\n   * @param {T} element Element.\n   * @param {number} index The index of the added or removed element.\n   */\n  constructor(type, element, index) {\n    super(type);\n\n    /**\n     * The element that is added to or removed from the collection.\n     * @type {T}\n     * @api\n     */\n    this.element = element;\n\n    /**\n     * The index of the added or removed element.\n     * @type {number}\n     * @api\n     */\n    this.index = index;\n  }\n}\n\n/***\n * @template T\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:length', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").OnSignature<'add'|'remove', CollectionEvent<T>, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types|\n *     'change:length'|'add'|'remove',Return>} CollectionOnSignature\n */\n\n/**\n * @typedef {Object} Options\n * @property {boolean} [unique=false] Disallow the same item from being added to\n * the collection twice.\n */\n\n/**\n * @classdesc\n * An expanded version of standard JS Array, adding convenience methods for\n * manipulation. Add and remove changes to the Collection trigger a Collection\n * event. Note that this does not cover changes to the objects _within_ the\n * Collection; they trigger events on the appropriate object, not on the\n * Collection as a whole.\n *\n * @fires CollectionEvent\n *\n * @template T\n * @api\n */\nclass Collection extends BaseObject {\n  /**\n   * @param {Array<T>} [array] Array.\n   * @param {Options} [options] Collection options.\n   */\n  constructor(array, options) {\n    super();\n\n    /***\n     * @type {CollectionOnSignature<T, import(\"./events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {CollectionOnSignature<T, import(\"./events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {CollectionOnSignature<T, void>}\n     */\n    this.un;\n\n    options = options || {};\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.unique_ = !!options.unique;\n\n    /**\n     * @private\n     * @type {!Array<T>}\n     */\n    this.array_ = array ? array : [];\n\n    if (this.unique_) {\n      for (let i = 0, ii = this.array_.length; i < ii; ++i) {\n        this.assertUnique_(this.array_[i], i);\n      }\n    }\n\n    this.updateLength_();\n  }\n\n  /**\n   * Remove all elements from the collection.\n   * @api\n   */\n  clear() {\n    while (this.getLength() > 0) {\n      this.pop();\n    }\n  }\n\n  /**\n   * Add elements to the collection.  This pushes each item in the provided array\n   * to the end of the collection.\n   * @param {!Array<T>} arr Array.\n   * @return {Collection<T>} This collection.\n   * @api\n   */\n  extend(arr) {\n    for (let i = 0, ii = arr.length; i < ii; ++i) {\n      this.push(arr[i]);\n    }\n    return this;\n  }\n\n  /**\n   * Iterate over each element, calling the provided callback.\n   * @param {function(T, number, Array<T>): *} f The function to call\n   *     for every element. This function takes 3 arguments (the element, the\n   *     index and the array). The return value is ignored.\n   * @api\n   */\n  forEach(f) {\n    const array = this.array_;\n    for (let i = 0, ii = array.length; i < ii; ++i) {\n      f(array[i], i, array);\n    }\n  }\n\n  /**\n   * Get a reference to the underlying Array object. Warning: if the array\n   * is mutated, no events will be dispatched by the collection, and the\n   * collection's \"length\" property won't be in sync with the actual length\n   * of the array.\n   * @return {!Array<T>} Array.\n   * @api\n   */\n  getArray() {\n    return this.array_;\n  }\n\n  /**\n   * Get the element at the provided index.\n   * @param {number} index Index.\n   * @return {T} Element.\n   * @api\n   */\n  item(index) {\n    return this.array_[index];\n  }\n\n  /**\n   * Get the length of this collection.\n   * @return {number} The length of the array.\n   * @observable\n   * @api\n   */\n  getLength() {\n    return this.get(Property.LENGTH);\n  }\n\n  /**\n   * Insert an element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  insertAt(index, elem) {\n    if (index < 0 || index > this.getLength()) {\n      throw new Error('Index out of bounds: ' + index);\n    }\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    this.array_.splice(index, 0, elem);\n    this.updateLength_();\n    this.dispatchEvent(\n      new CollectionEvent(CollectionEventType.ADD, elem, index),\n    );\n  }\n\n  /**\n   * Remove the last element of the collection and return it.\n   * Return `undefined` if the collection is empty.\n   * @return {T|undefined} Element.\n   * @api\n   */\n  pop() {\n    return this.removeAt(this.getLength() - 1);\n  }\n\n  /**\n   * Insert the provided element at the end of the collection.\n   * @param {T} elem Element.\n   * @return {number} New length of the collection.\n   * @api\n   */\n  push(elem) {\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    const n = this.getLength();\n    this.insertAt(n, elem);\n    return this.getLength();\n  }\n\n  /**\n   * Remove the first occurrence of an element from the collection.\n   * @param {T} elem Element.\n   * @return {T|undefined} The removed element or undefined if none found.\n   * @api\n   */\n  remove(elem) {\n    const arr = this.array_;\n    for (let i = 0, ii = arr.length; i < ii; ++i) {\n      if (arr[i] === elem) {\n        return this.removeAt(i);\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Remove the element at the provided index and return it.\n   * Return `undefined` if the collection does not contain this index.\n   * @param {number} index Index.\n   * @return {T|undefined} Value.\n   * @api\n   */\n  removeAt(index) {\n    if (index < 0 || index >= this.getLength()) {\n      return undefined;\n    }\n    const prev = this.array_[index];\n    this.array_.splice(index, 1);\n    this.updateLength_();\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.REMOVE, prev, index)\n      ),\n    );\n    return prev;\n  }\n\n  /**\n   * Set the element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  setAt(index, elem) {\n    const n = this.getLength();\n    if (index >= n) {\n      this.insertAt(index, elem);\n      return;\n    }\n    if (index < 0) {\n      throw new Error('Index out of bounds: ' + index);\n    }\n    if (this.unique_) {\n      this.assertUnique_(elem, index);\n    }\n    const prev = this.array_[index];\n    this.array_[index] = elem;\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.REMOVE, prev, index)\n      ),\n    );\n    this.dispatchEvent(\n      /** @type {CollectionEvent<T>} */ (\n        new CollectionEvent(CollectionEventType.ADD, elem, index)\n      ),\n    );\n  }\n\n  /**\n   * @private\n   */\n  updateLength_() {\n    this.set(Property.LENGTH, this.array_.length);\n  }\n\n  /**\n   * @private\n   * @param {T} elem Element.\n   * @param {number} [except] Optional index to ignore.\n   */\n  assertUnique_(elem, except) {\n    for (let i = 0, ii = this.array_.length; i < ii; ++i) {\n      if (this.array_[i] === elem && i !== except) {\n        throw new Error('Duplicate item added to a unique collection');\n      }\n    }\n  }\n}\n\nexport default Collection;\n","/**\n * @module ol/CollectionEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when an item is added to the collection.\n   * @event module:ol/Collection.CollectionEvent#add\n   * @api\n   */\n  ADD: 'add',\n  /**\n   * Triggered when an item is removed from the collection.\n   * @event module:ol/Collection.CollectionEvent#remove\n   * @api\n   */\n  REMOVE: 'remove',\n};\n","/**\n * @module ol/interaction/DoubleClickZoom\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [delta=1] The zoom delta applied on each double click.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom by double-clicking on the map.\n * @api\n */\nclass DoubleClickZoom extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    options = options ? options : {};\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delta_ = options.delta ? options.delta : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} (if it was a\n   * doubleclick) and eventually zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @override\n   */\n  handleEvent(mapBrowserEvent) {\n    let stopEvent = false;\n    if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\n      const browserEvent = /** @type {MouseEvent} */ (\n        mapBrowserEvent.originalEvent\n      );\n      const map = mapBrowserEvent.map;\n      const anchor = mapBrowserEvent.coordinate;\n      const delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\n      const view = map.getView();\n      zoomByDelta(view, delta, anchor, this.duration_);\n      browserEvent.preventDefault();\n      stopEvent = true;\n    }\n    return !stopEvent;\n  }\n}\n\nexport default DoubleClickZoom;\n","/**\n * @module ol/interaction/DragPan\n */\nimport {\n  rotate as rotateCoordinate,\n  scale as scaleCoordinate,\n} from '../coordinate.js';\nimport {easeOut} from '../easing.js';\nimport {\n  all,\n  focusWithTabindex,\n  noModifierKeys,\n  primaryAction,\n} from '../events/condition.js';\nimport {FALSE} from '../functions.js';\nimport PointerInteraction, {\n  centroid as centroidFromPointers,\n} from './Pointer.js';\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.noModifierKeys} and {@link module:ol/events/condition.primaryAction}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {import(\"../Kinetic.js\").default} [kinetic] Kinetic inertia to apply to the pan.\n */\n\n/**\n * @classdesc\n * Allows the user to pan the map by dragging the map.\n * @api\n */\nclass DragPan extends PointerInteraction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super({\n      stopDown: FALSE,\n    });\n\n    options = options ? options : {};\n\n    /**\n     * @private\n     * @type {import(\"../Kinetic.js\").default|undefined}\n     */\n    this.kinetic_ = options.kinetic;\n\n    /**\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n    this.lastCentroid = null;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.lastPointersCount_;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.panning_ = false;\n\n    const condition = options.condition\n      ? options.condition\n      : all(noModifierKeys, primaryAction);\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.onFocusOnly\n      ? all(focusWithTabindex, condition)\n      : condition;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.noKinetic_ = false;\n  }\n\n  /**\n   * Handle pointer drag events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @override\n   */\n  handleDragEvent(mapBrowserEvent) {\n    const map = mapBrowserEvent.map;\n    if (!this.panning_) {\n      this.panning_ = true;\n      map.getView().beginInteraction();\n    }\n    const targetPointers = this.targetPointers;\n    const centroid = map.getEventPixel(centroidFromPointers(targetPointers));\n    if (targetPointers.length == this.lastPointersCount_) {\n      if (this.kinetic_) {\n        this.kinetic_.update(centroid[0], centroid[1]);\n      }\n      if (this.lastCentroid) {\n        const delta = [\n          this.lastCentroid[0] - centroid[0],\n          centroid[1] - this.lastCentroid[1],\n        ];\n        const map = mapBrowserEvent.map;\n        const view = map.getView();\n        scaleCoordinate(delta, view.getResolution());\n        rotateCoordinate(delta, view.getRotation());\n        view.adjustCenterInternal(delta);\n      }\n    } else if (this.kinetic_) {\n      // reset so we don't overestimate the kinetic energy after\n      // after one finger down, tiny drag, second finger down\n      this.kinetic_.begin();\n    }\n    this.lastCentroid = centroid;\n    this.lastPointersCount_ = targetPointers.length;\n    mapBrowserEvent.originalEvent.preventDefault();\n  }\n\n  /**\n   * Handle pointer up events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleUpEvent(mapBrowserEvent) {\n    const map = mapBrowserEvent.map;\n    const view = map.getView();\n    if (this.targetPointers.length === 0) {\n      if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {\n        const distance = this.kinetic_.getDistance();\n        const angle = this.kinetic_.getAngle();\n        const center = view.getCenterInternal();\n        const centerpx = map.getPixelFromCoordinateInternal(center);\n        const dest = map.getCoordinateFromPixelInternal([\n          centerpx[0] - distance * Math.cos(angle),\n          centerpx[1] - distance * Math.sin(angle),\n        ]);\n        view.animateInternal({\n          center: view.getConstrainedCenter(dest),\n          duration: 500,\n          easing: easeOut,\n        });\n      }\n      if (this.panning_) {\n        this.panning_ = false;\n        view.endInteraction();\n      }\n      return false;\n    }\n    if (this.kinetic_) {\n      // reset so we don't overestimate the kinetic energy after\n      // after one finger up, tiny drag, second finger up\n      this.kinetic_.begin();\n    }\n    this.lastCentroid = null;\n    return true;\n  }\n\n  /**\n   * Handle pointer down events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleDownEvent(mapBrowserEvent) {\n    if (this.targetPointers.length > 0 && this.condition_(mapBrowserEvent)) {\n      const map = mapBrowserEvent.map;\n      const view = map.getView();\n      this.lastCentroid = null;\n      // stop any current animation\n      if (view.getAnimating()) {\n        view.cancelAnimations();\n      }\n      if (this.kinetic_) {\n        this.kinetic_.begin();\n      }\n      // No kinetic as soon as more than one pointer on the screen is\n      // detected. This is to prevent nasty pans after pinch.\n      this.noKinetic_ = this.targetPointers.length > 1;\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default DragPan;\n","/**\n * @module ol/interaction/DragRotate\n */\nimport {\n  altShiftKeysOnly,\n  mouseActionButton,\n  mouseOnly,\n} from '../events/condition.js';\nimport {FALSE} from '../functions.js';\nimport {disable} from '../rotationconstraint.js';\nimport PointerInteraction from './Pointer.js';\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes a\n * {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.altShiftKeysOnly}.\n * @property {number} [duration=250] Animation duration in milliseconds.\n */\n\n/**\n * @classdesc\n * Allows the user to rotate the map by clicking and dragging on the map,\n * normally combined with a {@link module:ol/events/condition} that limits\n * it to when the alt and shift keys are held down.\n *\n * This interaction is only supported for mouse devices.\n * @api\n */\nclass DragRotate extends PointerInteraction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n\n    super({\n      stopDown: FALSE,\n    });\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : altShiftKeysOnly;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lastAngle_ = undefined;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n  }\n\n  /**\n   * Handle pointer drag events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @override\n   */\n  handleDragEvent(mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return;\n    }\n\n    const map = mapBrowserEvent.map;\n    const view = map.getView();\n    if (view.getConstraints().rotation === disable) {\n      return;\n    }\n    const size = map.getSize();\n    const offset = mapBrowserEvent.pixel;\n    const theta = Math.atan2(size[1] / 2 - offset[1], offset[0] - size[0] / 2);\n    if (this.lastAngle_ !== undefined) {\n      const delta = theta - this.lastAngle_;\n      view.adjustRotationInternal(-delta);\n    }\n    this.lastAngle_ = theta;\n  }\n\n  /**\n   * Handle pointer up events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleUpEvent(mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return true;\n    }\n\n    const map = mapBrowserEvent.map;\n    const view = map.getView();\n    view.endInteraction(this.duration_);\n    return false;\n  }\n\n  /**\n   * Handle pointer down events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleDownEvent(mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return false;\n    }\n\n    if (\n      mouseActionButton(mapBrowserEvent) &&\n      this.condition_(mapBrowserEvent)\n    ) {\n      const map = mapBrowserEvent.map;\n      map.getView().beginInteraction();\n      this.lastAngle_ = undefined;\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default DragRotate;\n","/**\n * @module ol/events/Key\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  LEFT: 'ArrowLeft',\n  UP: 'ArrowUp',\n  RIGHT: 'ArrowRight',\n  DOWN: 'ArrowDown',\n};\n","/**\n * @module ol/interaction/KeyboardPan\n */\nimport {rotate as rotateCoordinate} from '../coordinate.js';\nimport EventType from '../events/EventType.js';\nimport Key from '../events/Key.js';\nimport {noModifierKeys, targetNotEditable} from '../events/condition.js';\nimport Interaction, {pan} from './Interaction.js';\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.noModifierKeys} and\n * {@link module:ol/events/condition.targetNotEditable}.\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {number} [pixelDelta=128] The amount of pixels to pan on each key\n * press.\n */\n\n/**\n * @classdesc\n * Allows the user to pan the map using keyboard arrows.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}.\n * @api\n */\nclass KeyboardPan extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    options = options || {};\n\n    /**\n     * @private\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n     * @return {boolean} Combined condition result.\n     */\n    this.defaultCondition_ = function (mapBrowserEvent) {\n      return (\n        noModifierKeys(mapBrowserEvent) && targetNotEditable(mapBrowserEvent)\n      );\n    };\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ =\n      options.condition !== undefined\n        ? options.condition\n        : this.defaultCondition_;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.pixelDelta_ =\n      options.pixelDelta !== undefined ? options.pixelDelta : 128;\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} if it was a\n   * `KeyEvent`, and decides the direction to pan to (if an arrow key was\n   * pressed).\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @override\n   */\n  handleEvent(mapBrowserEvent) {\n    let stopEvent = false;\n    if (mapBrowserEvent.type == EventType.KEYDOWN) {\n      const keyEvent = /** @type {KeyboardEvent} */ (\n        mapBrowserEvent.originalEvent\n      );\n      const key = keyEvent.key;\n      if (\n        this.condition_(mapBrowserEvent) &&\n        (key == Key.DOWN ||\n          key == Key.LEFT ||\n          key == Key.RIGHT ||\n          key == Key.UP)\n      ) {\n        const map = mapBrowserEvent.map;\n        const view = map.getView();\n        const mapUnitsDelta = view.getResolution() * this.pixelDelta_;\n        let deltaX = 0,\n          deltaY = 0;\n        if (key == Key.DOWN) {\n          deltaY = -mapUnitsDelta;\n        } else if (key == Key.LEFT) {\n          deltaX = -mapUnitsDelta;\n        } else if (key == Key.RIGHT) {\n          deltaX = mapUnitsDelta;\n        } else {\n          deltaY = mapUnitsDelta;\n        }\n        const delta = [deltaX, deltaY];\n        rotateCoordinate(delta, view.getRotation());\n        pan(view, delta, this.duration_);\n        keyEvent.preventDefault();\n        stopEvent = true;\n      }\n    }\n    return !stopEvent;\n  }\n}\n\nexport default KeyboardPan;\n","/**\n * @module ol/interaction/KeyboardZoom\n */\nimport EventType from '../events/EventType.js';\nimport {platformModifierKey, targetNotEditable} from '../events/condition.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. The default condition is\n * that {@link module:ol/events/condition.targetNotEditable} is fulfilled and that\n * the platform modifier key isn't pressed\n * (!{@link module:ol/events/condition.platformModifierKey}).\n * @property {number} [delta=1] The zoom level delta on each key press.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom the map using keyboard + and -.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardPan~KeyboardPan}.\n * @api\n */\nclass KeyboardZoom extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    options = options ? options : {};\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition\n      ? options.condition\n      : function (mapBrowserEvent) {\n          return (\n            !platformModifierKey(mapBrowserEvent) &&\n            targetNotEditable(mapBrowserEvent)\n          );\n        };\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delta_ = options.delta ? options.delta : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 100;\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} if it was a\n   * `KeyEvent`, and decides whether to zoom in or out (depending on whether the\n   * key pressed was '+' or '-').\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @override\n   */\n  handleEvent(mapBrowserEvent) {\n    let stopEvent = false;\n    if (\n      mapBrowserEvent.type == EventType.KEYDOWN ||\n      mapBrowserEvent.type == EventType.KEYPRESS\n    ) {\n      const keyEvent = /** @type {KeyboardEvent} */ (\n        mapBrowserEvent.originalEvent\n      );\n      const key = keyEvent.key;\n      if (this.condition_(mapBrowserEvent) && (key === '+' || key === '-')) {\n        const map = mapBrowserEvent.map;\n        const delta = key === '+' ? this.delta_ : -this.delta_;\n        const view = map.getView();\n        zoomByDelta(view, delta, undefined, this.duration_);\n        keyEvent.preventDefault();\n        stopEvent = true;\n      }\n    }\n    return !stopEvent;\n  }\n}\n\nexport default KeyboardZoom;\n","/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport EventType from '../events/EventType.js';\nimport {all, always, focusWithTabindex} from '../events/condition.js';\nimport {clamp} from '../math.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\n\n/**\n * @typedef {'trackpad' | 'wheel'} Mode\n */\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\nclass MouseWheelZoom extends Interaction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n\n    super(\n      /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options),\n    );\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.totalDelta_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.lastDelta_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.useAnchor_ =\n      options.useAnchor !== undefined ? options.useAnchor : true;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.constrainResolution_ =\n      options.constrainResolution !== undefined\n        ? options.constrainResolution\n        : false;\n\n    const condition = options.condition ? options.condition : always;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.onFocusOnly\n      ? all(focusWithTabindex, condition)\n      : condition;\n\n    /**\n     * @private\n     * @type {?import(\"../pixel.js\").Pixel}\n     */\n    this.lastAnchor_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.startTime_ = undefined;\n\n    /**\n     * @private\n     * @type {ReturnType<typeof setTimeout>}\n     */\n    this.timeoutId_;\n\n    /**\n     * @private\n     * @type {Mode|undefined}\n     */\n    this.mode_ = undefined;\n\n    /**\n     * Trackpad events separated by this delay will be considered separate\n     * interactions.\n     * @private\n     * @type {number}\n     */\n    this.trackpadEventGap_ = 400;\n\n    /**\n     * @private\n     * @type {ReturnType<typeof setTimeout>}\n     */\n    this.trackpadTimeoutId_;\n\n    /**\n     * The number of delta values per zoom level\n     * @private\n     * @type {number}\n     */\n    this.deltaPerZoom_ = 300;\n  }\n\n  /**\n   * @private\n   */\n  endInteraction_() {\n    this.trackpadTimeoutId_ = undefined;\n    const map = this.getMap();\n    if (!map) {\n      return;\n    }\n    const view = map.getView();\n    view.endInteraction(\n      undefined,\n      this.lastDelta_ ? (this.lastDelta_ > 0 ? 1 : -1) : 0,\n      this.lastAnchor_ ? map.getCoordinateFromPixel(this.lastAnchor_) : null,\n    );\n  }\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n   * zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @override\n   */\n  handleEvent(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    const type = mapBrowserEvent.type;\n    if (type !== EventType.WHEEL) {\n      return true;\n    }\n\n    const map = mapBrowserEvent.map;\n    const wheelEvent = /** @type {WheelEvent} */ (\n      mapBrowserEvent.originalEvent\n    );\n    wheelEvent.preventDefault();\n\n    if (this.useAnchor_) {\n      this.lastAnchor_ = mapBrowserEvent.pixel;\n    }\n\n    // Delta normalisation inspired by\n    // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n    let delta;\n    if (mapBrowserEvent.type == EventType.WHEEL) {\n      delta = wheelEvent.deltaY;\n      if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        delta *= 40;\n      }\n    }\n\n    if (delta === 0) {\n      return false;\n    }\n    this.lastDelta_ = delta;\n\n    const now = Date.now();\n\n    if (this.startTime_ === undefined) {\n      this.startTime_ = now;\n    }\n\n    if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n      this.mode_ = Math.abs(delta) < 4 ? 'trackpad' : 'wheel';\n    }\n\n    const view = map.getView();\n    if (\n      this.mode_ === 'trackpad' &&\n      !(view.getConstrainResolution() || this.constrainResolution_)\n    ) {\n      if (this.trackpadTimeoutId_) {\n        clearTimeout(this.trackpadTimeoutId_);\n      } else {\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n        view.beginInteraction();\n      }\n      this.trackpadTimeoutId_ = setTimeout(\n        this.endInteraction_.bind(this),\n        this.timeout_,\n      );\n      view.adjustZoom(\n        -delta / this.deltaPerZoom_,\n        this.lastAnchor_ ? map.getCoordinateFromPixel(this.lastAnchor_) : null,\n      );\n      this.startTime_ = now;\n      return false;\n    }\n\n    this.totalDelta_ += delta;\n\n    const timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n\n    clearTimeout(this.timeoutId_);\n    this.timeoutId_ = setTimeout(\n      this.handleWheelZoom_.bind(this, map),\n      timeLeft,\n    );\n\n    return false;\n  }\n\n  /**\n   * @private\n   * @param {import(\"../Map.js\").default} map Map.\n   */\n  handleWheelZoom_(map) {\n    const view = map.getView();\n    if (view.getAnimating()) {\n      view.cancelAnimations();\n    }\n    let delta =\n      -clamp(\n        this.totalDelta_,\n        -this.maxDelta_ * this.deltaPerZoom_,\n        this.maxDelta_ * this.deltaPerZoom_,\n      ) / this.deltaPerZoom_;\n    if (view.getConstrainResolution() || this.constrainResolution_) {\n      // view has a zoom constraint, zoom by 1\n      delta = delta ? (delta > 0 ? 1 : -1) : 0;\n    }\n    zoomByDelta(\n      view,\n      delta,\n      this.lastAnchor_ ? map.getCoordinateFromPixel(this.lastAnchor_) : null,\n      this.duration_,\n    );\n\n    this.mode_ = undefined;\n    this.totalDelta_ = 0;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_ = undefined;\n  }\n\n  /**\n   * Enable or disable using the mouse's location as an anchor when zooming\n   * @param {boolean} useAnchor true to zoom to the mouse's location, false\n   * to zoom to the center of the map\n   * @api\n   */\n  setMouseAnchor(useAnchor) {\n    this.useAnchor_ = useAnchor;\n    if (!useAnchor) {\n      this.lastAnchor_ = null;\n    }\n  }\n}\n\nexport default MouseWheelZoom;\n","/**\n * @module ol/interaction/PinchRotate\n */\nimport {FALSE} from '../functions.js';\nimport {disable} from '../rotationconstraint.js';\nimport PointerInteraction, {\n  centroid as centroidFromPointers,\n} from './Pointer.js';\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] The duration of the animation in\n * milliseconds.\n * @property {number} [threshold=0.3] Minimal angle in radians to start a rotation.\n */\n\n/**\n * @classdesc\n * Allows the user to rotate the map by twisting with two fingers\n * on a touch screen.\n * @api\n */\nclass PinchRotate extends PointerInteraction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n\n    const pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (\n      options\n    );\n\n    if (!pointerOptions.stopDown) {\n      pointerOptions.stopDown = FALSE;\n    }\n\n    super(pointerOptions);\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.anchor_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lastAngle_ = undefined;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.rotating_ = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.rotationDelta_ = 0.0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.threshold_ = options.threshold !== undefined ? options.threshold : 0.3;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n  }\n\n  /**\n   * Handle pointer drag events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @override\n   */\n  handleDragEvent(mapBrowserEvent) {\n    let rotationDelta = 0.0;\n\n    const touch0 = this.targetPointers[0];\n    const touch1 = this.targetPointers[1];\n\n    // angle between touches\n    const angle = Math.atan2(\n      touch1.clientY - touch0.clientY,\n      touch1.clientX - touch0.clientX,\n    );\n\n    if (this.lastAngle_ !== undefined) {\n      const delta = angle - this.lastAngle_;\n      this.rotationDelta_ += delta;\n      if (!this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_) {\n        this.rotating_ = true;\n      }\n      rotationDelta = delta;\n    }\n    this.lastAngle_ = angle;\n\n    const map = mapBrowserEvent.map;\n    const view = map.getView();\n    if (view.getConstraints().rotation === disable) {\n      return;\n    }\n\n    // rotate anchor point.\n    // FIXME: should be the intersection point between the lines:\n    //     touch0,touch1 and previousTouch0,previousTouch1\n    this.anchor_ = map.getCoordinateFromPixelInternal(\n      map.getEventPixel(centroidFromPointers(this.targetPointers)),\n    );\n\n    // rotate\n    if (this.rotating_) {\n      map.render();\n      view.adjustRotationInternal(rotationDelta, this.anchor_);\n    }\n  }\n\n  /**\n   * Handle pointer up events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleUpEvent(mapBrowserEvent) {\n    if (this.targetPointers.length < 2) {\n      const map = mapBrowserEvent.map;\n      const view = map.getView();\n      view.endInteraction(this.duration_);\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Handle pointer down events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleDownEvent(mapBrowserEvent) {\n    if (this.targetPointers.length >= 2) {\n      const map = mapBrowserEvent.map;\n      this.anchor_ = null;\n      this.lastAngle_ = undefined;\n      this.rotating_ = false;\n      this.rotationDelta_ = 0.0;\n      if (!this.handlingDownUpSequence) {\n        map.getView().beginInteraction();\n      }\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default PinchRotate;\n","/**\n * @module ol/interaction/PinchZoom\n */\nimport {FALSE} from '../functions.js';\nimport PointerInteraction, {\n  centroid as centroidFromPointers,\n} from './Pointer.js';\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=400] Animation duration in milliseconds.\n */\n\n/**\n * @classdesc\n * Allows the user to zoom the map by pinching with two fingers\n * on a touch screen.\n * @api\n */\nclass PinchZoom extends PointerInteraction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options ? options : {};\n\n    const pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (\n      options\n    );\n\n    if (!pointerOptions.stopDown) {\n      pointerOptions.stopDown = FALSE;\n    }\n\n    super(pointerOptions);\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.anchor_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 400;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lastDistance_ = undefined;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.lastScaleDelta_ = 1;\n  }\n\n  /**\n   * Handle pointer drag events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @override\n   */\n  handleDragEvent(mapBrowserEvent) {\n    let scaleDelta = 1.0;\n\n    const touch0 = this.targetPointers[0];\n    const touch1 = this.targetPointers[1];\n    const dx = touch0.clientX - touch1.clientX;\n    const dy = touch0.clientY - touch1.clientY;\n\n    // distance between touches\n    const distance = Math.sqrt(dx * dx + dy * dy);\n\n    if (this.lastDistance_ !== undefined) {\n      scaleDelta = this.lastDistance_ / distance;\n    }\n    this.lastDistance_ = distance;\n\n    const map = mapBrowserEvent.map;\n    const view = map.getView();\n\n    if (scaleDelta != 1.0) {\n      this.lastScaleDelta_ = scaleDelta;\n    }\n\n    // scale anchor point.\n    this.anchor_ = map.getCoordinateFromPixelInternal(\n      map.getEventPixel(centroidFromPointers(this.targetPointers)),\n    );\n\n    // scale, bypass the resolution constraint\n    map.render();\n    view.adjustResolutionInternal(scaleDelta, this.anchor_);\n  }\n\n  /**\n   * Handle pointer up events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleUpEvent(mapBrowserEvent) {\n    if (this.targetPointers.length < 2) {\n      const map = mapBrowserEvent.map;\n      const view = map.getView();\n      const direction = this.lastScaleDelta_ > 1 ? 1 : -1;\n      view.endInteraction(this.duration_, direction);\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Handle pointer down events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @override\n   */\n  handleDownEvent(mapBrowserEvent) {\n    if (this.targetPointers.length >= 2) {\n      const map = mapBrowserEvent.map;\n      this.anchor_ = null;\n      this.lastDistance_ = undefined;\n      this.lastScaleDelta_ = 1;\n      if (!this.handlingDownUpSequence) {\n        map.getView().beginInteraction();\n      }\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default PinchZoom;\n","/**\n * @module ol/Kinetic\n */\n\n/**\n * @classdesc\n * Implementation of inertial deceleration for map movement.\n *\n * @api\n */\nclass Kinetic {\n  /**\n   * @param {number} decay Rate of decay (must be negative).\n   * @param {number} minVelocity Minimum velocity (pixels/millisecond).\n   * @param {number} delay Delay to consider to calculate the kinetic\n   *     initial values (milliseconds).\n   */\n  constructor(decay, minVelocity, delay) {\n    /**\n     * @private\n     * @type {number}\n     */\n    this.decay_ = decay;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.minVelocity_ = minVelocity;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delay_ = delay;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.points_ = [];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.angle_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.initialVelocity_ = 0;\n  }\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  begin() {\n    this.points_.length = 0;\n    this.angle_ = 0;\n    this.initialVelocity_ = 0;\n  }\n\n  /**\n   * @param {number} x X.\n   * @param {number} y Y.\n   */\n  update(x, y) {\n    this.points_.push(x, y, Date.now());\n  }\n\n  /**\n   * @return {boolean} Whether we should do kinetic animation.\n   */\n  end() {\n    if (this.points_.length < 6) {\n      // at least 2 points are required (i.e. there must be at least 6 elements\n      // in the array)\n      return false;\n    }\n    const delay = Date.now() - this.delay_;\n    const lastIndex = this.points_.length - 3;\n    if (this.points_[lastIndex + 2] < delay) {\n      // the last tracked point is too old, which means that the user stopped\n      // panning before releasing the map\n      return false;\n    }\n\n    // get the first point which still falls into the delay time\n    let firstIndex = lastIndex - 3;\n    while (firstIndex > 0 && this.points_[firstIndex + 2] > delay) {\n      firstIndex -= 3;\n    }\n\n    const duration = this.points_[lastIndex + 2] - this.points_[firstIndex + 2];\n    // we don't want a duration of 0 (divide by zero)\n    // we also make sure the user panned for a duration of at least one frame\n    // (1/60s) to compute sane displacement values\n    if (duration < 1000 / 60) {\n      return false;\n    }\n\n    const dx = this.points_[lastIndex] - this.points_[firstIndex];\n    const dy = this.points_[lastIndex + 1] - this.points_[firstIndex + 1];\n    this.angle_ = Math.atan2(dy, dx);\n    this.initialVelocity_ = Math.sqrt(dx * dx + dy * dy) / duration;\n    return this.initialVelocity_ > this.minVelocity_;\n  }\n\n  /**\n   * @return {number} Total distance travelled (pixels).\n   */\n  getDistance() {\n    return (this.minVelocity_ - this.initialVelocity_) / this.decay_;\n  }\n\n  /**\n   * @return {number} Angle of the kinetic panning animation (radians).\n   */\n  getAngle() {\n    return this.angle_;\n  }\n}\n\nexport default Kinetic;\n","/**\n * @module ol/interaction/defaults\n */\nimport Collection from '../Collection.js';\nimport Kinetic from '../Kinetic.js';\nimport DoubleClickZoom from './DoubleClickZoom.js';\nimport DragPan from './DragPan.js';\nimport DragRotate from './DragRotate.js';\nimport DragZoom from './DragZoom.js';\nimport KeyboardPan from './KeyboardPan.js';\nimport KeyboardZoom from './KeyboardZoom.js';\nimport MouseWheelZoom from './MouseWheelZoom.js';\nimport PinchRotate from './PinchRotate.js';\nimport PinchZoom from './PinchZoom.js';\n\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n * desired.\n * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n * useful when page scroll is desired for maps that do not have the browser's\n * focus.\n * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n * desired.\n * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n * @property {boolean} [dragPan=true] Whether drag pan is desired.\n * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n * @property {number} [zoomDelta] Zoom level delta when using keyboard or double click zoom.\n * @property {number} [zoomDuration] Duration of the zoom animation in\n * milliseconds.\n */\n\n/**\n * Set of interactions included in maps by default. Specific interactions can be\n * excluded by setting the appropriate option to false in the constructor\n * options, but the order of the interactions is fixed.  If you want to specify\n * a different order for interactions, you will need to create your own\n * {@link module:ol/interaction/Interaction~Interaction} instances and insert\n * them into a {@link module:ol/Collection~Collection} in the order you want\n * before creating your {@link module:ol/Map~Map} instance. Changing the order can\n * be of interest if the event propagation needs to be stopped at a point.\n * The default set of interactions, in sequence, is:\n * {@link module:ol/interaction/DragRotate~DragRotate}\n * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n * {@link module:ol/interaction/DragPan~DragPan}\n * {@link module:ol/interaction/PinchRotate~PinchRotate}\n * {@link module:ol/interaction/PinchZoom~PinchZoom}\n * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n * {@link module:ol/interaction/DragZoom~DragZoom}\n *\n * @param {DefaultsOptions} [options] Defaults options.\n * @return {Collection<import(\"./Interaction.js\").default>}\n * A collection of interactions to be used with the {@link module:ol/Map~Map}\n * constructor's `interactions` option.\n * @api\n */\nexport function defaults(options) {\n  options = options ? options : {};\n\n  /** @type {Collection<import(\"./Interaction.js\").default>} */\n  const interactions = new Collection();\n\n  const kinetic = new Kinetic(-0.005, 0.05, 100);\n\n  const altShiftDragRotate =\n    options.altShiftDragRotate !== undefined\n      ? options.altShiftDragRotate\n      : true;\n  if (altShiftDragRotate) {\n    interactions.push(new DragRotate());\n  }\n\n  const doubleClickZoom =\n    options.doubleClickZoom !== undefined ? options.doubleClickZoom : true;\n  if (doubleClickZoom) {\n    interactions.push(\n      new DoubleClickZoom({\n        delta: options.zoomDelta,\n        duration: options.zoomDuration,\n      }),\n    );\n  }\n\n  const dragPan = options.dragPan !== undefined ? options.dragPan : true;\n  if (dragPan) {\n    interactions.push(\n      new DragPan({\n        onFocusOnly: options.onFocusOnly,\n        kinetic: kinetic,\n      }),\n    );\n  }\n\n  const pinchRotate =\n    options.pinchRotate !== undefined ? options.pinchRotate : true;\n  if (pinchRotate) {\n    interactions.push(new PinchRotate());\n  }\n\n  const pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n  if (pinchZoom) {\n    interactions.push(\n      new PinchZoom({\n        duration: options.zoomDuration,\n      }),\n    );\n  }\n\n  const keyboard = options.keyboard !== undefined ? options.keyboard : true;\n  if (keyboard) {\n    interactions.push(new KeyboardPan());\n    interactions.push(\n      new KeyboardZoom({\n        delta: options.zoomDelta,\n        duration: options.zoomDuration,\n      }),\n    );\n  }\n\n  const mouseWheelZoom =\n    options.mouseWheelZoom !== undefined ? options.mouseWheelZoom : true;\n  if (mouseWheelZoom) {\n    interactions.push(\n      new MouseWheelZoom({\n        onFocusOnly: options.onFocusOnly,\n        duration: options.zoomDuration,\n      }),\n    );\n  }\n\n  const shiftDragZoom =\n    options.shiftDragZoom !== undefined ? options.shiftDragZoom : true;\n  if (shiftDragZoom) {\n    interactions.push(\n      new DragZoom({\n        duration: options.zoomDuration,\n      }),\n    );\n  }\n\n  return interactions;\n}\n"],"names":["t","e","i","Error","Math","s","d","WheelEvent","Date","clearTimeout","setTimeout","a"],"mappings":"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"}