"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["2399"],{54616:function(t,e,n){n.r(e),n.d(e,{CollectionEvent:function(){return o}});var s=n(274),r=n(85215),i=n(43354);let a="length";class o extends i.default{constructor(t,e,n){super(t),this.element=e,this.index=n}}class h extends r.default{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let t=0,e=this.array_.length;t<e;++t)this.assertUnique_(this.array_[t],t);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,n=t.length;e<n;++e)this.push(t[e]);return this}forEach(t){let e=this.array_;for(let n=0,s=e.length;n<s;++n)t(e[n],n,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(a)}insertAt(t,e){if(t<0||t>this.getLength())throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new o(s.A.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){let e=this.array_;for(let n=0,s=e.length;n<s;++n)if(e[n]===t)return this.removeAt(n)}removeAt(t){if(t<0||t>=this.getLength())return;let e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new o(s.A.REMOVE,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);let n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new o(s.A.REMOVE,n,t)),this.dispatchEvent(new o(s.A.ADD,e,t))}updateLength_(){this.set(a,this.array_.length)}assertUnique_(t,e){for(let n=0,s=this.array_.length;n<s;++n)if(this.array_[n]===t&&n!==e)throw Error("Duplicate item added to a unique collection")}}e.default=h},274:function(t,e){e.A={ADD:"add",REMOVE:"remove"}},85215:function(t,e,n){n.r(e),n.d(e,{ObjectEvent:function(){return h}});var s=n(8959),r=n(52073),i=n(43354),a=n(53495),o=n(94092);class h extends i.default{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class u extends r.default{constructor(t){super(),this.on,this.once,this.un,(0,o.getUid)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new h(n,t,e)),n=s.A.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new h(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){let s=this.values_||(this.values_={});if(n)s[t]=e;else{let n=s[t];s[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(let n in t)this.set(n,t[n],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){let n=this.values_[t];delete this.values_[t],(0,a.p)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}e.default=u},8959:function(t,e){e.A={PROPERTYCHANGE:"propertychange"}},52073:function(t,e,n){n.r(e),n.d(e,{unByKey:function(){return o}});var s=n(55506),r=n(78081),i=n(17353);class a extends r.A{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(s.default.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){let n=t.length,s=Array(n);for(let r=0;r<n;++r)s[r]=(0,i.KT)(this,t[r],e);return s}return(0,i.KT)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){let s=t.length;n=Array(s);for(let r=0;r<s;++r)n[r]=(0,i.Jz)(this,t[r],e)}else n=(0,i.Jz)(this,t,e);return e.ol_key=n,n}unInternal(t,e){let n=e.ol_key;if(n)o(n);else if(Array.isArray(t))for(let n=0,s=t.length;n<s;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)}}function o(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)(0,i.JH)(t[e]);else(0,i.JH)(t)}a.prototype.on,a.prototype.once,a.prototype.un,e.default=a},17229:function(t,e,n){n.d(e,{v:function(){return s}});function s(t,e){if(!t)throw Error(e)}},17353:function(t,e,n){n.d(e,{JH:function(){return a},Jz:function(){return i},KT:function(){return r}});var s=n(53495);function r(t,e,n,s,r){if(r){let r=n;n=function(i){return t.removeEventListener(e,n),r.call(s??this,i)}}else s&&s!==t&&(n=n.bind(s));let i={target:t,type:e,listener:n};return t.addEventListener(e,n),i}function i(t,e,n,s){return r(t,e,n,s,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,s.I)(t))}},56843:function(t,e,n){var s=n(85215),r=n(17229),i=n(94966),a=n(94092),o=n(38875);class h extends s.default{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[o.A.OPACITY]=void 0!==t.opacity?t.opacity:1,(0,r.v)("number"==typeof e[o.A.OPACITY],"Layer opacity must be a number"),e[o.A.VISIBLE]=void 0===t.visible||t.visible,e[o.A.Z_INDEX]=t.zIndex,e[o.A.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[o.A.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[o.A.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[o.A.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){let e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,i.qE)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return(0,a.abstract)()}getLayerStatesArray(t){return(0,a.abstract)()}getExtent(){return this.get(o.A.EXTENT)}getMaxResolution(){return this.get(o.A.MAX_RESOLUTION)}getMinResolution(){return this.get(o.A.MIN_RESOLUTION)}getMinZoom(){return this.get(o.A.MIN_ZOOM)}getMaxZoom(){return this.get(o.A.MAX_ZOOM)}getOpacity(){return this.get(o.A.OPACITY)}getSourceState(){return(0,a.abstract)()}getVisible(){return this.get(o.A.VISIBLE)}getZIndex(){return this.get(o.A.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(o.A.EXTENT,t)}setMaxResolution(t){this.set(o.A.MAX_RESOLUTION,t)}setMinResolution(t){this.set(o.A.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(o.A.MAX_ZOOM,t)}setMinZoom(t){this.set(o.A.MIN_ZOOM,t)}setOpacity(t){(0,r.v)("number"==typeof t,"Layer opacity must be a number"),this.set(o.A.OPACITY,t)}setVisible(t){this.set(o.A.VISIBLE,t)}setZIndex(t){this.set(o.A.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}e.A=h},32247:function(t,e,n){n.r(e),n.d(e,{GroupEvent:function(){return g}});var s=n(54616),r=n(274),i=n(8959),a=n(17229),o=n(43354),h=n(55506),u=n(17353),l=n(85752),c=n(53495),d=n(94092),y=n(56843);class g extends o.default{constructor(t,e){super(t),this.layer=e}}let f="layers";class _ extends y.A{constructor(t){const e=Object.assign({},t=t||{});delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(f,this.handleLayersChanged_),n?Array.isArray(n)?n=new s.default(n.slice(),{unique:!0}):(0,a.v)("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new s.default(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(u.JH),this.layersListenerKeys_.length=0;let t=this.getLayers();for(let e in this.layersListenerKeys_.push((0,u.KT)(t,r.A.ADD,this.handleLayersAdd_,this),(0,u.KT)(t,r.A.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(u.JH);(0,c.I)(this.listenerKeys_);let e=t.getArray();for(let t=0,n=e.length;t<n;t++){let n=e[t];this.registerLayerListeners_(n),this.dispatchEvent(new g("addlayer",n))}this.changed()}registerLayerListeners_(t){let e=[(0,u.KT)(t,i.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,u.KT)(t,h.default.CHANGE,this.handleLayerChange_,this)];t instanceof _&&e.push((0,u.KT)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,u.KT)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,d.getUid)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new g("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new g("removelayer",t.layer))}handleLayersAdd_(t){let e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new g("addlayer",e)),this.changed()}handleLayersRemove_(t){let e=t.element,n=(0,d.getUid)(e);this.listenerKeys_[n].forEach(u.JH),delete this.listenerKeys_[n],this.dispatchEvent(new g("removelayer",e)),this.changed()}getLayers(){return this.get(f)}setLayers(t){let e=this.getLayers();if(e){let t=e.getArray();for(let e=0,n=t.length;e<n;++e)this.dispatchEvent(new g("removelayer",t[e]))}this.set(f,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}getLayerStatesArray(t){let e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});let s=this.getLayerState(),r=s.zIndex;t||void 0!==s.zIndex||(r=0);for(let t=n,i=e.length;t<i;t++){let n=e[t];n.opacity*=s.opacity,n.visible=n.visible&&s.visible,n.maxResolution=Math.min(n.maxResolution,s.maxResolution),n.minResolution=Math.max(n.minResolution,s.minResolution),n.minZoom=Math.max(n.minZoom,s.minZoom),n.maxZoom=Math.min(n.maxZoom,s.maxZoom),void 0!==s.extent&&(void 0!==n.extent?n.extent=(0,l.getIntersection)(n.extent,s.extent):n.extent=s.extent),void 0===n.zIndex&&(n.zIndex=r)}return e}getSourceState(){return"ready"}}e.default=_},38875:function(t,e){e.A={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},94966:function(t,e,n){function s(t,e,n){return Math.min(Math.max(t,e),n)}function r(t,e,n,s,r,a){let o=r-n,h=a-s;if(0!==o||0!==h){let i=((t-n)*o+(e-s)*h)/(o*o+h*h);i>1?(n=r,s=a):i>0&&(n+=o*i,s+=h*i)}return i(t,e,n,s)}function i(t,e,n,s){let r=n-t,i=s-e;return r*r+i*i}function a(t){let e=t.length;for(let n=0;n<e;n++){let s=n,r=Math.abs(t[n][n]);for(let i=n+1;i<e;i++){let e=Math.abs(t[i][n]);e>r&&(r=e,s=i)}if(0===r)return null;let i=t[s];t[s]=t[n],t[n]=i;for(let s=n+1;s<e;s++){let r=-t[s][n]/t[n][n];for(let i=n;i<e+1;i++)n==i?t[s][i]=0:t[s][i]+=r*t[n][i]}}let n=Array(e);for(let s=e-1;s>=0;s--){n[s]=t[s][e]/t[s][s];for(let r=s-1;r>=0;r--)t[r][e]-=t[r][s]*n[s]}return n}function o(t){return 180*t/Math.PI}function h(t){return t*Math.PI/180}function u(t,e){let n=t%e;return n*e<0?n+e:n}function l(t,e,n){return t+n*(e-t)}function c(t,e){let n=Math.pow(10,e);return Math.round(t*n)/n}function d(t,e){return Math.round(c(t,e))}function y(t,e){return Math.floor(c(t,e))}function g(t,e){return Math.ceil(c(t,e))}function f(t,e,n){if(t>=e&&t<n)return t;let s=n-e;return((t-e)%s+s)%s+e}n.d(e,{Cc:function(){return l},KU:function(){return a},LI:function(){return d},LV:function(){return f},Mg:function(){return c},Q1:function(){return r},RI:function(){return y},eh:function(){return h},hG:function(){return i},mk:function(){return g},qE:function(){return s},xP:function(){return u},xW:function(){return o}})}}]);
//# sourceMappingURL=2399.342439fcce4b78f0.js.map