"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["3443"],{1286:function(e,t,i){i.r(t),i.d(t,{default:function(){return X}});var n=i(9948),a=i.n(n),l=i(98930),r=i(57705),o=i(94184),s=i.n(o),c=i(38780),m=i(46811),d=i(53124),g=i(88258),u=i(98675),$=i(95934),p=i(25378),f=i(1445),h=i(91885);let y=a().createContext({});y.Consumer;var v=i(96159),S=i(21584),x=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};let b=a().forwardRef((e,t)=>{let i,{prefixCls:l,children:r,actions:o,extra:c,styles:m,className:g,classNames:u,colStyle:$}=e,p=x(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:f,itemLayout:h}=(0,n.useContext)(y),{getPrefixCls:b,list:E}=(0,n.useContext)(d.E_),k=e=>{var t,i;return s()(null==(i=null==(t=null==E?void 0:E.item)?void 0:t.classNames)?void 0:i[e],null==u?void 0:u[e])},C=e=>{var t,i;return Object.assign(Object.assign({},null==(i=null==(t=null==E?void 0:E.item)?void 0:t.styles)?void 0:i[e]),null==m?void 0:m[e])},O=b("list",l),N=o&&o.length>0&&a().createElement("ul",{className:s()(`${O}-item-action`,k("actions")),key:"actions",style:C("actions")},o.map((e,t)=>a().createElement("li",{key:`${O}-item-action-${t}`},e,t!==o.length-1&&a().createElement("em",{className:`${O}-item-action-split`})))),z=a().createElement(f?"div":"li",Object.assign({},p,f?{}:{ref:t},{className:s()(`${O}-item`,{[`${O}-item-no-flex`]:!("vertical"===h?!!c:(i=!1,n.Children.forEach(r,e=>{"string"==typeof e&&(i=!0)}),!(i&&n.Children.count(r)>1)))},g)}),"vertical"===h&&c?[a().createElement("div",{className:`${O}-item-main`,key:"content"},r,N),a().createElement("div",{className:s()(`${O}-item-extra`,k("extra")),key:"extra",style:C("extra")},c)]:[r,N,(0,v.Tm)(c,{key:"extra"})]);return f?a().createElement(S.Z,{ref:t,flex:1,style:$},z):z});b.Meta=e=>{var{prefixCls:t,className:i,avatar:l,title:r,description:o}=e,c=x(e,["prefixCls","className","avatar","title","description"]);let{getPrefixCls:m}=(0,n.useContext)(d.E_),g=m("list",t),u=s()(`${g}-item-meta`,i),$=a().createElement("div",{className:`${g}-item-meta-content`},r&&a().createElement("h4",{className:`${g}-item-meta-title`},r),o&&a().createElement("div",{className:`${g}-item-meta-description`},o));return a().createElement("div",Object.assign({},c,{className:u}),l&&a().createElement("div",{className:`${g}-item-meta-avatar`},l),(r||o)&&$)};var E=i(35712),k=i(14747),C=i(83559),O=i(40326);let N=e=>{let{listBorderedCls:t,componentCls:i,paddingLG:n,margin:a,itemPaddingSM:l,itemPaddingLG:r,marginLG:o,borderRadiusLG:s}=e;return{[t]:{border:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${i}-header,${i}-footer,${i}-item`]:{paddingInline:n},[`${i}-pagination`]:{margin:`${(0,E.unit)(a)} ${(0,E.unit)(o)}`}},[`${t}${i}-sm`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:l}},[`${t}${i}-lg`]:{[`${i}-item,${i}-header,${i}-footer`]:{padding:r}}}},z=e=>{let{componentCls:t,screenSM:i,screenMD:n,marginLG:a,marginSM:l,margin:r}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${i}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:l}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,E.unit)(r)}`}}}}}},w=e=>{let{componentCls:t,antCls:i,controlHeight:n,minHeight:a,paddingSM:l,marginLG:r,padding:o,itemPadding:s,colorPrimary:c,itemPaddingSM:m,itemPaddingLG:d,paddingXS:g,margin:u,colorText:$,colorTextDescription:p,motionDurationSlow:f,lineWidth:h,headerBg:y,footerBg:v,emptyTextPadding:S,metaMarginBottom:x,avatarMarginRight:b,titleMarginBottom:C,descriptionFontSize:O}=e;return{[t]:Object.assign(Object.assign({},(0,k.Wf)(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:y},[`${t}-footer`]:{background:v},[`${t}-header, ${t}-footer`]:{paddingBlock:l},[`${t}-pagination`]:{marginBlockStart:r,[`${i}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:$,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:b},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:$},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,E.unit)(e.marginXXS)} 0`,color:$,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:$,transition:`all ${f}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:p,fontSize:O,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,E.unit)(g)}`,color:p,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:h,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,E.unit)(o)} 0`,color:p,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:S,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${i}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:u,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:r},[`${t}-item-meta`]:{marginBlockEnd:x,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:C,color:$,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:o,marginInlineStart:"auto","> li":{padding:`0 ${(0,E.unit)(o)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${i}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,E.unit)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:m},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}};var j=(0,C.I$)("List",e=>{let t=(0,O.mergeToken)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[w(t),N(t),z(t)]},e=>({contentWidth:220,itemPadding:`${(0,E.unit)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,E.unit)(e.paddingContentVerticalSM)} ${(0,E.unit)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,E.unit)(e.paddingContentVerticalLG)} ${(0,E.unit)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize})),I=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};let B=n.forwardRef(function(e,t){let{pagination:i=!1,prefixCls:a,bordered:l=!1,split:o=!0,className:v,rootClassName:S,style:x,children:b,itemLayout:E,loadMore:k,grid:C,dataSource:O=[],size:N,header:z,footer:w,loading:B=!1,rowKey:L,renderItem:M,locale:H}=e,W=I(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),Z=i&&"object"==typeof i?i:{},[P,_]=n.useState(Z.defaultCurrent||1),[T,G]=n.useState(Z.defaultPageSize||10),{getPrefixCls:A,direction:X,className:F,style:R}=(0,d.dj)("list"),{renderEmpty:V}=n.useContext(d.E_),J=e=>(t,n)=>{var a;_(t),G(n),i&&(null==(a=null==i?void 0:i[e])||a.call(i,t,n))},K=J("onChange"),q=J("onShowSizeChange"),D=!!(k||i||w),Y=A("list",a),[Q,U,ee]=j(Y),et=B;"boolean"==typeof et&&(et={spinning:et});let ei=!!(null==et?void 0:et.spinning),en=(0,u.Z)(N),ea="";switch(en){case"large":ea="lg";break;case"small":ea="sm"}let el=s()(Y,{[`${Y}-vertical`]:"vertical"===E,[`${Y}-${ea}`]:ea,[`${Y}-split`]:o,[`${Y}-bordered`]:l,[`${Y}-loading`]:ei,[`${Y}-grid`]:!!C,[`${Y}-something-after-last-item`]:D,[`${Y}-rtl`]:"rtl"===X},F,v,S,U,ee),er=(0,c.Z)({current:1,total:0,position:"bottom"},{total:O.length,current:P,pageSize:T},i||{}),eo=Math.ceil(er.total/er.pageSize);er.current=Math.min(er.current,eo);let es=i&&n.createElement("div",{className:s()(`${Y}-pagination`)},n.createElement(f.Z,Object.assign({align:"end"},er,{onChange:K,onShowSizeChange:q}))),ec=(0,r.Z)(O);i&&O.length>(er.current-1)*er.pageSize&&(ec=(0,r.Z)(O).splice((er.current-1)*er.pageSize,er.pageSize));let em=Object.keys(C||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),ed=(0,p.Z)(em),eg=n.useMemo(()=>{for(let e=0;e<m.c4.length;e+=1){let t=m.c4[e];if(ed[t])return t}},[ed]),eu=n.useMemo(()=>{if(!C)return;let e=eg&&C[eg]?C[eg]:C.column;if(e)return{width:`${100/e}%`,maxWidth:`${100/e}%`}},[JSON.stringify(C),eg]),e$=ei&&n.createElement("div",{style:{minHeight:53}});if(ec.length>0){let e=ec.map((e,t)=>{let i;return M?((i="function"==typeof L?L(e):L?e[L]:e.key)||(i=`list-item-${t}`),n.createElement(n.Fragment,{key:i},M(e,t))):null});e$=C?n.createElement($.Z,{gutter:C.gutter},n.Children.map(e,e=>n.createElement("div",{key:null==e?void 0:e.key,style:eu},e))):n.createElement("ul",{className:`${Y}-items`},e)}else b||ei||(e$=n.createElement("div",{className:`${Y}-empty-text`},(null==H?void 0:H.emptyText)||(null==V?void 0:V("List"))||n.createElement(g.Z,{componentName:"List"})));let ep=er.position,ef=n.useMemo(()=>({grid:C,itemLayout:E}),[JSON.stringify(C),E]);return Q(n.createElement(y.Provider,{value:ef},n.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},R),x),className:el},W),("top"===ep||"both"===ep)&&es,z&&n.createElement("div",{className:`${Y}-header`},z),n.createElement(h.Z,Object.assign({},et),e$,b),w&&n.createElement("div",{className:`${Y}-footer`},w),k||("bottom"===ep||"both"===ep)&&es)))});B.Item=b;var L=i(39111),M=i(41609),H=i.n(M),W=i(35586),Z=i.n(W),P=i(41357),_=i.n(P),T=i(39660);let G=l.Z.Panel,A=B.Item;var X=e=>{let[t,i]=(0,n.useState)(null),r=(0,T.Z)(),{searchResults:o,numTotal:s,searchTerms:c,actionsCreator:m=()=>void 0,listPrefixRenderer:d=()=>void 0,layerStyle:g,onClick:u=e=>r?.getView().fit(e.feature.getGeometry(),{size:r.getSize()}),...$}=e;(0,n.useEffect)(()=>{if(!r)return;let e=new(Z())({source:new(_())});g&&e.setStyle(g),i(e),r.addLayer(e)},[g,r]),(0,n.useEffect)(()=>()=>{r&&r.removeLayer(t)},[t,r]);let p=e=>(c.forEach(t=>{let i=t.toLowerCase();if(""===i)return;let n=e.toLowerCase().indexOf(i);for(;n>=0;){let t=e.substring(0,n),a=e.substring(n,n+i.length),l=e.substring(n+i.length,e.length);n=(e=`${t}<b>${a}</b>${l}`).toLowerCase().indexOf(i,n+8)}}),e),f=e=>()=>{t?.getSource()?.clear(),t?.getSource()?.addFeature(e)},h=(e,t)=>`${e.title}-${t}`;return 0===s?null:a().createElement("div",{className:"search-result-div"},a().createElement(l.Z,{defaultActiveKey:o[0]?h(o[0],0):void 0,...$},o.map((e,i)=>{let{features:n,title:l,icon:o}=e;if(!r)return a().createElement(a().Fragment,null);if(!n||H()(n))return;let s=a().createElement("div",{className:"search-result-panel-header"},a().createElement("span",null,`${l} (${n.length})`),o&&a().createElement(L.Z,{className:"search-option-avatar",src:o})),c=h(e,i);return a().createElement(G,{header:s,key:c},a().createElement(B,{size:"small",dataSource:n.map((e,t)=>({text:p(e.get("title")),idx:t,feature:e})),renderItem:e=>a().createElement(A,{className:"result-list-item",key:e.idx,onMouseOver:f(e.feature),onMouseOut:()=>t?.getSource()?.clear(),onClick:()=>u(e),actions:m(e)},a().createElement("div",{className:"result-prefix"},d(e)),a().createElement("div",{className:"result-text",dangerouslySetInnerHTML:{__html:e.text}}))}))})))}}}]);
//# sourceMappingURL=3443.93145a10ce637092.js.map