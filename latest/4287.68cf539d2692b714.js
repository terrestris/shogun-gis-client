"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["4287"],{13002:function(t,i,e){e.d(i,{Vx:function(){return o},bN:function(){return s},oL:function(){return r}});var n=e(13580);function r(t,i,e,n,r){if(r){let r=e;e=function(o){return t.removeEventListener(i,e),r.call(n??this,o)}}else n&&n!==t&&(e=e.bind(n));let o={target:t,type:i,listener:e};return t.addEventListener(i,e),o}function o(t,i,e,n){return r(t,i,e,n,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,n.Z)(t))}},21882:function(t,i,e){function n(t,i,e){return Math.min(Math.max(t,i),e)}function r(t,i,e,n,r,s){let a=r-e,c=s-n;if(0!==a||0!==c){let o=((t-e)*a+(i-n)*c)/(a*a+c*c);o>1?(e=r,n=s):o>0&&(e+=a*o,n+=c*o)}return o(t,i,e,n)}function o(t,i,e,n){let r=e-t,o=n-i;return r*r+o*o}function s(t){let i=t.length;for(let e=0;e<i;e++){let n=e,r=Math.abs(t[e][e]);for(let o=e+1;o<i;o++){let i=Math.abs(t[o][e]);i>r&&(r=i,n=o)}if(0===r)return null;let o=t[n];t[n]=t[e],t[e]=o;for(let n=e+1;n<i;n++){let r=-t[n][e]/t[e][e];for(let o=e;o<i+1;o++)e==o?t[n][o]=0:t[n][o]+=r*t[e][o]}}let e=Array(i);for(let n=i-1;n>=0;n--){e[n]=t[n][i]/t[n][n];for(let r=n-1;r>=0;r--)t[r][i]-=t[r][n]*e[n]}return e}function a(t){return 180*t/Math.PI}function c(t){return t*Math.PI/180}function h(t,i){let e=t%i;return e*i<0?e+i:e}function l(t,i,e){return t+e*(i-t)}function u(t,i){let e=Math.pow(10,i);return Math.round(t*e)/e}function g(t,i){return Math.round(u(t,i))}function f(t,i){return Math.floor(u(t,i))}function d(t,i){return Math.ceil(u(t,i))}function _(t,i,e){if(t>=i&&t<e)return t;let n=e-i;return((t-i)%n+n)%n+i}e.d(i,{$W:function(){return h},FH:function(){return u},GW:function(){return f},NM:function(){return g},SV:function(){return s},Ux:function(){return a},Yr:function(){return c},bI:function(){return o},mD:function(){return d},rU:function(){return r},re:function(){return _},t7:function(){return l},uZ:function(){return n}})},38906:function(t,i,e){e.d(i,{h:function(){return n}});function n(t,i){if(!t)throw Error(i)}},46267:function(t,i,e){e.r(i);var n=e(11256),r=e(38906),o=e(55466),s=e(73381),a=e(49179),c=e(97889),h=e(48039);function l(t,i,e,n){return void 0!==e&&void 0!==n?[e/t,n/i]:void 0!==e?e/t:void 0!==n?n/i:1}class u extends h.default{constructor(t){let i,e=void 0!==(t=t||{}).opacity?t.opacity:1,s=void 0!==t.rotation?t.rotation:0;super({opacity:e,rotation:s,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;let h=void 0!==t.img?t.img:null,u=t.src;if((0,r.h)(!(void 0!==u&&h),"`image` and `src` cannot be provided at the same time"),(void 0===u||0===u.length)&&h&&(u=h.src||(0,a.getUid)(h)),(0,r.h)(void 0!==u&&u.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,r.h)(void 0===t.width&&void 0===t.height||void 0===t.scale,"`width` or `height` cannot be provided together with `scale`"),void 0!==t.src?i=n.default.IDLE:void 0!==h&&(i="complete"in h?h.complete?h.src?n.default.LOADED:n.default.IDLE:n.default.LOADING:n.default.LOADED),this.color_=void 0!==t.color?(0,o._2)(t.color):null,this.iconImage_=(0,c.U)(h,u,this.crossOrigin_,i,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.initialOptions_,void 0!==t.width||void 0!==t.height){let i,e;if(t.size)[i,e]=t.size;else{let n=this.getImage(1);if(n.width&&n.height)i=n.width,e=n.height;else if(n instanceof HTMLImageElement){this.initialOptions_=t;let i=()=>{if(this.unlistenImageChange(i),!this.initialOptions_)return;let e=this.iconImage_.getSize();this.setScale(l(e[0],e[1],t.width,t.height))};this.listenImageChange(i);return}}void 0!==i&&this.setScale(l(i,e,t.width,t.height))}}clone(){let t,i,e;return this.initialOptions_?(i=this.initialOptions_.width,e=this.initialOptions_.height):t=Array.isArray(t=this.getScale())?t.slice():t,new u({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:i,height:e,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;let i=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!i)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=i[0]),"fraction"==this.anchorYUnits_&&(t[1]*=i[1])}if("top-left"!=this.anchorOrigin_){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[0]=-t[0]+i[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[1]=-t[1]+i[1])}this.normalizedAnchor_=t}let i=this.getDisplacement(),e=this.getScaleArray();return[t[0]-i[0]/e[0],t[1]+i[1]/e[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){let i=this.getSize(),e=this.iconImage_.getSize();if(!i||!e)return null;t=t.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[0]=e[0]-i[0]-t[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[1]=e[1]-i[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let t=this.getScaleArray();return this.size_?this.size_[0]*t[0]:this.iconImage_.getImageState()==n.default.LOADED?this.iconImage_.getSize()[0]*t[0]:void 0}getHeight(){let t=this.getScaleArray();return this.size_?this.size_[1]*t[1]:this.iconImage_.getImageState()==n.default.LOADED?this.iconImage_.getSize()[1]*t[1]:void 0}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(s.default.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(s.default.CHANGE,t)}ready(){return this.iconImage_.ready()}}i.default=u},48039:function(t,i,e){e.r(i);var n=e(50596),r=e(49179);class o{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=(0,n.Pq)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,r.abstract)()}getImage(t){return(0,r.abstract)()}getHitDetectionImage(){return(0,r.abstract)()}getPixelRatio(t){return 1}getImageState(){return(0,r.abstract)()}getImageSize(){return(0,r.abstract)()}getOrigin(){return(0,r.abstract)()}getSize(){return(0,r.abstract)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=(0,n.Pq)(t)}listenImageChange(t){(0,r.abstract)()}load(){(0,r.abstract)()}unlistenImageChange(t){(0,r.abstract)()}ready(){return Promise.resolve()}}i.default=o},49179:function(t,i,e){function n(){throw Error("Unimplemented abstract method.")}e.r(i),e.d(i,{VERSION:function(){return s},abstract:function(){return n},getUid:function(){return o}});let r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}let s="10.4.0"},50596:function(t,i,e){function n(t){return t[0]>0&&t[1]>0}function r(t,i,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*i+.5|0,e[1]=t[1]*i+.5|0,e}function o(t,i){return Array.isArray(t)?t:(void 0===i?i=[t,t]:(i[0]=t,i[1]=t),i)}e.d(i,{Pq:function(){return o},bA:function(){return r},py:function(){return n}})}}]);
//# sourceMappingURL=4287.68cf539d2692b714.js.map