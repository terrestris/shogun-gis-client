{"version":3,"file":"9826.ca09560d89567313.js","sources":["webpack://@terrestris/shogun-gis-client/./node_modules/ol/dom.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/geom/flat/contains.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/geom/flat/intersectsextent.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/geom/flat/segments.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/has.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/source/TileEventType.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/source/UrlTile.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/tilegrid/common.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/tileurlfunction.js","webpack://@terrestris/shogun-gis-client/./node_modules/ol/uri.js"],"sourcesContent":["import {WORKER_OFFSCREEN_CANVAS} from './has.js';\n\n/**\n * @module ol/dom\n */\n\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number} [width] Canvas width.\n * @param {number} [height] Canvas height.\n * @param {Array<HTMLCanvasElement>} [canvasPool] Canvas pool to take existing canvas from.\n * @param {CanvasRenderingContext2DSettings} [settings] CanvasRenderingContext2DSettings\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(width, height, canvasPool, settings) {\n  /** @type {HTMLCanvasElement|OffscreenCanvas} */\n  let canvas;\n  if (canvasPool && canvasPool.length) {\n    canvas = /** @type {HTMLCanvasElement} */ (canvasPool.shift());\n  } else if (WORKER_OFFSCREEN_CANVAS) {\n    canvas = new OffscreenCanvas(width || 300, height || 300);\n  } else {\n    canvas = document.createElement('canvas');\n  }\n  if (width) {\n    canvas.width = width;\n  }\n  if (height) {\n    canvas.height = height;\n  }\n  //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n  return /** @type {CanvasRenderingContext2D} */ (\n    canvas.getContext('2d', settings)\n  );\n}\n\n/** @type {CanvasRenderingContext2D} */\nlet sharedCanvasContext;\n\n/**\n * @return {CanvasRenderingContext2D} Shared canvas context.\n */\nexport function getSharedCanvasContext2D() {\n  if (!sharedCanvasContext) {\n    sharedCanvasContext = createCanvasContext2D(1, 1);\n  }\n  return sharedCanvasContext;\n}\n\n/**\n * Releases canvas memory to avoid exceeding memory limits in Safari.\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\n * @param {CanvasRenderingContext2D} context Context.\n */\nexport function releaseCanvas(context) {\n  const canvas = context.canvas;\n  canvas.width = 1;\n  canvas.height = 1;\n  context.clearRect(0, 0, 1, 1);\n}\n\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n  let width = element.offsetWidth;\n  const style = getComputedStyle(element);\n  width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n  return width;\n}\n\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n  let height = element.offsetHeight;\n  const style = getComputedStyle(element);\n  height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n  return height;\n}\n\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n  const parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n}\n\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n  while (node.lastChild) {\n    node.lastChild.remove();\n  }\n}\n\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n  const oldChildren = node.childNodes;\n\n  for (let i = 0; true; ++i) {\n    const oldChild = oldChildren[i];\n    const newChild = children[i];\n\n    // check if our work is done\n    if (!oldChild && !newChild) {\n      break;\n    }\n\n    // check if children match\n    if (oldChild === newChild) {\n      continue;\n    }\n\n    // check if a new child needs to be added\n    if (!oldChild) {\n      node.appendChild(newChild);\n      continue;\n    }\n\n    // check if an old child needs to be removed\n    if (!newChild) {\n      node.removeChild(oldChild);\n      --i;\n      continue;\n    }\n\n    // reorder\n    node.insertBefore(newChild, oldChild);\n  }\n}\n","/**\n * @module ol/geom/flat/contains\n */\nimport {forEachCorner} from '../../extent.js';\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} Contains extent.\n */\nexport function linearRingContainsExtent(\n  flatCoordinates,\n  offset,\n  end,\n  stride,\n  extent,\n) {\n  const outside = forEachCorner(\n    extent,\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains (x, y).\n     */\n    function (coordinate) {\n      return !linearRingContainsXY(\n        flatCoordinates,\n        offset,\n        end,\n        stride,\n        coordinate[0],\n        coordinate[1],\n      );\n    },\n  );\n  return !outside;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingContainsXY(\n  flatCoordinates,\n  offset,\n  end,\n  stride,\n  x,\n  y,\n) {\n  // https://geomalgorithms.com/a03-_inclusion.html\n  // Copyright 2000 softSurfer, 2012 Dan Sunday\n  // This code may be freely used and modified for any purpose\n  // providing that this copyright notice is included with it.\n  // SoftSurfer makes no warranty for this code, and cannot be held\n  // liable for any real or imagined damage resulting from its use.\n  // Users of this code must verify correctness for their application.\n  let wn = 0;\n  let x1 = flatCoordinates[end - stride];\n  let y1 = flatCoordinates[end - stride + 1];\n  for (; offset < end; offset += stride) {\n    const x2 = flatCoordinates[offset];\n    const y2 = flatCoordinates[offset + 1];\n    if (y1 <= y) {\n      if (y2 > y && (x2 - x1) * (y - y1) - (x - x1) * (y2 - y1) > 0) {\n        wn++;\n      }\n    } else if (y2 <= y && (x2 - x1) * (y - y1) - (x - x1) * (y2 - y1) < 0) {\n      wn--;\n    }\n    x1 = x2;\n    y1 = y2;\n  }\n  return wn !== 0;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingsContainsXY(\n  flatCoordinates,\n  offset,\n  ends,\n  stride,\n  x,\n  y,\n) {\n  if (ends.length === 0) {\n    return false;\n  }\n  if (!linearRingContainsXY(flatCoordinates, offset, ends[0], stride, x, y)) {\n    return false;\n  }\n  for (let i = 1, ii = ends.length; i < ii; ++i) {\n    if (\n      linearRingContainsXY(flatCoordinates, ends[i - 1], ends[i], stride, x, y)\n    ) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingssContainsXY(\n  flatCoordinates,\n  offset,\n  endss,\n  stride,\n  x,\n  y,\n) {\n  if (endss.length === 0) {\n    return false;\n  }\n  for (let i = 0, ii = endss.length; i < ii; ++i) {\n    const ends = endss[i];\n    if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n      return true;\n    }\n    offset = ends[ends.length - 1];\n  }\n  return false;\n}\n","/**\n * @module ol/geom/flat/intersectsextent\n */\nimport {\n  createEmpty,\n  extendFlatCoordinates,\n  intersects,\n  intersectsSegment,\n} from '../../extent.js';\nimport {linearRingContainsExtent, linearRingContainsXY} from './contains.js';\nimport {forEach as forEachSegment} from './segments.js';\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @param {import('../../extent.js').Extent} [coordinatesExtent] Coordinates extent\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineString(\n  flatCoordinates,\n  offset,\n  end,\n  stride,\n  extent,\n  coordinatesExtent,\n) {\n  coordinatesExtent =\n    coordinatesExtent ??\n    extendFlatCoordinates(createEmpty(), flatCoordinates, offset, end, stride);\n  if (!intersects(extent, coordinatesExtent)) {\n    return false;\n  }\n  if (\n    (coordinatesExtent[0] >= extent[0] && coordinatesExtent[2] <= extent[2]) ||\n    (coordinatesExtent[1] >= extent[1] && coordinatesExtent[3] <= extent[3])\n  ) {\n    return true;\n  }\n  return forEachSegment(\n    flatCoordinates,\n    offset,\n    end,\n    stride,\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} point1 Start point.\n     * @param {import(\"../../coordinate.js\").Coordinate} point2 End point.\n     * @return {boolean} `true` if the segment and the extent intersect,\n     *     `false` otherwise.\n     */\n    function (point1, point2) {\n      return intersectsSegment(extent, point1, point2);\n    },\n  );\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineStringArray(\n  flatCoordinates,\n  offset,\n  ends,\n  stride,\n  extent,\n) {\n  for (let i = 0, ii = ends.length; i < ii; ++i) {\n    if (\n      intersectsLineString(flatCoordinates, offset, ends[i], stride, extent)\n    ) {\n      return true;\n    }\n    offset = ends[i];\n  }\n  return false;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRing(\n  flatCoordinates,\n  offset,\n  end,\n  stride,\n  extent,\n) {\n  if (intersectsLineString(flatCoordinates, offset, end, stride, extent)) {\n    return true;\n  }\n  if (\n    linearRingContainsXY(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      extent[0],\n      extent[1],\n    )\n  ) {\n    return true;\n  }\n  if (\n    linearRingContainsXY(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      extent[0],\n      extent[3],\n    )\n  ) {\n    return true;\n  }\n  if (\n    linearRingContainsXY(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      extent[2],\n      extent[1],\n    )\n  ) {\n    return true;\n  }\n  if (\n    linearRingContainsXY(\n      flatCoordinates,\n      offset,\n      end,\n      stride,\n      extent[2],\n      extent[3],\n    )\n  ) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingArray(\n  flatCoordinates,\n  offset,\n  ends,\n  stride,\n  extent,\n) {\n  if (!intersectsLinearRing(flatCoordinates, offset, ends[0], stride, extent)) {\n    return false;\n  }\n  if (ends.length === 1) {\n    return true;\n  }\n  for (let i = 1, ii = ends.length; i < ii; ++i) {\n    if (\n      linearRingContainsExtent(\n        flatCoordinates,\n        ends[i - 1],\n        ends[i],\n        stride,\n        extent,\n      )\n    ) {\n      if (\n        !intersectsLineString(\n          flatCoordinates,\n          ends[i - 1],\n          ends[i],\n          stride,\n          extent,\n        )\n      ) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingMultiArray(\n  flatCoordinates,\n  offset,\n  endss,\n  stride,\n  extent,\n) {\n  for (let i = 0, ii = endss.length; i < ii; ++i) {\n    const ends = endss[i];\n    if (\n      intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent)\n    ) {\n      return true;\n    }\n    offset = ends[ends.length - 1];\n  }\n  return false;\n}\n","/**\n * @module ol/geom/flat/segments\n */\n\n/**\n * This function calls `callback` for each segment of the flat coordinates\n * array. If the callback returns a truthy value the function returns that\n * value immediately. Otherwise the function returns `false`.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {function(import(\"../../coordinate.js\").Coordinate, import(\"../../coordinate.js\").Coordinate): T} callback Function\n *     called for each segment.\n * @return {T|boolean} Value.\n * @template T\n */\nexport function forEach(flatCoordinates, offset, end, stride, callback) {\n  let ret;\n  offset += stride;\n  for (; offset < end; offset += stride) {\n    ret = callback(\n      flatCoordinates.slice(offset - stride, offset),\n      flatCoordinates.slice(offset, offset + stride),\n    );\n    if (ret) {\n      return ret;\n    }\n  }\n  return false;\n}\n","/**\n * @module ol/has\n */\n\nconst ua =\n  typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined'\n    ? navigator.userAgent.toLowerCase()\n    : '';\n\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport const FIREFOX = ua.includes('firefox');\n\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport const SAFARI = ua.includes('safari') && !ua.includes('chrom');\n\n/**\n * https://bugs.webkit.org/show_bug.cgi?id=237906\n * @type {boolean}\n */\nexport const SAFARI_BUG_237906 =\n  SAFARI &&\n  (ua.includes('version/15.4') ||\n    /cpu (os|iphone os) 15_4 like mac os x/.test(ua));\n\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport const WEBKIT = ua.includes('webkit') && !ua.includes('edge');\n\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport const MAC = ua.includes('macintosh');\n\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport const DEVICE_PIXEL_RATIO =\n  typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport const WORKER_OFFSCREEN_CANVAS =\n  typeof WorkerGlobalScope !== 'undefined' &&\n  typeof OffscreenCanvas !== 'undefined' &&\n  self instanceof WorkerGlobalScope; //eslint-disable-line\n\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport const IMAGE_DECODE =\n  typeof Image !== 'undefined' && Image.prototype.decode;\n\n/**\n * createImageBitmap() is supported.\n * @type {boolean}\n */\nexport const CREATE_IMAGE_BITMAP = typeof createImageBitmap === 'function';\n\n/**\n * @type {boolean}\n */\nexport const PASSIVE_EVENT_LISTENERS = (function () {\n  let passive = false;\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get: function () {\n        passive = true;\n      },\n    });\n\n    // @ts-ignore Ignore invalid event type '_'\n    window.addEventListener('_', null, options);\n    // @ts-ignore Ignore invalid event type '_'\n    window.removeEventListener('_', null, options);\n  } catch {\n    // passive not supported\n  }\n  return passive;\n})();\n","/**\n * @module ol/source/TileEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when a tile starts loading.\n   * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\n   * @api\n   */\n  TILELOADSTART: 'tileloadstart',\n\n  /**\n   * Triggered when a tile finishes loading, either when its data is loaded,\n   * or when loading was aborted because the tile is no longer needed.\n   * @event module:ol/source/Tile.TileSourceEvent#tileloadend\n   * @api\n   */\n  TILELOADEND: 'tileloadend',\n\n  /**\n   * Triggered if tile loading results in an error. Note that this is not the\n   * right place to re-fetch tiles. See {@link module:ol/ImageTile~ImageTile#load}\n   * for details.\n   * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\n   * @api\n   */\n  TILELOADERROR: 'tileloaderror',\n};\n\n/**\n * @typedef {'tileloadstart'|'tileloadend'|'tileloaderror'} TileSourceEventTypes\n */\n","/**\n * @module ol/source/UrlTile\n */\nimport TileState from '../TileState.js';\nimport {createFromTemplates} from '../tileurlfunction.js';\nimport {expandUrl} from '../uri.js';\nimport {getUid} from '../util.js';\nimport TileSource, {TileSourceEvent} from './Tile.js';\nimport TileEventType from './TileEventType.js';\n\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\n * @property {import(\"./Source.js\").State} [state] State.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\n * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction TileLoadFunction.\n * @property {number} [tilePixelRatio] TilePixelRatio.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Deprecated.  Use an ImageTile source and provide a function\n * for the url option instead.\n * @property {string} [url] Url.\n * @property {Array<string>} [urls] Urls.\n * @property {boolean} [wrapX=true] WrapX.\n * @property {number} [transition] Transition.\n * @property {string} [key] Key.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n\n/**\n * @deprecated Use the ol/source/ImageTile.js instead.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n */\nclass UrlTile extends TileSource {\n  /**\n   * @param {Options} options Image tile options.\n   */\n  constructor(options) {\n    super({\n      attributions: options.attributions,\n      cacheSize: options.cacheSize,\n      projection: options.projection,\n      state: options.state,\n      tileGrid: options.tileGrid,\n      tilePixelRatio: options.tilePixelRatio,\n      wrapX: options.wrapX,\n      transition: options.transition,\n      interpolate: options.interpolate,\n      key: options.key,\n      attributionsCollapsible: options.attributionsCollapsible,\n      zDirection: options.zDirection,\n    });\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.generateTileUrlFunction_ =\n      this.tileUrlFunction === UrlTile.prototype.tileUrlFunction;\n\n    /**\n     * @protected\n     * @type {import(\"../Tile.js\").LoadFunction}\n     */\n    this.tileLoadFunction = options.tileLoadFunction;\n\n    if (options.tileUrlFunction) {\n      this.tileUrlFunction = options.tileUrlFunction;\n    }\n\n    /**\n     * @protected\n     * @type {!Array<string>|null}\n     */\n    this.urls = null;\n\n    if (options.urls) {\n      this.setUrls(options.urls);\n    } else if (options.url) {\n      this.setUrl(options.url);\n    }\n\n    /**\n     * @private\n     * @type {!Object<string, boolean>}\n     */\n    this.tileLoadingKeys_ = {};\n  }\n\n  /**\n   * Deprecated.  Use an ImageTile source instead.\n   * Return the tile load function of the source.\n   * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\n   * @api\n   */\n  getTileLoadFunction() {\n    return this.tileLoadFunction;\n  }\n\n  /**\n   * Deprecated.  Use an ImageTile source instead.\n   * Return the tile URL function of the source.\n   * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\n   * @api\n   */\n  getTileUrlFunction() {\n    return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction\n      ? this.tileUrlFunction.bind(this)\n      : this.tileUrlFunction;\n  }\n\n  /**\n   * Deprecated.  Use an ImageTile source instead.\n   * Return the URLs used for this source.\n   * When a tileUrlFunction is used instead of url or urls,\n   * null will be returned.\n   * @return {!Array<string>|null} URLs.\n   * @api\n   */\n  getUrls() {\n    return this.urls;\n  }\n\n  /**\n   * Handle tile change events.\n   * @param {import(\"../events/Event.js\").default} event Event.\n   * @protected\n   */\n  handleTileChange(event) {\n    const tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\n    const uid = getUid(tile);\n    const tileState = tile.getState();\n    let type;\n    if (tileState == TileState.LOADING) {\n      this.tileLoadingKeys_[uid] = true;\n      type = TileEventType.TILELOADSTART;\n    } else if (uid in this.tileLoadingKeys_) {\n      delete this.tileLoadingKeys_[uid];\n      type =\n        tileState == TileState.ERROR\n          ? TileEventType.TILELOADERROR\n          : tileState == TileState.LOADED\n            ? TileEventType.TILELOADEND\n            : undefined;\n    }\n    if (type != undefined) {\n      this.dispatchEvent(new TileSourceEvent(type, tile));\n    }\n  }\n\n  /**\n   * Deprecated.  Use an ImageTile source instead.\n   * Set the tile load function of the source.\n   * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n   * @api\n   */\n  setTileLoadFunction(tileLoadFunction) {\n    this.tileLoadFunction = tileLoadFunction;\n    this.changed();\n  }\n\n  /**\n   * Deprecated.  Use an ImageTile source instead.\n   * Set the tile URL function of the source.\n   * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\n   * @param {string} [key] Optional new tile key for the source.\n   * @api\n   */\n  setTileUrlFunction(tileUrlFunction, key) {\n    this.tileUrlFunction = tileUrlFunction;\n    if (typeof key !== 'undefined') {\n      this.setKey(key);\n    } else {\n      this.changed();\n    }\n  }\n\n  /**\n   * Set the URL to use for requests.\n   * @param {string} url URL.\n   * @api\n   */\n  setUrl(url) {\n    const urls = expandUrl(url);\n    this.urls = urls;\n    this.setUrls(urls);\n  }\n\n  /**\n   * Deprecated.  Use an ImageTile source instead.\n   * Set the URLs to use for requests.\n   * @param {Array<string>} urls URLs.\n   * @api\n   */\n  setUrls(urls) {\n    this.urls = urls;\n    const key = urls.join('\\n');\n    if (this.generateTileUrlFunction_) {\n      this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\n    } else {\n      this.setKey(key);\n    }\n  }\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\n   * @return {string|undefined} Tile URL.\n   */\n  tileUrlFunction(tileCoord, pixelRatio, projection) {\n    return undefined;\n  }\n}\n\nexport default UrlTile;\n","/**\n * @module ol/tilegrid/common\n */\n\n/**\n * Default maximum zoom for default tile grids.\n * @type {number}\n */\nexport const DEFAULT_MAX_ZOOM = 42;\n\n/**\n * Default tile size.\n * @type {number}\n */\nexport const DEFAULT_TILE_SIZE = 256;\n","/**\n * @module ol/tileurlfunction\n */\nimport {modulo} from './math.js';\nimport {hash as tileCoordHash} from './tilecoord.js';\nimport {renderXYZTemplate} from './uri.js';\n\n/**\n * @param {string} template Template.\n * @param {import(\"./tilegrid/TileGrid.js\").default|null} tileGrid Tile grid.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTemplate(template, tileGrid) {\n  return (\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    function (tileCoord, pixelRatio, projection) {\n      if (!tileCoord) {\n        return undefined;\n      }\n      let maxY;\n      const z = tileCoord[0];\n      if (tileGrid) {\n        // The `{-y}` placeholder only works for sources that have a tile grid at construction\n        const range = tileGrid.getFullTileRange(z);\n        if (range) {\n          maxY = range.getHeight() - 1;\n        }\n      }\n      return renderXYZTemplate(template, z, tileCoord[1], tileCoord[2], maxY);\n    }\n  );\n}\n\n/**\n * @param {Array<string>} templates Templates.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTemplates(templates, tileGrid) {\n  const len = templates.length;\n  const tileUrlFunctions = new Array(len);\n  for (let i = 0; i < len; ++i) {\n    tileUrlFunctions[i] = createFromTemplate(templates[i], tileGrid);\n  }\n  return createFromTileUrlFunctions(tileUrlFunctions);\n}\n\n/**\n * @param {Array<import(\"./Tile.js\").UrlFunction>} tileUrlFunctions Tile URL Functions.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTileUrlFunctions(tileUrlFunctions) {\n  if (tileUrlFunctions.length === 1) {\n    return tileUrlFunctions[0];\n  }\n  return (\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    function (tileCoord, pixelRatio, projection) {\n      if (!tileCoord) {\n        return undefined;\n      }\n      const h = tileCoordHash(tileCoord);\n      const index = modulo(h, tileUrlFunctions.length);\n      return tileUrlFunctions[index](tileCoord, pixelRatio, projection);\n    }\n  );\n}\n\n/**\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n * @param {number} pixelRatio Pixel ratio.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {string|undefined} Tile URL.\n */\nexport function nullTileUrlFunction(tileCoord, pixelRatio, projection) {\n  return undefined;\n}\n","/**\n * @module ol/uri\n */\n\nimport {modulo} from './math.js';\nimport {hashZXY} from './tilecoord.js';\n\n/**\n * Appends query parameters to a URI.\n *\n * @param {string} uri The original URI, which may already have query data.\n * @param {!Object} params An object where keys are URI-encoded parameter keys,\n *     and the values are arbitrary types or arrays.\n * @return {string} The new URI.\n */\nexport function appendParams(uri, params) {\n  /** @type {Array<string>} */\n  const keyParams = [];\n  // Skip any null or undefined parameter values\n  Object.keys(params).forEach(function (k) {\n    if (params[k] !== null && params[k] !== undefined) {\n      keyParams.push(k + '=' + encodeURIComponent(params[k]));\n    }\n  });\n  const qs = keyParams.join('&');\n  // remove any trailing ? or &\n  uri = uri.replace(/[?&]$/, '');\n  // append ? or & depending on whether uri has existing parameters\n  uri += uri.includes('?') ? '&' : '?';\n  return uri + qs;\n}\n\nconst zRegEx = /\\{z\\}/g;\nconst xRegEx = /\\{x\\}/g;\nconst yRegEx = /\\{y\\}/g;\nconst dashYRegEx = /\\{-y\\}/g;\n\n/**\n * @param {string} template The URL template.  Should have `{x}`, `{y}`, and `{z}` placeholders.  If\n * the template has a `{-y}` placeholder, the `maxY` parameter must be supplied.\n * @param {number} z The tile z coordinate.\n * @param {number} x The tile x coordinate.\n * @param {number} y The tile y coordinate.\n * @param {number} [maxY] The maximum y coordinate at the given z level.\n * @return {string} The URL.\n */\nexport function renderXYZTemplate(template, z, x, y, maxY) {\n  return template\n    .replace(zRegEx, z.toString())\n    .replace(xRegEx, x.toString())\n    .replace(yRegEx, y.toString())\n    .replace(dashYRegEx, function () {\n      if (maxY === undefined) {\n        throw new Error(\n          'If the URL template has a {-y} placeholder, the grid extent must be known',\n        );\n      }\n      return (maxY - y).toString();\n    });\n}\n\n/**\n * @param {Array<string>} urls List of URLs.\n * @param {number} z The tile z coordinate.\n * @param {number} x The tile x coordinate.\n * @param {number} y The tile y coordinate.\n * @return {string} The chosen URL.\n */\nexport function pickUrl(urls, z, x, y) {\n  const hash = hashZXY(z, x, y);\n  const index = modulo(hash, urls.length);\n  return urls[index];\n}\n\n/**\n * @param {string} url URL.\n * @return {Array<string>} Array of urls.\n */\nexport function expandUrl(url) {\n  const urls = [];\n  let match = /\\{([a-z])-([a-z])\\}/.exec(url);\n  if (match) {\n    // char range\n    const startCharCode = match[1].charCodeAt(0);\n    const stopCharCode = match[2].charCodeAt(0);\n    let charCode;\n    for (charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\n      urls.push(url.replace(match[0], String.fromCharCode(charCode)));\n    }\n    return urls;\n  }\n  match = /\\{(\\d+)-(\\d+)\\}/.exec(url);\n  if (match) {\n    // number range\n    const stop = parseInt(match[2], 10);\n    for (let i = parseInt(match[1], 10); i <= stop; i++) {\n      urls.push(url.replace(match[0], i.toString()));\n    }\n    return urls;\n  }\n  urls.push(url);\n  return urls;\n}\n"],"names":["sharedCanvasContext","createCanvasContext2D","width","height","canvasPool","settings","canvas","OffscreenCanvas","document","getSharedCanvasContext2D","releaseCanvas","context","outerWidth","element","style","getComputedStyle","parseInt","outerHeight","replaceNode","newNode","oldNode","parent","removeChildren","node","replaceChildren","children","oldChildren","i","oldChild","newChild","linearRingContainsExtent","flatCoordinates","offset","end","stride","extent","coordinate","linearRingContainsXY","x","y","wn","x1","y1","x2","y2","linearRingsContainsXY","ends","ii","linearRingssContainsXY","endss","intersectsLineString","coordinatesExtent","point1","point2","intersectsLineStringArray","intersectsLinearRing","intersectsLinearRingArray","intersectsLinearRingMultiArray","forEach","callback","ret","ua","navigator","FIREFOX","SAFARI","SAFARI_BUG_237906","WEBKIT","MAC","DEVICE_PIXEL_RATIO","devicePixelRatio","WORKER_OFFSCREEN_CANVAS","WorkerGlobalScope","self","IMAGE_DECODE","Image","CREATE_IMAGE_BITMAP","createImageBitmap","PASSIVE_EVENT_LISTENERS","passive","options","Object","window","UrlTile","Tile","event","type","tile","uid","tileState","TileState","TileEventType","undefined","tileLoadFunction","tileUrlFunction","key","url","urls","tileCoord","pixelRatio","projection","DEFAULT_MAX_ZOOM","DEFAULT_TILE_SIZE","createFromTemplates","templates","tileGrid","len","tileUrlFunctions","Array","createFromTemplate","template","maxY","z","range","createFromTileUrlFunctions","h","index","appendParams","uri","params","keyParams","k","encodeURIComponent","qs","zRegEx","xRegEx","yRegEx","dashYRegEx","renderXYZTemplate","Error","expandUrl","match","charCode","startCharCode","stopCharCode","String","stop"],"mappings":"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"}