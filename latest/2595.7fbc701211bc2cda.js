"use strict";(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([["2595"],{80398:function(e,t,n){n.r(t),t.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},65045:function(e,t,n){let r;n.d(t,{_j:function(){return w},cD:function(){return C},dI:function(){return A},eE:function(){return x},fu:function(){return m},oJ:function(){return h},qV:function(){return s},sH:function(){return S}});var i=n(84674),o=n(94966);let s=[NaN,NaN,NaN,0],a=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,u=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,f=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function c(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function d(e){throw Error('failed to parse "'+e+'" as color')}function h(e){return"string"==typeof e?e:A(e)}let g={},p=0;function m(e){if(4===e.length)return e;let t=e.slice();return t[3]=1,t}function E(e){return e>.0031308?269.025*Math.pow(e,1/2.4)-14.025:3294.6*e}function y(e){return e>.2068965?Math.pow(e,3):108/841*(e-4/29)}function I(e){return e>10.314724?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function v(e){return e>.0088564?Math.pow(e,1/3):e/(108/841)+4/29}function x(e){let t=I(e[0]),n=I(e[1]),r=I(e[2]),i=v(.222488403*t+.716873169*n+.06060791*r),o=500*(v(.452247074*t+.399439023*n+.148375274*r)-i),s=200*(i-v(.016863605*t+.117638439*n+.865350722*r)),a=180/Math.PI*Math.atan2(s,o);return[116*i-16,Math.sqrt(o*o+s*s),a<0?a+360:a,e[3]]}function C(e){let t=(e[0]+16)/116,n=e[1],r=e[2]*Math.PI/180,i=y(t),s=y(t+n/500*Math.cos(r)),a=y(t-n/200*Math.sin(r)),l=E(3.021973625*s-1.617392459*i-.404875592*a),u=E(-.943766287*s+1.916279586*i+.027607165*a),f=E(.069407491*s-.22898585*i+1.159737864*a);return[(0,o.qE)(l+.5|0,0,255),(0,o.qE)(u+.5|0,0,255),(0,o.qE)(f+.5|0,0,255),e[3]]}function S(e){if("none"===e)return s;if(g.hasOwnProperty(e))return g[e];if(p>=1024){let e=0;for(let t in g)(3&e++)==0&&(delete g[t],--p)}let t=function e(t){if(t.toLowerCase().startsWith("rgb")){let e=t.match(l)||t.match(a)||t.match(u);if(e){let t=e[4],n=100/255;return[(0,o.qE)(c(e[1],n)+.5|0,0,255),(0,o.qE)(c(e[2],n)+.5|0,0,255),(0,o.qE)(c(e[3],n)+.5|0,0,255),void 0!==t?(0,o.qE)(c(t,100),0,1):1]}d(t)}if(t.startsWith("#")){if(f.test(t)){let e=t.substring(1),n=e.length<=4?1:2,r=[0,0,0,255];for(let t=0,i=e.length;t<i;t+=n){let i=parseInt(e.substring(t,t+n),16);1===n&&(i+=i<<4),r[t/n]=i}return r[3]=r[3]/255,r}d(t)}let n=(r||(r=(0,i.Y)(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),r);n.fillStyle="#abcdef";let s=n.fillStyle;n.fillStyle=t,n.fillStyle===s&&(n.fillStyle="#fedcba",s=n.fillStyle,n.fillStyle=t,n.fillStyle===s&&d(t));let h=n.fillStyle;if(h.startsWith("#")||h.startsWith("rgba"))return e(h);n.clearRect(0,0,1,1),n.fillRect(0,0,1,1);let g=Array.from(n.getImageData(0,0,1,1).data);return g[3]=(0,o.Mg)(g[3]/255,3),g}(e);for(let n of(4!==t.length&&d(e),t))isNaN(n)&&d(e);return g[e]=t,++p,t}function w(e){return Array.isArray(e)?e:S(e)}function A(e){let t=e[0];t!=(0|t)&&(t=t+.5|0);let n=e[1];n!=(0|n)&&(n=n+.5|0);let r=e[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+t+","+n+","+r+","+(void 0===e[3]?1:Math.round(1e3*e[3])/1e3)+")"}},84674:function(e,t,n){let r;n.d(t,{DK:function(){return u},Gq:function(){return l},WM:function(){return d},Y:function(){return o},Yg:function(){return a},fo:function(){return f},gS:function(){return c},lr:function(){return s},mH:function(){return h},rB:function(){return g}});var i=n(44954);function o(e,t,n,r){let o;return o=n&&n.length?n.shift():i.WORKER_OFFSCREEN_CANVAS?new class extends OffscreenCanvas{style={}}(e??300,t??150):document.createElement("canvas"),e&&(o.width=e),t&&(o.height=t),o.getContext("2d",r)}function s(){return r||(r=o(1,1)),r}function a(e){let t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function l(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function u(e){let t=e.offsetHeight,n=getComputedStyle(e);return t+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function f(e,t){let n=t.parentNode;n&&n.replaceChild(e,t)}function c(e){for(;e.lastChild;)e.lastChild.remove()}function d(e,t){let n=e.childNodes;for(let r=0;;++r){let i=n[r],o=t[r];if(!i&&!o)break;if(i!==o){if(!i){e.appendChild(o);continue}if(!o){e.removeChild(i),--r;continue}e.insertBefore(o,i)}}}function h(){return new Proxy({childNodes:[],appendChild:function(e){return this.childNodes.push(e),e},remove:function(){},removeChild:function(e){let t=this.childNodes.indexOf(e);if(-1===t)throw Error("Node to remove was not found");return this.childNodes.splice(t,1),e},insertBefore:function(e,t){let n=this.childNodes.indexOf(t);if(-1===n)throw Error("Reference node not found");return this.childNodes.splice(n,0,e),e},style:{}},{get:(e,t,n)=>"firstElementChild"===t?e.childNodes.length>0?e.childNodes[0]:null:Reflect.get(e,t,n)})}function g(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas}},44954:function(e,t,n){n.r(t),n.d(t,{CREATE_IMAGE_BITMAP:function(){return c},DEVICE_PIXEL_RATIO:function(){return l},IMAGE_DECODE:function(){return f},MAC:function(){return a},PASSIVE_EVENT_LISTENERS:function(){return d},SAFARI:function(){return i},SAFARI_BUG_237906:function(){return o},WEBKIT:function(){return s},WORKER_OFFSCREEN_CANVAS:function(){return u}});let r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i=r.includes("safari")&&!r.includes("chrom"),o=i&&(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),s=r.includes("webkit")&&!r.includes("edge"),a=r.includes("macintosh"),l="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,f="undefined"!=typeof Image&&Image.prototype.decode,c="function"==typeof createImageBitmap,d=function(){let e=!1;try{let t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}()},99634:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(80398),i=n(67008),o=n(85752),s=n(58318),a=n(21878),l=n(24763);class u extends l.A{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){let t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,a=e.viewState,l=a.resolution,u=this.getLayer().getSource(),f=e.viewHints,c=e.extent;if(void 0!==t.extent&&(c=(0,o.getIntersection)(c,(0,s.fromUserExtent)(t.extent,a.projection))),!f[i.A.ANIMATING]&&!f[i.A.INTERACTING]&&!(0,o.isEmpty)(c))if(u){let e=a.projection,t=u.getImage(c,l,n,e);t&&(this.loadImage(t)?this.image=t:t.getState()===r.default.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){let t=this.frameState;if(!t)return null;let n=this.getLayer(),r=(0,a.Bb)(t.pixelToCoordinateTransform,e.slice()),i=n.getExtent();if(i&&!(0,o.containsCoordinate)(i,r))return null;let s=this.image.getExtent(),l=this.image.getImage(),u=(0,o.getWidth)(s),f=Math.floor(l.width*((r[0]-s[0])/u));if(f<0||f>=l.width)return null;let c=(0,o.getHeight)(s),d=Math.floor(l.height*((s[3]-r[1])/c));return d<0||d>=l.height?null:this.getImageData(l,f,d)}renderFrame(e,t){let n=this.image,r=n.getExtent(),i=n.getResolution(),[l,u]=Array.isArray(i)?i:[i,i],f=n.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],d=e.pixelRatio,h=e.viewState,g=h.center,p=h.resolution;this.prepareContainer(e,t);let m=this.context.canvas.width,E=this.context.canvas.height,y=this.getRenderContext(e),I=!1,v=!0;if(c.extent){let t=(0,s.fromUserExtent)(c.extent,h.projection);(I=(v=(0,o.intersects)(t,e.extent))&&!(0,o.containsExtent)(t,e.extent))&&this.clipUnrotated(y,e,t)}let x=n.getImage(),C=(0,a.Zz)(this.tempTransform,m/2,E/2,d*l/(p*f),d*u/(p*f),0,f*(r[0]-g[0])/l,f*(g[1]-r[3])/u);this.renderedResolution=u*d/f;let S=x.width*C[0],w=x.height*C[3];if(this.getLayer().getSource().getInterpolate()||(y.imageSmoothingEnabled=!1),this.preRender(y,e),v&&S>=.5&&w>=.5){let e=C[4],t=C[5],n=c.opacity;1!==n&&(y.save(),y.globalAlpha=n),y.drawImage(x,0,0,+x.width,+x.height,e,t,S,w),1!==n&&y.restore()}return this.postRender(this.context,e),I&&y.restore(),y.imageSmoothingEnabled=!0,this.container}}var f=n(48341);class c extends f.default{constructor(e){super(e=e||{})}}var d=c,h=class extends d{constructor(e){super(e)}createRenderer(){return new u(this)}getData(e){return super.getData(e)}}}}]);
//# sourceMappingURL=2595.7fbc701211bc2cda.js.map