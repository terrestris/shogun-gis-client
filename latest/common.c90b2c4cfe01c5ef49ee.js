(self.webpackChunk_terrestris_shogun_gis_client=self.webpackChunk_terrestris_shogun_gis_client||[]).push([[592],{83299:function(e,t,a){"use strict";a.r(t),a.d(t,{App:function(){return vi},default:function(){return Si}});var r=a(96985),n=a.n(r),o=a(38648),i=a(50146),l=a(71577),s=a(77808),c=a(34041),u=a(52697),d=a(74187),m=a(23213),p=a.n(m),g=a(63698),f=a.n(g),y=a(87851),h=a.n(y),E=a(73590),b=a(92212),w=a.n(b),v=a(49413),S=a.n(v),L=a(54388),T=a.n(L),k=a(60962),P=a.n(k),F=a(14589);var C=()=>(0,F.useDispatch)();const Z=F.useSelector;var O=Z,A=a(20908),M=a(93379),N=a.n(M),D=a(7795),I=a.n(D),j=a(90569),x=a.n(j),U=a(3565),R=a.n(U),B=a(19216),$=a.n(B),z=a(44589),_=a.n(z),G=a(40171),V={};V.styleTagTransform=_(),V.setAttributes=R(),V.insert=x().bind(null,"head"),V.domAPI=I(),V.insertStyleElement=$();N()(G.Z,V),G.Z&&G.Z.locals&&G.Z.locals;function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},W.apply(this,arguments)}var K=({...e})=>{const[t,a]=(0,r.useState)(!1),[m,g]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[v,L]=(0,r.useState)("https://sgx.geodatenzentrum.de/wms_topplus_open"),[P,F]=(0,r.useState)(),[Z,M]=(0,r.useState)("1.3.0"),N=O((e=>e.addLayerModal.visible)),D=C(),I=(0,k.useMap)(),{t:j}=(0,E.useTranslation)();(0,r.useEffect)((()=>{N&&F(w().createValidGetCapabilitiesRequest(v,"WMS",Z))}),[Z,N,v]);const x=()=>{b([]),g([]),D((0,A.Cp)())},U=e=>{if(!I)return;const t=j("AddLayerModal.externalWmsFolder");let a=T().getLayerByName(I,t);if(!a){a=new(p())({layers:[]}),a.set("name",t);const e=I.getLayerGroup().getLayers();e.insertAt(e?.getLength()||0,a)}e.forEach((e=>{if(!a.getLayers().getArray().includes(e)){let t;if(e.set("isExternalLayer",!0),e instanceof f()&&(t=e.getSource()?.getUrl()),e instanceof h()){const a=e.getSource()?.getUrls();t=1===a?.length?a[0]:void 0}const r={name:e.get("name"),type:e instanceof h()?"TILEWMS":"WMS",opacity:e.getOpacity(),sourceConfig:{layerNames:e.getSource()?.getParams().LAYERS,url:t,useBearerToken:!1}};e.set("layerConfig",r),a.getLayers().push(e)}})),x()};return n().createElement(i.Z,W({className:"add-layer-modal",title:j("AddLayerModal.title"),open:N,onCancel:x,width:600,footer:[n().createElement(l.Z,{"aria-label":"add-all",key:"add-all",disabled:m?.length<1,onClick:()=>{U(m)}},j("AddLayerModal.addAllLayers")),n().createElement(l.Z,{"aria-label":"add-selected",key:"add-selected",disabled:y?.length<1,onClick:()=>{const e=m.filter((e=>y.includes((0,d.getUid)(e))));U(e)}},j("AddLayerModal.addSelectedLayers"))]},e),n().createElement(s.Z.Search,{"aria-label":"input-search",placeholder:j("AddLayerModal.inputPlaceholder"),value:v,onChange:e=>{L(e.target.value)},onSearch:async()=>{if(P)try{a(!0);const e=await S().getWmsCapabilities(P),t=S().getLayersFromWmsCapabilities(e,"Title");g(t)}catch(e){o.Z.error({message:j("AddLayerModal.errorMessage"),description:j("AddLayerModal.errorDescription")})}finally{a(!1)}},enterButton:!0,addonBefore:n().createElement(c.default,{"aria-label":"select-version",defaultValue:"1.3.0",onChange:M,options:[{value:"1.3.0",label:`${j("AddLayerModal.version")} 1.3.0`},{value:"1.1.1",label:`${j("AddLayerModal.version")} 1.1.1`}]})}),n().createElement(u.Z,{"aria-label":"wms-table",loading:t,columns:[{title:j("AddLayerModal.columnTitle"),render:(e,t)=>t.get("title")}],rowKey:e=>(0,d.getUid)(e),rowSelection:{selectedRowKeys:y,onChange:b},pagination:!1,dataSource:m}))},H=a(96024),Y=a(90225),q=a.n(Y),J=a(76688);const X=()=>(0,r.useContext)(J.ZP);var Q=X;function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ee.apply(this,arguments)}var te=({...e})=>{const t=P()(),a=Q(),{t:o,i18n:i}=(0,E.useTranslation)();(0,r.useEffect)((()=>{if(!t)return;const e=T().getLayersByProperty(t,"isExternalLayerGroup",!0);if(1!==e?.length)return;const a=e[0],r=e[0].get("name");a.set("name",o("AddLayerModal.externalWmsFolder"));const n=new H.ObjectEvent("change:layers","name",r);a.dispatchEvent(n)}),[i.language,t,o]);const l=[];return a&&a.forEach((e=>{if((t=e.integration)&&"map"===t.placement){const{key:t,wrappedComponent:a}=e;l.push(n().createElement(a,{key:t}))}var t})),t?n().createElement(q(),ee({map:t},e),l):n().createElement(n().Fragment,null)},ae=a(76772),re=a(87617),ne=a.n(re),oe=a(78494),ie=a.n(oe),le=a(67914),se=a(61663),ce=a(43922),ue=a.n(ce),de=a(28630),me=a.n(de),pe=a(78459),ge=a(77257);var fe=()=>(0,r.useContext)(ge.ZP);var ye=()=>{const e=fe();return(0,r.useCallback)((async t=>{let a;const r=t.layer.getSource();if(r instanceof ue()&&(a=r.getUrl()),r instanceof me()){const e=r.getUrls();a=e?e[0]:void 0}if(!a)return;a.endsWith("?")&&(a=a.slice(0,-1));const n={"Content-Type":"application/xml"},o=await fetch(a,{method:"POST",headers:t.layer?.get("useBearerToken")?{...n,...(0,pe.getBearerTokenHeader)(e?.getKeycloak())}:n,body:(new XMLSerializer).serializeToString(t.transaction)});if(!o.ok)throw new Error("No successful response while executing a WFS-Transaction");const i=await o.text();if((new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("wfs:FAILED").length>0)throw new Error(`Something failed: ${i}`);return i}),[e])},he=a(30381),Ee=a.n(he),be=a(67829),we=a(31100),ve=a.n(we),Se=a(98859),Le=a(9676),Te=a(48301),ke=a(48592),Pe=a(12028),Fe=a(23279),Ce=a.n(Fe),Ze=a(14293),Oe=a.n(Ze),Ae=a(13218),Me=a.n(Ae),Ne=a(12038),De=a.n(Ne),Ie=a(61465),je=a(37477),xe=a(59417),Ue=a(70982),Re=a(9253),Be=a(58904),$e={};$e.styleTagTransform=_(),$e.setAttributes=R(),$e.insert=x().bind(null,"head"),$e.domAPI=I(),$e.insertStyleElement=$();N()(Be.Z,$e),Be.Z&&Be.Z.locals&&Be.Z.locals;function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ze.apply(this,arguments)}var _e=({value:e,label:t,...a})=>{const[o,s]=(0,r.useState)(!1),{t:c}=(0,E.useTranslation)();return e?n().createElement(n().Fragment,null,n().createElement(l.Z,{className:"json-modal-button",title:c("JsonModal.buttonTitle",{propertyName:t}),onClick:()=>{s(!0)},icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.IA$})},c("JsonModal.buttonTitle",{propertyName:t})),n().createElement(i.Z,ze({open:o,onCancel:()=>{s(!1)},width:800,title:t,footer:!1},a),n().createElement(Re.ZP,{height:"500px",language:"json",value:JSON.stringify(JSON.parse(e),null,"  "),options:{automaticLayout:!0,readOnly:!0,lineNumbers:"off",scrollBeyondLastLine:!1,minimap:{enabled:!1},scrollbar:{useShadows:!1},showFoldingControls:"always",selectionHighlight:!1,renderLineHighlight:"none",occurrencesHighlight:!1}}))):n().createElement(n().Fragment,null)};function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ge.apply(this,arguments)}var Ve=({format:e="DD.MM.YYYY",suffix:t,value:a,label:r,...o})=>{const{t:i}=(0,E.useTranslation)();let l="";"string"==typeof a&&(l=a),"boolean"==typeof a&&(l=i(a?"DisplayField.yesText":"DisplayField.noText")),Number.isFinite(a)&&(l=(new Intl.NumberFormat).format(Number(a))),(0,he.isMoment)(a)&&(l=a.format(e)),Array.isArray(a)&&(l=a.join(", "));return a&&(e=>{let t="string"!=typeof e?JSON.stringify(e):e;try{t=JSON.parse(t)}catch(e){return!1}return"object"==typeof t&&null!==t})(a)?n().createElement(_e,{value:a,label:r}):n().createElement(je.Z.Text,Ge({className:"displayfield"},o),l,l&&t?` ${t}`:"")},We=a(36449),Ke=a(58548);function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},He.apply(this,arguments)}var Ye=({fieldConfig:e,...t})=>{const a=fe(),{t:r}=(0,E.useTranslation)();return a?n().createElement(We.default,He({multiple:!0,name:"file",action:"/files/uploadToFileSystem",withCredentials:!0,headers:{...(0,Ke.getCsrfTokenHeader)(),...(0,pe.getBearerTokenHeader)(a.getKeycloak())},onRemove:async e=>{const t=e?.response?.fileUuid;if(t){const e=`${a?.getBasePath()}files/${t}`;return await fetch(e,{method:"DELETE",credentials:"same-origin",headers:{...(0,Ke.getCsrfTokenHeader)(),...(0,pe.getBearerTokenHeader)(a?.getKeycloak())}})}},onPreview:async e=>{if(!a)return;const{response:t}=e,r=t?.fileName,n=`/files/${t?.fileUuid}`;if(Oe()(r)||Oe()(t?.fileUuid))return;const o=document.createElement("a");document.body.appendChild(o);const i={headers:{...(0,pe.getBearerTokenHeader)(a.getKeycloak())}},l=await fetch(n,i),s=await l.blob();let c=window.URL.createObjectURL(s);o.href=c,o.download=r,o.click(),window.URL.revokeObjectURL(c)}},e?.fieldProps,t),n().createElement(l.Z,null,r("FileUpload.upload"))):n().createElement(n().Fragment,null)};var qe=()=>{const e=fe();return(0,r.useCallback)((async t=>{if(Oe()(t))return Promise.reject();const a=await fetch(t,{credentials:"include",headers:{...(0,pe.getBearerTokenHeader)(e?.getKeycloak())}}),r=await a.blob();return new Promise(((e,t)=>{try{const t=new FileReader;t.onload=function(){e(this.result)},t.readAsDataURL(r)}catch(e){t(e)}}))}),[e])};function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Je.apply(this,arguments)}var Xe=({fieldConfig:e,...t})=>{const[a,o]=(0,r.useState)(!1),[l,s]=(0,r.useState)(""),c=fe(),u=qe(),{t:d}=(0,E.useTranslation)();return c?n().createElement(n().Fragment,null,n().createElement(We.default,Je({accept:"image/*",multiple:!0,name:"file",action:`${c.getBasePath()}imagefiles/uploadToFileSystem`,withCredentials:!0,listType:"picture-card",headers:{...(0,Ke.getCsrfTokenHeader)(),...(0,pe.getBearerTokenHeader)(c.getKeycloak())},onRemove:async e=>{const t=e?.response?.fileUuid;if(t){const e=`${c?.getBasePath()}imagefiles/${t}`;return await fetch(e,{method:"DELETE",credentials:"same-origin",headers:{...(0,Ke.getCsrfTokenHeader)(),...(0,pe.getBearerTokenHeader)(c?.getKeycloak())}})}},onPreview:async e=>{const{response:t}=e;if(Oe()(t)||Oe()(t?.fileUuid))return;const a=`${c?.getBasePath()}imagefiles/${t.fileUuid}`,r=await u(a);s(r),o(!0)}},e?.fieldProps,t),n().createElement("div",null,n().createElement(Ue.FontAwesomeIcon,{icon:xe.r8p}),n().createElement("div",{style:{marginTop:8}},d("ImageUpload.upload")))),n().createElement(i.Z,{open:a,footer:null,onCancel:()=>o(!1)},n().createElement("img",{alt:"example",style:{width:"100%"},src:l}))):n().createElement(n().Fragment,null)},Qe=a(99327),et={};et.styleTagTransform=_(),et.setAttributes=R(),et.insert=x().bind(null,"head"),et.domAPI=I(),et.insertStyleElement=$();N()(Qe.Z,et),Qe.Z&&Qe.Z.locals&&Qe.Z.locals;function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},tt.apply(this,arguments)}var at=({formConfig:e,form:t,...a})=>{const r=fe(),o=C(),{t:i}=(0,E.useTranslation)(),l=O((e=>e.editFeature.formDirty)),u=e=>n().createElement(Ve,e.fieldProps),d=e=>{if(r)switch(e.component){case"CHECKBOX":return n().createElement(Le.Z,e?.fieldProps);case"DATE":return n().createElement(Te.Z,e?.fieldProps);case"DISPLAY":return n().createElement("span",e?.fieldProps);case"INPUT":return n().createElement(s.Z,e?.fieldProps);case"NUMBER":return n().createElement(ke.Z,e?.fieldProps);case"SELECT":return n().createElement(c.default,tt({allowClear:!0},e?.fieldProps));case"SWITCH":return n().createElement(Pe.Z,e?.fieldProps);case"TEXTAREA":return n().createElement(s.Z.TextArea,e?.fieldProps);case"UPLOAD":return"IMAGE"===e?.fieldProps.type?n().createElement(Xe,e?.fieldProps):n().createElement(Ye,e?.fieldProps);default:return De().error(`Component type "${e?.component}" is not supported`),n().createElement(n().Fragment,null)}};return n().createElement(Se.Z,tt({className:"edit-feature-form",form:t,labelCol:{span:8},labelAlign:"left",labelWrap:!0,onValuesChange:Ce()((async e=>{e&&!l&&o((0,Ie.uQ)(!0))}),250)},a),e?.map((e=>{let t;e.readOnly?t=u(e):e.component?t=d(e):(De().warn("FieldConfig is missing `readOnly`, `component` or `dataType` property."),t=n().createElement(s.Z,{key:e.propertyName,placeholder:""}));const a={rules:[]};return a.rules=[{required:e.required}],"SWITCH"!==e.component&&"CHECKBOX"!==e.component||e.readOnly||(a.valuePropName="checked"),"UPLOAD"!==e.component||e.readOnly||(a.valuePropName="fileList",a.getValueFromEvent=e=>Array.isArray(e)?e:e&&e.fileList),n().createElement(Se.Z.Item,tt({key:e.propertyName,name:e.propertyName,label:e.displayName||e.propertyName},a,e.fieldProps),t)})))};const rt=e=>["gml:MultiPoint","gml:Point","gml:MultiLineString","gml:LineString","gml:MultiPolygon","gml:Polygon"].includes(e);var nt=()=>{const e=fe();return(0,r.useCallback)((async t=>{let a;const r=t.getSource();if(r instanceof ue()&&(a=r.getUrl()),r instanceof me()){const e=r.getUrls();a=e?e[0]:void 0}if(!a)return;a.endsWith("?")&&(a=a.slice(0,-1));const n={SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:"2.0.0",OUTPUTFORMAT:"application/json",TYPENAMES:t.getSource()?.getParams().LAYERS},o={"Content-Type":"application/json"},i=await fetch(`${a}?${w().objectToRequestString(n)}`,{method:"GET",headers:t.get("useBearerToken")?{...o,...(0,pe.getBearerTokenHeader)(e?.getKeycloak())}:o});if(!i.ok)throw new Error("No successful response while executing a WFS-Transaction");return await i.json()}),[e])};var ot=()=>{const e=P()(),t=nt(),a=e=>{const t={...e.getFieldsValue()};for(const[r,n]of Object.entries(t))if(void 0===n&&(t[r]=null),e.getFieldInstance(r)||delete t[r],(0,he.isMoment)(n)&&(t[r]=n.toISOString()),Array.isArray(n)&&n.length>0&&(a=n[0],!Oe()(a)&&a.uid&&!Oe()(a.name)&&!Oe()(a.type)&&!Oe()(a.uid)&&Me()(a.response)&&!Oe()(a.response.id)&&!Oe()(a.response.fileUuid)&&!Oe()(a.response.fileName)&&!Oe()(a.response.fileType))){const e=n.map((e=>({uid:e.uid,lastModified:e.lastModified,name:e.name,type:e.type,url:`/files/${e.response.fileUuid}`,response:{id:e.response?.id,created:e.response?.created,fileName:e.response?.fileName,fileType:e.response?.fileType,fileUuid:e.response?.fileUuid}})));t[r]=JSON.stringify(e)}var a;return t};return(0,r.useCallback)((async r=>{if(!e)return;const n=[],o=[],i=[],l=await t(r.layer);if(!l)return;const s=l.featureTypes[0]?.properties?.find((e=>rt(e.type)));let c=!1;if(r.upsertFeatures)for(const e of r.upsertFeatures){const t=new(ie()),i=e.getGeometry()?.clone();i&&!(0,be.isEmpty)(i.getExtent())&&(t.set(s?.name||"geom",i),t.setGeometryName(s?.name||"geom")),r.form&&t.setProperties(a(r.form));const l=!!e.getId();l&&!c&&(c=!0),l&&t.setId(e.getId()),l?o.push(t):n.push(t)}r.deleteFeatures&&i.push(...r.deleteFeatures);const u={featureNS:l.targetNamespace,featurePrefix:l.targetPrefix,featureType:r.layer.getSource()?.getParams().LAYERS,srsName:e.getView().getProjection().getCode(),version:"1.1.0",nativeElements:[]},d=(new(ve())).writeTransaction(n,o,i,u);if(c&&ne().wfsLockFeatureEnabled){const e=d.getRootNode(),t=document.createElementNS("http://www.opengis.net/wfs","LockId"),a=document.createTextNode("GeoServer");t.appendChild(a),e.appendChild(t)}return d}),[t,e])},it=a(68781),lt=a(273),st=a(69616),ct={};ct.styleTagTransform=_(),ct.setAttributes=R(),ct.insert=x().bind(null,"head"),ct.domAPI=I(),ct.insertStyleElement=$();N()(st.Z,ct),st.Z&&st.Z.locals&&st.Z.locals;function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ut.apply(this,arguments)}var dt=({open:e,children:t,...a})=>{const o=P()();(0,r.useEffect)((()=>{document.querySelectorAll("#map")[0]?.classList.toggle("bisected",!!e)}),[e]);return n().createElement(lt.Z,ut({className:"map-drawer",mask:!1,open:e,placement:"right",width:getComputedStyle(document.documentElement).getPropertyValue("--editDrawerWidth"),afterOpenChange:()=>{o?.updateSize()}},a),t)},mt=a(50963),pt=a(50361),gt=a.n(pt),ft=a(22177);var yt=()=>{const e=fe(),t=P()(),a=nt();return(0,r.useCallback)((async r=>{if(!t)return;const n=await a(r.layer);if(!n)return;let o;const i=r.layer.getSource();if(i instanceof ue()&&(o=i.getUrl()),i instanceof me()){const e=i.getUrls();o=e?e[0]:void 0}if(!o)return;o.endsWith("?")&&(o=o.slice(0,-1));const l=(new(ve())).writeGetFeature({srsName:t.getView().getProjection().getCode(),featureNS:n.targetNamespace,featurePrefix:n.targetPrefix,featureTypes:[i?.getParams().LAYERS],outputFormat:"application/json",filter:r.filter}),s={"Content-Type":"application/json"},c=await fetch(o,{method:"POST",headers:r.layer?.get("useBearerToken")?{...s,...(0,pe.getBearerTokenHeader)(e?.getKeycloak())}:s,body:(new XMLSerializer).serializeToString(l)});if(!c.ok)throw new Error("No successful response");return await c.json()}),[e,a,t])},ht=a(36609),Et=a(41609),bt=a.n(Et),wt=a(11939),vt=a.n(wt),St=a(51085),Lt=a.n(St),Tt=a(10743),kt=a.n(Tt),Pt=a(41380),Ft=a.n(Pt),Ct=a(39677),Zt=a.n(Ct),Ot=a(99901),At=a.n(Ot),Mt=a(23697),Nt=a.n(Mt),Dt=a(83238),It=a(5687),jt={};jt.styleTagTransform=_(),jt.setAttributes=R(),jt.insert=x().bind(null,"head"),jt.domAPI=I(),jt.insertStyleElement=$();N()(It.Z,jt),It.Z&&It.Z.locals&&It.Z.locals;function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xt.apply(this,arguments)}var Ut=({feature:e,historyLength:t=10})=>{const a=(0,r.useRef)({past:[],future:[]}),o=(0,k.useMap)(),[i,l]=(0,r.useState)(),[,s]=(0,r.useState)(0),c=(0,r.useMemo)((()=>new(vt())),[]),u=O((e=>e.editFeature.userEditMode));(0,r.useEffect)((()=>{if(o)return i||l(Dt.DigitizeUtil.getDigitizeLayer(o)),()=>{i&&o?.removeLayer(i)}}),[i,o]),(0,r.useEffect)((()=>{if(i&&e?.id){i.getSource()?.clear();const t=c.readFeature(e),a=i.getSource();a.addFeature(t),s((e=>e+1)),(0,be.isEmpty)(a.getExtent())||o?.getView().fit(a.getExtent(),{padding:[50,50,50,50]})}}),[e,i,c,o]);const d=()=>{const e=i?.getSource(),r=e?.getFeatures();if(!r)return;const n=c.writeFeaturesObject(r),o=a.current.past[a.current.past.length-1];bt()(o)||(e?.clear(),e?.addFeatures(c.readFeatures(o)),a.current={past:a.current.past.slice(0,-1),future:[...a.current.future,n].slice(-t)},s((e=>e+1)))},m=()=>{const e=i?.getSource(),r=e?.getFeatures();if(!r)return;const n=c.writeFeaturesObject(r),o=a.current.future[a.current.future.length-1];bt()(o)||(e?.clear(),e?.addFeatures(c.readFeatures(o)),a.current={future:a.current.future.slice(0,-1),past:[...a.current.past,n].slice(-t)},s((e=>e+1)))},p=t=>{g(),e.geometry.type.toLocaleLowerCase().startsWith("multi")||i?.getSource()?.clear()},g=()=>{const e=i?.getSource()?.getFeatures();if(!e)return;const t=c.writeFeaturesObject(e);a.current={...a.current,past:[...a.current.past,t].slice(-10)},s((e=>e+1))},f={tooltipPlacement:"left",tooltipProps:{mouseEnterDelay:.5}};return i&&u.includes("EDIT_GEOMETRY")?n().createElement(Nt(),{className:"geometry-edit-tb",alignment:"vertical"},n().createElement(At(),null,u.includes("CREATE")?n().createElement(kt(),xt({icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.TzT}),pressedIcon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.TzT}),name:"draw",digitizeLayer:i,tooltip:(0,ht.t)("EditFeatureGeometryToolbar.draw"),drawType:e.geometry.type,onDrawEnd:p},f)):n().createElement(n().Fragment,null),u.includes("UPDATE")?n().createElement(Ft(),xt({icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.ubJ}),pressedIcon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.ubJ}),name:"edit",digitizeLayer:i,tooltip:(0,ht.t)("EditFeatureGeometryToolbar.edit"),onModifyStart:g,onModifyEnd:g,onTranslateEnd:g},f)):n().createElement(n().Fragment,null),u.includes("DELETE")?n().createElement(Lt(),xt({icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.$aW}),pressedIcon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.$aW}),name:"delete",digitizeLayer:i,tooltip:(0,ht.t)("EditFeatureGeometryToolbar.delete"),onFeatureRemove:g},f)):n().createElement(n().Fragment,null)),n().createElement(Zt(),xt({icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.X7o}),tooltip:(0,ht.t)("EditFeatureGeometryToolbar.undo"),onClick:d,disabled:0===a.current.past?.length},f)),n().createElement(Zt(),xt({icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.X7o,flip:"horizontal"}),tooltip:(0,ht.t)("EditFeatureGeometryToolbar.redo"),onClick:m,disabled:0===a.current.future?.length},f))):n().createElement(n().Fragment,null)},Rt=a(72488);function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Bt.apply(this,arguments)}var $t=({tabConfig:e,form:t,initialValues:a,...r})=>{const o=e?.map(((e,r)=>({label:e.title,key:`${r}`,forceRender:!0,children:n().createElement(at,{name:e.title,form:t,initialValues:a,formConfig:e.children})})));return n().createElement(Rt.Z,Bt({items:o},r))},zt=a(24565);function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_t.apply(this,arguments)}var Gt=({feature:e,layer:t,onError:a=(()=>{}),onSuccess:o=(()=>{}),...i})=>{const[s,c]=(0,r.useState)(!1),{t:u}=(0,E.useTranslation)(),d=(0,k.useMap)(),m=ot(),p=ye();return n().createElement(zt.Z,{title:u("DeleteButton.confirm"),onConfirm:async()=>{if(d&&t&&(0,se.isWmsLayer)(t))try{c(!0);const a=(new(vt())).readFeature(e),r=await m({deleteFeatures:[a],layer:t});if(!r)return;await p({layer:t,transaction:r}),t.getSource()?.refresh(),o()}catch(e){le.Logger.error(e),a(e)}finally{c(!1)}},placement:"bottomRight"},n().createElement(l.Z,_t({type:"primary",loading:s,disabled:!e.id,danger:!0,icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.$aW})},i),u("DeleteButton.title")))};function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vt.apply(this,arguments)}var Wt=({feature:e,form:t,...a})=>{const{t:r}=(0,E.useTranslation)(),o=(0,k.useMap)(),i=C();return n().createElement(l.Z,Vt({type:"primary",onClick:()=>{if(t.resetFields(),i((0,Ie.uQ)(!1)),o){const t=Dt.DigitizeUtil.getDigitizeLayer(o);if(t){t.getSource()?.clear();const a=(new(vt())).readFeature(e);t.getSource()?.addFeature(a)}}},icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.XnX})},a),r("ResetButton.title"))},Kt=a(97598),Ht={};Ht.styleTagTransform=_(),Ht.setAttributes=R(),Ht.insert=x().bind(null,"head"),Ht.domAPI=I(),Ht.insertStyleElement=$();N()(Kt.Z,Ht),Kt.Z&&Kt.Z.locals&&Kt.Z.locals;var Yt=a(33354),qt={};qt.styleTagTransform=_(),qt.setAttributes=R(),qt.insert=x().bind(null,"head"),qt.domAPI=I(),qt.insertStyleElement=$();N()(Yt.Z,qt),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var Jt=({loadComplete:e=!1})=>n().createElement("div",{className:e?"feedback-icon":"feedback-icon hidden"},n().createElement("div",{className:e?"checkmark":"checkmark-hidden"}));function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xt.apply(this,arguments)}var Qt=({form:e,layer:t,onError:a=(()=>{}),onSuccess:o=(()=>{}),...i})=>{const[s,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),m=(0,k.useMap)(),p=ot(),g=ye(),f=C(),y=O((e=>e.editFeature.formDirty)),{t:h}=(0,E.useTranslation)();return n().createElement(l.Z,Xt({className:"save-button",type:"primary",onClick:async()=>{if(!m)return;if(!t||!(0,se.isWmsLayer)(t))return;const r=Dt.DigitizeUtil.getDigitizeLayer(m);if(!r)return void le.Logger.error("Cannot find the digitize layer");const n=r.getSource()?.getFeatures();if(n&&0!==n.length){try{await e.validateFields()}catch(e){return void le.Logger.warn("Validation has failed: ",e)}try{c(!0);const a=await p({upsertFeatures:n,form:e,layer:t});if(!a)return;const r=await g({layer:t,transaction:a});t.getSource()?.refresh(),d(!0),setTimeout((()=>{d(!1)}),3e3),o(r)}catch(e){le.Logger.error(e),a(e)}finally{c(!1),f((0,Ie.uQ)(!1))}}else le.Logger.error("Cannot save feature without geometry")},loading:s,disabled:!y,icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.EdJ})},i),h("SaveButton.title"),n().createElement(Jt,{loadComplete:u}))},ea=a(38775),ta={};ta.styleTagTransform=_(),ta.setAttributes=R(),ta.insert=x().bind(null,"head"),ta.domAPI=I(),ta.insertStyleElement=$();N()(ea.Z,ta),ea.Z&&ea.Z.locals&&ea.Z.locals;var aa=({feature:e,layer:t,form:a,onSaveSuccess:r=(()=>{}),onSaveError:o=(()=>{}),onDeleteSuccess:i=(()=>{}),onDeleteError:l=(()=>{})})=>{const s=O((e=>e.editFeature.userEditMode));return n().createElement("div",{className:"edit-feature-toolbar"},s.includes("CREATE")||s.includes("UPDATE")?n().createElement(n().Fragment,null,n().createElement(Wt,{feature:e,form:a}),n().createElement(Qt,{form:a,layer:t,onSuccess:r,onError:o})):n().createElement(n().Fragment,null),s.includes("DELETE")&&n().createElement(Gt,{feature:e,layer:t,onSuccess:i,onError:l}))};var ra=({feature:e,layer:t})=>{const{t:a}=(0,E.useTranslation)(),o=yt(),i=qe(),[l,s]=(0,r.useState)(),[c,u]=(0,r.useState)(),[d,m]=(0,r.useState)(),[p]=(O((e=>e.editFeature.userEditMode)),(0,mt.cI)()),g=P()(),f=C(),y=fe(),h=(0,r.useCallback)((async e=>{if(!t||!(0,se.isWmsLayer)(t))return;const a=await o({layer:t,filter:(0,ft.equalTo)("id",e)});a?.features[0]&&f((0,Ie.hr)(a?.features[0]))}),[f,o,t]),b=(0,r.useCallback)((async()=>{if(!g||!y)return;let a=t.get("editFormConfig");if(0===a?.length)return void le.Logger.warn(`Layer ${t.get("name")} has no 'editFormConfig' set`);const r=gt()(e?.properties)||{},n=Object.entries(r).map((async([e,t])=>{const n=a?.filter((t=>t.children?.find((t=>t.propertyName===e))));if(n.length>1&&le.Logger.warn(`Property ${e} is configured in multiple tabs. Is this intended?`),n&&n[0]){const a=n[0].children?.some((t=>t.propertyName===e&&"DATE"===t.component));a&&(r[e]=Ee()(t));const o=n[0].children?.some((t=>t.propertyName===e&&"UPLOAD"===t.component));if(o)if(t)try{const a=JSON.parse(t);r[e]=a;const n=a[0].response?.type?.startsWith("image/")?"imagefiles/":"files/",o=a.map((async e=>({...e,url:await i(`${y.getBasePath()}${n}${e?.response?.fileUuid}`)}))),l=await Promise.all(o);r[e]=l}catch(t){le.Logger.error("Could not parse file list from JSON config.",t),r[e]=[]}else r[e]=[]}}));await Promise.all(n),p.resetFields(),p.setFieldsValue(r),s(a),u(r)}),[g,y,t,e?.properties,p,i]);(0,r.useEffect)((()=>{b()}),[b]);return n().createElement(n().Fragment,null,n().createElement(Ut,{feature:e}),d&&n().createElement(ae.Z,{className:"error-alert",message:d,type:"error",showIcon:!0}),n().createElement(aa,{feature:e,layer:t,form:p,onSaveSuccess:e=>{if(!e)return;m(void 0);const t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("ogc:FeatureId"),a=t.item(0)?.getAttribute("fid"),r=a?.split(".")[1];r&&h(r)},onSaveError:()=>{m(a("EditFeatureFullForm.saveErrorMsg"))},onDeleteSuccess:()=>{m(void 0),f((0,Ie.hr)(null))},onDeleteError:()=>{m(a("EditFeatureFullForm.deleteErrorMsg"))}}),n().createElement($t,{tabConfig:l,initialValues:c,form:p}))};var na=()=>{const e=fe();return(0,r.useCallback)((async t=>{let a;const r=t.layer.getSource();if(r instanceof ue()&&(a=r.getUrl()),r instanceof me()){const e=r.getUrls();a=e?e[0]:void 0}if(!a)return;a.endsWith("?")&&(a=a.slice(0,-1));const n=(e=>{const t=e.feature.id,a=e.feature.properties;if(!t||!a)return void De().warn("Either the id of the feature or its properties (or even both) aren't available");let r;r="number"==typeof t?t:parseInt(t.split(".")[1],10);const n=Object.entries(a).find((([,e])=>e===r||e===r.toString()));if(!n)return void De().warn("Count not detect the id property");const o=n[0],i=e.layer.getSource()?.getParams().LAYERS,l=document.createElementNS("http://www.opengis.net/wfs/2.0","LockFeature");l.setAttribute("service","WFS"),l.setAttribute("version","2.0.0"),l.setAttribute("expiry","300"),l.setAttribute("lockAction","SOME");const s=document.createElementNS("http://www.opengis.net/wfs/2.0","Query");s.setAttribute("typeNames",i);const c=document.createElementNS("http://www.opengis.net/fes/2.0","Filter"),u=document.createElementNS("http://www.opengis.net/fes/2.0","PropertyIsEqualTo"),d=document.createElementNS("http://www.opengis.net/fes/2.0","ValueReference"),m=document.createTextNode(o);d.appendChild(m);const p=document.createElementNS("http://www.opengis.net/fes/2.0","Literal"),g=document.createTextNode(r.toString());return p.appendChild(g),u.appendChild(d),u.appendChild(p),c.appendChild(u),s.appendChild(c),l.appendChild(s),l})({layer:t.layer,feature:t.feature});if(!n)return;const o={"Content-Type":"application/xml"},i=await fetch(a,{method:"POST",headers:t.layer?.get("useBearerToken")?{...o,...(0,pe.getBearerTokenHeader)(e?.getKeycloak())}:o,body:(new XMLSerializer).serializeToString(n)});if(!i.ok)throw new Error("No successful response while executing a WFS-LockFeature");const l=await i.text();if((new DOMParser).parseFromString(l,"text/xml").getElementsByTagName("wfs:FeaturesNotLocked").length>0)throw new Error(`Error while locking a feature: ${l}`);return l}),[e])};var oa=(e,t,a)=>{const n=(0,k.useMap)(),o=fe(),i=(0,r.useCallback)((async r=>{if(!n||!e)return;const i=r.coordinate,l=n.getView().getResolution();if(!l)return;const s=e.getSource(),c=s?.getFeatureInfoUrl(i,l,n.getView().getProjection(),{INFO_FORMAT:"application/json",BUFFER:10}),u={"Content-Type":"application/json"};if(c)try{n.getTargetElement().style.cursor="wait";const a=await fetch(c,{method:"GET",headers:e.get("useBearerToken")?{...u,...(0,pe.getBearerTokenHeader)(o?.getKeycloak())}:u});if(!a.ok)throw new Error("No successful response");const r=await a.json();t&&t(r)}catch(e){le.Logger.error("Error: ",e),a&&a()}finally{n.getTargetElement().style.cursor=""}}),[o,e,n,t,a]),l=(0,r.useCallback)((t=>{if(!n||!e)return;if(t.dragging)return;const a=e.getData(t.pixel);if(!(a instanceof Uint8ClampedArray))return;const r=a&&a[3]>0;n.getTargetElement().style.cursor=r?"pointer":""}),[e,n]);(0,r.useEffect)((()=>{if(n)return n.on("pointermove",l),n.on("singleclick",i),()=>{n.un("pointermove",l),n.un("singleclick",i)}}),[n,l,i])},ia=a(97555),la={};la.styleTagTransform=_(),la.setAttributes=R(),la.insert=x().bind(null,"head"),la.domAPI=I(),la.insertStyleElement=$();N()(ia.Z,la),ia.Z&&ia.Z.locals&&ia.Z.locals;var sa=({layer:e,onLockSuccess:t=(()=>{}),onLockError:a=(()=>{}),onCreate:o=(()=>{})})=>{const[i,s]=(0,r.useState)(!1),c=nt(),u=na(),d=C(),m=P()(),{t:p}=(0,E.useTranslation)(),g=O((e=>e.editFeature.userEditMode));oa(e,(async r=>{if(r.features.length&&(g.includes("UPDATE")||g.includes("DELETE"))){const n=r.features[0];if(!e||!n)return;if(ne().wfsLockFeatureEnabled)try{const a=await u({layer:e,feature:n});if(!a)return;d((0,Ie.hr)(n)),t(a)}catch(e){a(e)}else d((0,Ie.hr)(n))}}));return n().createElement("div",{className:"edit-feature-switch"},g.includes("CREATE")&&n().createElement(n().Fragment,null,g.includes("UPDATE")&&n().createElement("div",null,p("EditFeatureSwitch.usageHint")),n().createElement(l.Z,{loading:i,onClick:async()=>{const t=await(async()=>{if(m&&e)try{s(!0);const t=await c(e);if(!t)return;const a=t.featureTypes[0]?.properties?.find((e=>rt(e.type)));switch(a?.type){case"gml:MultiPoint":return"MultiPoint";case"gml:Point":return"Point";case"gml:MultiLineString":return"MultiLineString";case"gml:LineString":return"LineString";case"gml:MultiPolygon":return"MultiPolygon";case"gml:Polygon":return"Polygon"}}catch(e){De().error(e)}finally{s(!1)}})();t&&(d((0,Ie.hr)({type:"Feature",properties:{},geometry:{type:t,coordinates:[]}})),o())}},p("EditFeatureSwitch.createFeature"))),!g.includes("CREATE")&&(g.includes("UPDATE")||g.includes("DELETE"))&&n().createElement("div",null,p("EditFeatureSwitch.limitedUsageHint")))},ca=a(16409),ua={};ua.styleTagTransform=_(),ua.setAttributes=R(),ua.insert=x().bind(null,"head"),ua.domAPI=I(),ua.insertStyleElement=$();N()(ca.Z,ua),ca.Z&&ca.Z.locals&&ca.Z.locals;function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},da.apply(this,arguments)}var ma=({...e})=>{const{t:t}=(0,E.useTranslation)(),[a,o]=(0,r.useState)(),[l,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(t("EditFeatureDrawer.featureEditor")),d=O((e=>e.editFeatureDrawerOpen)),m=O((e=>e.editFeature.layerId)),p=O((e=>e.editFeature.feature)),g=P()(),f=C(),y=ot(),h=ye();(0,r.useEffect)((()=>{if(!g||!m)return;const e=T().getLayerByOlUid(g,m);e&&(0,se.isWmsLayer)(e)?(u(`${t("EditFeatureDrawer.featureEditor")} - ${e.get("name")}`),o(e)):le.Logger.warn(`Could not find layer with id ${m}`)}),[g,m,t]);const b=async()=>{await(async()=>{if(a&&p&&p.id&&ne().wfsLockFeatureEnabled)try{const e=new(ie());e.setId(p.id);const t=await y({layer:a,deleteFeatures:[],upsertFeatures:[e]});if(!t)return;await h({layer:a,transaction:t})}catch(e){le.Logger.error("Error while releasing the lock on the feature")}})(),f((0,it.Cp)()),f((0,Ie.mc)()),s(!1)};return n().createElement(dt,da({className:"map-drawer edit-feature-drawer",onClose:()=>{a&&p?i.Z.confirm({maskClosable:!1,title:t("EditFeatureDrawer.closeDrawerWarnTitle"),content:t("EditFeatureDrawer.closeDrawerWarnContent"),okType:"danger",onOk:b}):b()},open:d,title:c},e),!a&&n().createElement(ae.Z,{message:t("EditFeatureDrawer.noLayerFoundError"),type:"error",showIcon:!0}),l&&n().createElement(ae.Z,{message:t("EditFeatureDrawer.isFeatureLockedErrorMsg"),type:"error",showIcon:!0}),a&&m&&!p&&n().createElement(sa,{layer:a,onLockSuccess:()=>{s(!1)},onLockError:()=>{s(!0)},onCreate:()=>{s(!1)}}),a&&p&&n().createElement(ra,{feature:p,layer:a}))},pa=a(27049),ga=a(99837),fa=a.n(ga),ya=a(5090),ha=a.n(ya),Ea=a(85050),ba=a(55616),wa=a.n(ba),va=a(78415),Sa={};Sa.styleTagTransform=_(),Sa.setAttributes=R(),Sa.insert=x().bind(null,"head"),Sa.domAPI=I(),Sa.insertStyleElement=$();N()(va.Z,Sa),va.Z&&va.Z.locals&&va.Z.locals;function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},La.apply(this,arguments)}var Ta=({...e})=>{const t=X(),{t:a}=(0,E.useTranslation)(),o=O((e=>e.legal)),i=P()(),s=(e,a)=>{t.forEach((t=>{if((r=t.integration)&&"footer"===r.placement&&t.integration?.placementOrientation===e){const{key:e,wrappedComponent:r}=t;a.splice(t.integration?.insertionIndex||0,0,n().createElement(r,{key:e}))}var r}))};if((0,r.useEffect)((()=>{if(!i)return;i.getControls().getArray().find((e=>e instanceof ha()))||i.addControl(new(ha())({target:"scale-line-container"}))}),[i]),(0,r.useEffect)((()=>{if(!i)return;i.getControls().getArray().find((e=>e instanceof fa()))||i.addControl(new(fa())({coordinateFormat:(0,Ea.createStringXY)(2),projection:i.getView().getProjection(),target:"mouse-position"}))}),[i]),!i)return n().createElement(n().Fragment,null);const c=()=>{window.open(o.contact,"_blank")},u=()=>{window.open(o.imprint,"_blank")},d=()=>{window.open(o.privacy,"_blank")};return n().createElement("div",La({className:"footer"},e),n().createElement("div",{className:"item-container left-items"},(()=>{const e=[n().createElement("div",{key:"scale-line-container",id:"scale-line-container","aria-label":"scale-line"}),n().createElement(pa.Z,{key:"scale-line-divider",type:"vertical"}),n().createElement("div",{key:"scale-combo-container",className:"scale-combo","aria-label":"scale-combo"},a("Footer.scale"),": ",n().createElement(wa(),{"aria-label":"scalecombo-dropdown",map:i}),n().createElement(pa.Z,{type:"vertical"})),n().createElement("div",{key:"reference-system-container",className:"reference-system","aria-label":"reference-system"},a("Footer.refSystem"),": ",i.getView().getProjection().getCode(),n().createElement(pa.Z,{type:"vertical"})),n().createElement("div",{key:"mouse-position-container",className:"mouse-position-wrapper"},a("Footer.mousePosition"),": ",n().createElement("div",{id:"mouse-position",className:"mouse-position","aria-label":"mouse-position"}))];return s("left",e),e})()),n().createElement("div",{className:"item-container right-items"},(()=>{const e=[n().createElement(l.Z,{key:"open-contact",onClick:c,type:"link"},a("Footer.contact")),n().createElement(l.Z,{key:"open-imprint",onClick:u,type:"link"},a("Footer.imprint")),n().createElement(l.Z,{key:"open-privacy",onClick:d,type:"link"},a("Footer.privacypolicy"))];return t.length>0&&s("right",e),e})()))},ka=a(31987),Pa=a(86294),Fa=a.n(Pa);function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ca.apply(this,arguments)}var Za=({...e})=>{const t=P()(),{t:a}=(0,E.useTranslation)(),[o,i]=(0,r.useState)();return(0,r.useEffect)((()=>{const e=t?.getView().getProjection(),a=t?.getView()?.get("extent");if(a){const t=(0,ka.transformExtent)(a,e,"EPSG:4326");i(t.toString())}}),[t]),t?n().createElement(Fa(),Ca({map:t,countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:a("Nominatim.placeholder"),viewBox:o||""},e)):n().createElement(n().Fragment,null)},Oa=a(24616),Aa=a(40110),Ma=a(79090),Na=a(14277),Da=a(13013),Ia=a(7739),ja=a.n(Ia),xa=a(23860),Ua=a.n(xa),Ra=a(61890),Ba=a.n(Ra),$a=a(76514),za=a.n($a),_a=a(21736),Ga=a.n(_a),Va=a(41640),Wa=a.n(Va),Ka=a(22950),Ha=a.n(Ka),Ya=a(85516),qa={};qa.styleTagTransform=_(),qa.setAttributes=R(),qa.insert=x().bind(null,"head"),qa.domAPI=I(),qa.insertStyleElement=$();N()(Ya.Z,qa),Ya.Z&&Ya.Z.locals&&Ya.Z.locals;const Ja=e=>e.map((e=>`(${e.trim()}*^3 OR *${e.trim()}*^2 OR ${e.trim()}~1)`)).join(" AND ");var Xa=({searchValue:e,map:t})=>{let a=e.trim().replaceAll(/[()\\\-_./\/]/g," ").split(" ").map((e=>e.trim())).filter((e=>""!==e));const r=[];return t.getAllLayers().forEach((e=>{if(e.get("searchable")&&(0,se.isWmsLayer)(e)){const t=e.get("searchConfig"),n=e.getSource()?.getParams().LAYERS;t?.attributes?r.push({query:`(featureType:"${n}" AND (${Ja(a)}))`,fieldList:t.attributes.join(" ")}):r.push({query:`(featureType:"${n}" AND (${Ja(a)}))`})}})),r};const Qa=e=>"fulfilled"===e.status;var er=({useNominatim:e,useSolrHighlighting:t=!0,delay:a=1e3,minChars:o=3,solrSearchBasePath:i="/search/query"})=>{const l=fe(),c=P()(),{t:u}=(0,E.useTranslation)(),d=(C(),(0,r.useRef)(null)),[m,p]=(0,r.useState)(e),[g,f]=(0,r.useState)(!0),[y,h]=(0,r.useState)(!0),[b,w]=(0,r.useState)(""),[v,S]=(0,r.useState)(!1),[L,k]=(0,r.useState)(!1),[F,Z]=(0,r.useState)(!1),[A,M]=(0,r.useState)([]),[N,D]=(0,r.useState)({}),[I,j]=(0,r.useState)([]),[x,U]=(0,r.useState)([]);O((e=>e.editFeature.userEditMode));(0,r.useEffect)((()=>(window.addEventListener("mousedown",R),()=>{window.removeEventListener("mousedown",R)})),[]);const R=e=>{const t=[];let a=e.target;for(;a;)t.unshift(a),a=a.parentNode;d.current&&d.current.contains(e.target)||k(!1)},B=(0,r.useMemo)((()=>({items:[{label:n().createElement(Le.Z,{checked:y,onChange:e=>h(e.target.checked)},u("MultiSearch.searchInViewBox")),key:"viewbox"},{label:n().createElement(Le.Z,{checked:g,onChange:e=>f(e.target.checked)},u("MultiSearch.searchData")),key:"data"},{label:n().createElement(Le.Z,{checked:m,onChange:e=>p(e.target.checked)},u("MultiSearch.searchNominatim")),key:"nominatim"}]})),[g,m,y,u]),$=(0,r.useCallback)((async()=>{if(b.length<o)return void _();if(!g&&!m)return;let e;S(!0),j([]),M([]),D({});let a=null;if(y){const e=c?.getView().getProjection(),t=c?.getView()?.calculateExtent();t&&(a=(0,ka.transformExtent)(t,e,"EPSG:4326"))}if(g&&c)try{const e=new URL(`${window.location.origin}${i}`),r=Xa({searchValue:b,map:c}).map((r=>{const n={q:r.query,rows:100,defType:"edismax"};if(r.fieldList?n.qf=r.fieldList:n.qf="search",y&&a){const e=`geometry:[${a[1]},${a[0]} TO ${a[3]},${a[2]}]`;n.fq=e}t&&(n.hl=!0,n["hl.fl"]="*",n["hl.tag.pre"]="<b>",n["hl.tag.post"]="</b>",n["hl.requireFieldMatch"]=!0);return fetch(e.href,{method:"POST",headers:{"Content-Type":"application/json",...(0,pe.getBearerTokenHeader)(l?.getKeycloak())},body:JSON.stringify(n)})})),n=(await Promise.allSettled(r.map((async e=>(await e).json())))).filter(Qa),o=n.flatMap((e=>e.value?.response?.docs)),s=Object.assign({},...n.map((e=>e.value?.highlighting)));M(o),D(s)}catch(e){M([]),D({}),De().error("Error while fetching the layer search results: ",e)}finally{m||S(!1)}if(m)try{const t=new URL("https://nominatim.terrestris.de/search");t.searchParams.set("q",b),t.searchParams.set("format","json"),t.searchParams.set("polygon_geojson","1"),y&&a&&(t.searchParams.set("viewbox",a.toString()),t.searchParams.set("bounded","1")),e=await fetch(t.href),j(await e.json())}catch(e){j([]),De().error("Error while fetching the nominatim results: ",e)}finally{S(!1)}}),[b,o,g,m,y,c,i,t,l]),z=(0,r.useCallback)(((e,t)=>{if(!c)return"";const a=T().getLayerByNameParam(c,e.featureType[0]),r=a?.get("searchConfig"),n=["category","id","featureType","geometry","search"];let o="";if(r?.displayTemplate)return i=r.displayTemplate,l=e,i.replace(/{\s*(\w+?)\s*}/g,((e,t)=>l[t]?.toString()||""));var i,l;if(t){const e=Object.keys(t).filter((e=>!n.includes(e)));if(e.length>0){return`${t[e[0]]} [${e[0]}]`}}return Object.keys(e).filter((e=>!n.includes(e))).forEach((t=>{let a=e[t]?.toString();!o&&a.toLowerCase().indexOf(b?.toLowerCase())>-1&&(o=`${a} [${t}]`)})),o||(o=e.id),o}),[b,c]);(0,r.useEffect)((()=>{if(!c)return;let e=[];if(I.length>0){const t=new(vt()),a=I.map((e=>{const a=t.readFeature(e.geojson,{dataProjection:"EPSG:4326",featureProjection:c.getView().getProjection()});return a.set("title",e.display_name),a})),r={title:u("MultiSearch.nominatimTitle"),features:a};e.push(r)}if(A?.length>0){const t=new(Ua()),a=ja()(A,(e=>e.category[0]));Object.keys(a).forEach((r=>{const n={title:r,features:a[r].map((e=>{if(!e.geometry?.[0])return;const a=e.id,r=t.readGeometry(e.geometry[0],{dataProjection:"EPSG:4326",featureProjection:c.getView().getProjection()}),n=new(ie())({geometry:r});let o;if(n.set("title",z(e,N?.[a])),e.featureType?.[0]){const t=T().getLayerByNameParam(c,e.featureType?.[0]);t&&(n.set("layer",t),o=t.get("name"))}else o=a.substring(0,a.lastIndexOf("_"));return n.set("ftName",o),n})).filter((e=>e))};e.push(n)}))}k(!0),U(e)}),[A,N,I,c,z,u]),(0,r.useEffect)((()=>{const e=setTimeout((()=>{$()}),a);return()=>clearTimeout(e)}),[$,a]);const _=()=>{M([]),j([])},G=e=>{const t=e.feature.get("layer");if(!t?.get("editable"))return;return[n().createElement(n().Fragment,null)]},V=(0,r.useMemo)((()=>new(Wa())({stroke:new(Ga())({color:"rgb(255,0,0)",width:2}),fill:new(za())({color:"rgba(255,255,255, 0.5)"}),image:new(Ba())({radius:10,fill:new(za())({color:"rgba(255,255,255, 0.5)"}),stroke:new(Ga())({color:"rgb(255,0,0)",width:3})})})),[]);return c?n().createElement("div",{ref:d},n().createElement(s.Z,{value:b,disabled:!g&&!m,onChange:e=>{S(""!==e.target.value),w(e.target.value)},allowClear:!0,addonAfter:n().createElement(Da.Z,{placement:"bottomRight",menu:B,trigger:["click"],onOpenChange:Z,open:F},n().createElement(Oa.Z,null)),onFocus:()=>k(!0),placeholder:u("MultiSearch.searchPlaceholder"),prefix:n().createElement(Aa.Z,null),suffix:v?n().createElement(Ma.Z,null):null}),(()=>{if(b.length<2||!L||v||!A)return null;const e=I.length+A.length;return 0===e?n().createElement("div",{className:"no-search-result-div"},n().createElement(Na.Z,{image:Na.Z.PRESENTED_IMAGE_SIMPLE})):n().createElement(Ha(),{searchResults:x,numTotal:e,accordion:!0,searchTerms:b.split(" "),actionsCreator:G,layerStyle:V})})()):n().createElement(n().Fragment,null)},tr=a(42686),ar={};ar.styleTagTransform=_(),ar.setAttributes=R(),ar.insert=x().bind(null,"head"),ar.domAPI=I(),ar.insertStyleElement=$();N()(tr.Z,ar),tr.Z&&tr.Z.locals&&tr.Z.locals;var rr=()=>{const e=O((e=>e.searchEngines.includes("nominatim"))),t=O((e=>e.searchEngines.includes("solr")));return e||t?n().createElement("div",{className:"search","aria-label":"search-field"},t?n().createElement(er,{"aria-label":"search",useNominatim:e}):n().createElement(Za,{"aria-label":"search"})):(De().warn("Neither nominatim nor solr search is configured."),n().createElement(n().Fragment,null))},nr=a(69750),or=a.n(nr),ir=a(88495),lr=a.n(ir);const sr=({email:e="",size:t=80,rating:a="g",defaultImage:r="identicon",force:n=!1})=>{const o=e.toLowerCase();let i=`https://www.gravatar.com/avatar/${lr()(o)}?s=${t}&r=${a}&d=${r}`;return n&&(i=`${i}&f=y`),i};var cr=a(7277);var ur=a(88885),dr={};dr.styleTagTransform=_(),dr.setAttributes=R(),dr.insert=x().bind(null,"head"),dr.domAPI=I(),dr.insertStyleElement=$();N()(ur.Z,dr),ur.Z&&ur.Z.locals&&ur.Z.locals;function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mr.apply(this,arguments)}var pr=({opener:e,...t})=>{const{t:a}=(0,E.useTranslation)(),o=O((e=>e.appInfo)),l=O((e=>e.logoPath)),s=O((e=>e.description)),[c,u]=(0,r.useState)(!1),d=()=>{u(!c)};let m;return m=e?n().cloneElement(e,{onClick:d}):n().createElement("button",{onClick:d},"Open"),n().createElement(n().Fragment,null,m,n().createElement(i.Z,mr({className:"application-info",title:a("ApplicationInfo.title"),centered:!0,open:c,onOk:d,onCancel:d,footer:null},t),n().createElement("img",{className:"logo",src:l}),n().createElement("div",{className:"description"},s),n().createElement(cr.Z,{title:a("ApplicationInfo.clientVersionTitle"),value:"6.8.1"}),o.version&&o.buildTime&&n().createElement(cr.Z,{title:a("ApplicationInfo.backendVersionTitle"),value:`${o.version} (${o.buildTime})`})))},gr=a(72285),fr={};fr.styleTagTransform=_(),fr.setAttributes=R(),fr.insert=x().bind(null,"head"),fr.domAPI=I(),fr.insertStyleElement=$();N()(gr.Z,fr),gr.Z&&gr.Z.locals&&gr.Z.locals;var yr=()=>{const{t:e}=(0,E.useTranslation)(),t=fe(),a=t?.getKeycloak(),r=O((e=>e.user)),o=e=>{switch(e.key){case"settings":a&&a.accountManagement();break;case"info":default:break;case"login":a&&a.login();break;case"logout":a&&a.logout()}};return n().createElement(or(),{size:"small",imageSrc:sr({email:r.providerDetails?.email||"",size:28}),userName:n().createElement(Ue.FontAwesomeIcon,{icon:xe.gc2}),userMenu:(()=>{const t={key:"login",icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.Yem}),label:e("UserMenu.loginMenuTitle")},i={key:"username",label:n().createElement("div",{className:"user-name","aria-label":"user-name"},n().createElement("span",null,r.providerDetails?.email))},l={type:"divider"},s={key:"settings",icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.gNZ}),label:e("UserMenu.settingsMenuTitle")},c={key:"info",icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.YHc}),label:n().createElement(pr,{opener:n().createElement("span",{className:"info-opener","aria-label":"info-opener"},e("UserMenu.infoMenuTitle"))})},u={key:"logout",icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.HEx}),label:n().createElement("div",{"aria-label":"login"},e("UserMenu.logoutMenuTitle"))},d=[];if(bt()(r))ne().keycloak?.enabled&&d.push(t),d.push(c);else{const e=a?.tokenParsed?.resource_access?.account?.roles,t=Array.isArray(e)&&e.indexOf("manage-account")>-1?[i,l,s,c,l,u]:[i,l,c,l,u];d.push(...t)}return{items:d,onClick:o}})()})},hr=a(62923),Er={};Er.styleTagTransform=_(),Er.setAttributes=R(),Er.insert=x().bind(null,"head"),Er.domAPI=I(),Er.insertStyleElement=$();N()(hr.Z,Er),hr.Z&&hr.Z.locals&&hr.Z.locals;function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},br.apply(this,arguments)}var wr=({...e})=>{const t=Z((e=>e.title)),a=Z((e=>e.logoPath)),r=X(),o=(e,t)=>{r.forEach((a=>{if((r=a.integration)&&"header"===r.placement&&a.integration?.placementOrientation===e){const{key:e,wrappedComponent:r}=a;t.splice(a.integration?.insertionIndex||0,0,n().createElement(r,{key:e}))}var r}))};return n().createElement("div",br({className:"header"},e),n().createElement("div",{className:"item-container left-items"},(()=>{const e=[n().createElement("img",{key:"logo",className:"logo","aria-label":"logo",src:a}),n().createElement("div",{key:"title",className:"title","aria-label":"title"},t)];return o("left",e),e})()),n().createElement("div",{className:"item-container center-items"},(()=>{const e=[n().createElement(rr,{key:"search","aria-label":"search-input",name:"search-input",className:"search-input"})];return o("center",e),e})()),n().createElement("div",{className:"item-container right-items"},(()=>{const e=[n().createElement("div",{key:"user-menu","aria-label":"user-menu"},n().createElement(yr,{key:"user-menu"}))];return o("right",e),e})()))},vr=a(99008),Sr=a(45777),Lr=a(8303),Tr=a.n(Lr),kr=a(6049),Pr=a(11382),Fr=a(34286),Cr={};Cr.styleTagTransform=_(),Cr.setAttributes=R(),Cr.insert=x().bind(null,"head"),Cr.domAPI=I(),Cr.insertStyleElement=$();N()(Fr.Z,Cr),Fr.Z&&Fr.Z.locals&&Fr.Z.locals;function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zr.apply(this,arguments)}var Or=({layer:e,...t})=>{const[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(),[s,c]=(0,r.useState)(),u=fe(),{t:d}=(0,E.useTranslation)(),m=(0,r.useCallback)((async()=>{try{if(o(!0),l(""),!e||!e.get("shogunId"))throw new Error("No layer provided or the layer has no shogunId set");const t=await(u?.layer().findOne(e.get("shogunId")));c(t)}catch(e){De().error(e),l(d("LayerConfiguration.errorMessage"))}finally{o(!1)}}),[d,u,e]);return(0,r.useEffect)((()=>{m()}),[m]),i?n().createElement(ae.Z,{type:"error",closable:!0,message:i}):n().createElement(Pr.Z,{spinning:a},n().createElement("pre",Zr({className:"layer-configuration"},t),n().createElement("code",null,JSON.stringify(s,null,"  "))))},Ar=a(86201),Mr={};Mr.styleTagTransform=_(),Mr.setAttributes=R(),Mr.insert=x().bind(null,"head"),Mr.domAPI=I(),Mr.insertStyleElement=$();N()(Ar.Z,Mr),Ar.Z&&Ar.Z.locals&&Ar.Z.locals;function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nr.apply(this,arguments)}var Dr=({layer:e,...t})=>{const[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(),[s,c]=(0,r.useState)(),u=fe(),{t:d}=(0,E.useTranslation)(),m=(0,r.useCallback)((async()=>{if(e&&(0,se.isWmsLayer)(e))try{o(!0),c(""),l(void 0);const t=await S().getWmsCapabilitiesByLayer(e,{headers:{...e.get("useBearerToken")?{...(0,pe.getBearerTokenHeader)(u?.getKeycloak())}:void 0}});l(t)}catch(e){De().error(e),c(d("LayerDetails.errorMessage"))}finally{o(!1)}}),[d,u,e]);(0,r.useEffect)((()=>{m()}),[m]);const p=()=>{if(e&&(0,se.isWmsLayer)(e))return e.getSource()?.getParams().LAYERS},g=()=>{if(!e||!(0,se.isWmsLayer)(e))return;let t;if(e.getSource()instanceof ue()&&(t=e.getSource().getUrl()),e.getSource()instanceof me()){const a=e.getSource().getUrls();t=a?a[0]:void 0}return t?w().createValidGetCapabilitiesRequest(t,"WMS","1.3.0"):void 0},f=()=>{const e=i?.Capability?.Layer?.Layer,t=p(),a=e?.find((e=>e.Name===t));return a},y=()=>{const e=f();if(e&&e.EX_GeographicBoundingBox)return[e.EX_GeographicBoundingBox.westBoundLongitude,e.EX_GeographicBoundingBox.southBoundLatitude,e.EX_GeographicBoundingBox.eastBoundLongitude,e.EX_GeographicBoundingBox.northBoundLatitude].join(", ")},h=()=>{const e=f();if(e)return e.MinScaleDenominator},b=()=>{const e=f();if(e)return e.MaxScaleDenominator},v=()=>{const e=f();if(e)return e.Abstract},L=()=>i?.Service?.Abstract,T=()=>i?.Service?.ContactInformation?.ContactElectronicMailAddress,k=()=>{const e=f();if(e)return e.Title},P=()=>i?.Service?.AccessConstraints;return s?n().createElement(ae.Z,{type:"error",closable:!0,message:s}):n().createElement(Pr.Z,{spinning:a},n().createElement(Se.Z,Nr({className:"layer-details",layout:"horizontal",size:"small",labelAlign:"left",labelWrap:!0,labelCol:{flex:"150px"}},t),n().createElement(Se.Z.Item,{name:"layerName",label:d("LayerDetails.layerNameLabel")},n().createElement("span",null,p()?p():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"layerTitle",label:d("LayerDetails.layerTitleLabel")},n().createElement("span",null,k()?k():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"service-abstract",label:d("LayerDetails.serviceAbstractLabel")},n().createElement("span",null,L()?L():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"abstract",label:d("LayerDetails.abstractLabel")},n().createElement("span",null,v()?v():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"accessConstraints",label:d("LayerDetails.accessConstraintsLabel")},n().createElement("span",null,P()?P():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"CapabilitiesUrl",label:d("LayerDetails.capabilitiesUrlLabel")},n().createElement("a",{href:g()},g())),n().createElement(Se.Z.Item,{name:"contact",label:d("LayerDetails.contactLabel")},T()?n().createElement("a",{href:`mailto:${T()}`},T()):n().createElement("span",null,d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"minScale",label:d("LayerDetails.minScaleLabel")},n().createElement("span",null,h()?h():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"maxScale",label:d("LayerDetails.maxScaleLabel")},n().createElement("span",null,b()?b():d("LayerDetails.noDataPlaceholder"))),n().createElement(Se.Z.Item,{name:"bbox",label:d("LayerDetails.bboxLabel")},n().createElement("span",null,y()?y():d("LayerDetails.noDataPlaceholder")))))},Ir=a(21809),jr={};jr.styleTagTransform=_(),jr.setAttributes=R(),jr.insert=x().bind(null,"head"),jr.domAPI=I(),jr.insertStyleElement=$();N()(Ir.Z,jr),Ir.Z&&Ir.Z.locals&&Ir.Z.locals;function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xr.apply(this,arguments)}var Ur=({...e})=>{const[t,a]=(0,r.useState)(),[o,s]=(0,r.useState)(!1),c=O((e=>e.layerDetailsModal.visible)),u=O((e=>e.layerDetailsModal.layerId)),d=C(),m=(0,k.useMap)(),{t:p}=(0,E.useTranslation)();(0,r.useEffect)((()=>{if(!m)return;if(!u)return void a(void 0);const e=T().getLayerByOlUid(m,u);e instanceof Tr()&&a(e)}),[m,u]);return n().createElement(i.Z,xr({className:"layer-details-modal",title:n().createElement("div",{className:"title-group"},n().createElement("span",null,p("LayerDetailsModal.title",{layerName:t?.get("name")})),t?.get("shogunId")&&n().createElement(Sr.Z,{title:p(o?"LayerDetailsModal.internalConfigurationButtonTooltip":"LayerDetailsModal.internalConfigurationButtonTooltipPressed")},n().createElement(l.Z,{type:"link",className:o?"pressed":"",icon:n().createElement(vr.Z,null),onClick:()=>{s(!o)}}))),open:c,onCancel:()=>{d((0,kr.Cp)()),d((0,kr.uF)(void 0))},width:800,footer:!1},e),n().createElement(Dr,{layer:t,hidden:o}),t?.get("shogunId")&&n().createElement(Or,{layer:t,hidden:!o}))},Rr=a(27279),Br=a(1581),$r=a.n(Br),zr=a(76712),_r=a(63221),Gr=a(85677),Vr={};Vr.styleTagTransform=_(),Vr.setAttributes=R(),Vr.insert=x().bind(null,"head"),Vr.domAPI=I(),Vr.insertStyleElement=$();N()(Gr.Z,Vr),Gr.Z&&Gr.Z.locals&&Gr.Z.locals;var Wr=a(35895);const{Option:Kr}=c.default;var Hr=()=>{const e=Object.keys(Wr.Z.services.resourceStore.data);return n().createElement("div",{className:"language-select","aria-label":"language-selector"},n().createElement(c.default,{defaultValue:Wr.Z.language||"en",onChange:e=>{Wr.Z.changeLanguage(e)}},e.map((e=>n().createElement(Kr,{key:e,value:e},e.toUpperCase())))))},Yr=a(75013),qr=a(73254),Jr=a(64302),Xr=a(85175),Qr=a(48086),en=a(20640),tn=a.n(en),an=a(17637),rn=a(35674),nn=a.n(rn),on=a(10767),ln={};ln.styleTagTransform=_(),ln.setAttributes=R(),ln.insert=x().bind(null,"head"),ln.domAPI=I(),ln.insertStyleElement=$();N()(on.Z,ln),on.Z&&on.Z.locals&&on.Z.locals;var sn=()=>{const e=(0,k.useMap)(),t=(0,r.useMemo)((()=>["layerConfig","isExternalLayer","isUploadedLayer","groupName"]),[]),{t:a}=(0,E.useTranslation)(),o=e?nn().getLink(e,";",(e=>e.get("name")),(e=>(e instanceof h()||e instanceof f())&&e.getVisible()),t):"",[i,l]=(0,r.useState)(o),c=`Hey,\r\ncheck out the layer-composition I created:\r\n\r\n${i}`;return(0,r.useEffect)((()=>{if(!e)return;let a=[];const r=e=>e.get("name"),n=e=>(e instanceof h()||e instanceof f())&&e.getVisible(),o=()=>{l(nn().getLink(e,";",r,n,t))},i=()=>{e.getAllLayers().filter((e=>e.get("isExternalLayer")||e.get("isUploadedLayer"))).forEach((e=>{const t=e.get("layerConfig");t&&(t.clientConfig?t.clientConfig.opacity=e.getOpacity():t.clientConfig={opacity:e.getOpacity()},e.set("layerConfig",t))})),o()},s=e=>{const t=e.getLayers().getArray();for(let e=0;e<t.length;e++){const r=t[e];if(r instanceof p())s(r);else{let e=r.on("change:visible",o),t=r.on("change:opacity",i);a.push(e,t)}}},c=e.getView().on("change:center",o),u=e.getView().on("change:resolution",o);let d=e.getLayerGroup();return s(d),i(),()=>{(0,an.unByKey)(c),(0,an.unByKey)(u),(0,an.unByKey)(a)}}),[t,e,a]),n().createElement("div",{className:"permalink-wrapper"},n().createElement("div",{className:"icons"},n().createElement(Sr.Z,{title:a("Permalink.twitterTooltip")},n().createElement(Yr.Z,{onClick:function(){const e=new URL("https://twitter.com/intent/tweet");e.searchParams.set("url",c),window.open(e)}})),n().createElement(Sr.Z,{title:a("Permalink.whatsAppTooltip")},n().createElement(qr.Z,{onClick:function(){const e=new URL("https://wa.me");e.searchParams.set("text",c),window.open(e)}})),n().createElement(Sr.Z,{title:a("Permalink.mailTooltip")},n().createElement(Jr.Z,{onClick:function(){const e=new URL("mailto:");e.searchParams.set("subject","SHOGun Web-GIS"),e.searchParams.set("body",c),window.open(e.toString().replace(/\+/g,"%20"),"_self")}}))),n().createElement("div",{className:"link","aria-label":"permalink-url"},n().createElement(s.Z,{value:i,readOnly:!0}),n().createElement(Sr.Z,{title:a("Permalink.copyTooltip")},n().createElement(Xr.Z,{onClick:function(){tn()(i)?Qr.ZP.info(a("Permalink.copiedToClipboard")):Qr.ZP.info(a("Permalink.copyToClipboardFailed"))}}))))},cn=a(73345),un=a(57795),dn=a.n(un),mn=a(55002),pn=a.n(mn),gn=a(19867),fn=a.n(gn),yn=a(97955),hn=a.n(yn),En=a(11032),bn=a.n(En);class wn extends(bn()){serialize(e,t){const a=super.serialize(e,t);return a.baseURL.startsWith("/geoserver/ows")&&(a.baseURL=`http://shogun-geoserver:8080${a.baseURL}`),a.baseURL.startsWith("/geoserver/SHOGUN")&&(a.baseURL=`http://shogun-geoserver:8080${a.baseURL}`),a}}var vn=wn;var Sn=class extends vn{serialize(e,t){const a={tileSize:[512,512],...t},r=e.getSource();if(!r||!this.validateSource(r))return;return{...super.serialize(e,a),type:hn().TYPE_WMS,...t}}},Ln=a(28728);function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tn.apply(this,arguments)}var kn=({value:e,id:t,placeholder:a,maxLength:o,...i})=>{const[l,c]=(0,r.useState)(e),u=C();return(0,r.useEffect)((()=>{Oe()(t)||u((0,Ln.eV)({[t]:l}))}),[l,t,u]),(0,r.useEffect)((()=>{c(e)}),[e]),n().createElement(s.Z,Tn({id:t,value:l,onChange:e=>c(e.target.value),placeholder:a,maxLength:o,showCount:!!(o&&o>1)},i))};function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pn.apply(this,arguments)}var Fn=({printManager:e,placeholder:t="Bitte wählen Sie eine Vorlage aus",value:a,...o})=>{const[i,l]=(0,r.useState)(a);return(0,r.useEffect)((()=>{e&&e.setLayout(i)}),[e,i]),(0,r.useEffect)((()=>{l(a)}),[a]),n().createElement(c.default,Pn({placeholder:t,value:i,onChange:l},o),e?.getLayouts().map((e=>n().createElement(c.default.Option,{key:e.name,value:e.name},e.name))))};function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Cn.apply(this,arguments)}var Zn=({printManager:e,placeholder:t,value:a,outputFormats:o,...i})=>{const[l,s]=(0,r.useState)(a);return(0,r.useEffect)((()=>{e&&e.setOutputFormat(l)}),[e,l]),(0,r.useEffect)((()=>{s(a)}),[a]),n().createElement(c.default,Cn({placeholder:t,value:l,onChange:s},i),o.map((e=>n().createElement(c.default.Option,{key:e,value:e},e.toLocaleUpperCase()))))};function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},On.apply(this,arguments)}var An=({printManager:e,placeholder:t,value:a,...o})=>{const[i,l]=(0,r.useState)(a);return(0,r.useEffect)((()=>{e&&e.setDpi(i)}),[e,i]),(0,r.useEffect)((()=>{l(a)}),[a]),n().createElement(c.default,On({placeholder:t,value:i,onChange:l},o),e?.getDpis().map((e=>n().createElement(c.default.Option,{key:e,value:e},`${e} DPI`))))};function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mn.apply(this,arguments)}var Nn=({printManager:e,placeholder:t,value:a,...o})=>{const i=P()(),[l,s]=(0,r.useState)(0);return(0,r.useEffect)((()=>{e&&l&&e.setScale(l)}),[e,l]),(0,r.useEffect)((()=>{const t=()=>{const t=e.getScale();t&&s(t)},a=i?.getInteractions().getArray().find((e=>e.get("name")===cn.MapFishPrintV3Manager.TRANSFORM_INTERACTION_NAME));if(e&&a&&a)return a.on("scaling",t),()=>{a.un("scaling",t)}}),[e,i]),(0,r.useEffect)((()=>{a&&s(a)}),[a]),n().createElement(c.default,Mn({placeholder:t,value:l,onChange:s},o),e?.getScales().map((e=>n().createElement(c.default.Option,{key:e,value:e},`1 : ${e.toLocaleString()}`))))},Dn=a(26398);function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},In.apply(this,arguments)}a.n(Dn)().getLegendGraphicUrl=e=>{if(e.get("legendUrl"))return e.get("legendUrl");if(e.getSource()instanceof me()||e.getSource()instanceof ue()){const t=e.get("customPrintLegendParams"),a=e.getSource(),{LAYERS:r,VERSION:n,FORMAT:o}=a.getParams();let i=a instanceof ue()?a.getUrl():a.getUrls()[0];i.startsWith("/geoserver/ows")&&(i=`http://shogun-geoserver:8080${i}`);const l={LAYER:r.split(",")[0],VERSION:n||"1.3.0",SERVICE:"WMS",REQUEST:"GetLegendGraphic",FORMAT:o||"image/png",...t},s=Object.keys(l).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(l[e])}`)).join("&");return i.startsWith("/geoserver/SHOGUN")?(i=`http://shogun-geoserver:8080${i}/service?`,`${i}${s}`):i.endsWith("?")?`${i}${s}`:`${i}?${s}`}return""};var jn=({active:e,customPrintScales:t=[],layerBlackList:a=[],outputFormats:o=["pdf","png"],...i})=>{const[s]=Se.Z.useForm(),{t:c,i18n:u}=(0,E.useTranslation)(),d=(0,k.useMap)(),m=u.language,g=fe(),f=O((e=>e.print.customMapParams)),y=O((e=>e.print.customParams)),[h,b]=(0,r.useState)(null),[w,v]=(0,r.useState)(!1),[S,L]=(0,r.useState)(null),P=(0,r.useCallback)((e=>{if(!d)return;const t=e.get("name");return t&&!a.includes(t)&&e.getVisible()&&!(e instanceof p())&&T().layerInResolutionRange(e,d)}),[d,a]),F=(0,r.useCallback)((e=>{if(Oe()(d))return!1;const t=e.get("name"),r=!a.includes(t),n=!e.get("hideLegendInPrint"),o=e.getVisible()&&T().layerInResolutionRange(e,d),i=!(e instanceof p());if(r&&n&&o&&i){const t=d?.getView().getResolution();return t&&e.set("customPrintLegendParams",{SCALE:T().getScaleForResolution(t,"m")}),!0}return!1}),[d,a]),C=(0,r.useCallback)((async()=>{if(Oe()(d))return;let e={url:ne().print?.url||"/print",map:d,customPrintScales:d?.getView()?.getResolutions()?.map((e=>{const t=d?.getView()?.getProjection()?.getUnits();if(void 0!==e){const a=T().getScaleForResolution(e,t);if(void 0!==a)return T().roundScale(a)}})).filter((e=>void 0!==e))?.reverse(),timeout:6e4,layerFilter:P,headers:{...(0,pe.getBearerTokenHeader)(g?.getKeycloak())},transformOpts:{rotate:!1},serializers:[new(dn()),new(pn()),new(fn()),new vn,new Sn],legendFilter:F};t.length>0&&(e={...e,customPrintScales:t.reverse()});const a=new cn.MapFishPrintV3Manager(e);try{await a.init();const e=a.getPrintApps();e&&m&&e.includes(m)&&await a.setPrintApp(m),a.setOutputFormat(a.getOutputFormats()[0]),a.setDpi(a.getDpis()[0]),a.setLayout(a.getLayouts()[0]?.name),b(a)}catch(e){L((()=>c("PrintForm.managerErrorMessage"))),De().error("Could not initialize print manager: ",e)}}),[g,P,F,d,c,t,m]);(0,r.useEffect)((()=>{e?h||C():(h?.shutdownManager(),b(null))}),[h,e,C]),(0,r.useEffect)((()=>{h&&(y&&h.setCustomParams(y),f&&h.setCustomMapParams(f))}),[h,y,f]);return n().createElement("div",{className:"print","aria-label":"print-form"},S&&n().createElement(ae.Z,{className:"print-alert",message:S,type:"error",closable:!0,showIcon:!0,onClose:()=>{L(null)}}),h?.isInitiated()&&n().createElement(n().Fragment,null,n().createElement(Se.Z,In({form:s,className:"print-form",labelAlign:"left",labelCol:{flex:"90px"}},i),n().createElement(Se.Z.Item,{"aria-label":"print-title",name:"title",label:c("PrintForm.title"),initialValue:c("PrintForm.initialTitle")},n().createElement(kn,{"aria-label":"print-title-input",maxLength:50,placeholder:c("PrintForm.titlePlaceholder")})),n().createElement(Se.Z.Item,{"aria-label":"print-comment",name:"comment",label:c("PrintForm.comment")},n().createElement(kn,{"aria-label":"print-comment-input",maxLength:200,placeholder:c("PrintForm.commentPlaceholder")})),n().createElement(Se.Z.Item,{"aria-label":"print-layout",name:"layout",label:c("PrintForm.layout"),initialValue:h?.getLayouts()[0]?.name},n().createElement(Fn,{"aria-label":"print-layout-input",printManager:h})),n().createElement(Se.Z.Item,{"aria-label":"print-scale",name:"scale",label:c("PrintForm.scale"),initialValue:h?.getClosestScaleToFitMap()},n().createElement(Nn,{"aria-label":"print-scale-input",printManager:h})),n().createElement(Se.Z.Item,{"aria-label":"print-dpi",name:"dpi",label:c("PrintForm.dpi"),initialValue:h.getDpis()[0]},n().createElement(An,{"aria-label":"print-dpi-input",printManager:h,placeholder:c("PrintForm.resolutionPlaceholder")})),n().createElement(Se.Z.Item,{"aria-label":"print-format",name:"format",label:c("PrintForm.format"),initialValue:"pdf"},n().createElement(Zn,{"aria-label":"print-format-input",printManager:h,outputFormats:o,placeholder:c("PrintForm.outputFormatPlaceholder")}))),n().createElement(l.Z,{"aria-label":"create-print",className:"print-button tool-menu-button",disabled:!h?.isInitiated(),icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.q7m}),loading:w,onClick:async()=>{try{if(L(null),v(!0),!h)return;const e=await h.print(!1);if(!e)throw new Error("No download URL available, the job has failed.");window.open(e)}catch(e){L(c("PrintForm.printJobErrorMsg")||null),De().error(e)}finally{v(!1)}}},c("PrintForm.downloadBtnText"))))},xn=a(27017),Un=a.n(xn),Rn=a(7871),Bn={};Bn.styleTagTransform=_(),Bn.setAttributes=R(),Bn.insert=x().bind(null,"head"),Bn.domAPI=I(),Bn.insertStyleElement=$();N()(Rn.Z,Bn),Rn.Z&&Rn.Z.locals&&Rn.Z.locals;var $n=a(21015),zn={};zn.styleTagTransform=_(),zn.setAttributes=R(),zn.insert=x().bind(null,"head"),zn.domAPI=I(),zn.insertStyleElement=$();N()($n.Z,zn),$n.Z&&$n.Z.locals&&$n.Z.locals;var _n=a(16144),Gn=a.n(_n),Vn=a(53772),Wn=a.n(Vn);function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Kn.apply(this,arguments)}var Hn=({...e})=>{const[t,a]=(0,r.useState)({name:"Default Style",rules:[{name:"Area",symbolizers:[{kind:"Fill",color:"#00b72b",outlineOpacity:.8,opacity:.5,fillOpacity:.8,outlineWidth:2,outlineColor:"#00b72b"}]},{name:"Line",symbolizers:[{kind:"Line",color:"#00b72b",width:2,opacity:.8}]},{name:"Point",symbolizers:[{kind:"Mark",wellKnownName:"circle",color:"#00b72b",strokeColor:"#00b72b",strokeOpacity:.8,opacity:.5,radius:7}],filter:["==","label","undefined"]},{name:"Text",symbolizers:[{kind:"Text",label:"{{label}}",size:12,font:["sans-serif"],opacity:.8,color:"#00b72b",offset:[5,5],haloColor:"#00b72b",haloWidth:1}],filter:["!=","label","undefined"]}]}),n=(0,k.useMap)();return(0,r.useEffect)((()=>{if(!t||!n)return;const e=new(Wn());let a=T().getLayerByName(n,"react-geo_digitize");(async()=>{let r,n,o,i;for(const a of t.rules){const t={name:"",rules:[a]},l=await e.writeStyle(t);if(!l.output)return;"Fill"===a.symbolizers[0].kind&&(r=l.output),"Text"===a.symbolizers[0].kind&&(i=l.output),"Line"===a.symbolizers[0].kind&&(n=l.output),"Mark"===a.symbolizers[0].kind&&(o=l.output)}a.setStyle(((e,t)=>{const a=e.getGeometry()?.getType();if(a)return["MultiPolygon","Polygon","Circle"].includes(a)?"function"==typeof r?r(e,t):r:["MultiLineString","LineString"].includes(a)?"function"==typeof n?n(e,t):n:["MultiPoint","Point"].includes(a)?e.get("label")?"function"==typeof i?i(e,t):i:"function"==typeof o?o(e,t):o:void 0}))})()}),[t,n]),r.createElement(Gn(),Kn({style:t,onStyleChange:a},e))};function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yn.apply(this,arguments)}var qn=({...e})=>{const[t,a]=(0,r.useState)(!1),{t:o}=(0,E.useTranslation)();return n().createElement(n().Fragment,null,n().createElement(l.Z,{type:"link",onClick:()=>{a(!0)},icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.XsY})},o("StylingDrawer.pickColor")),n().createElement(lt.Z,Yn({title:o("StylingDrawer.title"),placement:"right",onClose:()=>{a(!1)},open:t,mask:!1,width:"45vw",className:"color-pick-drawer"},e),n().createElement(Hn,null)))};var Jn=({showDrawPoint:e,showDrawLine:t,showDrawPolygon:a,showDrawCircle:r,showDrawRectangle:o,showDrawAnnotation:i,showModifyFeatures:l,showUploadFeatures:s,showDownloadFeatures:c,showDeleteFeatures:u})=>{const{t:d}=(0,E.useTranslation)(),m=(0,k.useMap)(),p=e=>{const t=new FileReader;t.onload=()=>{const e=(new(vt())).readFeatures(t.result);if(m){const t=m.getView().getProjection().getCode();e.forEach((e=>{e.getGeometry()?.transform("EPSG:4326",t)}));const a=Dt.DigitizeUtil.getDigitizeLayer(m).getSource();a?.addFeatures(e)}},t.readAsText(e)};return m?n().createElement(At(),null,e?n().createElement(kt(),{name:"draw-point",drawType:"Point",type:"link",pressed:!1},n().createElement(Ue.FontAwesomeIcon,{icon:xe.diR}),n().createElement("span",{className:"draw-point"},d("Draw.point"))):n().createElement(n().Fragment,null),t?n().createElement(kt(),{name:"draw-line",drawType:"LineString",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.hx$}),n().createElement("span",{className:"draw-line"},d("Draw.line"))):n().createElement(n().Fragment,null),a?n().createElement(kt(),{name:"draw-polygon",drawType:"Polygon",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.ubJ}),n().createElement("span",{className:"draw-polygon"},d("Draw.polygon"))):n().createElement(n().Fragment,null),r?n().createElement(kt(),{name:"draw-circle",drawType:"Circle",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.diR}),n().createElement("span",{className:"draw-circle"},d("Draw.circle"))):n().createElement(n().Fragment,null),o?n().createElement(kt(),{name:"draw-rectangle",drawType:"Rectangle",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.pL1}),n().createElement("span",{className:"draw-rectangle"},d("Draw.rectangle"))):n().createElement(n().Fragment,null),i?n().createElement(kt(),{name:"draw-text",drawType:"Text",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.yGG}),n().createElement("span",{className:"draw-text"},d("Draw.text"))):n().createElement(n().Fragment,null),l?n().createElement(Ft(),{name:"draw-modify",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.Yai}),n().createElement("span",{className:"draw-modify"},d("Draw.modify"))):n().createElement(n().Fragment,null),s?n().createElement(Un(),{name:"draw-upload",onChange:e=>{const t=e.target.files;t&&1===t.length&&("application/geo+json"===t[0].type||"application/geojson"===t[0].type||t[0].name.includes(".geojson")||t[0].name.includes(".json"))&&p(t[0])},type:"link","aria-label":"draw-upload"},n().createElement(Zt(),{type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.cf$}),n().createElement("span",{className:"draw-upload"},d("Draw.upload")))):n().createElement(n().Fragment,null),c?n().createElement(Zt(),{name:"draw-export",onClick:()=>{const e=[];if(m){const t=m.getView().getProjection().getCode(),a=Dt.DigitizeUtil.getDigitizeLayer(m),r=a.getSource()?.getFeatures();if(r&&r.length>0){r.forEach((a=>{const r=a.clone();r.getGeometry()?.transform(t,"EPSG:4326"),e.push(r)}));const a=(new(vt())).writeFeatures(e),n=new Blob([a],{type:"application/geo+json"}),o=window.URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.setAttribute("download","exportedFeatures.geojson"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.q7m}),n().createElement("span",{className:"draw-export"},d("Draw.export"))):n().createElement(n().Fragment,null),u?n().createElement(Lt(),{name:"draw-delete",type:"link"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.$aW}),n().createElement("span",{className:"draw-delete"},d("Draw.delete"))):n().createElement(n().Fragment,null),n().createElement(qn,null)):n().createElement(n().Fragment,null)},Xn=a(73898),Qn=a.n(Xn),eo=a(21800),to=a(14805),ao=a.n(to),ro=a(81474),no=a.n(ro);var oo=e=>{const t=P()(),a=(0,r.useCallback)((async()=>{if(!t)return;if(T().getLayerByName(t,e.layerName))return;const a=new(no()),r=new(za())({color:"rgba(255, 255, 255, 0.15)"}),n=new(Ga())({color:"rgba(209, 70, 47, 1)",width:2}),o=new(Wa())({fill:r,stroke:n,image:new(Ba())({radius:5,fill:r,stroke:n})}),i=new(ao())({source:a,style:o});i.set("name",e.layerName),t.addLayer(i)}),[t,e.layerName]),n=(0,r.useCallback)((()=>{if(!t)return;const a=T().getLayerByName(t,e.layerName);a&&t.removeLayer(a)}),[t,e.layerName]);(0,r.useEffect)((()=>(a(),()=>n())),[n,a])},io=a(47267),lo={};lo.styleTagTransform=_(),lo.setAttributes=R(),lo.insert=x().bind(null,"head"),lo.domAPI=I(),lo.insertStyleElement=$();N()(io.Z,lo),io.Z&&io.Z.locals&&io.Z.locals;function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},so.apply(this,arguments)}var co=({formConfig:e,feature:t,...a})=>{const[o]=(0,mt.cI)();(0,r.useEffect)((()=>{o.setFieldsValue(t.getProperties())}),[t,o]);return n().createElement(Se.Z,so({className:"feature-info-form",form:o,labelCol:{span:8},labelAlign:"left",labelWrap:!0},a),e?.map((e=>n().createElement(Se.Z.Item,so({key:e.propertyName,name:e.propertyName,label:e.displayName||e.propertyName},e.fieldProps),n().createElement(Ve,so({label:e.displayName||e.propertyName},e.fieldProps))))))},uo=a(8533),mo=a(95441),po=a.n(mo),go=a(8155),fo={};fo.styleTagTransform=_(),fo.setAttributes=R(),fo.insert=x().bind(null,"head"),fo.domAPI=I(),fo.insertStyleElement=$();N()(go.Z,fo),go.Z&&go.Z.locals&&go.Z.locals;function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},yo.apply(this,arguments)}var ho=({features:e,selectedFeature:t,exportFilter:a,...r})=>{const{t:o}=(0,E.useTranslation)();return n().createElement("div",{className:"pagination-toolbar"},n().createElement(uo.Z,yo({simple:!0,total:e.length,size:"small",pageSize:1},r)),n().createElement("div",{className:"copy-buttons"},n().createElement(Sr.Z,{title:o("PaginationToolbar.copyAsGeoJson")},n().createElement(l.Z,{type:"primary",size:"small",onClick:()=>{if(!t)return;const e=t.clone();if(a){const t=Object.entries(e.getProperties()),r=t.filter((([e,t])=>a(e,t)));for(const[a,r]of t)r instanceof po()||e.unset(a);e.setProperties(Object.fromEntries(r))}tn()((new(vt())).writeFeature(e))},icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.E9T})})),n().createElement(Sr.Z,{title:o("PaginationToolbar.copyAsObject")},n().createElement(l.Z,{type:"primary",size:"small",onClick:()=>{if(!t)return;let e=Object.entries(gt()(t.getProperties())).filter((([,e])=>!(e instanceof po())));a&&(e=e.filter((([e,t])=>a(e,t)))),tn()(JSON.stringify(Object.fromEntries(e)))},icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.OGB})}))))},Eo=a(17368),bo={};bo.styleTagTransform=_(),bo.setAttributes=R(),bo.insert=x().bind(null,"head"),bo.domAPI=I(),bo.insertStyleElement=$();N()(Eo.Z,bo),Eo.Z&&Eo.Z.locals&&Eo.Z.locals;function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},wo.apply(this,arguments)}var vo=({features:e,layerName:t,tabConfig:a,...o})=>{const[i,l]=(0,r.useState)(1),[s,c]=(0,r.useState)(),u=P()(),d=`selection-layer-${t}`;oo({layerName:d}),(0,r.useEffect)((()=>{if(!u)return;const t=T().getLayerByName(u,d);t&&(t.getSource()?.clear(),l(1),e.length>0&&c(e[0]))}),[e,u,d]),(0,r.useEffect)((()=>{if(!s||!u)return;const e=T().getLayerByName(u,d);e&&(e.getSource()?.clear(),e.getSource()?.addFeature(s))}),[s,u,d]);if(!a||!s)return n().createElement(n().Fragment,null);const m=a.filter((e=>void 0!==e)).map(((e,t)=>({label:e.title,key:`${t}`,forceRender:!0,children:n().createElement(co,{name:e.title,feature:s,formConfig:e.children})})));return n().createElement("div",{className:"feature-info-tabs"},n().createElement(ho,{features:e,selectedFeature:s,current:i,onChange:t=>{t<1||(l(t),c(e[t-1]))},exportFilter:e=>{let t=!1;for(const r of a)if(r.children)for(const a of r.children)if(a.propertyName===e){t=!0;break}return t}}),n().createElement(Rt.Z,wo({items:m},o)))},So=a(41773),Lo=a.n(So),To=a(86092),ko={};ko.styleTagTransform=_(),ko.setAttributes=R(),ko.insert=x().bind(null,"head"),ko.domAPI=I(),ko.insertStyleElement=$();N()(To.Z,ko),To.Z&&To.Z.locals&&To.Z.locals;function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Po.apply(this,arguments)}var Fo=({features:e,layerName:t,...a})=>{const[o,i]=(0,r.useState)(),[l,s]=(0,r.useState)(),[c,u]=(0,r.useState)([]),d=P()(),{t:m}=(0,E.useTranslation)(),p=`selection-layer-${t}`;oo({layerName:p}),(0,r.useEffect)((()=>{if(!d)return;const t=T().getLayerByName(d,p);t&&(t.getSource()?.clear(),i(1),e.length>0&&s(e[0]))}),[e,d,p]),(0,r.useEffect)((()=>{if(!l||!d)return;const e=T().getLayerByName(d,p);if(!e)return;const t=Object.entries(l.getProperties()).filter((([,e])=>e instanceof po())).map((([e])=>e));u(t),e.getSource()?.clear(),e.getSource()?.addFeature(l)}),[l,d,p]);const g=t=>{i(t),s(e[t-1])};if(!l)return n().createElement(n().Fragment,null);const f=l.getKeys().filter((e=>!c.includes(e.toLocaleLowerCase())));return n().createElement(Lo(),Po({className:"property-grid",feature:l,attributeFilter:f,size:"small",sticky:!0,title:()=>n().createElement(ho,{features:e,selectedFeature:l,current:o,onChange:g}),columns:[{title:m("FeaturePropertyGrid.key"),dataIndex:"attributeName",key:"attributeName",width:"50%",ellipsis:!0,defaultSortOrder:"ascend",sorter:(e,t)=>e.key.localeCompare(t.key)},{title:m("FeaturePropertyGrid.value"),dataIndex:"attributeValue",key:"attributeValue",width:"50%",ellipsis:!0}],scroll:{scrollToFirstRowOnChange:!0,y:"calc(100% - 90px)"}},a))},Co=a(16813),Zo={};Zo.styleTagTransform=_(),Zo.setAttributes=R(),Zo.insert=x().bind(null,"head"),Zo.domAPI=I(),Zo.insertStyleElement=$();N()(Co.Z,Zo),Co.Z&&Co.Z.locals&&Co.Z.locals;function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Oo.apply(this,arguments)}var Ao=({enabled:e,...t})=>{const{t:a}=(0,E.useTranslation)(),o=(0,k.useMap)(),i=fe(),l=Q(),s=C(),[c,u]=(0,r.useState)([]),m=e=>!!e.get("hoverable")&&(e instanceof f()&&e.getSource()instanceof ue()||e instanceof h()&&e.getSource()instanceof me()),p=(0,r.useCallback)((()=>{if(!o)return;const e=T().getAllLayers(o,m);u(e.filter((e=>e.getVisible())))}),[o]);if((0,r.useEffect)((()=>{if(!o)return;p();const e=T().getAllLayers(o,m);return e.forEach((e=>e.on("change:visible",p))),()=>{e.forEach((e=>e.un("change:visible",p)))}}),[o,p]),!o)return n().createElement(n().Fragment,null);const g=e=>e.split(":").length>1?e.split(":")[1]:e.split(":")[0];if(!e)return n().createElement(n().Fragment,null);return n().createElement("div",{className:"feature-info-panel"},n().createElement(Qn(),Oo({featureCount:10,map:o,queryLayers:c,resultRenderer:e=>{const t=e.features,r=e.loading;if(0===Object.keys(t).length)return n().createElement("span",{className:"usage-hint"},a("FeatureInfo.usageHint"));const i=[];return Object.keys(t).forEach((e=>{let a=!1;const r=o.getAllLayers().find((t=>{if((0,se.isWmsLayer)(t)){const a=t.getSource(),r=g(a?.getParams().LAYERS);return g(e)===r}return!1}));l.forEach((t=>{if((r=t.integration)&&"feature-info"===r.placement&&(Array.isArray(t.integration.layers)&&t.integration.layers.includes(e)||!t.integration.layers)){const{key:r,wrappedComponent:o}=t;i.push({label:e,key:e,children:n().createElement(o,{key:r})}),a=!0}var r})),a||i.push({label:r?.get("name")||e,key:e,children:n().createElement("div",{key:e},r?.get("featureInfoFormConfig")?n().createElement(vo,{tabConfig:r?.get("featureInfoFormConfig"),features:t[e],layerName:e}):n().createElement(Fo,{features:t[e],layerName:e}))})})),n().createElement(Pr.Z,{spinning:r},n().createElement(Rt.Z,{destroyInactiveTabPane:!0,items:i}))},fetchOpts:(()=>{const e={};return c.forEach((t=>{const a=(0,d.getUid)(t);e[a]={headers:{...t.get("useBearerToken")?{...(0,pe.getBearerTokenHeader)(i?.getKeycloak())}:void 0}}})),e})(),onSuccess:e=>{const t=e.features,a={};Object.entries(t).forEach((e=>{const t=e[0],r=e[1];a[t]=(new(vt())).writeFeatures(r)})),s((0,eo.wl)(a))}},t)))},Mo=a(54458),No=a(78624),Do=a.n(No),Io=a(22632),jo=a.n(Io),xo=a(21380),Uo=a.n(xo),Ro=a(93102),Bo=a.n(Ro),$o=a(65947),zo={};zo.styleTagTransform=_(),zo.setAttributes=R(),zo.insert=x().bind(null,"head"),zo.domAPI=I(),zo.insertStyleElement=$();N()($o.Z,zo),$o.Z&&$o.Z.locals&&$o.Z.locals;function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_o.apply(this,arguments)}var Go=({layer:e,...t})=>{const[a,o]=(0,r.useState)(e.getSource()?.getParams().TIME),[i,l]=(0,r.useState)(),[s,c]=(0,r.useState)(),[u,d]=(0,r.useState)(),{t:m}=(0,E.useTranslation)();(0,r.useEffect)((()=>{const t=e.get("dimension");if(!t)return;let a;if(t.values&&(a=t.values.split(",")),!a||0===a.length)return;l(a[0]),c(a[a.length-1]),o(a[a.length-1]);const r={};if(a.forEach(((e,t)=>{r[e]=Ee()(e).format("YYYY-MM-DD")})),d(r),"current"===a.default){let e=[NaN,""];Object.values(r).forEach((t=>{let a=Ee()().diff(Ee()(t));a<e[0]&&(e=[a,t])})),o(e[1])}}),[e]);return n().createElement("div",{className:"wms-time-slider"},n().createElement(pa.Z,null,n().createElement(Ue.FontAwesomeIcon,{icon:xe.SZw}),m("WmsTimeSlider.title")),u?n().createElement(Bo(),_o({min:i,max:s,marks:u,value:a,onChange:t=>{o(t),e.getSource()?.updateParams({TIME:t})},step:null},t)):n().createElement("span",null,m("WmsTimeSlider.default")))},Vo=a(86954),Wo=a.n(Vo);function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ko.apply(this,arguments)}var Ho=({layer:e,visibleLegendsIds:t,setVisibleLegendsIds:a,...i})=>{const[l,s]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),m=C(),g=fe(),f=(0,k.useMap)(),{t:y}=(0,E.useTranslation)(),h=e.get("downloadConfig")??null,b=O((e=>e.editFeature.userEditMode)),w=async()=>{if(f){u(!0);try{let t=await Wo().getExtentForLayer(e,{headers:e.get("useBearerToken")?{...(0,pe.getBearerTokenHeader)(g?.getKeycloak())}:{}});t=(0,ka.transformExtent)(t,"EPSG:4326",f.getView().getProjection()),f.getView().fit(t)}catch(e){De().error(e),o.Z.error({message:y("LayerTreeContextMenu.extentError")})}finally{u(!1)}}},v=e=>{const t=[e];for(const a of e.getLayers().getArray())a instanceof p()&&t.push(...v(a));return t},S=e=>{const t=(e=>f?v(f.getLayerGroup()).filter((t=>t.getLayers().getArray().includes(e))):[])(e);t.forEach((t=>t.getLayers().remove(e)))},L=()=>{if(!f)return;S(e);const t=T().getLayerByName(f,y("AddLayerModal.externalWmsFolder")),a=T().getLayerByName(f,y("UploadDataModal.uploadedDataFolder"));t&&0===t.getLayers().getLength()&&S(t),a&&0===a.getLayers().getLength()&&S(a)},P=async t=>{if(!e)return;const a={method:"GET",headers:{...e.get("useBearerToken")?{...(0,pe.getBearerTokenHeader)(g?.getKeycloak())}:void 0}},r=await fetch(t,a),n=await r.blob(),o=document.createElement("a");o.href=URL.createObjectURL(n),o.setAttribute("download",e.get("name")),o.click()};let F=[];if((0,se.isWmsLayer)(e)&&F.push({label:n().createElement(Pr.Z,{spinning:c},y("LayerTreeContextMenu.layerZoomToExtent")),key:"zoomToExtent"}),(0,se.isWmsLayer)(e)&&e.getVisible()){const a=t.includes((0,d.getUid)(e));F.push({label:y(a?"LayerTreeContextMenu.hideLegend":"LayerTreeContextMenu.showLegend"),key:"toggleLegend"})}if((e.get("isExternalLayer")||e.get("isUploadedLayer"))&&F.push({label:y("LayerTreeContextMenu.removeLayer"),key:"removeExternal"}),h){const e=h.map((e=>({label:y("LayerTreeContextMenu.downloadLayer",{formatName:e.formatName??"XML"}),key:`downloadLayer|${encodeURI(e.downloadUrl)}`})));F.push(...e)}return e.get("editable")&&(b.includes("CREATE")||b.includes("UPDATE")||b.includes("DELETE"))&&F.push({label:y("LayerTreeContextMenu.editLayer"),key:"editLayer"}),F.push({label:y("LayerTreeContextMenu.layerDetails"),key:"layerDetails"}),n().createElement("div",{"aria-label":"layer-context"},n().createElement(Da.Z,Ko({menu:{items:F,onClick:r=>{if(r?.key.startsWith("downloadLayer")){const e=r.key.split("|")[1];P(decodeURI(e))}switch(r?.key){case"zoomToExtent":w();break;case"removeExternal":L();break;case"toggleLegend":const r=(0,d.getUid)(e),n=[...t];n.includes(r)?n.splice(n.indexOf(r),1):n.push(r),a(n);break;case"editLayer":m((0,Ie.hr)(null)),m((0,Ie.vN)((0,d.getUid)(e))),m((0,it.$Z)());break;case"layerDetails":m((0,kr.uF)((0,d.getUid)(e))),m((0,kr.$Z)())}s(!1)}},placement:"bottomLeft",onOpenChange:s,open:l,trigger:["click"]},i),n().createElement(Ue.FontAwesomeIcon,{icon:xe.iV1})))},Yo=a(79770),qo={};qo.styleTagTransform=_(),qo.setAttributes=R(),qo.insert=x().bind(null,"head"),qo.domAPI=I(),qo.insertStyleElement=$();N()(Yo.Z,qo),Yo.Z&&Yo.Z.locals&&Yo.Z.locals;function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jo.apply(this,arguments)}var Xo=({...e})=>{const t=(0,k.useMap)(),a=fe(),{t:o}=(0,E.useTranslation)(),[i,l]=(0,r.useState)([]),[s,c]=(0,r.useState)({});(0,r.useEffect)((()=>{if(!t)return;const e=T().getAllLayers(t);return e.forEach((e=>{if(e instanceof Tr()){const t=e.getSource();t.hasListener("tileloadstart")||t.on("tileloadstart",u),t.hasListener("tileloadend")||t.hasListener("tileloaderror")||t.on(["tileloadend","tileloaderror"],m)}})),()=>{e.forEach((e=>{if(e instanceof Tr()){const t=e.getSource();t.hasListener("tileloadstart")&&t.un("tileloadstart",u),t.hasListener("tileloadend")&&t.un("tileloadend",m),t.hasListener("tileloaderror")&&t.un("tileloaderror",m)}}))}}),[t]);const u=e=>{c((t=>{const a=parseInt((0,d.getUid)(e.target),10),r={...t};return r[a]&&r[a].loaded>=r[a].loading?(r[a].loading=1,r[a].loaded=0,r[a].percent=0,r):(r[a]||(r[a]={loading:0,loaded:0,percent:0}),r[a].loading=Number.isInteger(r[a].loading)?r[a].loading+1:1,r)}))},m=e=>{c((t=>{const a=parseInt((0,d.getUid)(e.target),10),r={...t};r[a]||(r[a]={loading:0,loaded:0,percent:0}),r[a].loaded=Number.isInteger(r[a].loaded)?r[a].loaded+1:1;const n=Math.round(r[a].loaded/r[a].loading*100);return n>r[a].percent&&(r[a].percent=n),r}))};return t?n().createElement(Do(),Jo({"aria-label":"layertree",className:"layertree",map:t,nodeTitleRenderer:e=>{if(!t)return;const r=t.getView(),c=r.getProjection().getUnits()||"m",u=r.getResolution(),m=u?T().getScaleForResolution(u,c):void 0,g=e instanceof Tr()&&(0,d.getUid)(e.getSource())?s[(0,d.getUid)(e.getSource())]?.percent:100;return e instanceof p()?n().createElement("div",{"aria-label":"layer-group"},e.get("name")):n().createElement(n().Fragment,null,n().createElement("div",{className:"tree-node-header","aria-label":"tree-node-header"},n().createElement(Mo.Z,{"aria-label":"loading-indicator",className:"loading-indicator",type:"circle",percent:g,format:()=>"",width:16,strokeWidth:20}),n().createElement("span",{"aria-label":"layer-name"},e.get("name")),(e instanceof h()||e instanceof f())&&n().createElement("div",{"aria-label":"layer-context-menu"},n().createElement(Ho,{layer:e,visibleLegendsIds:i,setVisibleLegendsIds:l}))),e.get("visible")&&n().createElement("div",{className:"layer-transparency","aria-label":"transparency-slider"},n().createElement(Uo(),{tooltip:{formatter:e=>`${o("LayerTree.transparency")}: ${e}%`},layer:e})),e.get("visible")&&"WMSTIME"===e.get("type")&&n().createElement("div",{className:"layer-time-slider"},n().createElement(Go,{layer:e})),e.get("visible")&&i.includes((0,d.getUid)(e))&&n().createElement(jo(),{layer:e,errorMsg:o("LayerTree.noLegendAvailable"),extraParams:{scale:m,LEGEND_OPTIONS:"fontAntiAliasing:true;forceLabels:on",TRANSPARENT:!0},headers:e.get("useBearerToken")?{...(0,pe.getBearerTokenHeader)(a?.getKeycloak())}:{}}))},filterFunction:e=>e.getLayers?!e.get("hideInLayerTree"):!(e.getSource&&e.getSource()?.forEachFeature),draggable:!0},e)):n().createElement(n().Fragment,null)},Qo=a(81649),ei=a.n(Qo),ti=a(85415),ai={};ai.styleTagTransform=_(),ai.setAttributes=R(),ai.insert=x().bind(null,"head"),ai.domAPI=I(),ai.insertStyleElement=$();N()(ti.Z,ai),ti.Z&&ti.Z.locals&&ti.Z.locals;var ri=({showMeasureDistance:e,showMeasureArea:t})=>{const{t:a}=(0,E.useTranslation)(),r=(0,k.useMap)();return r?n().createElement(At(),null,e?n().createElement(ei(),{geodesic:!0,name:"line",map:r,measureType:"line",type:"link",continueLineMsg:a("Measure.clicktodrawline")},n().createElement(Ue.FontAwesomeIcon,{icon:xe.SoD}),n().createElement("span",{className:"measure-text"},a("Measure.line"))):n().createElement(n().Fragment,null),t?n().createElement(ei(),{geodesic:!0,name:"poly",map:r,measureType:"polygon",type:"link",continuePolygonMsg:a("Measure.clicktodrawarea")},n().createElement(Ue.FontAwesomeIcon,{icon:xe.ubJ}),n().createElement("span",{className:"measure-text"},a("Measure.area"))):n().createElement(n().Fragment,null)):n().createElement(n().Fragment,null)},ni=a(35818),oi={};oi.styleTagTransform=_(),oi.setAttributes=R(),oi.insert=x().bind(null,"head"),oi.domAPI=I(),oi.insertStyleElement=$();N()(ni.Z,oi),ni.Z&&ni.Z.locals&&ni.Z.locals;function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ii.apply(this,arguments)}const{Panel:li}=Rr.default;var si=({...e})=>{const{t:t}=(0,E.useTranslation)(),a=(0,k.useMap)(),o=Q(),i=C(),s=O((e=>e.toolMenu.availableTools)),c=O((e=>e.toolMenu.activeKeys)),u=fe(),d=u?.getKeycloak(),[m,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=window.matchMedia("only screen and (max-width: 450px) and (orientation: portrait),only screen and (max-width: 750px) and (orientation: landscape), only screen and (max-width: 580px)"),t=new RegExp("/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/");(e.matches||t.test(window.navigator.userAgent))&&p(!0)}),[]),(0,r.useEffect)((()=>{g.length<1&&(s.includes("default")?f(["measure_tools","draw_tools","feature_info","print","tree","permalink","language_selector"]):f(s))}),[g,s]),(0,r.useEffect)((()=>{c.includes("print")&&c.includes("measure_tools")&&(c.indexOf("print")<c.indexOf("measure_tools")?i((0,zr.wG)(c.filter((e=>"print"!==e)))):i((0,zr.wG)(c.filter((e=>"measure_tools"!==e)))))}),[c,i]);const y=e=>{switch(e){case"measure_tools":return{icon:xe.KxN,title:t("ToolMenu.measure"),wrappedComponent:n().createElement(ri,{showMeasureDistance:s.includes("default")||s.includes("measure_tools_distance"),showMeasureArea:s.includes("default")||s.includes("measure_tools_area")})};case"draw_tools":return{icon:xe.ubJ,title:t("ToolMenu.draw"),wrappedComponent:n().createElement(Jn,{showDrawPoint:s.includes("default")||s.includes("draw_tools_point"),showDrawLine:s.includes("default")||s.includes("draw_tools_line"),showDrawPolygon:s.includes("default")||s.includes("draw_tools_polygon"),showDrawCircle:s.includes("default")||s.includes("draw_tools_circle"),showDrawRectangle:s.includes("default")||s.includes("draw_tools_rectangle"),showDrawAnnotation:s.includes("default")||s.includes("draw_tools_annotation"),showModifyFeatures:s.includes("default")||s.includes("draw_tools_modify"),showUploadFeatures:s.includes("default")||s.includes("draw_tools_upload"),showDownloadFeatures:s.includes("default")||s.includes("draw_tools_download"),showDeleteFeatures:s.includes("default")||s.includes("draw_tools_delete")})};case"feature_info":return{icon:xe.kwz,title:t("ToolMenu.featureInfo"),wrappedComponent:n().createElement(Ao,{enabled:c.includes("feature_info")})};case"print":return{icon:xe.kwI,title:t("ToolMenu.print"),wrappedComponent:a?n().createElement(jn,{active:c.includes("print"),layerBlackList:["react-geo_measure","hoverVectorLayer"]}):n().createElement(n().Fragment,null)};case"tree":return{icon:xe.aC2,title:t("ToolMenu.layertree"),wrappedComponent:n().createElement("div",{className:"tree-wrapper"},n().createElement(Xo,null),n().createElement(l.Z,{className:"add-wms-button tool-menu-button",icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.r8p}),onClick:()=>i((0,A.$Z)())},t("ToolMenu.addWms")),d&&ne().geoserver?.upload?.authorizedRoles?.some((e=>d.hasResourceRole(e,d.clientId)))&&n().createElement(l.Z,{className:"upload-data-button tool-menu-button",icon:n().createElement(Ue.FontAwesomeIcon,{icon:xe.cf$}),onClick:()=>i((0,_r.$Z)())},t("ToolMenu.uploadData")))};case"permalink":return{icon:xe.M6U,title:t("Permalink.title"),wrappedComponent:n().createElement(sn,null)};case"language_selector":return{icon:xe.BCn,title:t("ToolMenu.languageSelect"),wrappedComponent:n().createElement(Hr,null)}}};return n().createElement("div",{"aria-label":"tool-menu",className:"tool-menu "+(m?"collapsed":"")},n().createElement(Rr.default,ii({expandIconPosition:"end",activeKey:c,destroyInactivePanel:!0,onChange:e=>{p(!1),i((0,zr.wG)($r()(e)))}},e),(()=>{const e=[];return g.forEach((t=>{const a=y(t);if(!a)return;const{icon:r,title:o,wrappedComponent:i}=a,l=n().createElement(li,{className:t,header:n().createElement(n().Fragment,null,r?n().createElement(Ue.FontAwesomeIcon,{icon:r}):void 0,n().createElement("span",null,o)),key:t},i);e.push(l)})),o&&o.forEach((a=>{if((r=a.integration)&&"tool-menu"===r.placement){const{key:r,wrappedComponent:o,integration:{placement:i,label:l="Plugin",insertionIndex:s,icon:c,...u}}=a;e.splice(s||0,0,n().createElement(li,ii({header:n().createElement(n().Fragment,null,c?n().createElement(Ue.FontAwesomeIcon,{icon:c}):void 0,n().createElement("span",null,t(l))),key:r},u),n().createElement(o,null)))}var r})),e})()),n().createElement(Sr.Z,{placement:"right",title:t(m?"ToolMenu.expand":"ToolMenu.collapse")},n().createElement(l.Z,{className:"collapse-btn","aria-label":"collapse-button",icon:m?n().createElement(Ue.FontAwesomeIcon,{icon:xe._tD}):n().createElement(Ue.FontAwesomeIcon,{icon:xe.A35}),onClick:()=>{i((0,zr.wG)([])),p(!m)}})))},ci=a(28837),ui=a(73161),di=a.n(ui),mi=a(65352),pi={};pi.styleTagTransform=_(),pi.setAttributes=R(),pi.insert=x().bind(null,"head"),pi.domAPI=I(),pi.insertStyleElement=$();N()(mi.Z,pi),mi.Z&&mi.Z.locals&&mi.Z.locals;function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gi.apply(this,arguments)}const{Dragger:fi}=We.default;var yi=({...e})=>{const[t,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[s,c]=(0,r.useState)(!1),u=O((e=>e.uploadDataModal.visible)),d=O((e=>e.user)),m=C(),g=(0,k.useMap)(),f=fe(),{t:y}=(0,E.useTranslation)(),h=e=>({0:null,1:"org.locationtech.jts.geom.Point",3:"org.locationtech.jts.geom.LineString",5:"org.locationtech.jts.geom.Polygon",8:"org.locationtech.jts.geom.MultiPoint",11:"org.locationtech.jts.geom.Point",13:"org.locationtech.jts.geom.LineString",15:"org.locationtech.jts.geom.Polygon",18:"org.locationtech.jts.geom.MultiPoint",21:"org.locationtech.jts.geom.Point",23:"org.locationtech.jts.geom.LineString",25:"org.locationtech.jts.geom.Polygon",28:"org.locationtech.jts.geom.MultiPoint",31:null}[e]),b=e=>{switch(e){case"C":return"java.lang.String";case"D":return"java.util.Date";case"N":return"java.lang.Long";case"F":return"java.lang.Double";case"L":return"java.lang.Boolean";default:return null}};return n().createElement(i.Z,gi({className:"upload-data-modal",title:y("UploadDataModal.title"),open:u,onCancel:()=>{a(""),l(""),m((0,_r.Cp)())},width:600,footer:!1},e),o&&n().createElement(ae.Z,{message:o,closable:!0,type:"success"}),t&&n().createElement(ae.Z,{message:t,closable:!0,type:"error"}),n().createElement(Pr.Z,{spinning:s},n().createElement(fi,{customRequest:async e=>{const{onError:t,onSuccess:a,file:r}=e,n=r.name.split("."),o=r.type,i=ne().geoserver?.base||"/geoserver",l=ne().geoserver?.upload?.workspace||"SHOGUN",s=`${n[0]}_${Date.now()}`.toUpperCase(),c={file:r,baseUrl:i,workspace:l,storeName:s,layerName:s};try{"image/tiff"===o&&await(async e=>{const{baseUrl:t,workspace:a,storeName:r,layerName:n,file:o}=e,i=`${t}/rest/workspaces/${a}/coveragestores/${r}/file.geotiff?configure=none`;if(!(await fetch(i,{method:"PUT",headers:{...(0,pe.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"image/tiff"},body:o})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}));const l=`${t}/rest/workspaces/${a}/coveragestores/${r}/coverages`;if(!(await fetch(l,{method:"POST",headers:{...(0,pe.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"application/json"},body:JSON.stringify({coverage:{enabled:!0,name:n,nativeName:n,title:n,keywords:{string:["User upload",`Uploaded by ${d.providerDetails?.username}`]}}})})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}))})(c),"application/zip"===o&&await(async e=>{const{baseUrl:t,workspace:a,storeName:r,layerName:n,file:o}=e,i=await ci.Uv.load(o);let l="",s={attribute:[]};if(1!==Object.entries(i).length)throw new Error(y("UploadDataModal.error.zipContent"));Object.entries(i).forEach((([e,t])=>{l=e;const a=t.parse("dbf",{properties:!1});s.attribute=a.fields.map((e=>({name:e.name,minOccurs:0,maxOccurs:1,nillable:!0,binding:b(e.type),length:e.length})));const r=t.parse("shx");s.attribute.push({name:"the_geom",minOccurs:0,maxOccurs:1,nillable:!0,binding:h(r.header.type)})}));const c=`${t}/rest/workspaces/${a}/datastores/${r}/file.shp?configure=none`;if(!(await fetch(c,{method:"PUT",headers:{...(0,pe.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"application/zip"},body:o})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}));const u=`${t}/rest/workspaces/${a}/datastores/${r}/featuretypes`;if(!(await fetch(u,{method:"POST",headers:{...(0,pe.getBearerTokenHeader)(f?.getKeycloak()),"Content-Type":"application/json"},body:JSON.stringify({featureType:{enabled:!0,name:n,nativeName:l,title:n,attributes:s,keywords:{string:["User upload",`Uploaded by ${d.providerDetails?.username}`]}}})})).ok)throw new Error(y("UploadDataModal.error.general",{fileName:o.name}))})(c),a&&a({baseUrl:i,workspace:l,layerName:s})}catch(e){t&&t({name:"UploadError",message:e instanceof Error?e.message:y("UploadDataModal.error.general",{fileName:r.name})})}},accept:"image/tiff,application/zip",maxCount:1,showUploadList:!1,beforeUpload:e=>{const t=ne().geoserver?.upload?.limit||2e8,r=e.type,n=e.size;if(a(""),l(""),n>t)return a(y("UploadDataModal.error.maxSize",{maxSize:t/1e6})),!1;const o=["application/zip","image/tiff"];return!!o.includes(r)||(a(y("UploadDataModal.error.supportedFormats",{supportedFormats:o.join(", ")})),!1)},onChange:async e=>{const t=e.file;if("uploading"===t.status&&c(!0),"done"===t.status){if(!f||!t.response)return;const e={name:t.response.layerName,type:"TILEWMS",clientConfig:{hoverable:!0},sourceConfig:{url:`${t.response.baseUrl}/ows?`,layerNames:`${t.response.workspace}:${t.response.layerName}`,useBearerToken:!0}},a=new(di())({client:f}).parseTileLayer(e);a.set("layerConfig",e),a.set("isUploadedLayer",!0),a.set("groupName",y("UploadDataModal.uploadedDataFolder")),(e=>{if(!g)return;const t=y("UploadDataModal.uploadedDataFolder");let a=T().getLayerByName(g,t);if(!a){a=new(p())({layers:[],properties:{name:t}});const e=g.getLayerGroup().getLayers();e.insertAt(e?.getLength()||0,a)}a.getLayers().getArray().includes(e)||a.getLayers().push(e)})(a),l(y("UploadDataModal.success",{fileName:t.name,layerName:t.response.layerName})),c(!1)}else"error"===t.status&&(c(!1),De().error(t.error),t.error&&t.error.message?a(t.error.message):a(y("UploadDataModal.error.general",{fileName:t.name})))}},n().createElement("p",{className:"ant-upload-drag-icon"},n().createElement(Ue.FontAwesomeIcon,{icon:xe.cf$})),n().createElement("p",{className:"ant-upload-text"},y("UploadDataModal.description")),n().createElement("p",{className:"ant-upload-hint"},y("UploadDataModal.hint")))))};var hi=async()=>{const e=(0,k.useMap)(),t=fe(),a=function(){const{search:e}=window.location;return n().useMemo((()=>new URLSearchParams(e)),[e])}(),{t:r}=(0,E.useTranslation)(),o=a.get("layers");if(!e)return;const i=nn().applyLink(e,";",(e=>e.get("name")),(e=>e instanceof h()||e instanceof f()));if(!i)return;const l=t=>{const a=new(p())({layers:[]});a.set("name",t);const r=e.getLayerGroup().getLayers();return r.insertAt(r?.getLength()||0,a),a};try{const a=JSON.parse(i);if(!t)throw new Error("Client is not available");const n=new(di())({client:t});for(let t=0;t<a.length;t++){const i=a[t];if(!bt()(i?.layerConfig)){const t=i.layerConfig,a=await n.parseLayer(t);if(!a)continue;if(i.isExternalLayer&&a.set("isExternalLayer",i.isExternalLayer),i.isUploadedLayer&&a.set("isUploadedLayer",i.isUploadedLayer),a.set("groupName",i.groupName),a.set("layerConfig",i.layerConfig),a.setVisible(!!o?.split(";").some((e=>e===t.name))),!a.get("isExternalLayer")&&!a.get("isUploadedLayer"))continue;let s;a.get("groupName")?(s=T().getLayerByName(e,a.get("groupName")),s||(s=l(a.get("groupName")))):(s=T().getLayersByProperty(e,"isExternalLayerGroup",!0)?.[0],s||(s=l(r("AddLayerModal.externalWmsFolder")),s.set("isExternalLayerGroup",!0))),T().getLayerByName(e,a.get("name"))||s.getLayers().push(a)}}}catch(e){De().error(e)}},Ei=a(65705),bi={};bi.styleTagTransform=_(),bi.setAttributes=R(),bi.insert=x().bind(null,"head"),bi.domAPI=I(),bi.insertStyleElement=$();N()(Ei.Z,bi),Ei.Z&&Ei.Z.locals&&Ei.Z.locals;function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},wi.apply(this,arguments)}const vi=({...e})=>(hi(),(0,r.useEffect)((()=>{const e=document.querySelectorAll(".loadmask")[0];e&&e.classList.add("loadmask-hidden")}),[]),n().createElement("div",wi({className:"App"},e),n().createElement(wr,null),n().createElement(te,null),n().createElement(si,null),n().createElement(Ta,null),n().createElement(K,null),n().createElement(yi,null),n().createElement(ma,null),n().createElement(Ur,null)));var Si=vi},30845:function(e,t,a){"use strict";a.r(t);var r=a(96985),n=a.n(r),o=a(9253),i=a(88182),l=a(38648),s=a(76772),c=a(17699),u=a(67502),d=a(87617),m=a.n(d),p=a(6767),g=a.n(p),f=a(15059),y=a(94671),h=a(70791),E=a(23213),b=a.n(E),w=a(87851),v=a.n(w),S=a(78388),L=a.n(S),T=a(31987),k=a(63102),P=a.n(k),F=a(28630),C=a.n(F),Z=a(39665),O=a.n(Z),A=a(20563),M=a(14589),N=a(12038),D=a.n(N),I=a(92212),j=a.n(I),x=a(15042),U=a.n(x),R=a(73161),B=a.n(R),$=a(12665),z=a.n($),_=a(76688),G=a(77257),V=a(35895),W=a(97168);const K=(0,W.oM)({name:"appInfo",initialState:{authorities:[],buildTime:"",commitHash:"",userId:-1,version:""},reducers:{setAppInfo(e,t){return t.payload}}}),{setAppInfo:H}=K.actions;var Y=K.reducer;const q=(0,W.oM)({name:"description",initialState:"",reducers:{setDescription:(e,t)=>t.payload}}),{setDescription:J}=q.actions;var X=q.reducer,Q=a(61465);const ee={contact:"https://www.terrestris.de/de/kontakt/",imprint:"https://www.terrestris.de/de/impressum/",privacy:"https://www.terrestris.de/de/datenschutzerklaerung/"},te=(0,W.oM)({name:"legal",initialState:ee,reducers:{setLegal:(e,t)=>({contact:t.payload.contact||ee.contact,imprint:t.payload.imprint||ee.imprint,privacy:t.payload.privacy||ee.privacy})}}),{setLegal:ae}=te.actions;var re=te.reducer;const ne=(0,W.oM)({name:"logoPath",initialState:"./shogun_logo.png",reducers:{setLogoPath:(e,t)=>t.payload}}),{setLogoPath:oe}=ne.actions;var ie=ne.reducer;const le=(0,W.oM)({name:"searchEngines",initialState:["nominatim"],reducers:{setSearchEngines:(e,t)=>t.payload}}),{setSearchEngines:se}=le.actions;var ce=le.reducer,ue=a(14890),de=a(20908),me=a(68781),pe=a(6049),ge=a(28728),fe=a(21800);const ye=(0,W.oM)({name:"title",initialState:"SHOGun Client",reducers:{setTitle:(e,t)=>t.payload}}),{setTitle:he}=ye.actions;var Ee=ye.reducer,be=a(76712),we=a(63221);const ve=(0,W.oM)({name:"user",initialState:{},reducers:{setUser(e,t){return t.payload}}}),{setUser:Se}=ve.actions;var Le=ve.reducer;const Te=e=>(0,ue.UY)({addLayerModal:de.ZP,appInfo:Y,description:X,editFeature:Q.ZP,editFeatureDrawerOpen:me.ZP,layerDetailsModal:pe.ZP,legal:re,logoPath:ie,print:ge.ZP,selectedFeatures:fe.ZP,title:Ee,toolMenu:be.ZP,uploadDataModal:we.ZP,searchEngines:ce,user:Le,...e}),ke=(0,W.xC)({reducer:Te()});var Pe=a(93379),Fe=a.n(Pe),Ce=a(7795),Ze=a.n(Ce),Oe=a(90569),Ae=a.n(Oe),Me=a(3565),Ne=a.n(Me),De=a(19216),Ie=a.n(De),je=a(44589),xe=a.n(je),Ue=a(90978),Re={};Re.styleTagTransform=xe(),Re.setAttributes=Ne(),Re.insert=Ae().bind(null,"head"),Re.domAPI=Ze(),Re.insertStyleElement=Ie();Fe()(Ue.Z,Re),Ue.Z&&Ue.Z.locals&&Ue.Z.locals;const Be=n().lazy((()=>Promise.all([a.e(987),a.e(592),a.e(12)]).then(a.bind(a,83299))));var $e=function(e){return e.APP_ID_NOT_SET="APP_ID_NOT_SET",e.APP_CONFIG_NOT_FOUND="APP_CONFIG_NOT_FOUND",e}($e||{});const ze=new(z())({url:m().shogunBase||"/"}),_e=new(B())({client:ze}),Ge=e=>{switch(e){case"en":default:return u.Z;case"de":return c.Z}},Ve=async e=>{const t=await _e.parseMapView(e,{constrainOnlyCenter:!0});let a;const r=e.clientConfig?.mapView.projection,n=e.clientConfig?.mapView;if(r&&n?.extent&&4===n.extent.length){const e=(0,T.fromLonLat)([n.extent[0],n.extent[1]],r),t=(0,T.fromLonLat)([n.extent[2],n.extent[3]],r);a=[e[0],e[1],t[0],t[1]]}a&&t.set("extent",a),t.setConstrainResolution(!0);const o=await _e.parseLayerTree(e,r);return new(L())({view:t,layers:o,controls:(0,h.defaults)({zoom:!1})})},We=()=>{const e=new(v())({source:new(P())});e.set("name","OpenStreetMap");const t=new(v())({opacity:.5,visible:!0,source:new(C())({url:"https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi",projection:"EPSG:3857",params:{LAYERS:"MERRA2_2m_Air_Temperature_Assimilated_Monthly"}})});t.setProperties({name:"2-meter Air Temperature, Assimilated (Monthly, MERRA2)",hoverable:!0});const a=new(b())({layers:[t]});a.set("name","NASA Earth Observations");const r=new(b())({layers:[e]});r.set("name","Background");const n=(0,T.fromLonLat)([0,40],"EPSG:3857");return new(L())({view:new(O())({center:n,zoom:0}),layers:[r,a],controls:(0,h.defaults)({zoom:!1})})},Ke=async(e,t,r)=>{await a.I("default"),await new Promise(((e,a)=>{const r=document.createElement("script");r.src=t,r.type="text/javascript",r.async=!0,r.onload=()=>{r.parentElement?.removeChild(r),e()},r.onerror=e=>{r.parentElement?.removeChild(r),a(e)},document.head.appendChild(r)}));const n=window[e];await n.init(a.S.default);const o=[];for(const e of r){const t=(await n.get(e))();o.push(t)}return o},He=(e,t)=>"string"==typeof e?t===e:e instanceof RegExp&&e.test(t);(async()=>{try{o._m.config({paths:{vs:"./vs"}});const e=await(async()=>{const e=m().keycloak?.enabled,t=m().keycloak?.onLoadAction,a=m().keycloak?.host,r=m().keycloak?.realm,n=m().keycloak?.clientId;if(!e)return;if(!a)throw new Error("Neither config key keycloak.host nor environment KEYCLOAK_HOST is set");if(!r)throw new Error("Neither config key keycloak.realm nor environment KEYCLOAK_REALM is set");if(!n)throw new Error("Neither config key keycloak.clientId nor environment KEYCLOAK_CLIENT_ID is set");const o=new y.Z({url:`${a}`,realm:r,clientId:n});return o.onTokenExpired=async()=>{try{await o.updateToken(0)}catch(e){D().error("Error while refreshing the access token: ",e)}},await o.init({onLoad:t,checkLoginIframe:!1}),o})();e&&ze.setKeycloak(e);const t=parseInt(j().getQueryParam(window.location.href,"applicationId"),10);if(t||D().info("No application ID given, can't load any configuration."),!t&&!m().enableFallbackConfig)throw new Error($e.APP_ID_NOT_SET);let a;if(t&&(a=await(async e=>{try{D().info(`Loading application with ID ${e}`);const t=await ze.application().findOne(e);return D().info(`Successfully loaded application with ID ${e}`),t}catch(t){D().error(`Error while loading application with ID ${e}: ${t}`)}})(t)),!a&&!m().enableFallbackConfig)throw new Error($e.APP_CONFIG_NOT_FOUND);const r=a?.clientConfig?.defaultLanguage;r||V.Z.use(f.Z),await V.Z.init(V.u),r&&V.Z.changeLanguage(r);const s=(e=>{const t={"--primaryColor":"#59666C","--secondaryColor":"#70B3BE","--complementaryColor":"#FFFFFF"};return e?(e.primaryColor&&(t["--primaryColor"]=e.primaryColor),e.secondaryColor&&(t["--secondaryColor"]=e.secondaryColor),e.secondaryColor&&(t["--complementaryColor"]=e.complementaryColor),t):t})(a?.clientConfig?.theme);i.ZP.config({theme:{primaryColor:g()(s["--primaryColor"]).isLight()?g()(s["--primaryColor"]).darken(.5).hexa():s["--primaryColor"]}}),Object.keys(s).forEach((e=>{document.body.style.setProperty(e,s[e])})),ke.subscribe((()=>{document.title=ke.getState().title})),(async e=>{if(e){if(e.name&&ke.dispatch(he(e.name)),e.clientConfig?.description&&ke.dispatch(J(e.clientConfig?.description)),e.clientConfig?.legal&&ke.dispatch(ae(e.clientConfig.legal)),e?.clientConfig?.theme?.logoPath&&ke.dispatch(oe(e.clientConfig.theme.logoPath)),ke.dispatch(se(["nominatim"])),e.toolConfig&&e.toolConfig.length>0){const t=[];e.toolConfig.map((e=>{e.config.visible&&"search"!==e.name&&t.push(e.name),"search"===e.name&&e.config.engines.length>0&&ke.dispatch(se(e.config.engines))})),ke.dispatch((0,be.nn)(t))}}else D().info("No application configuration provided, the default store will be loaded")})(a);const c=await(async()=>{try{D().info("Loading application info");const e=await ze.info().getAppInfo();return D().info("Successfully loaded application info"),e}catch(e){D().error("Error while loading application info: ",e)}})();(async e=>{e&&ke.dispatch(H(e))})(c);(async e=>{e&&ke.dispatch(Se(e))})(await(async e=>{if(e)try{D().info(`Loading user with ID ${e}`);const t=await ze.user().findOne(e);return D().info(`Successfully loaded user with ID ${e}`),t}catch(t){D().error(`Error while loading user with ID ${e}: `,t)}else D().info("No user ID given, can't load it's details.")})(c?.userId));const u=ze?.getKeycloak()?.tokenParsed?.realm_access?.roles;let d=["NONE"];u&&m().featureEditRoles&&(d=((e,t)=>{const{authorizedRolesForCreate:a,authorizedRolesForUpdate:r,authorizedRolesForDelete:n,authorizedRolesForEditingGeometries:o}=t,i=[];for(const t of e)a?.some((e=>He(e,t)))&&i.push("CREATE"),r?.some((e=>He(e,t)))&&i.push("UPDATE"),n?.some((e=>He(e,t)))&&i.push("DELETE"),o?.some((e=>He(e,t)))&&i.push("EDIT_GEOMETRY");return i})(u,m().featureEditRoles)),ke.dispatch((0,Q.Y3)(d));const p=await(async e=>e?await Ve(e):(D().info("No application configuration provided, the default map will be loaded"),We()))(a),h=await(async e=>{if(!m().plugins||0===m().plugins.length)return D().info("No plugins found"),[];D().info("Loading plugins");const t=[];for(const a of m().plugins){const r=a.name,o=a.resourcePath,i=a.exposedPaths;if(!r)return D().error("Required plugin configuration 'name' is not set"),t;if(!o)return D().error("Required plugin configuration 'resourcePath' is not set"),t;if(!i)return D().error("Required plugin configuration 'exposedPaths' is not set"),t;let l;D().info(`Loading plugin ${r} (with exposed paths ${i.join(" and ")}) from ${o}`);try{l=await Ke(r,o,i),D().info(`Successfully loaded plugin ${r}`)}catch(e){return D().error(`Could not load plugin ${r}:`,e),t}l.forEach((a=>{const r=a.default,o=r.component;if(r.wrappedComponent=()=>n().createElement(o,{map:e,client:ze}),r.i18n&&Object.entries(r.i18n).forEach((e=>{const t=e[0],a=e[1].translation;V.Z.addResourceBundle(t,"translation",a,!0,!0)})),r.reducers){const e=Te(r.reducers);ke.replaceReducer(e)}t.push(r)}))}return t})(p);a||l.Z.error({message:V.Z.t("Index.applicationLoadErrorMessage"),description:V.Z.t("Index.applicationLoadErrorDescription",{applicationId:t}),duration:0}),(0,A.render)(n().createElement(n().StrictMode,null,n().createElement(n().Suspense,{fallback:n().createElement("span",null)},n().createElement(G.rA,{client:ze},n().createElement(_.ol,{plugins:h},n().createElement(i.ZP,{locale:Ge(V.Z.language)},n().createElement(M.Provider,{store:ke},n().createElement(U().Provider,{value:p},n().createElement(Be,null)))))))),document.getElementById("app"))}catch(e){const t=document.querySelectorAll(".loadmask")[0];t&&t.classList.add("loadmask-hidden"),V.Z.isInitialized||(V.Z.use(f.Z),await V.Z.init(V.u));let a=V.Z.t("Index.errorDescription");if(e?.message===$e.APP_ID_NOT_SET&&(a=V.Z.t("Index.errorDescriptionAppIdNotSet")),e?.message===$e.APP_CONFIG_NOT_FOUND){const e=j().getQueryParam(window.location.href,"applicationId");a=V.Z.t("Index.errorDescriptionAppConfigNotFound",{applicationId:e})}(0,A.render)(n().createElement(n().StrictMode,null,n().createElement(s.Z,{className:"error-boundary",message:V.Z.t("Index.errorMessage"),description:a,type:"warning",showIcon:!0})),document.getElementById("app"))}})()},76688:function(e,t,a){"use strict";a.d(t,{ol:function(){return i}});var r=a(96985),n=a.n(r);const o=n().createContext([]),i=({plugins:e,children:t})=>n().createElement(o.Provider,{value:e},t);t.ZP=o},77257:function(e,t,a){"use strict";a.d(t,{rA:function(){return i}});var r=a(96985),n=a.n(r);const o=n().createContext(null),i=({client:e,children:t})=>n().createElement(o.Provider,{value:e},t);t.ZP=o},35895:function(e,t,a){"use strict";a.d(t,{Z:function(){return i},u:function(){return o}});var r=a(36609),n=a(73590);const o={resources:{de:{translation:{ApplicationInfo:{title:"Über",clientVersionTitle:"Client Version",backendVersionTitle:"Backend Version"},AddLayerModal:{addSelectedLayers:"Auswahl hinzufügen",addAllLayers:"Alle hinzufügen",inputPlaceholder:"WMS GetCapabilities URL angeben…",externalWmsFolder:"Externe Themen",title:"WMS hinzufügen",columnTitle:"Name",errorMessage:"Fehler",errorDescription:"Das Capabilities Dokument konnte nicht geladen werden, bitte prüfen Sie die URL",version:"Version"},BasicMapComponent:{processedLayersFolder:"Prozessierte Layer"},Permalink:{title:"Teilen",twitterTooltip:"Link via Twitter teilen",whatsAppTooltip:"Link via WhatsApp teilen",mailTooltip:"Link via Mail teilen",copyTooltip:"Link in die Zwischenablage kopieren",copiedToClipboard:"Link wurde in Zwischenablage kopiert",copyToClipboardFailed:"Link konnte nicht kopiert werden"},Measure:{title:"Messen",line:"Entfernung",area:"Fläche",clicktodrawline:"Zum Zeichnen einer Linie klicken",clicktodrawarea:"Zum Zeichnen einer Fläche klicken"},Draw:{point:"Punkt",line:"Linie",polygon:"Polygon",circle:"Kreis",rectangle:"Rechteck",text:"Anmerkung",modify:"Bearbeitung",upload:"Hochladen",delete:"Löschen",export:"Exportieren"},StylingDrawer:{pickColor:"Farbschema bearbeiten",title:"Farbschema bearbeiten"},FeatureInfo:{usageHint:"Klicken Sie in die Karte, um Detailinformationen zu erhalten."},FileUpload:{upload:"Dateien hochladen"},ImageUpload:{upload:"Bilder hochladen"},LayerTree:{transparency:"Transparenz",noLegendAvailable:"Keine Legende verfügbar"},LayerTreeContextMenu:{layerZoomToExtent:"Auf Layerausdehnung zoomen",extentError:"Konnte nicht auf die Layerausdehnung zoomen",removeLayer:"Layer entfernen",showLegend:"Legende anzeigen",hideLegend:"Legende ausblenden",downloadLayer:"Layer exportieren ({{formatName}})",editLayer:"Layer bearbeiten",layerDetails:"Eigenschaften"},LayerDetailsModal:{title:"Eigenschaften des Layers {{layerName}}",internalConfigurationButtonTooltip:"Interne Konfiguration anzeigen",internalConfigurationButtonTooltipPressed:"Interne Konfiguration verbergen"},LayerDetails:{noDataPlaceholder:"-",layerNameLabel:"Name",layerTitleLabel:"Titel",serviceAbstractLabel:"Service Beschreibung",abstractLabel:"Beschreibung",accessConstraintsLabel:"Nutzungseinschränkungen",capabilitiesUrlLabel:"GetCapabilities URL",contactLabel:"Kontakt",minScaleLabel:"Min. Maßstab",maxScaleLabel:"Max. Maßstab",bboxLabel:"Bounding Box",errorMessage:"Fehler beim Laden der Layer Capabilities"},LayerConfiguration:{errorMessage:"Fehler beim Laden der internen Konfiguration"},ToolMenu:{expand:"Menu ausklappen",collapse:"Menu einklappen",measure:"Messen",draw:"Zeichnen",featureInfo:"Karteninhalte abfragen",addWms:"WMS hinzufügen",uploadData:"Daten hochladen",print:"Export",layertree:"Karten",languageSelect:"Sprachauswahl"},PrintForm:{title:"Kartentitel",initialTitle:"Druckausgabe",titlePlaceholder:"Bitte geben Sie einen Titel ein",comment:"Bemerkung",commentPlaceholder:"Bitte geben Sie einen Kommentar ein",layout:"Vorlage",dpi:"Auflösung",format:"Format",scale:"Maßstab",downloadBtnText:"Ausdruck erzeugen",printJobErrorMsg:"Der Kartenausdruck konnte nicht erzeugt werden",initErrorMsg:"Der Kartendruck Generator konnte nicht initialisiert werden.",outputFormatPlaceholder:"Bitte wählen Sie ein Ausgabeformat aus",resolutionPlaceholder:"Bitte wählen Sie eine Ausgabequalität aus",managerErrorMessage:"Fehler bei der Initialisierung der Export-Engine"},Footer:{refSystem:"Bezugssystem",scale:"Maßstab",mousePosition:"Mausposition",imprint:"Impressum",contact:"Kontakt",privacypolicy:"Datenschutz"},Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden.",errorDescriptionAppIdNotSet:"Keine Applikations-ID angegeben. Bitte geben Sie die ID als Abfrageparameter an, z.B. ?applicationId=1909",errorDescriptionAppConfigNotFound:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden."},Nominatim:{placeholder:"Ortsname, Straßenname, Stadtteilname, POI usw."},UserMenu:{settingsMenuTitle:"Profil bearbeiten",infoMenuTitle:"Über",logoutMenuTitle:"Ausloggen",loginMenuTitle:"Anmelden"},WmsTimeSlider:{title:"Zeitlicher Bezug",default:"Keine Daten gefunden"},UploadDataModal:{title:"Daten hochladen",uploadedDataFolder:"Hochgeladene Daten",description:"Klicken Sie oder ziehen Sie die Datei zum Hochladen in diesen Bereich",hint:"Unterstützte Dateiformate sind Shapefile (gebündelt als *.zip) und GeoTIFF",success:"Datei {{fileName}} wurde erfolgreich geladen und der Layer {{layerName}} erstellt",error:{general:"Fehler beim Hochladen der Datei {{fileName}}",maxSize:"Der Upload überschreitet das Limit von {{maxSize}} MB",supportedFormats:"Der Dateityp ist nicht unterstützt ({{supportedFormats}})",zipContent:"Mehrere Geodatensätze innerhalb eines Archivs sind nicht unterstützt"}},MultiSearch:{searchInViewBox:"Im aktuellen Kartenausschnitt suchen",searchData:"Layerdaten durchsuchen",searchNominatim:"Ortssuche (Nominatim)",nominatimTitle:"Ortssuche",searchPlaceholder:"Orts- und Datensuche…"},EditFeatureDrawer:{featureEditor:"Objekteditor",noLayerFoundError:"Kein passender Layer gefunden - das Editieren ist nicht möglich.",isFeatureLockedErrorMsg:"Das ausgewählte Objekt wird bereits in einer anderen Sitzung bearbeitet.",closeDrawerWarnTitle:"Wollen Sie wirklich fortfahren?",closeDrawerWarnContent:"Dadurch werden alle nicht gespeicherten Änderungen an dem Objekt verworfen."},EditFeatureSwitch:{usageHint:"Objekt zum Editieren auf der Karte auswählen oder…",limitedUsageHint:"Zum Editieren bitte eine Objekt auf der Karte auswählen",createFeature:"Neues Objekt erstellen"},EditFeatureFullForm:{saveErrorMsg:"Das Objekt konnte nicht gespeichert werden",deleteErrorMsg:"Das Objekt konnte nicht gelöscht werden"},EditFeatureGeometryToolbar:{draw:"Neue Geometrie zeichnen",edit:"Geometrie editieren",delete:"Geometrie löschen",undo:"Rückgängig",redo:"Wiederherstellen"},ResetButton:{title:"Zurücksetzen"},SaveButton:{title:"Speichern"},DeleteButton:{title:"Objekt löschen",confirm:"Das Objekt wird vollständig gelöscht. Fortfahren?"},EditFeatureButton:{title:"Objekt bearbeiten"},FeaturePropertyGrid:{key:"Name",value:"Wert"},PaginationToolbar:{copyAsGeoJson:"Als GeoJSON kopieren (inkl. Geometrie)",copyAsObject:"Als Objekt kopieren (nur angezeigte Werte)"},JsonModal:{buttonTitle:"Öffne {{propertyName}}"}}},en:{translation:{ApplicationInfo:{title:"About",clientVersionTitle:"Client version",backendVersionTitle:"Backend version"},AddLayerModal:{addSelectedLayers:"Add selected",addAllLayers:"Add all",inputPlaceholder:"Enter a WMS GetCapabilities URL…",externalWmsFolder:"External layers",title:"Add WMS",columnTitle:"Name",errorMessage:"Error",errorDescription:"Could not load the provided Capabilities document, please check the validity of the URL",version:"Version"},BasicMapComponent:{processedLayersFolder:"Processed layers"},Permalink:{title:"Share",twitterTooltip:"Share link via Twitter",whatsAppTooltip:"Share link via WhatsApp",mailTooltip:"Share link via Mail",copyTooltip:"Copy link to Clipboard",copiedToClipboard:"Copied to clipboard",copyToClipboardFailed:"Could not copy link to clipboard"},Measure:{title:"Measure",line:"Distance",area:"Area",clicktodrawline:"Click to draw line",clicktodrawarea:"Click to draw area"},Draw:{point:"Point",line:"Line",polygon:"Polygon",circle:"Circle",rectangle:"Rectangle",text:"Annotation",modify:"Edit",upload:"Upload",delete:"Delete",export:"Export"},StylingDrawer:{pickColor:"Modify color scheme",title:"Modify color scheme"},FeatureInfo:{usageHint:"Click on the map to get details about the clicked coordinate."},FileUpload:{upload:"Upload files"},ImageUpload:{upload:"Upload images"},LayerTree:{transparency:"Transparency",noLegendAvailable:"No legend available"},LayerTreeContextMenu:{layerZoomToExtent:"Zoom to layer extent",extentError:"Could not zoom to layer extent",removeLayer:"Remove layer",showLegend:"Show legend",hideLegend:"Hide legend",downloadLayer:"Export layer as {{formatName}}",editLayer:"Edit layer",layerDetails:"Properties"},LayerDetailsModal:{title:"Properties of layer {{layerName}}",internalConfigurationButtonTooltip:"Show internal configuration",internalConfigurationButtonTooltipPressed:"Hide internal configuration"},LayerDetails:{noDataPlaceholder:"-",layerNameLabel:"Name",layerTitleLabel:"Title",serviceAbstractLabel:"Service abstract",abstractLabel:"Abstract",accessConstraintsLabel:"Access constraints",capabilitiesUrlLabel:"GetCapabilities URL",contactLabel:"Contact",minScaleLabel:"Min. scale",maxScaleLabel:"Max. scale",bboxLabel:"Bounding box",errorMessage:"Error while loading the layer capabilities"},LayerConfiguration:{errorMessage:"Error while loading the internal configuration"},ToolMenu:{expand:"Expand",collapse:"Collapse",measure:"Measure",draw:"Draw",featureInfo:"Query map features",addWms:"Add WMS",uploadData:"Upload data",print:"Export",layertree:"Maps",languageSelect:"Language selector"},PrintForm:{title:"Title",initialTitle:"Title",titlePlaceholder:"Please input a title…",comment:"Comment",commentPlaceholder:"Please enter a comment…",layout:"Layout",dpi:"Resolution",format:"Format",scale:"Scale",downloadBtnText:"Create print",printJobErrorMsg:"Could not generate PDF output",initErrorMsg:"PDF Generator could not be initialized",outputFormatPlaceholder:"Please select an output format",resolutionPlaceholder:"Please select an output quality",managerErrorMessage:"Error while initializing the export engine"},Footer:{refSystem:"Reference system",scale:"Scale",mousePosition:"Mouse position",imprint:"Imprint",contact:"Contact",privacypolicy:"Privacy"},Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occured while loading the application.",errorDescriptionAppIdNotSet:"No application ID given. Please provide the ID as query parameter, e.g. ?applicationId=1909",errorDescriptionAppConfigNotFound:"The application with ID {{applicationId}} could not be loaded correctly."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},UserMenu:{settingsMenuTitle:"Edit profile",infoMenuTitle:"About",logoutMenuTitle:"Logout",loginMenuTitle:"Login"},WmsTimeSlider:{title:"Time reference",default:"No data found"},UploadDataModal:{title:"Upload data",uploadedDataFolder:"Uploaded data",description:"Click or drag file to this area to upload",hint:"Supported file formats are Shapefile (bundled as *.zip) and GeoTIFF",success:"Successfully uploaded file {{fileName}} and created layer {{layerName}}",error:{general:"Error while uploading file {{fileName}}",maxSize:"The file exceeds the upload limit of {{maxSize}} MB",supportedFormats:"The given file type does not match the supported ones ({{supportedFormats}})",zipContent:"Multiple geodatasets within one archive are not supported"}},MultiSearch:{searchInViewBox:"Search in current extent",searchData:"Search layer data",searchNominatim:"Search nominatim",nominatimTitle:"Nominatim",searchPlaceholder:"Address and data search…"},EditFeatureDrawer:{featureEditor:"Feature editor",noLayerFoundError:"No layer found - the editing is not possible.",isFeatureLockedErrorMsg:"The selected feature is already being edited in another session.",closeDrawerWarnTitle:"Do you really want to quit?",closeDrawerWarnContent:"This will discard any unsaved changes to the feature."},EditFeatureSwitch:{usageHint:"Select an existing feature for editing on the map or…",limitedUsageHint:"To edit please select an object on the map",createFeature:"Create new feature"},EditFeatureFullForm:{saveErrorMsg:"Error while saving the feature",deleteErrorMsg:"Error while deleting the feature"},EditFeatureGeometryToolbar:{draw:"Draw new geometry",edit:"Edit geometry",delete:"Delete geometry",undo:"Undo",redo:"Redo"},ResetButton:{title:"Reset"},SaveButton:{title:"Save"},DeleteButton:{title:"Delete feature",confirm:"The feature will be completely deleted. Proceed?"},EditFeatureButton:{title:"Edit feature"},FeaturePropertyGrid:{key:"Name",value:"Value"},PaginationToolbar:{copyAsGeoJson:"Copy as GeoJSON (incl. geometry)",copyAsObject:"Copy as object (displayed values only)"},JsonModal:{buttonTitle:"Show {{propertyName}}"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},returnNull:!1};r.ZP.use(n.initReactI18next),r.ZP.options=o;var i=r.ZP},21302:function(e,t,a){Promise.all([a.e(987),a.e(592),a.e(910)]).then(a.bind(a,30845))},20908:function(e,t,a){"use strict";a.d(t,{$Z:function(){return n},Cp:function(){return o}});const r=(0,a(97168).oM)({name:"addLayerModal",initialState:{visible:!1},reducers:{show(e){e.visible=!0},hide(e){e.visible=!1},toggle(e){e.visible=!e.visible}}}),{show:n,hide:o,toggle:i}=r.actions;t.ZP=r.reducer},61465:function(e,t,a){"use strict";a.d(t,{Y3:function(){return l},hr:function(){return o},mc:function(){return i},uQ:function(){return s},vN:function(){return n}});const r=(0,a(97168).oM)({name:"editFeature",initialState:{layerId:null,feature:null,userEditMode:["NONE"],formDirty:!1},reducers:{setLayerId(e,t){e.layerId=t.payload},setFeature(e,t){e.feature=t.payload},reset(e){e.layerId=null,e.feature=null},setUserEditMode(e,t){e.userEditMode=t.payload},setFormDirty(e,t){e.formDirty=t.payload}}}),{setLayerId:n,setFeature:o,reset:i,setUserEditMode:l,setFormDirty:s}=r.actions;t.ZP=r.reducer},68781:function(e,t,a){"use strict";a.d(t,{$Z:function(){return n},Cp:function(){return o}});const r=(0,a(97168).oM)({name:"editFeatureDrawerOpen",initialState:!1,reducers:{show(){return!0},hide(){return!1},toggle(e){return!e}}}),{show:n,hide:o,toggle:i}=r.actions;t.ZP=r.reducer},6049:function(e,t,a){"use strict";a.d(t,{$Z:function(){return o},Cp:function(){return i},uF:function(){return n}});const r=(0,a(97168).oM)({name:"layerDetailsModal",initialState:{visible:!1},reducers:{setLayer(e,t){e.layerId=t.payload},show(e){e.visible=!0},hide(e){e.visible=!1},toggle(e){e.visible=!e.visible}}}),{setLayer:n,show:o,hide:i,toggle:l}=r.actions;t.ZP=r.reducer},28728:function(e,t,a){"use strict";a.d(t,{eV:function(){return l}});const r=(0,a(97168).oM)({name:"print",initialState:{customMapParams:{},customParams:{printLegend:!1}},reducers:{setCustomMapParams:(e,t)=>{e.customMapParams=t.payload},setCustomParams:(e,t)=>{e.customParams=t.payload},addCustomMapParam:(e,t)=>{e.customMapParams={...e.customMapParams,...t.payload}},addCustomParam:(e,t)=>{e.customParams={...e.customParams,...t.payload}}}}),{setCustomMapParams:n,setCustomParams:o,addCustomMapParam:i,addCustomParam:l}=r.actions;t.ZP=r.reducer},21800:function(e,t,a){"use strict";a.d(t,{wl:function(){return n}});const r=(0,a(97168).oM)({name:"selectedFeatures",initialState:{},reducers:{setSelectedFeatures(e,t){return t.payload}}}),{setSelectedFeatures:n}=r.actions;t.ZP=r.reducer},76712:function(e,t,a){"use strict";a.d(t,{nn:function(){return o},wG:function(){return n}});const r=(0,a(97168).oM)({name:"toolMenu",initialState:{activeKeys:[],availableTools:["default"]},reducers:{setActiveKeys(e,t){e.activeKeys=[...t.payload]},setAvailableTools(e,t){e.availableTools=[...t.payload]}}}),{setActiveKeys:n,setAvailableTools:o}=r.actions;t.ZP=r.reducer},63221:function(e,t,a){"use strict";a.d(t,{$Z:function(){return n},Cp:function(){return o}});const r=(0,a(97168).oM)({name:"uploadDataModal",initialState:{visible:!1},reducers:{show(e){e.visible=!0},hide(e){e.visible=!1},toggle(e){e.visible=!e.visible}}}),{show:n,hide:o,toggle:i}=r.actions;t.ZP=r.reducer},65705:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},40171:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},88885:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},99327:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},5687:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},97555:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},38775:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},97598:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},16409:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},33354:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},78415:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},62923:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},58904:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},85677:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},34286:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},86201:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},21809:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},69616:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},85516:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},10767:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},42686:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},21015:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},7871:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},47267:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},17368:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},86092:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},8155:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},16813:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},79770:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},85415:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},35818:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},65352:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},72285:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},65947:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i},90978:function(e,t,a){"use strict";var r=a(87537),n=a.n(r),o=a(23645),i=a.n(o)()(n());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=i}}]);
//# sourceMappingURL=common.c90b2c4cfe01c5ef49ee.js.map